var Yo=Object.defineProperty;var xo=(t,e,r)=>e in t?Yo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ye=(t,e,r)=>(xo(t,typeof e!="symbol"?e+"":e,r),r);import{S as gt,i as $t,s as ft,k as P,l as N,m as T,h as y,n as _,b as q,H as Ct,o as qr,w as $r,a as B,y as Ke,c as H,z as Be,A as He,g as _e,d as be,B as Ge,q as X,r as Z,G as g,u as Qe,C as el,J as Oe,K as ne,D as tl,E as rl,F as nl,v as Xt,L as Hi,f as Zt,M as Gi,N as ks,O as Ut,P as at,Q as Wi,R as Xi,T as kn,U as Rn,V as Zi,e as st,W as Qi,X as Pn,t as en}from"../chunks/index.7d84d21f.js";function _r(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))}function Nn(t){return t===void 0?null:t}function In(t){return typeof t=="object"&&t!==null&&t!==void 0}function Vn(t){const e=Yi(t);return xi(e)}function Yi(t){return Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=t[e].filter(r=>r!==null&&r!=="")),t[e]&&typeof t[e]=="object"?Yi(t[e]):(t[e]===null||t[e]==="")&&delete t[e]}),t}function xi(t){return Object.keys(t).forEach(e=>{t[e]&&typeof t[e]=="object"&&(xi(t[e]),Object.keys(t[e]).length===0&&delete t[e])}),t}function ma(t){return t instanceof Zo?JSON.stringify(t.errors.length===1?t.errors[0]:t.errors,null,2):(console.error(t),t.message)}function al(t){return"minimum"in t&&t.minimum!==void 0?Number(t.minimum):"exclusiveMinimum"in t&&t.exclusiveMinimum!==void 0?Number(t.exclusiveMinimum)+1:null}function sl(t){return"maximum"in t&&t.maximum!==void 0?Number(t.maximum):"exclusiveMaximum"in t&&t.exclusiveMaximum!==void 0?Number(t.exclusiveMaximum)-1:null}function eo(t){return"minItems"in t&&typeof t.minItems=="number"&&"maxItems"in t&&typeof t.maxItems=="number"&&t.minItems===t.maxItems}function to(t,e){const r=t.properties||{};if(t.additionalProperties)for(const n of Object.keys(e))Object.keys(r).includes(n)||(r[n]=t.additionalProperties);return r}function il(t,e){const r=t.properties||{};return!Object.keys(r).includes(e)}function On(t){return t?["input_paths","output_path","metadata","component"]:["zarr_url","zarr_urls","init_args","zarr_dir"]}function ol(t,e,r=void 0){const n=r==null||Object.keys(r).length===0;return Wt(t,e,!0,r,n)}function ll(t,e,r,n){const a=t.required||[],s={};r==null&&(r={});const i=to(t,r);for(const[o,l]of Object.entries(i)){const c=a.includes(o);s[o]=Wt(l,e,c,Nn(r[o]),n)}return s}function Wt(t,e,r,n,a){if(!t)return null;if(a&&"default"in t)return Wt(t,e,r,t.default,!1);if(t.type===null)return null;switch(t.type){case"object":return ll(t,e,n,a);case"array":{const s=t;return eo(s)?ul(s,e,r,n,a):cl(s,e,r,n,a)}default:return Nn(n)}}function cl(t,e,r,n,a){Array.isArray(n)||(n=[]);const s=t.items;let i=[];for(let o=0;o<n.length;o++)i.push(Wt(s,e,r,n[o],a));if(r&&typeof t.minItems=="number"&&i.length<t.minItems)for(let o=i.length;o<t.minItems;o++)i.push(Wt(s,e,r,null,a));return i}function ul(t,e,r,n,a){if(Array.isArray(n)||(n=[]),!r&&n.length===0)return n;let s=[];for(let o=0;o<n.length;o++)s.push(Wt(Ps(t,e,o),e,r,n[o],a));const i=t.minItems;for(let o=s.length;o<i;o++)s.push(Wt(Ps(t,e,o),e,!1,null,a));return s.length>i&&(console.warn("Tuple initial value has more items than allowed (%d)",i,n),s.splice(i,s.length)),s}function Ps(t,e,r){const n=e==="pydantic_v1"?t.items:t.prefixItems;return Array.isArray(n)?r<n.length?n[r]:(console.warn("Unable to retrieve tuple child on index %d",r),null):n}class Mn{constructor(e){Ye(this,"manager");Ye(this,"id");Ye(this,"key");Ye(this,"type");Ye(this,"title");Ye(this,"description");Ye(this,"required");Ye(this,"removable");Ye(this,"property");this.manager=e.manager,this.id=e.id,this.key=e.key,this.type=e.type,this.title=e.title,this.required=e.required,this.description=e.description,this.removable=e.removable,this.property=e.property}notifyChange(){this.manager.notifyChange()}}class ln extends Mn{constructor(r){super(r);Ye(this,"value");this.value=r.value}}class fl extends ln{constructor(e){super(e)}}class dl extends ln{constructor(e){super(e)}}class hl extends ln{constructor(r){super(r);Ye(this,"options");this.options=r.options}}class Ns extends ln{constructor(r){super(r);Ye(this,"badInput",!1);this.min=r.min,this.max=r.max}}class ml extends Mn{constructor(r){super(r);Ye(this,"children");Ye(this,"additionalProperties",!1);this.additionalProperties=r.additionalProperties,this.children=r.children,this.collapsed=!r.required}addChild(r){if(!this.additionalProperties)return;if(r==="")throw new Error("Schema property has no name");if(this.children.map(s=>s.key).includes(r))throw new Error("Schema property already has a property with the same name");const a=this.manager.createFormElement({key:r,property:this.additionalProperties,required:!1,removable:!0,value:Wt(this.additionalProperties,this.manager.schemaVersion,!1,this.additionalProperties.default,!1)});a.title=r,a.removable=!0,this.children=[...this.children,a],this.notifyChange()}removeChild(r){if(!this.additionalProperties){console.warn("Attempted to call remove child on element without additional properties");return}const n=this.children.filter(s=>s.key===r);if(n.length===0){console.warn("Attempted to remove not existing key %s",r);return}const[a]=n;if(!a.removable){console.warn("Attempted to remove not removable child");return}this.children=this.children.filter(s=>s.key!==r),this.notifyChange()}resetChild(r){const n=this.children[r],a=n.property.default;if(a===void 0)return;const s=this.manager.createFormElement({key:n.key,property:n.property,required:n.required,removable:n.removable,value:a});s.collapsed=n.collapsed,this.children[r]=s,this.notifyChange()}}class pl extends Mn{constructor(r){super(r);Ye(this,"children");Ye(this,"items");Ye(this,"minItems");Ye(this,"maxItems");this.children=r.children,this.items=r.items,this.minItems=r.minItems,this.maxItems=r.maxItems,this.collapsed=!r.required}addChild(){if(typeof this.maxItems=="number"&&this.children.length===this.maxItems)return;const r=this.manager.createFormElement({key:null,property:this.items,required:!1,removable:!0,value:Wt(this.items,this.manager.schemaVersion,!1,void 0,!0)});this.children=[...this.children,r],this.notifyChange()}removeChild(r){this.children.splice(r,1),this.notifyChange()}moveChildUp(r){if(r>0){let n=[];for(let a=0;a<this.children.length;a++)a===r-1?n[a]=this.children[a+1]:a===r?n[a]=this.children[a-1]:n[a]=this.children[a];this.children=n,this.notifyChange()}}moveChildDown(r){if(r<this.children.length-1){let n=[];for(let a=0;a<this.children.length;a++)a===r?n[a]=this.children[a+1]:a===r+1?n[a]=this.children[a-1]:n[a]=this.children[a];this.children=n,this.notifyChange()}}}class _l extends Mn{constructor(r){super(r);Ye(this,"children");Ye(this,"items");Ye(this,"size");this.children=r.children,this.items=r.items,this.size=r.size,this.collapsed=!r.required}addTuple(){let r;if(Array.isArray(this.items))r=this.items.map((n,a)=>Wt(n,this.manager.schemaVersion,!1,Array.isArray(this.property.default)?this.property.default[a]:void 0,!1));else{const n=this.items;r=Array(this.size).map(a=>Wt(n,this.manager.schemaVersion,!1,Array.isArray(this.property.default)?this.property.default[a]:void 0,!1))}this.children=this.manager.createTupleChildren({items:this.items,size:this.size,value:r}),this.notifyChange()}removeTuple(){this.children=[],this.notifyChange()}}function ro(t,e=[]){let r=no(t,e);return r=$n(r,r),r=ta(r),r}function no(t,e=[]){const r=_r(t);for(const n of Object.keys(r.properties||{}))e.includes(n)&&delete r.properties[n];return r.required&&(r.required=r.required.filter(n=>!e.includes(n))),r}function $n(t,e){if(Array.isArray(e)){const r=[];for(const n of e)r.push($n(t,n));return r}else if(In(e)){const r={};for(const[n,a]of Object.entries(e))if(n==="$ref"&&typeof a=="string"){const s=vl(t,a);for(const[i,o]of Object.entries(s))r[i]=$n(t,o)}else r[n]=$n(t,a);return r}else return e}function vl(t,e){if(!e.startsWith("#/"))throw new Error(`Unsupported $ref field format: ${e}`);const r=e.substring(2).split("/");let n=t;for(const a of r){if(!(a in n))throw new Error(`Unable to resolve reference ${e}. Key ${a} not found.`);n=n[a]}return n}function ta(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(ta(r));return e}else if(In(t)){const e={};for(const[r,n]of Object.entries(t))if(r==="allOf"&&Array.isArray(n))for(const a of n)for(const[s,i]of Object.entries(a))yl(e,s,i);else e[r]=ta(n);return e}else return t}function yl(t,e,r){e in t?Array.isArray(t[e])&&Array.isArray(r)?t[e]=[...t[e],...r]:In(t)&&In(r)&&(t[e]={...t[e],...r}):t[e]=r}var gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ra={exports:{}},_a={},zt={},Ur={},cn={},ke={},on={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(b){if(super(),!t.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((I,k)=>`${I}${k}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((I,k)=>(k instanceof r&&(I[k.str]=(I[k.str]||0)+1),I),{})}}t._Code=n,t.nil=new n("");function a(v,...b){const I=[v[0]];let k=0;for(;k<b.length;)o(I,b[k]),I.push(v[++k]);return new n(I)}t._=a;const s=new n("+");function i(v,...b){const I=[p(v[0])];let k=0;for(;k<b.length;)I.push(s),o(I,b[k]),I.push(s,p(v[++k]));return l(I),new n(I)}t.str=i;function o(v,b){b instanceof n?v.push(...b._items):b instanceof r?v.push(b):v.push(f(b))}t.addCodeArg=o;function l(v){let b=1;for(;b<v.length-1;){if(v[b]===s){const I=c(v[b-1],v[b+1]);if(I!==void 0){v.splice(b-1,3,I);continue}v[b++]="+"}b++}}function c(v,b){if(b==='""')return v;if(v==='""')return b;if(typeof v=="string")return b instanceof r||v[v.length-1]!=='"'?void 0:typeof b!="string"?`${v.slice(0,-1)}${b}"`:b[0]==='"'?v.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(v instanceof r))return`"${v}${b.slice(1)}`}function u(v,b){return b.emptyStr()?v:v.emptyStr()?b:i`${v}${b}`}t.strConcat=u;function f(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:p(Array.isArray(v)?v.join(","):v)}function d(v){return new n(p(v))}t.stringify=d;function p(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=p;function h(v){return typeof v=="string"&&t.IDENTIFIER.test(v)?new n(`.${v}`):a`[${v}]`}t.getProperty=h;function w(v){if(typeof v=="string"&&t.IDENTIFIER.test(v))return new n(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}t.getEsmExportName=w;function $(v){return new n(v.toString())}t.regexpCode=$})(on);var na={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=on;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class a{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=a;class s extends e.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:f}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(u)}[${f}]`}}t.ValueScopeName=s;const i=(0,e._)`\n`;class o extends a{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:e.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(c),{prefix:p}=d,h=(f=u.key)!==null&&f!==void 0?f:u.ref;let w=this._values[p];if(w){const b=w.get(h);if(b)return b}else w=this._values[p]=new Map;w.set(h,d);const $=this._scope[p]||(this._scope[p]=[]),v=$.length;return $[v]=u.ref,d.setValue(u,{property:p,itemIndex:v}),d}getValue(c,u){const f=this._values[c];if(f)return f.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${c}${f.scopePath}`})}scopeCode(c=this._values,u,f){return this._reduceValues(c,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},u,f)}_reduceValues(c,u,f={},d){let p=e.nil;for(const h in c){const w=c[h];if(!w)continue;const $=f[h]=f[h]||new Map;w.forEach(v=>{if($.has(v))return;$.set(v,n.Started);let b=u(v);if(b){const I=this.opts.es5?t.varKinds.var:t.varKinds.const;p=(0,e._)`${p}${I} ${v} = ${b};${this.opts._n}`}else if(b=d==null?void 0:d(v))p=(0,e._)`${p}${b}${this.opts._n}`;else throw new r(v);$.set(v,n.Completed)})}return p}}t.ValueScope=o})(na);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=on,r=na;var n=on;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var a=na;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(m,S){return this}}class i extends s{constructor(m,S,V){super(),this.varKind=m,this.name=S,this.rhs=V}render({es5:m,_n:S}){const V=m?r.varKinds.var:this.varKind,G=this.rhs===void 0?"":` = ${this.rhs}`;return`${V} ${this.name}${G};`+S}optimizeNames(m,S){if(m[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,m,S)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(m,S,V){super(),this.lhs=m,this.rhs=S,this.sideEffects=V}render({_n:m}){return`${this.lhs} = ${this.rhs};`+m}optimizeNames(m,S){if(!(this.lhs instanceof e.Name&&!m[this.lhs.str]&&!this.sideEffects))return this.rhs=W(this.rhs,m,S),this}get names(){const m=this.lhs instanceof e.Name?{}:{...this.lhs.names};return x(m,this.rhs)}}class l extends o{constructor(m,S,V,G){super(m,V,G),this.op=S}render({_n:m}){return`${this.lhs} ${this.op}= ${this.rhs};`+m}}class c extends s{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`${this.label}:`+m}}class u extends s{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`break${this.label?` ${this.label}`:""};`+m}}class f extends s{constructor(m){super(),this.error=m}render({_n:m}){return`throw ${this.error};`+m}get names(){return this.error.names}}class d extends s{constructor(m){super(),this.code=m}render({_n:m}){return`${this.code};`+m}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(m,S){return this.code=W(this.code,m,S),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class p extends s{constructor(m=[]){super(),this.nodes=m}render(m){return this.nodes.reduce((S,V)=>S+V.render(m),"")}optimizeNodes(){const{nodes:m}=this;let S=m.length;for(;S--;){const V=m[S].optimizeNodes();Array.isArray(V)?m.splice(S,1,...V):V?m[S]=V:m.splice(S,1)}return m.length>0?this:void 0}optimizeNames(m,S){const{nodes:V}=this;let G=V.length;for(;G--;){const Q=V[G];Q.optimizeNames(m,S)||(oe(m,Q.names),V.splice(G,1))}return V.length>0?this:void 0}get names(){return this.nodes.reduce((m,S)=>z(m,S.names),{})}}class h extends p{render(m){return"{"+m._n+super.render(m)+"}"+m._n}}class w extends p{}class $ extends h{}$.kind="else";class v extends h{constructor(m,S){super(S),this.condition=m}render(m){let S=`if(${this.condition})`+super.render(m);return this.else&&(S+="else "+this.else.render(m)),S}optimizeNodes(){super.optimizeNodes();const m=this.condition;if(m===!0)return this.nodes;let S=this.else;if(S){const V=S.optimizeNodes();S=this.else=Array.isArray(V)?new $(V):V}if(S)return m===!1?S instanceof v?S:S.nodes:this.nodes.length?this:new v(le(m),S instanceof v?[S]:S.nodes);if(!(m===!1||!this.nodes.length))return this}optimizeNames(m,S){var V;if(this.else=(V=this.else)===null||V===void 0?void 0:V.optimizeNames(m,S),!!(super.optimizeNames(m,S)||this.else))return this.condition=W(this.condition,m,S),this}get names(){const m=super.names;return x(m,this.condition),this.else&&z(m,this.else.names),m}}v.kind="if";class b extends h{}b.kind="for";class I extends b{constructor(m){super(),this.iteration=m}render(m){return`for(${this.iteration})`+super.render(m)}optimizeNames(m,S){if(super.optimizeNames(m,S))return this.iteration=W(this.iteration,m,S),this}get names(){return z(super.names,this.iteration.names)}}class k extends b{constructor(m,S,V,G){super(),this.varKind=m,this.name=S,this.from=V,this.to=G}render(m){const S=m.es5?r.varKinds.var:this.varKind,{name:V,from:G,to:Q}=this;return`for(${S} ${V}=${G}; ${V}<${Q}; ${V}++)`+super.render(m)}get names(){const m=x(super.names,this.from);return x(m,this.to)}}class C extends b{constructor(m,S,V,G){super(),this.loop=m,this.varKind=S,this.name=V,this.iterable=G}render(m){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(m)}optimizeNames(m,S){if(super.optimizeNames(m,S))return this.iterable=W(this.iterable,m,S),this}get names(){return z(super.names,this.iterable.names)}}class U extends h{constructor(m,S,V){super(),this.name=m,this.args=S,this.async=V}render(m){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(m)}}U.kind="func";class Y extends p{render(m){return"return "+super.render(m)}}Y.kind="return";class ae extends h{render(m){let S="try"+super.render(m);return this.catch&&(S+=this.catch.render(m)),this.finally&&(S+=this.finally.render(m)),S}optimizeNodes(){var m,S;return super.optimizeNodes(),(m=this.catch)===null||m===void 0||m.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(m,S){var V,G;return super.optimizeNames(m,S),(V=this.catch)===null||V===void 0||V.optimizeNames(m,S),(G=this.finally)===null||G===void 0||G.optimizeNames(m,S),this}get names(){const m=super.names;return this.catch&&z(m,this.catch.names),this.finally&&z(m,this.finally.names),m}}class he extends h{constructor(m){super(),this.error=m}render(m){return`catch(${this.error})`+super.render(m)}}he.kind="catch";class ye extends h{render(m){return"finally"+super.render(m)}}ye.kind="finally";class K{constructor(m,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=m,this._scope=new r.Scope({parent:m}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(m){return this._scope.name(m)}scopeName(m){return this._extScope.name(m)}scopeValue(m,S){const V=this._extScope.value(m,S);return(this._values[V.prefix]||(this._values[V.prefix]=new Set)).add(V),V}getScopeValue(m,S){return this._extScope.getValue(m,S)}scopeRefs(m){return this._extScope.scopeRefs(m,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(m,S,V,G){const Q=this._scope.toName(S);return V!==void 0&&G&&(this._constants[Q.str]=V),this._leafNode(new i(m,Q,V)),Q}const(m,S,V){return this._def(r.varKinds.const,m,S,V)}let(m,S,V){return this._def(r.varKinds.let,m,S,V)}var(m,S,V){return this._def(r.varKinds.var,m,S,V)}assign(m,S,V){return this._leafNode(new o(m,S,V))}add(m,S){return this._leafNode(new l(m,t.operators.ADD,S))}code(m){return typeof m=="function"?m():m!==e.nil&&this._leafNode(new d(m)),this}object(...m){const S=["{"];for(const[V,G]of m)S.length>1&&S.push(","),S.push(V),(V!==G||this.opts.es5)&&(S.push(":"),(0,e.addCodeArg)(S,G));return S.push("}"),new e._Code(S)}if(m,S,V){if(this._blockNode(new v(m)),S&&V)this.code(S).else().code(V).endIf();else if(S)this.code(S).endIf();else if(V)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(m){return this._elseNode(new v(m))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(v,$)}_for(m,S){return this._blockNode(m),S&&this.code(S).endFor(),this}for(m,S){return this._for(new I(m),S)}forRange(m,S,V,G,Q=this.opts.es5?r.varKinds.var:r.varKinds.let){const re=this._scope.toName(m);return this._for(new k(Q,re,S,V),()=>G(re))}forOf(m,S,V,G=r.varKinds.const){const Q=this._scope.toName(m);if(this.opts.es5){const re=S instanceof e.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,e._)`${re}.length`,ue=>{this.var(Q,(0,e._)`${re}[${ue}]`),V(Q)})}return this._for(new C("of",G,Q,S),()=>V(Q))}forIn(m,S,V,G=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(m,(0,e._)`Object.keys(${S})`,V);const Q=this._scope.toName(m);return this._for(new C("in",G,Q,S),()=>V(Q))}endFor(){return this._endBlockNode(b)}label(m){return this._leafNode(new c(m))}break(m){return this._leafNode(new u(m))}return(m){const S=new Y;if(this._blockNode(S),this.code(m),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Y)}try(m,S,V){if(!S&&!V)throw new Error('CodeGen: "try" without "catch" and "finally"');const G=new ae;if(this._blockNode(G),this.code(m),S){const Q=this.name("e");this._currNode=G.catch=new he(Q),S(Q)}return V&&(this._currNode=G.finally=new ye,this.code(V)),this._endBlockNode(he,ye)}throw(m){return this._leafNode(new f(m))}block(m,S){return this._blockStarts.push(this._nodes.length),m&&this.code(m).endBlock(S),this}endBlock(m){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const V=this._nodes.length-S;if(V<0||m!==void 0&&V!==m)throw new Error(`CodeGen: wrong number of nodes: ${V} vs ${m} expected`);return this._nodes.length=S,this}func(m,S=e.nil,V,G){return this._blockNode(new U(m,S,V)),G&&this.code(G).endFunc(),this}endFunc(){return this._endBlockNode(U)}optimize(m=1){for(;m-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(m){return this._currNode.nodes.push(m),this}_blockNode(m){this._currNode.nodes.push(m),this._nodes.push(m)}_endBlockNode(m,S){const V=this._currNode;if(V instanceof m||S&&V instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${m.kind}/${S.kind}`:m.kind}"`)}_elseNode(m){const S=this._currNode;if(!(S instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=m,this}get _root(){return this._nodes[0]}get _currNode(){const m=this._nodes;return m[m.length-1]}set _currNode(m){const S=this._nodes;S[S.length-1]=m}}t.CodeGen=K;function z(j,m){for(const S in m)j[S]=(j[S]||0)+(m[S]||0);return j}function x(j,m){return m instanceof e._CodeOrName?z(j,m.names):j}function W(j,m,S){if(j instanceof e.Name)return V(j);if(!G(j))return j;return new e._Code(j._items.reduce((Q,re)=>(re instanceof e.Name&&(re=V(re)),re instanceof e._Code?Q.push(...re._items):Q.push(re),Q),[]));function V(Q){const re=S[Q.str];return re===void 0||m[Q.str]!==1?Q:(delete m[Q.str],re)}function G(Q){return Q instanceof e._Code&&Q._items.some(re=>re instanceof e.Name&&m[re.str]===1&&S[re.str]!==void 0)}}function oe(j,m){for(const S in m)j[S]=(j[S]||0)-(m[S]||0)}function le(j){return typeof j=="boolean"||typeof j=="number"||j===null?!j:(0,e._)`!${F(j)}`}t.not=le;const Re=A(t.operators.AND);function Fe(...j){return j.reduce(Re)}t.and=Fe;const Ie=A(t.operators.OR);function L(...j){return j.reduce(Ie)}t.or=L;function A(j){return(m,S)=>m===e.nil?S:S===e.nil?m:(0,e._)`${F(m)} ${j} ${F(S)}`}function F(j){return j instanceof e.Name?j:(0,e._)`(${j})`}})(ke);var ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.checkStrictMode=ee.getErrorPath=ee.Type=ee.useFunc=ee.setEvaluated=ee.evaluatedPropsToName=ee.mergeEvaluated=ee.eachItem=ee.unescapeJsonPointer=ee.escapeJsonPointer=ee.escapeFragment=ee.unescapeFragment=ee.schemaRefOrVal=ee.schemaHasRulesButRef=ee.schemaHasRules=ee.checkUnknownRules=ee.alwaysValidSchema=ee.toHash=void 0;const Je=ke,$l=on;function bl(t){const e={};for(const r of t)e[r]=!0;return e}ee.toHash=bl;function El(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(ao(t,e),!so(e,t.self.RULES.all))}ee.alwaysValidSchema=El;function ao(t,e=t.schema){const{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;const a=n.RULES.keywords;for(const s in e)a[s]||lo(t,`unknown keyword: "${s}"`)}ee.checkUnknownRules=ao;function so(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(e[r])return!0;return!1}ee.schemaHasRules=so;function wl(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}ee.schemaHasRulesButRef=wl;function Sl({topSchemaRef:t,schemaPath:e},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Je._)`${r}`}return(0,Je._)`${t}${e}${(0,Je.getProperty)(n)}`}ee.schemaRefOrVal=Sl;function kl(t){return io(decodeURIComponent(t))}ee.unescapeFragment=kl;function Pl(t){return encodeURIComponent(va(t))}ee.escapeFragment=Pl;function va(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}ee.escapeJsonPointer=va;function io(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}ee.unescapeJsonPointer=io;function Nl(t,e){if(Array.isArray(t))for(const r of t)e(r);else e(t)}ee.eachItem=Nl;function Is({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(a,s,i,o)=>{const l=i===void 0?s:i instanceof Je.Name?(s instanceof Je.Name?t(a,s,i):e(a,s,i),i):s instanceof Je.Name?(e(a,i,s),s):r(s,i);return o===Je.Name&&!(l instanceof Je.Name)?n(a,l):l}}ee.mergeEvaluated={props:Is({mergeNames:(t,e,r)=>t.if((0,Je._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Je._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Je._)`${r} || {}`).code((0,Je._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Je._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Je._)`${r} || {}`),ya(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:oo}),items:Is({mergeNames:(t,e,r)=>t.if((0,Je._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Je._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Je._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Je._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function oo(t,e){if(e===!0)return t.var("props",!0);const r=t.var("props",(0,Je._)`{}`);return e!==void 0&&ya(t,r,e),r}ee.evaluatedPropsToName=oo;function ya(t,e,r){Object.keys(r).forEach(n=>t.assign((0,Je._)`${e}${(0,Je.getProperty)(n)}`,!0))}ee.setEvaluated=ya;const Os={};function Il(t,e){return t.scopeValue("func",{ref:e,code:Os[e.code]||(Os[e.code]=new $l._Code(e.code))})}ee.useFunc=Il;var aa;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(aa||(ee.Type=aa={}));function Ol(t,e,r){if(t instanceof Je.Name){const n=e===aa.Num;return r?n?(0,Je._)`"[" + ${t} + "]"`:(0,Je._)`"['" + ${t} + "']"`:n?(0,Je._)`"/" + ${t}`:(0,Je._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Je.getProperty)(t).toString():"/"+va(t)}ee.getErrorPath=Ol;function lo(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}ee.checkStrictMode=lo;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});const Pt=ke,Tl={data:new Pt.Name("data"),valCxt:new Pt.Name("valCxt"),instancePath:new Pt.Name("instancePath"),parentData:new Pt.Name("parentData"),parentDataProperty:new Pt.Name("parentDataProperty"),rootData:new Pt.Name("rootData"),dynamicAnchors:new Pt.Name("dynamicAnchors"),vErrors:new Pt.Name("vErrors"),errors:new Pt.Name("errors"),this:new Pt.Name("this"),self:new Pt.Name("self"),scope:new Pt.Name("scope"),json:new Pt.Name("json"),jsonPos:new Pt.Name("jsonPos"),jsonLen:new Pt.Name("jsonLen"),jsonPart:new Pt.Name("jsonPart")};Rt.default=Tl;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=ke,r=ee,n=Rt;t.keywordError={message:({keyword:$})=>(0,e.str)`must pass "${$}" keyword validation`},t.keyword$DataError={message:({keyword:$,schemaType:v})=>v?(0,e.str)`"${$}" keyword must be ${v} ($data)`:(0,e.str)`"${$}" keyword is invalid ($data)`};function a($,v=t.keywordError,b,I){const{it:k}=$,{gen:C,compositeRule:U,allErrors:Y}=k,ae=f($,v,b);I??(U||Y)?l(C,ae):c(k,(0,e._)`[${ae}]`)}t.reportError=a;function s($,v=t.keywordError,b){const{it:I}=$,{gen:k,compositeRule:C,allErrors:U}=I,Y=f($,v,b);l(k,Y),C||U||c(I,n.default.vErrors)}t.reportExtraError=s;function i($,v){$.assign(n.default.errors,v),$.if((0,e._)`${n.default.vErrors} !== null`,()=>$.if(v,()=>$.assign((0,e._)`${n.default.vErrors}.length`,v),()=>$.assign(n.default.vErrors,null)))}t.resetErrorsCount=i;function o({gen:$,keyword:v,schemaValue:b,data:I,errsCount:k,it:C}){if(k===void 0)throw new Error("ajv implementation error");const U=$.name("err");$.forRange("i",k,n.default.errors,Y=>{$.const(U,(0,e._)`${n.default.vErrors}[${Y}]`),$.if((0,e._)`${U}.instancePath === undefined`,()=>$.assign((0,e._)`${U}.instancePath`,(0,e.strConcat)(n.default.instancePath,C.errorPath))),$.assign((0,e._)`${U}.schemaPath`,(0,e.str)`${C.errSchemaPath}/${v}`),C.opts.verbose&&($.assign((0,e._)`${U}.schema`,b),$.assign((0,e._)`${U}.data`,I))})}t.extendErrors=o;function l($,v){const b=$.const("err",v);$.if((0,e._)`${n.default.vErrors} === null`,()=>$.assign(n.default.vErrors,(0,e._)`[${b}]`),(0,e._)`${n.default.vErrors}.push(${b})`),$.code((0,e._)`${n.default.errors}++`)}function c($,v){const{gen:b,validateName:I,schemaEnv:k}=$;k.$async?b.throw((0,e._)`new ${$.ValidationError}(${v})`):(b.assign((0,e._)`${I}.errors`,v),b.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f($,v,b){const{createErrors:I}=$.it;return I===!1?(0,e._)`{}`:d($,v,b)}function d($,v,b={}){const{gen:I,it:k}=$,C=[p(k,b),h($,b)];return w($,v,C),I.object(...C)}function p({errorPath:$},{instancePath:v}){const b=v?(0,e.str)`${$}${(0,r.getErrorPath)(v,r.Type.Str)}`:$;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,b)]}function h({keyword:$,it:{errSchemaPath:v}},{schemaPath:b,parentSchema:I}){let k=I?v:(0,e.str)`${v}/${$}`;return b&&(k=(0,e.str)`${k}${(0,r.getErrorPath)(b,r.Type.Str)}`),[u.schemaPath,k]}function w($,{params:v,message:b},I){const{keyword:k,data:C,schemaValue:U,it:Y}=$,{opts:ae,propertyName:he,topSchemaRef:ye,schemaPath:K}=Y;I.push([u.keyword,k],[u.params,typeof v=="function"?v($):v||(0,e._)`{}`]),ae.messages&&I.push([u.message,typeof b=="function"?b($):b]),ae.verbose&&I.push([u.schema,U],[u.parentSchema,(0,e._)`${ye}${K}`],[n.default.data,C]),he&&I.push([u.propertyName,he])}})(cn);Object.defineProperty(Ur,"__esModule",{value:!0});Ur.boolOrEmptySchema=Ur.topBoolOrEmptySchema=void 0;const Dl=cn,Al=ke,jl=Rt,Cl={message:"boolean schema is false"};function Rl(t){const{gen:e,schema:r,validateName:n}=t;r===!1?co(t,!1):typeof r=="object"&&r.$async===!0?e.return(jl.default.data):(e.assign((0,Al._)`${n}.errors`,null),e.return(!0))}Ur.topBoolOrEmptySchema=Rl;function Vl(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),co(t)):r.var(e,!0)}Ur.boolOrEmptySchema=Vl;function co(t,e){const{gen:r,data:n}=t,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Dl.reportError)(a,Cl,void 0,e)}var ut={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.getRules=Ir.isJSONType=void 0;const Ml=["string","number","integer","boolean","null","object","array"],Fl=new Set(Ml);function zl(t){return typeof t=="string"&&Fl.has(t)}Ir.isJSONType=zl;function Ul(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Ir.getRules=Ul;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.shouldUseRule=ir.shouldUseGroup=ir.schemaHasRulesForType=void 0;function ql({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&uo(t,n)}ir.schemaHasRulesForType=ql;function uo(t,e){return e.rules.some(r=>fo(t,r))}ir.shouldUseGroup=uo;function fo(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}ir.shouldUseRule=fo;Object.defineProperty(ut,"__esModule",{value:!0});ut.reportTypeError=ut.checkDataTypes=ut.checkDataType=ut.coerceAndCheckDataType=ut.getJSONTypes=ut.getSchemaTypes=ut.DataType=void 0;const Ll=Ir,Jl=ir,Kl=cn,Ne=ke,ho=ee;var Fr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Fr||(ut.DataType=Fr={}));function Bl(t){const e=mo(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}ut.getSchemaTypes=Bl;function mo(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(Ll.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}ut.getJSONTypes=mo;function Hl(t,e){const{gen:r,data:n,opts:a}=t,s=Gl(e,a.coerceTypes),i=e.length>0&&!(s.length===0&&e.length===1&&(0,Jl.schemaHasRulesForType)(t,e[0]));if(i){const o=ga(e,n,a.strictNumbers,Fr.Wrong);r.if(o,()=>{s.length?Wl(t,e,s):$a(t)})}return i}ut.coerceAndCheckDataType=Hl;const po=new Set(["string","number","integer","boolean","null"]);function Gl(t,e){return e?t.filter(r=>po.has(r)||e==="array"&&r==="array"):[]}function Wl(t,e,r){const{gen:n,data:a,opts:s}=t,i=n.let("dataType",(0,Ne._)`typeof ${a}`),o=n.let("coerced",(0,Ne._)`undefined`);s.coerceTypes==="array"&&n.if((0,Ne._)`${i} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,Ne._)`${a}[0]`).assign(i,(0,Ne._)`typeof ${a}`).if(ga(e,a,s.strictNumbers),()=>n.assign(o,a))),n.if((0,Ne._)`${o} !== undefined`);for(const c of r)(po.has(c)||c==="array"&&s.coerceTypes==="array")&&l(c);n.else(),$a(t),n.endIf(),n.if((0,Ne._)`${o} !== undefined`,()=>{n.assign(a,o),Xl(t,o)});function l(c){switch(c){case"string":n.elseIf((0,Ne._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,Ne._)`"" + ${a}`).elseIf((0,Ne._)`${a} === null`).assign(o,(0,Ne._)`""`);return;case"number":n.elseIf((0,Ne._)`${i} == "boolean" || ${a} === null
              || (${i} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,Ne._)`+${a}`);return;case"integer":n.elseIf((0,Ne._)`${i} === "boolean" || ${a} === null
              || (${i} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,Ne._)`+${a}`);return;case"boolean":n.elseIf((0,Ne._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,Ne._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,Ne._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,Ne._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${a} === null`).assign(o,(0,Ne._)`[${a}]`)}}}function Xl({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,Ne._)`${e} !== undefined`,()=>t.assign((0,Ne._)`${e}[${r}]`,n))}function sa(t,e,r,n=Fr.Correct){const a=n===Fr.Correct?Ne.operators.EQ:Ne.operators.NEQ;let s;switch(t){case"null":return(0,Ne._)`${e} ${a} null`;case"array":s=(0,Ne._)`Array.isArray(${e})`;break;case"object":s=(0,Ne._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=i((0,Ne._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=i();break;default:return(0,Ne._)`typeof ${e} ${a} ${t}`}return n===Fr.Correct?s:(0,Ne.not)(s);function i(o=Ne.nil){return(0,Ne.and)((0,Ne._)`typeof ${e} == "number"`,o,r?(0,Ne._)`isFinite(${e})`:Ne.nil)}}ut.checkDataType=sa;function ga(t,e,r,n){if(t.length===1)return sa(t[0],e,r,n);let a;const s=(0,ho.toHash)(t);if(s.array&&s.object){const i=(0,Ne._)`typeof ${e} != "object"`;a=s.null?i:(0,Ne._)`!${e} || ${i}`,delete s.null,delete s.array,delete s.object}else a=Ne.nil;s.number&&delete s.integer;for(const i in s)a=(0,Ne.and)(a,sa(i,e,r,n));return a}ut.checkDataTypes=ga;const Zl={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,Ne._)`{type: ${t}}`:(0,Ne._)`{type: ${e}}`};function $a(t){const e=Ql(t);(0,Kl.reportError)(e,Zl)}ut.reportTypeError=$a;function Ql(t){const{gen:e,data:r,schema:n}=t,a=(0,ho.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:t}}var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.assignDefaults=void 0;const Rr=ke,Yl=ee;function xl(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const a in r)Ts(t,a,r[a].default);else e==="array"&&Array.isArray(n)&&n.forEach((a,s)=>Ts(t,s,a.default))}Fn.assignDefaults=xl;function Ts(t,e,r){const{gen:n,compositeRule:a,data:s,opts:i}=t;if(r===void 0)return;const o=(0,Rr._)`${s}${(0,Rr.getProperty)(e)}`;if(a){(0,Yl.checkStrictMode)(t,`default is ignored for: ${o}`);return}let l=(0,Rr._)`${o} === undefined`;i.useDefaults==="empty"&&(l=(0,Rr._)`${l} || ${o} === null || ${o} === ""`),n.if(l,(0,Rr._)`${o} = ${(0,Rr.stringify)(r)}`)}var tr={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.validateUnion=Ae.validateArray=Ae.usePattern=Ae.callValidateCode=Ae.schemaProperties=Ae.allSchemaProperties=Ae.noPropertyInData=Ae.propertyInData=Ae.isOwnProperty=Ae.hasPropFunc=Ae.reportMissingProp=Ae.checkMissingProp=Ae.checkReportMissingProp=void 0;const xe=ke,ba=ee,hr=Rt,ec=ee;function tc(t,e){const{gen:r,data:n,it:a}=t;r.if(wa(r,n,e,a.opts.ownProperties),()=>{t.setParams({missingProperty:(0,xe._)`${e}`},!0),t.error()})}Ae.checkReportMissingProp=tc;function rc({gen:t,data:e,it:{opts:r}},n,a){return(0,xe.or)(...n.map(s=>(0,xe.and)(wa(t,e,s,r.ownProperties),(0,xe._)`${a} = ${s}`)))}Ae.checkMissingProp=rc;function nc(t,e){t.setParams({missingProperty:e},!0),t.error()}Ae.reportMissingProp=nc;function _o(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xe._)`Object.prototype.hasOwnProperty`})}Ae.hasPropFunc=_o;function Ea(t,e,r){return(0,xe._)`${_o(t)}.call(${e}, ${r})`}Ae.isOwnProperty=Ea;function ac(t,e,r,n){const a=(0,xe._)`${e}${(0,xe.getProperty)(r)} !== undefined`;return n?(0,xe._)`${a} && ${Ea(t,e,r)}`:a}Ae.propertyInData=ac;function wa(t,e,r,n){const a=(0,xe._)`${e}${(0,xe.getProperty)(r)} === undefined`;return n?(0,xe.or)(a,(0,xe.not)(Ea(t,e,r))):a}Ae.noPropertyInData=wa;function vo(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Ae.allSchemaProperties=vo;function sc(t,e){return vo(e).filter(r=>!(0,ba.alwaysValidSchema)(t,e[r]))}Ae.schemaProperties=sc;function ic({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:s},it:i},o,l,c){const u=c?(0,xe._)`${t}, ${e}, ${n}${a}`:e,f=[[hr.default.instancePath,(0,xe.strConcat)(hr.default.instancePath,s)],[hr.default.parentData,i.parentData],[hr.default.parentDataProperty,i.parentDataProperty],[hr.default.rootData,hr.default.rootData]];i.opts.dynamicRef&&f.push([hr.default.dynamicAnchors,hr.default.dynamicAnchors]);const d=(0,xe._)`${u}, ${r.object(...f)}`;return l!==xe.nil?(0,xe._)`${o}.call(${l}, ${d})`:(0,xe._)`${o}(${d})`}Ae.callValidateCode=ic;const oc=(0,xe._)`new RegExp`;function lc({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:a}=e.code,s=a(r,n);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,xe._)`${a.code==="new RegExp"?oc:(0,ec.useFunc)(t,a)}(${r}, ${n})`})}Ae.usePattern=lc;function cc(t){const{gen:e,data:r,keyword:n,it:a}=t,s=e.name("valid");if(a.allErrors){const o=e.let("valid",!0);return i(()=>e.assign(o,!1)),o}return e.var(s,!0),i(()=>e.break()),s;function i(o){const l=e.const("len",(0,xe._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:ba.Type.Num},s),e.if((0,xe.not)(s),o)})}}Ae.validateArray=cc;function uc(t){const{gen:e,schema:r,keyword:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,ba.alwaysValidSchema)(a,l))&&!a.opts.unevaluated)return;const i=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const u=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},o);e.assign(i,(0,xe._)`${i} || ${o}`),t.mergeValidEvaluated(u,o)||e.if((0,xe.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}Ae.validateUnion=uc;Object.defineProperty(tr,"__esModule",{value:!0});tr.validateKeywordUsage=tr.validSchemaType=tr.funcKeywordCode=tr.macroKeywordCode=void 0;const Ot=ke,Sr=Rt,fc=Ae,dc=cn;function hc(t,e){const{gen:r,keyword:n,schema:a,parentSchema:s,it:i}=t,o=e.macro.call(i.self,a,s,i),l=yo(r,n,o);i.opts.validateSchema!==!1&&i.self.validateSchema(o,!0);const c=r.name("valid");t.subschema({schema:o,schemaPath:Ot.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}tr.macroKeywordCode=hc;function mc(t,e){var r;const{gen:n,keyword:a,schema:s,parentSchema:i,$data:o,it:l}=t;_c(l,e);const c=!o&&e.compile?e.compile.call(l.self,s,i,l):e.validate,u=yo(n,a,c),f=n.let("valid");t.block$data(f,d),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function d(){if(e.errors===!1)w(),e.modifying&&Ds(t),$(()=>t.error());else{const v=e.async?p():h();e.modifying&&Ds(t),$(()=>pc(t,v))}}function p(){const v=n.let("ruleErrs",null);return n.try(()=>w((0,Ot._)`await `),b=>n.assign(f,!1).if((0,Ot._)`${b} instanceof ${l.ValidationError}`,()=>n.assign(v,(0,Ot._)`${b}.errors`),()=>n.throw(b))),v}function h(){const v=(0,Ot._)`${u}.errors`;return n.assign(v,null),w(Ot.nil),v}function w(v=e.async?(0,Ot._)`await `:Ot.nil){const b=l.opts.passContext?Sr.default.this:Sr.default.self,I=!("compile"in e&&!o||e.schema===!1);n.assign(f,(0,Ot._)`${v}${(0,fc.callValidateCode)(t,u,b,I)}`,e.modifying)}function $(v){var b;n.if((0,Ot.not)((b=e.valid)!==null&&b!==void 0?b:f),v)}}tr.funcKeywordCode=mc;function Ds(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,Ot._)`${n.parentData}[${n.parentDataProperty}]`))}function pc(t,e){const{gen:r}=t;r.if((0,Ot._)`Array.isArray(${e})`,()=>{r.assign(Sr.default.vErrors,(0,Ot._)`${Sr.default.vErrors} === null ? ${e} : ${Sr.default.vErrors}.concat(${e})`).assign(Sr.default.errors,(0,Ot._)`${Sr.default.vErrors}.length`),(0,dc.extendErrors)(t)},()=>t.error())}function _c({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function yo(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ot.stringify)(r)})}function vc(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}tr.validSchemaType=vc;function yc({schema:t,opts:e,self:r,errSchemaPath:n},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const i=a.dependencies;if(i!=null&&i.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(a.validateSchema&&!a.validateSchema(t[s])){const l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}tr.validateKeywordUsage=yc;var yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.extendSubschemaMode=yr.extendSubschemaData=yr.getSubschema=void 0;const er=ke,go=ee;function gc(t,{keyword:e,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:s,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,er._)`${t.schemaPath}${(0,er.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,er._)`${t.schemaPath}${(0,er.getProperty)(e)}${(0,er.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,go.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}yr.getSubschema=gc;function $c(t,e,{dataProp:r,dataPropType:n,data:a,dataTypes:s,propertyName:i}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:c,dataPathArr:u,opts:f}=e,d=o.let("data",(0,er._)`${e.data}${(0,er.getProperty)(r)}`,!0);l(d),t.errorPath=(0,er.str)`${c}${(0,go.getErrorPath)(r,n,f.jsPropertySyntax)}`,t.parentDataProperty=(0,er._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(a!==void 0){const c=a instanceof er.Name?a:o.let("data",a,!0);l(c),i!==void 0&&(t.propertyName=i)}s&&(t.dataTypes=s);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}yr.extendSubschemaData=$c;function bc(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:s}){n!==void 0&&(t.compositeRule=n),a!==void 0&&(t.createErrors=a),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}yr.extendSubschemaMode=bc;var yt={},$o=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var i=s[a];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r},bo={exports:{}},vr=bo.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};bn(e,n,a,t,"",t)};vr.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};vr.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};vr.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};vr.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function bn(t,e,r,n,a,s,i,o,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,a,s,i,o,l,c);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in vr.arrayKeywords)for(var d=0;d<f.length;d++)bn(t,e,r,f[d],a+"/"+u+"/"+d,s,a,u,n,d)}else if(u in vr.propsKeywords){if(f&&typeof f=="object")for(var p in f)bn(t,e,r,f[p],a+"/"+u+"/"+Ec(p),s,a,u,n,p)}else(u in vr.keywords||t.allKeys&&!(u in vr.skipKeywords))&&bn(t,e,r,f,a+"/"+u,s,a,u,n)}r(n,a,s,i,o,l,c)}}function Ec(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var wc=bo.exports;Object.defineProperty(yt,"__esModule",{value:!0});yt.getSchemaRefs=yt.resolveUrl=yt.normalizeId=yt._getFullPath=yt.getFullPath=yt.inlineRef=void 0;const Sc=ee,kc=$o,Pc=wc,Nc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ic(t,e=!0){return typeof t=="boolean"?!0:e===!0?!ia(t):e?Eo(t)<=e:!1}yt.inlineRef=Ic;const Oc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ia(t){for(const e in t){if(Oc.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(ia)||typeof r=="object"&&ia(r))return!0}return!1}function Eo(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Nc.has(r)&&(typeof t[r]=="object"&&(0,Sc.eachItem)(t[r],n=>e+=Eo(n)),e===1/0))return 1/0}return e}function wo(t,e="",r){r!==!1&&(e=zr(e));const n=t.parse(e);return So(t,n)}yt.getFullPath=wo;function So(t,e){return t.serialize(e).split("#")[0]+"#"}yt._getFullPath=So;const Tc=/#\/?$/;function zr(t){return t?t.replace(Tc,""):""}yt.normalizeId=zr;function Dc(t,e,r){return r=zr(r),t.resolve(e,r)}yt.resolveUrl=Dc;const Ac=/^[a-z_][-a-z0-9._]*$/i;function jc(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=zr(t[r]||e),s={"":a},i=wo(n,a,!1),o={},l=new Set;return Pc(t,{allKeys:!0},(f,d,p,h)=>{if(h===void 0)return;const w=i+d;let $=s[h];typeof f[r]=="string"&&($=v.call(this,f[r])),b.call(this,f.$anchor),b.call(this,f.$dynamicAnchor),s[d]=$;function v(I){const k=this.opts.uriResolver.resolve;if(I=zr($?k($,I):I),l.has(I))throw u(I);l.add(I);let C=this.refs[I];return typeof C=="string"&&(C=this.refs[C]),typeof C=="object"?c(f,C.schema,I):I!==zr(w)&&(I[0]==="#"?(c(f,o[I],I),o[I]=f):this.refs[I]=w),I}function b(I){if(typeof I=="string"){if(!Ac.test(I))throw new Error(`invalid anchor "${I}"`);v.call(this,`#${I}`)}}}),o;function c(f,d,p){if(d!==void 0&&!kc(f,d))throw u(p)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}yt.getSchemaRefs=jc;Object.defineProperty(zt,"__esModule",{value:!0});zt.getData=zt.KeywordCxt=zt.validateFunctionCode=void 0;const ko=Ur,As=ut,Sa=ir,Tn=ut,Cc=Fn,tn=tr,Xn=yr,fe=ke,we=Rt,Rc=yt,or=ee,Qr=cn;function Vc(t){if(Io(t)&&(Oo(t),No(t))){zc(t);return}Po(t,()=>(0,ko.topBoolOrEmptySchema)(t))}zt.validateFunctionCode=Vc;function Po({gen:t,validateName:e,schema:r,schemaEnv:n,opts:a},s){a.code.es5?t.func(e,(0,fe._)`${we.default.data}, ${we.default.valCxt}`,n.$async,()=>{t.code((0,fe._)`"use strict"; ${js(r,a)}`),Fc(t,a),t.code(s)}):t.func(e,(0,fe._)`${we.default.data}, ${Mc(a)}`,n.$async,()=>t.code(js(r,a)).code(s))}function Mc(t){return(0,fe._)`{${we.default.instancePath}="", ${we.default.parentData}, ${we.default.parentDataProperty}, ${we.default.rootData}=${we.default.data}${t.dynamicRef?(0,fe._)`, ${we.default.dynamicAnchors}={}`:fe.nil}}={}`}function Fc(t,e){t.if(we.default.valCxt,()=>{t.var(we.default.instancePath,(0,fe._)`${we.default.valCxt}.${we.default.instancePath}`),t.var(we.default.parentData,(0,fe._)`${we.default.valCxt}.${we.default.parentData}`),t.var(we.default.parentDataProperty,(0,fe._)`${we.default.valCxt}.${we.default.parentDataProperty}`),t.var(we.default.rootData,(0,fe._)`${we.default.valCxt}.${we.default.rootData}`),e.dynamicRef&&t.var(we.default.dynamicAnchors,(0,fe._)`${we.default.valCxt}.${we.default.dynamicAnchors}`)},()=>{t.var(we.default.instancePath,(0,fe._)`""`),t.var(we.default.parentData,(0,fe._)`undefined`),t.var(we.default.parentDataProperty,(0,fe._)`undefined`),t.var(we.default.rootData,we.default.data),e.dynamicRef&&t.var(we.default.dynamicAnchors,(0,fe._)`{}`)})}function zc(t){const{schema:e,opts:r,gen:n}=t;Po(t,()=>{r.$comment&&e.$comment&&Do(t),Kc(t),n.let(we.default.vErrors,null),n.let(we.default.errors,0),r.unevaluated&&Uc(t),To(t),Gc(t)})}function Uc(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,fe._)`${r}.evaluated`),e.if((0,fe._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,fe._)`${t.evaluated}.props`,(0,fe._)`undefined`)),e.if((0,fe._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,fe._)`${t.evaluated}.items`,(0,fe._)`undefined`))}function js(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,fe._)`/*# sourceURL=${r} */`:fe.nil}function qc(t,e){if(Io(t)&&(Oo(t),No(t))){Lc(t,e);return}(0,ko.boolOrEmptySchema)(t,e)}function No({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Io(t){return typeof t.schema!="boolean"}function Lc(t,e){const{schema:r,gen:n,opts:a}=t;a.$comment&&r.$comment&&Do(t),Bc(t),Hc(t);const s=n.const("_errs",we.default.errors);To(t,s),n.var(e,(0,fe._)`${s} === ${we.default.errors}`)}function Oo(t){(0,or.checkUnknownRules)(t),Jc(t)}function To(t,e){if(t.opts.jtd)return Cs(t,[],!1,e);const r=(0,As.getSchemaTypes)(t.schema),n=(0,As.coerceAndCheckDataType)(t,r);Cs(t,r,!n,e)}function Jc(t){const{schema:e,errSchemaPath:r,opts:n,self:a}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,or.schemaHasRulesButRef)(e,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Kc(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,or.checkStrictMode)(t,"default is ignored in the schema root")}function Bc(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Rc.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Hc(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Do({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:a}){const s=r.$comment;if(a.$comment===!0)t.code((0,fe._)`${we.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const i=(0,fe.str)`${n}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,fe._)`${we.default.self}.opts.$comment(${s}, ${i}, ${o}.schema)`)}}function Gc(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:a,opts:s}=t;r.$async?e.if((0,fe._)`${we.default.errors} === 0`,()=>e.return(we.default.data),()=>e.throw((0,fe._)`new ${a}(${we.default.vErrors})`)):(e.assign((0,fe._)`${n}.errors`,we.default.vErrors),s.unevaluated&&Wc(t),e.return((0,fe._)`${we.default.errors} === 0`))}function Wc({gen:t,evaluated:e,props:r,items:n}){r instanceof fe.Name&&t.assign((0,fe._)`${e}.props`,r),n instanceof fe.Name&&t.assign((0,fe._)`${e}.items`,n)}function Cs(t,e,r,n){const{gen:a,schema:s,data:i,allErrors:o,opts:l,self:c}=t,{RULES:u}=c;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,or.schemaHasRulesButRef)(s,u))){a.block(()=>Co(t,"$ref",u.all.$ref.definition));return}l.jtd||Xc(t,e),a.block(()=>{for(const d of u.rules)f(d);f(u.post)});function f(d){(0,Sa.shouldUseGroup)(s,d)&&(d.type?(a.if((0,Tn.checkDataType)(d.type,i,l.strictNumbers)),Rs(t,d),e.length===1&&e[0]===d.type&&r&&(a.else(),(0,Tn.reportTypeError)(t)),a.endIf()):Rs(t,d),o||a.if((0,fe._)`${we.default.errors} === ${n||0}`))}}function Rs(t,e){const{gen:r,schema:n,opts:{useDefaults:a}}=t;a&&(0,Cc.assignDefaults)(t,e.type),r.block(()=>{for(const s of e.rules)(0,Sa.shouldUseRule)(n,s)&&Co(t,s.keyword,s.definition,e.type)})}function Xc(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Zc(t,e),t.opts.allowUnionTypes||Qc(t,e),Yc(t,t.dataTypes))}function Zc(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Ao(t.dataTypes,r)||ka(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),eu(t,e)}}function Qc(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ka(t,"use allowUnionTypes to allow union type keyword")}function Yc(t,e){const r=t.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,Sa.shouldUseRule)(t.schema,a)){const{type:s}=a.definition;s.length&&!s.some(i=>xc(e,i))&&ka(t,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function xc(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Ao(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function eu(t,e){const r=[];for(const n of t.dataTypes)Ao(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function ka(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,or.checkStrictMode)(t,e,t.opts.strictTypes)}class jo{constructor(e,r,n){if((0,tn.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,or.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Ro(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,tn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",we.default.errors))}result(e,r,n){this.failResult((0,fe.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,fe.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,fe._)`${r} !== undefined && (${(0,fe.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Qr.reportExtraError:Qr.reportError)(this,this.def.error,r)}$dataError(){(0,Qr.reportError)(this,this.def.$dataError||Qr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Qr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=fe.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=fe.nil,r=fe.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:s,def:i}=this;n.if((0,fe.or)((0,fe._)`${a} === undefined`,r)),e!==fe.nil&&n.assign(e,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==fe.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:a,it:s}=this;return(0,fe.or)(i(),o());function i(){if(n.length){if(!(r instanceof fe.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,fe._)`${(0,Tn.checkDataTypes)(l,r,s.opts.strictNumbers,Tn.DataType.Wrong)}`}return fe.nil}function o(){if(a.validateSchema){const l=e.scopeValue("validate$data",{ref:a.validateSchema});return(0,fe._)`!${l}(${r})`}return fe.nil}}subschema(e,r){const n=(0,Xn.getSubschema)(this.it,e);(0,Xn.extendSubschemaData)(n,this.it,e),(0,Xn.extendSubschemaMode)(n,e);const a={...this.it,...n,items:void 0,props:void 0};return qc(a,r),a}mergeEvaluated(e,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=or.mergeEvaluated.props(a,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=or.mergeEvaluated.items(a,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(e,fe.Name)),!0}}zt.KeywordCxt=jo;function Co(t,e,r,n){const a=new jo(t,r,e);"code"in r?r.code(a,n):a.$data&&r.validate?(0,tn.funcKeywordCode)(a,r):"macro"in r?(0,tn.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,tn.funcKeywordCode)(a,r)}const tu=/^\/(?:[^~]|~0|~1)*$/,ru=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ro(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let a,s;if(t==="")return we.default.rootData;if(t[0]==="/"){if(!tu.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);a=t,s=we.default.rootData}else{const c=ru.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const u=+c[1];if(a=c[2],a==="#"){if(u>=e)throw new Error(l("property/index",u));return n[e-u]}if(u>e)throw new Error(l("data",u));if(s=r[e-u],!a)return s}let i=s;const o=a.split("/");for(const c of o)c&&(s=(0,fe._)`${s}${(0,fe.getProperty)((0,or.unescapeJsonPointer)(c))}`,i=(0,fe._)`${i} && ${s}`);return i;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}zt.getData=Ro;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});class nu extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Lr.default=nu;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});const Zn=yt;class au extends Error{constructor(e,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Zn.resolveUrl)(e,r,n),this.missingSchema=(0,Zn.normalizeId)((0,Zn.getFullPath)(e,this.missingRef))}}Tr.default=au;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.resolveSchema=Tt.getCompilingSchema=Tt.resolveRef=Tt.compileSchema=Tt.SchemaEnv=void 0;const Bt=ke,su=Lr,wr=Rt,Gt=yt,Vs=ee,iu=zt;class zn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Gt.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Tt.SchemaEnv=zn;function Pa(t){const e=Vo.call(this,t);if(e)return e;const r=(0,Gt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,i=new Bt.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let o;t.$async&&(o=i.scopeValue("Error",{ref:su.default,code:(0,Bt._)`require("ajv/dist/runtime/validation_error").default`}));const l=i.scopeName("validate");t.validateName=l;const c={gen:i,allErrors:this.opts.allErrors,data:wr.default.data,parentData:wr.default.parentData,parentDataProperty:wr.default.parentDataProperty,dataNames:[wr.default.data],dataPathArr:[Bt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Bt.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Bt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Bt._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(t),(0,iu.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);const f=i.toString();u=`${i.scopeRefs(wr.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,t));const p=new Function(`${wr.default.self}`,`${wr.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:f,scopeValues:i._values}),this.opts.unevaluated){const{props:h,items:w}=c;p.evaluated={props:h instanceof Bt.Name?void 0:h,items:w instanceof Bt.Name?void 0:w,dynamicProps:h instanceof Bt.Name,dynamicItems:w instanceof Bt.Name},p.source&&(p.source.evaluated=(0,Bt.stringify)(p.evaluated))}return t.validate=p,t}catch(f){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(t)}}Tt.compileSchema=Pa;function ou(t,e,r){var n;r=(0,Gt.resolveUrl)(this.opts.uriResolver,e,r);const a=t.refs[r];if(a)return a;let s=uu.call(this,t,r);if(s===void 0){const i=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;i&&(s=new zn({schema:i,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=lu.call(this,s)}Tt.resolveRef=ou;function lu(t){return(0,Gt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Pa.call(this,t)}function Vo(t){for(const e of this._compilations)if(cu(e,t))return e}Tt.getCompilingSchema=Vo;function cu(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function uu(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Un.call(this,t,e)}function Un(t,e){const r=this.opts.uriResolver.parse(e),n=(0,Gt._getFullPath)(this.opts.uriResolver,r);let a=(0,Gt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===a)return Qn.call(this,r,t);const s=(0,Gt.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=Un.call(this,t,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Qn.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||Pa.call(this,i),s===(0,Gt.normalizeId)(e)){const{schema:o}=i,{schemaId:l}=this.opts,c=o[l];return c&&(a=(0,Gt.resolveUrl)(this.opts.uriResolver,a,c)),new zn({schema:o,schemaId:l,root:t,baseId:a})}return Qn.call(this,r,i)}}Tt.resolveSchema=Un;const fu=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Qn(t,{baseId:e,schema:r,root:n}){var a;if(((a=t.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Vs.unescapeFragment)(o)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!fu.has(o)&&c&&(e=(0,Gt.resolveUrl)(this.opts.uriResolver,e,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Vs.schemaHasRulesButRef)(r,this.RULES)){const o=(0,Gt.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=Un.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new zn({schema:r,schemaId:i,root:n,baseId:e}),s.schema!==s.root.schema)return s}const du="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",hu="Meta-schema for $data reference (JSON AnySchema extension proposal)",mu="object",pu=["$data"],_u={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},vu=!1,yu={$id:du,description:hu,type:mu,required:pu,properties:_u,additionalProperties:vu};var Na={},oa={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(gl,function(r){function n(){for(var O=arguments.length,E=Array(O),D=0;D<O;D++)E[D]=arguments[D];if(E.length>1){E[0]=E[0].slice(0,-1);for(var M=E.length-1,R=1;R<M;++R)E[R]=E[R].slice(1,-1);return E[M]=E[M].slice(1),E.join("")}else return E[0]}function a(O){return"(?:"+O+")"}function s(O){return O===void 0?"undefined":O===null?"null":Object.prototype.toString.call(O).split(" ").pop().split("]").shift().toLowerCase()}function i(O){return O.toUpperCase()}function o(O){return O!=null?O instanceof Array?O:typeof O.length!="number"||O.split||O.setInterval||O.call?[O]:Array.prototype.slice.call(O):[]}function l(O,E){var D=O;if(E)for(var M in E)D[M]=E[M];return D}function c(O){var E="[A-Za-z]",D="[0-9]",M=n(D,"[A-Fa-f]"),R=a(a("%[EFef]"+M+"%"+M+M+"%"+M+M)+"|"+a("%[89A-Fa-f]"+M+"%"+M+M)+"|"+a("%"+M+M)),ce="[\\:\\/\\?\\#\\[\\]\\@]",te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ve=n(ce,te),Ee=O?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",De=O?"[\\uE000-\\uF8FF]":"[]",J=n(E,D,"[\\-\\.\\_\\~]",Ee);a(E+n(E,D,"[\\+\\-\\.]")+"*"),a(a(R+"|"+n(J,te,"[\\:]"))+"*");var ie=a(a("25[0-5]")+"|"+a("2[0-4]"+D)+"|"+a("1"+D+D)+"|"+a("0?[1-9]"+D)+"|0?0?"+D),et=a(ie+"\\."+ie+"\\."+ie+"\\."+ie),ge=a(M+"{1,4}"),Me=a(a(ge+"\\:"+ge)+"|"+et),tt=a(a(ge+"\\:")+"{6}"+Me),Ue=a("\\:\\:"+a(ge+"\\:")+"{5}"+Me),Jt=a(a(ge)+"?\\:\\:"+a(ge+"\\:")+"{4}"+Me),It=a(a(a(ge+"\\:")+"{0,1}"+ge)+"?\\:\\:"+a(ge+"\\:")+"{3}"+Me),jt=a(a(a(ge+"\\:")+"{0,2}"+ge)+"?\\:\\:"+a(ge+"\\:")+"{2}"+Me),ar=a(a(a(ge+"\\:")+"{0,3}"+ge)+"?\\:\\:"+ge+"\\:"+Me),Yt=a(a(a(ge+"\\:")+"{0,4}"+ge)+"?\\:\\:"+Me),pt=a(a(a(ge+"\\:")+"{0,5}"+ge)+"?\\:\\:"+ge),_t=a(a(a(ge+"\\:")+"{0,6}"+ge)+"?\\:\\:"),xt=a([tt,Ue,Jt,It,jt,ar,Yt,pt,_t].join("|")),kt=a(a(J+"|"+R)+"+");a("[vV]"+M+"+\\."+n(J,te,"[\\:]")+"+"),a(a(R+"|"+n(J,te))+"*");var fr=a(R+"|"+n(J,te,"[\\:\\@]"));return a(a(R+"|"+n(J,te,"[\\@]"))+"+"),a(a(fr+"|"+n("[\\/\\?]",De))+"*"),{NOT_SCHEME:new RegExp(n("[^]",E,D,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",J,te),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",J,te),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",J,te),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",J,te),"g"),NOT_QUERY:new RegExp(n("[^\\%]",J,te,"[\\:\\@\\/\\?]",De),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",J,te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",J,te),"g"),UNRESERVED:new RegExp(J,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",J,ve),"g"),PCT_ENCODED:new RegExp(R,"g"),IPV4ADDRESS:new RegExp("^("+et+")$"),IPV6ADDRESS:new RegExp("^\\[?("+xt+")"+a(a("\\%25|\\%(?!"+M+"{2})")+"("+kt+")")+"?\\]?$")}}var u=c(!1),f=c(!0),d=function(){function O(E,D){var M=[],R=!0,ce=!1,te=void 0;try{for(var ve=E[Symbol.iterator](),Ee;!(R=(Ee=ve.next()).done)&&(M.push(Ee.value),!(D&&M.length===D));R=!0);}catch(De){ce=!0,te=De}finally{try{!R&&ve.return&&ve.return()}finally{if(ce)throw te}}return M}return function(E,D){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return O(E,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(O){if(Array.isArray(O)){for(var E=0,D=Array(O.length);E<O.length;E++)D[E]=O[E];return D}else return Array.from(O)},h=2147483647,w=36,$=1,v=26,b=38,I=700,k=72,C=128,U="-",Y=/^xn--/,ae=/[^\0-\x7E]/,he=/[\x2E\u3002\uFF0E\uFF61]/g,ye={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},K=w-$,z=Math.floor,x=String.fromCharCode;function W(O){throw new RangeError(ye[O])}function oe(O,E){for(var D=[],M=O.length;M--;)D[M]=E(O[M]);return D}function le(O,E){var D=O.split("@"),M="";D.length>1&&(M=D[0]+"@",O=D[1]),O=O.replace(he,".");var R=O.split("."),ce=oe(R,E).join(".");return M+ce}function Re(O){for(var E=[],D=0,M=O.length;D<M;){var R=O.charCodeAt(D++);if(R>=55296&&R<=56319&&D<M){var ce=O.charCodeAt(D++);(ce&64512)==56320?E.push(((R&1023)<<10)+(ce&1023)+65536):(E.push(R),D--)}else E.push(R)}return E}var Fe=function(E){return String.fromCodePoint.apply(String,p(E))},Ie=function(E){return E-48<10?E-22:E-65<26?E-65:E-97<26?E-97:w},L=function(E,D){return E+22+75*(E<26)-((D!=0)<<5)},A=function(E,D,M){var R=0;for(E=M?z(E/I):E>>1,E+=z(E/D);E>K*v>>1;R+=w)E=z(E/K);return z(R+(K+1)*E/(E+b))},F=function(E){var D=[],M=E.length,R=0,ce=C,te=k,ve=E.lastIndexOf(U);ve<0&&(ve=0);for(var Ee=0;Ee<ve;++Ee)E.charCodeAt(Ee)>=128&&W("not-basic"),D.push(E.charCodeAt(Ee));for(var De=ve>0?ve+1:0;De<M;){for(var J=R,ie=1,et=w;;et+=w){De>=M&&W("invalid-input");var ge=Ie(E.charCodeAt(De++));(ge>=w||ge>z((h-R)/ie))&&W("overflow"),R+=ge*ie;var Me=et<=te?$:et>=te+v?v:et-te;if(ge<Me)break;var tt=w-Me;ie>z(h/tt)&&W("overflow"),ie*=tt}var Ue=D.length+1;te=A(R-J,Ue,J==0),z(R/Ue)>h-ce&&W("overflow"),ce+=z(R/Ue),R%=Ue,D.splice(R++,0,ce)}return String.fromCodePoint.apply(String,D)},j=function(E){var D=[];E=Re(E);var M=E.length,R=C,ce=0,te=k,ve=!0,Ee=!1,De=void 0;try{for(var J=E[Symbol.iterator](),ie;!(ve=(ie=J.next()).done);ve=!0){var et=ie.value;et<128&&D.push(x(et))}}catch(dr){Ee=!0,De=dr}finally{try{!ve&&J.return&&J.return()}finally{if(Ee)throw De}}var ge=D.length,Me=ge;for(ge&&D.push(U);Me<M;){var tt=h,Ue=!0,Jt=!1,It=void 0;try{for(var jt=E[Symbol.iterator](),ar;!(Ue=(ar=jt.next()).done);Ue=!0){var Yt=ar.value;Yt>=R&&Yt<tt&&(tt=Yt)}}catch(dr){Jt=!0,It=dr}finally{try{!Ue&&jt.return&&jt.return()}finally{if(Jt)throw It}}var pt=Me+1;tt-R>z((h-ce)/pt)&&W("overflow"),ce+=(tt-R)*pt,R=tt;var _t=!0,xt=!1,kt=void 0;try{for(var fr=E[Symbol.iterator](),Wr;!(_t=(Wr=fr.next()).done);_t=!0){var Xr=Wr.value;if(Xr<R&&++ce>h&&W("overflow"),Xr==R){for(var Kt=ce,br=w;;br+=w){var Er=br<=te?$:br>=te+v?v:br-te;if(Kt<Er)break;var Zr=Kt-Er,sr=w-Er;D.push(x(L(Er+Zr%sr,0))),Kt=z(Zr/sr)}D.push(x(L(Kt,0))),te=A(ce,pt,Me==ge),ce=0,++Me}}}catch(dr){xt=!0,kt=dr}finally{try{!_t&&fr.return&&fr.return()}finally{if(xt)throw kt}}++ce,++R}return D.join("")},m=function(E){return le(E,function(D){return Y.test(D)?F(D.slice(4).toLowerCase()):D})},S=function(E){return le(E,function(D){return ae.test(D)?"xn--"+j(D):D})},V={version:"2.1.0",ucs2:{decode:Re,encode:Fe},decode:F,encode:j,toASCII:S,toUnicode:m},G={};function Q(O){var E=O.charCodeAt(0),D=void 0;return E<16?D="%0"+E.toString(16).toUpperCase():E<128?D="%"+E.toString(16).toUpperCase():E<2048?D="%"+(E>>6|192).toString(16).toUpperCase()+"%"+(E&63|128).toString(16).toUpperCase():D="%"+(E>>12|224).toString(16).toUpperCase()+"%"+(E>>6&63|128).toString(16).toUpperCase()+"%"+(E&63|128).toString(16).toUpperCase(),D}function re(O){for(var E="",D=0,M=O.length;D<M;){var R=parseInt(O.substr(D+1,2),16);if(R<128)E+=String.fromCharCode(R),D+=3;else if(R>=194&&R<224){if(M-D>=6){var ce=parseInt(O.substr(D+4,2),16);E+=String.fromCharCode((R&31)<<6|ce&63)}else E+=O.substr(D,6);D+=6}else if(R>=224){if(M-D>=9){var te=parseInt(O.substr(D+4,2),16),ve=parseInt(O.substr(D+7,2),16);E+=String.fromCharCode((R&15)<<12|(te&63)<<6|ve&63)}else E+=O.substr(D,9);D+=9}else E+=O.substr(D,3),D+=3}return E}function ue(O,E){function D(M){var R=re(M);return R.match(E.UNRESERVED)?R:M}return O.scheme&&(O.scheme=String(O.scheme).replace(E.PCT_ENCODED,D).toLowerCase().replace(E.NOT_SCHEME,"")),O.userinfo!==void 0&&(O.userinfo=String(O.userinfo).replace(E.PCT_ENCODED,D).replace(E.NOT_USERINFO,Q).replace(E.PCT_ENCODED,i)),O.host!==void 0&&(O.host=String(O.host).replace(E.PCT_ENCODED,D).toLowerCase().replace(E.NOT_HOST,Q).replace(E.PCT_ENCODED,i)),O.path!==void 0&&(O.path=String(O.path).replace(E.PCT_ENCODED,D).replace(O.scheme?E.NOT_PATH:E.NOT_PATH_NOSCHEME,Q).replace(E.PCT_ENCODED,i)),O.query!==void 0&&(O.query=String(O.query).replace(E.PCT_ENCODED,D).replace(E.NOT_QUERY,Q).replace(E.PCT_ENCODED,i)),O.fragment!==void 0&&(O.fragment=String(O.fragment).replace(E.PCT_ENCODED,D).replace(E.NOT_FRAGMENT,Q).replace(E.PCT_ENCODED,i)),O}function $e(O){return O.replace(/^0*(.*)/,"$1")||"0"}function We(O,E){var D=O.match(E.IPV4ADDRESS)||[],M=d(D,2),R=M[1];return R?R.split(".").map($e).join("."):O}function nt(O,E){var D=O.match(E.IPV6ADDRESS)||[],M=d(D,3),R=M[1],ce=M[2];if(R){for(var te=R.toLowerCase().split("::").reverse(),ve=d(te,2),Ee=ve[0],De=ve[1],J=De?De.split(":").map($e):[],ie=Ee.split(":").map($e),et=E.IPV4ADDRESS.test(ie[ie.length-1]),ge=et?7:8,Me=ie.length-ge,tt=Array(ge),Ue=0;Ue<ge;++Ue)tt[Ue]=J[Ue]||ie[Me+Ue]||"";et&&(tt[ge-1]=We(tt[ge-1],E));var Jt=tt.reduce(function(pt,_t,xt){if(!_t||_t==="0"){var kt=pt[pt.length-1];kt&&kt.index+kt.length===xt?kt.length++:pt.push({index:xt,length:1})}return pt},[]),It=Jt.sort(function(pt,_t){return _t.length-pt.length})[0],jt=void 0;if(It&&It.length>1){var ar=tt.slice(0,It.index),Yt=tt.slice(It.index+It.length);jt=ar.join(":")+"::"+Yt.join(":")}else jt=tt.join(":");return ce&&(jt+="%"+ce),jt}else return O}var se=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,me="".match(/(){0}/)[1]===void 0;function qe(O){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D={},M=E.iri!==!1?f:u;E.reference==="suffix"&&(O=(E.scheme?E.scheme+":":"")+"//"+O);var R=O.match(se);if(R){me?(D.scheme=R[1],D.userinfo=R[3],D.host=R[4],D.port=parseInt(R[5],10),D.path=R[6]||"",D.query=R[7],D.fragment=R[8],isNaN(D.port)&&(D.port=R[5])):(D.scheme=R[1]||void 0,D.userinfo=O.indexOf("@")!==-1?R[3]:void 0,D.host=O.indexOf("//")!==-1?R[4]:void 0,D.port=parseInt(R[5],10),D.path=R[6]||"",D.query=O.indexOf("?")!==-1?R[7]:void 0,D.fragment=O.indexOf("#")!==-1?R[8]:void 0,isNaN(D.port)&&(D.port=O.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?R[4]:void 0)),D.host&&(D.host=nt(We(D.host,M),M)),D.scheme===void 0&&D.userinfo===void 0&&D.host===void 0&&D.port===void 0&&!D.path&&D.query===void 0?D.reference="same-document":D.scheme===void 0?D.reference="relative":D.fragment===void 0?D.reference="absolute":D.reference="uri",E.reference&&E.reference!=="suffix"&&E.reference!==D.reference&&(D.error=D.error||"URI is not a "+E.reference+" reference.");var ce=G[(E.scheme||D.scheme||"").toLowerCase()];if(!E.unicodeSupport&&(!ce||!ce.unicodeSupport)){if(D.host&&(E.domainHost||ce&&ce.domainHost))try{D.host=V.toASCII(D.host.replace(M.PCT_ENCODED,re).toLowerCase())}catch(te){D.error=D.error||"Host's domain name can not be converted to ASCII via punycode: "+te}ue(D,u)}else ue(D,M);ce&&ce.parse&&ce.parse(D,E)}else D.error=D.error||"URI can not be parsed.";return D}function pe(O,E){var D=E.iri!==!1?f:u,M=[];return O.userinfo!==void 0&&(M.push(O.userinfo),M.push("@")),O.host!==void 0&&M.push(nt(We(String(O.host),D),D).replace(D.IPV6ADDRESS,function(R,ce,te){return"["+ce+(te?"%25"+te:"")+"]"})),(typeof O.port=="number"||typeof O.port=="string")&&(M.push(":"),M.push(String(O.port))),M.length?M.join(""):void 0}var Se=/^\.\.?\//,Xe=/^\/\.(\/|$)/,it=/^\/\.\.(\/|$)/,ot=/^\/?(?:.|\n)*?(?=\/|$)/;function je(O){for(var E=[];O.length;)if(O.match(Se))O=O.replace(Se,"");else if(O.match(Xe))O=O.replace(Xe,"/");else if(O.match(it))O=O.replace(it,"/"),E.pop();else if(O==="."||O==="..")O="";else{var D=O.match(ot);if(D){var M=D[0];O=O.slice(M.length),E.push(M)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function Te(O){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=E.iri?f:u,M=[],R=G[(E.scheme||O.scheme||"").toLowerCase()];if(R&&R.serialize&&R.serialize(O,E),O.host&&!D.IPV6ADDRESS.test(O.host)){if(E.domainHost||R&&R.domainHost)try{O.host=E.iri?V.toUnicode(O.host):V.toASCII(O.host.replace(D.PCT_ENCODED,re).toLowerCase())}catch(ve){O.error=O.error||"Host's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+ve}}ue(O,D),E.reference!=="suffix"&&O.scheme&&(M.push(O.scheme),M.push(":"));var ce=pe(O,E);if(ce!==void 0&&(E.reference!=="suffix"&&M.push("//"),M.push(ce),O.path&&O.path.charAt(0)!=="/"&&M.push("/")),O.path!==void 0){var te=O.path;!E.absolutePath&&(!R||!R.absolutePath)&&(te=je(te)),ce===void 0&&(te=te.replace(/^\/\//,"/%2F")),M.push(te)}return O.query!==void 0&&(M.push("?"),M.push(O.query)),O.fragment!==void 0&&(M.push("#"),M.push(O.fragment)),M.join("")}function Ce(O,E){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments[3],R={};return M||(O=qe(Te(O,D),D),E=qe(Te(E,D),D)),D=D||{},!D.tolerant&&E.scheme?(R.scheme=E.scheme,R.userinfo=E.userinfo,R.host=E.host,R.port=E.port,R.path=je(E.path||""),R.query=E.query):(E.userinfo!==void 0||E.host!==void 0||E.port!==void 0?(R.userinfo=E.userinfo,R.host=E.host,R.port=E.port,R.path=je(E.path||""),R.query=E.query):(E.path?(E.path.charAt(0)==="/"?R.path=je(E.path):((O.userinfo!==void 0||O.host!==void 0||O.port!==void 0)&&!O.path?R.path="/"+E.path:O.path?R.path=O.path.slice(0,O.path.lastIndexOf("/")+1)+E.path:R.path=E.path,R.path=je(R.path)),R.query=E.query):(R.path=O.path,E.query!==void 0?R.query=E.query:R.query=O.query),R.userinfo=O.userinfo,R.host=O.host,R.port=O.port),R.scheme=O.scheme),R.fragment=E.fragment,R}function de(O,E,D){var M=l({scheme:"null"},D);return Te(Ce(qe(O,M),qe(E,M),M,!0),M)}function Pe(O,E){return typeof O=="string"?O=Te(qe(O,E),E):s(O)==="object"&&(O=qe(Te(O,E),E)),O}function lt(O,E,D){return typeof O=="string"?O=Te(qe(O,D),D):s(O)==="object"&&(O=Te(O,D)),typeof E=="string"?E=Te(qe(E,D),D):s(E)==="object"&&(E=Te(E,D)),O===E}function bt(O,E){return O&&O.toString().replace(!E||!E.iri?u.ESCAPE:f.ESCAPE,Q)}function Le(O,E){return O&&O.toString().replace(!E||!E.iri?u.PCT_ENCODED:f.PCT_ENCODED,re)}var Ze={scheme:"http",domainHost:!0,parse:function(E,D){return E.host||(E.error=E.error||"HTTP URIs must have a host."),E},serialize:function(E,D){var M=String(E.scheme).toLowerCase()==="https";return(E.port===(M?443:80)||E.port==="")&&(E.port=void 0),E.path||(E.path="/"),E}},ze={scheme:"https",domainHost:Ze.domainHost,parse:Ze.parse,serialize:Ze.serialize};function Dt(O){return typeof O.secure=="boolean"?O.secure:String(O.scheme).toLowerCase()==="wss"}var ct={scheme:"ws",domainHost:!0,parse:function(E,D){var M=E;return M.secure=Dt(M),M.resourceName=(M.path||"/")+(M.query?"?"+M.query:""),M.path=void 0,M.query=void 0,M},serialize:function(E,D){if((E.port===(Dt(E)?443:80)||E.port==="")&&(E.port=void 0),typeof E.secure=="boolean"&&(E.scheme=E.secure?"wss":"ws",E.secure=void 0),E.resourceName){var M=E.resourceName.split("?"),R=d(M,2),ce=R[0],te=R[1];E.path=ce&&ce!=="/"?ce:void 0,E.query=te,E.resourceName=void 0}return E.fragment=void 0,E}},dt={scheme:"wss",domainHost:ct.domainHost,parse:ct.parse,serialize:ct.serialize},qt={},mt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ve="[0-9A-Fa-f]",Vt=a(a("%[EFef]"+Ve+"%"+Ve+Ve+"%"+Ve+Ve)+"|"+a("%[89A-Fa-f]"+Ve+"%"+Ve+Ve)+"|"+a("%"+Ve+Ve)),Mt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",cr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",rr=n(cr,'[\\"\\\\]'),ht="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Lt=new RegExp(mt,"g"),Et=new RegExp(Vt,"g"),Nt=new RegExp(n("[^]",Mt,"[\\.]",'[\\"]',rr),"g"),wt=new RegExp(n("[^]",mt,ht),"g"),ur=wt;function Qt(O){var E=re(O);return E.match(Lt)?E:O}var St={scheme:"mailto",parse:function(E,D){var M=E,R=M.to=M.path?M.path.split(","):[];if(M.path=void 0,M.query){for(var ce=!1,te={},ve=M.query.split("&"),Ee=0,De=ve.length;Ee<De;++Ee){var J=ve[Ee].split("=");switch(J[0]){case"to":for(var ie=J[1].split(","),et=0,ge=ie.length;et<ge;++et)R.push(ie[et]);break;case"subject":M.subject=Le(J[1],D);break;case"body":M.body=Le(J[1],D);break;default:ce=!0,te[Le(J[0],D)]=Le(J[1],D);break}}ce&&(M.headers=te)}M.query=void 0;for(var Me=0,tt=R.length;Me<tt;++Me){var Ue=R[Me].split("@");if(Ue[0]=Le(Ue[0]),D.unicodeSupport)Ue[1]=Le(Ue[1],D).toLowerCase();else try{Ue[1]=V.toASCII(Le(Ue[1],D).toLowerCase())}catch(Jt){M.error=M.error||"Email address's domain name can not be converted to ASCII via punycode: "+Jt}R[Me]=Ue.join("@")}return M},serialize:function(E,D){var M=E,R=o(E.to);if(R){for(var ce=0,te=R.length;ce<te;++ce){var ve=String(R[ce]),Ee=ve.lastIndexOf("@"),De=ve.slice(0,Ee).replace(Et,Qt).replace(Et,i).replace(Nt,Q),J=ve.slice(Ee+1);try{J=D.iri?V.toUnicode(J):V.toASCII(Le(J,D).toLowerCase())}catch(Me){M.error=M.error||"Email address's domain name can not be converted to "+(D.iri?"Unicode":"ASCII")+" via punycode: "+Me}R[ce]=De+"@"+J}M.path=R.join(",")}var ie=E.headers=E.headers||{};E.subject&&(ie.subject=E.subject),E.body&&(ie.body=E.body);var et=[];for(var ge in ie)ie[ge]!==qt[ge]&&et.push(ge.replace(Et,Qt).replace(Et,i).replace(wt,Q)+"="+ie[ge].replace(Et,Qt).replace(Et,i).replace(ur,Q));return et.length&&(M.query=et.join("&")),M}},Gr=/^([^\:]+)\:(.*)/,nr={scheme:"urn",parse:function(E,D){var M=E.path&&E.path.match(Gr),R=E;if(M){var ce=D.scheme||R.scheme||"urn",te=M[1].toLowerCase(),ve=M[2],Ee=ce+":"+(D.nid||te),De=G[Ee];R.nid=te,R.nss=ve,R.path=void 0,De&&(R=De.parse(R,D))}else R.error=R.error||"URN can not be parsed.";return R},serialize:function(E,D){var M=D.scheme||E.scheme||"urn",R=E.nid,ce=M+":"+(D.nid||R),te=G[ce];te&&(E=te.serialize(E,D));var ve=E,Ee=E.nss;return ve.path=(R||D.nid)+":"+Ee,ve}},Dr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ar={scheme:"urn:uuid",parse:function(E,D){var M=E;return M.uuid=M.nss,M.nss=void 0,!D.tolerant&&(!M.uuid||!M.uuid.match(Dr))&&(M.error=M.error||"UUID is not valid."),M},serialize:function(E,D){var M=E;return M.nss=(E.uuid||"").toLowerCase(),M}};G[Ze.scheme]=Ze,G[ze.scheme]=ze,G[ct.scheme]=ct,G[dt.scheme]=dt,G[St.scheme]=St,G[nr.scheme]=nr,G[Ar.scheme]=Ar,r.SCHEMES=G,r.pctEncChar=Q,r.pctDecChars=re,r.parse=qe,r.removeDotSegments=je,r.serialize=Te,r.resolveComponents=Ce,r.resolve=de,r.normalize=Pe,r.equal=lt,r.escapeComponent=bt,r.unescapeComponent=Le,Object.defineProperty(r,"__esModule",{value:!0})})})(oa,oa.exports);var gu=oa.exports;Object.defineProperty(Na,"__esModule",{value:!0});const Mo=gu;Mo.code='require("ajv/dist/runtime/uri").default';Na.default=Mo;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=zt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=ke;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Lr,a=Tr,s=Ir,i=Tt,o=ke,l=yt,c=ut,u=ee,f=yu,d=Na,p=(L,A)=>new RegExp(L,A);p.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function I(L){var A,F,j,m,S,V,G,Q,re,ue,$e,We,nt,se,me,qe,pe,Se,Xe,it,ot,je,Te,Ce,de;const Pe=L.strict,lt=(A=L.code)===null||A===void 0?void 0:A.optimize,bt=lt===!0||lt===void 0?1:lt||0,Le=(j=(F=L.code)===null||F===void 0?void 0:F.regExp)!==null&&j!==void 0?j:p,Ze=(m=L.uriResolver)!==null&&m!==void 0?m:d.default;return{strictSchema:(V=(S=L.strictSchema)!==null&&S!==void 0?S:Pe)!==null&&V!==void 0?V:!0,strictNumbers:(Q=(G=L.strictNumbers)!==null&&G!==void 0?G:Pe)!==null&&Q!==void 0?Q:!0,strictTypes:(ue=(re=L.strictTypes)!==null&&re!==void 0?re:Pe)!==null&&ue!==void 0?ue:"log",strictTuples:(We=($e=L.strictTuples)!==null&&$e!==void 0?$e:Pe)!==null&&We!==void 0?We:"log",strictRequired:(se=(nt=L.strictRequired)!==null&&nt!==void 0?nt:Pe)!==null&&se!==void 0?se:!1,code:L.code?{...L.code,optimize:bt,regExp:Le}:{optimize:bt,regExp:Le},loopRequired:(me=L.loopRequired)!==null&&me!==void 0?me:b,loopEnum:(qe=L.loopEnum)!==null&&qe!==void 0?qe:b,meta:(pe=L.meta)!==null&&pe!==void 0?pe:!0,messages:(Se=L.messages)!==null&&Se!==void 0?Se:!0,inlineRefs:(Xe=L.inlineRefs)!==null&&Xe!==void 0?Xe:!0,schemaId:(it=L.schemaId)!==null&&it!==void 0?it:"$id",addUsedSchema:(ot=L.addUsedSchema)!==null&&ot!==void 0?ot:!0,validateSchema:(je=L.validateSchema)!==null&&je!==void 0?je:!0,validateFormats:(Te=L.validateFormats)!==null&&Te!==void 0?Te:!0,unicodeRegExp:(Ce=L.unicodeRegExp)!==null&&Ce!==void 0?Ce:!0,int32range:(de=L.int32range)!==null&&de!==void 0?de:!0,uriResolver:Ze}}class k{constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,...I(A)};const{es5:F,lines:j}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:w,es5:F,lines:j}),this.logger=z(A.logger);const m=A.validateFormats;A.validateFormats=!1,this.RULES=(0,s.getRules)(),C.call(this,$,A,"NOT SUPPORTED"),C.call(this,v,A,"DEPRECATED","warn"),this._metaOpts=ye.call(this),A.formats&&ae.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&he.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),Y.call(this),A.validateFormats=m}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:F,schemaId:j}=this.opts;let m=f;j==="id"&&(m={...f},m.id=m.$id,delete m.$id),F&&A&&this.addMetaSchema(m,m[j],!1)}defaultMeta(){const{meta:A,schemaId:F}=this.opts;return this.opts.defaultMeta=typeof A=="object"?A[F]||A:void 0}validate(A,F){let j;if(typeof A=="string"){if(j=this.getSchema(A),!j)throw new Error(`no schema with key or ref "${A}"`)}else j=this.compile(A);const m=j(F);return"$async"in j||(this.errors=j.errors),m}compile(A,F){const j=this._addSchema(A,F);return j.validate||this._compileSchemaEnv(j)}compileAsync(A,F){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:j}=this.opts;return m.call(this,A,F);async function m(ue,$e){await S.call(this,ue.$schema);const We=this._addSchema(ue,$e);return We.validate||V.call(this,We)}async function S(ue){ue&&!this.getSchema(ue)&&await m.call(this,{$ref:ue},!0)}async function V(ue){try{return this._compileSchemaEnv(ue)}catch($e){if(!($e instanceof a.default))throw $e;return G.call(this,$e),await Q.call(this,$e.missingSchema),V.call(this,ue)}}function G({missingSchema:ue,missingRef:$e}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${$e} cannot be resolved`)}async function Q(ue){const $e=await re.call(this,ue);this.refs[ue]||await S.call(this,$e.$schema),this.refs[ue]||this.addSchema($e,ue,F)}async function re(ue){const $e=this._loading[ue];if($e)return $e;try{return await(this._loading[ue]=j(ue))}finally{delete this._loading[ue]}}}addSchema(A,F,j,m=this.opts.validateSchema){if(Array.isArray(A)){for(const V of A)this.addSchema(V,void 0,j,m);return this}let S;if(typeof A=="object"){const{schemaId:V}=this.opts;if(S=A[V],S!==void 0&&typeof S!="string")throw new Error(`schema ${V} must be string`)}return F=(0,l.normalizeId)(F||S),this._checkUnique(F),this.schemas[F]=this._addSchema(A,j,F,m,!0),this}addMetaSchema(A,F,j=this.opts.validateSchema){return this.addSchema(A,F,!0,j),this}validateSchema(A,F){if(typeof A=="boolean")return!0;let j;if(j=A.$schema,j!==void 0&&typeof j!="string")throw new Error("$schema must be a string");if(j=j||this.opts.defaultMeta||this.defaultMeta(),!j)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const m=this.validate(j,A);if(!m&&F){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return m}getSchema(A){let F;for(;typeof(F=U.call(this,A))=="string";)A=F;if(F===void 0){const{schemaId:j}=this.opts,m=new i.SchemaEnv({schema:{},schemaId:j});if(F=i.resolveSchema.call(this,m,A),!F)return;this.refs[A]=F}return F.validate||this._compileSchemaEnv(F)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const F=U.call(this,A);return typeof F=="object"&&this._cache.delete(F.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const F=A;this._cache.delete(F);let j=A[this.opts.schemaId];return j&&(j=(0,l.normalizeId)(j),delete this.schemas[j],delete this.refs[j]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(A){for(const F of A)this.addKeyword(F);return this}addKeyword(A,F){let j;if(typeof A=="string")j=A,typeof F=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),F.keyword=j);else if(typeof A=="object"&&F===void 0){if(F=A,j=F.keyword,Array.isArray(j)&&!j.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(W.call(this,j,F),!F)return(0,u.eachItem)(j,S=>oe.call(this,S)),this;Re.call(this,F);const m={...F,type:(0,c.getJSONTypes)(F.type),schemaType:(0,c.getJSONTypes)(F.schemaType)};return(0,u.eachItem)(j,m.type.length===0?S=>oe.call(this,S,m):S=>m.type.forEach(V=>oe.call(this,S,m,V))),this}getKeyword(A){const F=this.RULES.all[A];return typeof F=="object"?F.definition:!!F}removeKeyword(A){const{RULES:F}=this;delete F.keywords[A],delete F.all[A];for(const j of F.rules){const m=j.rules.findIndex(S=>S.keyword===A);m>=0&&j.rules.splice(m,1)}return this}addFormat(A,F){return typeof F=="string"&&(F=new RegExp(F)),this.formats[A]=F,this}errorsText(A=this.errors,{separator:F=", ",dataVar:j="data"}={}){return!A||A.length===0?"No errors":A.map(m=>`${j}${m.instancePath} ${m.message}`).reduce((m,S)=>m+F+S)}$dataMetaSchema(A,F){const j=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const m of F){const S=m.split("/").slice(1);let V=A;for(const G of S)V=V[G];for(const G in j){const Q=j[G];if(typeof Q!="object")continue;const{$data:re}=Q.definition,ue=V[G];re&&ue&&(V[G]=Ie(ue))}}return A}_removeAllSchemas(A,F){for(const j in A){const m=A[j];(!F||F.test(j))&&(typeof m=="string"?delete A[j]:m&&!m.meta&&(this._cache.delete(m.schema),delete A[j]))}}_addSchema(A,F,j,m=this.opts.validateSchema,S=this.opts.addUsedSchema){let V;const{schemaId:G}=this.opts;if(typeof A=="object")V=A[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let Q=this._cache.get(A);if(Q!==void 0)return Q;j=(0,l.normalizeId)(V||j);const re=l.getSchemaRefs.call(this,A,j);return Q=new i.SchemaEnv({schema:A,schemaId:G,meta:F,baseId:j,localRefs:re}),this._cache.set(Q.schema,Q),S&&!j.startsWith("#")&&(j&&this._checkUnique(j),this.refs[j]=Q),m&&this.validateSchema(A,!0),Q}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):i.compileSchema.call(this,A),!A.validate)throw new Error("ajv implementation error");return A.validate}_compileMetaSchema(A){const F=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,A)}finally{this.opts=F}}}k.ValidationError=n.default,k.MissingRefError=a.default,t.default=k;function C(L,A,F,j="error"){for(const m in L){const S=m;S in A&&this.logger[j](`${F}: option ${m}. ${L[S]}`)}}function U(L){return L=(0,l.normalizeId)(L),this.schemas[L]||this.refs[L]}function Y(){const L=this.opts.schemas;if(L)if(Array.isArray(L))this.addSchema(L);else for(const A in L)this.addSchema(L[A],A)}function ae(){for(const L in this.opts.formats){const A=this.opts.formats[L];A&&this.addFormat(L,A)}}function he(L){if(Array.isArray(L)){this.addVocabulary(L);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in L){const F=L[A];F.keyword||(F.keyword=A),this.addKeyword(F)}}function ye(){const L={...this.opts};for(const A of h)delete L[A];return L}const K={log(){},warn(){},error(){}};function z(L){if(L===!1)return K;if(L===void 0)return console;if(L.log&&L.warn&&L.error)return L;throw new Error("logger must implement log, warn and error methods")}const x=/^[a-z_$][a-z0-9_$:-]*$/i;function W(L,A){const{RULES:F}=this;if((0,u.eachItem)(L,j=>{if(F.keywords[j])throw new Error(`Keyword ${j} is already defined`);if(!x.test(j))throw new Error(`Keyword ${j} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function oe(L,A,F){var j;const m=A==null?void 0:A.post;if(F&&m)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let V=m?S.post:S.rules.find(({type:Q})=>Q===F);if(V||(V={type:F,rules:[]},S.rules.push(V)),S.keywords[L]=!0,!A)return;const G={keyword:L,definition:{...A,type:(0,c.getJSONTypes)(A.type),schemaType:(0,c.getJSONTypes)(A.schemaType)}};A.before?le.call(this,V,G,A.before):V.rules.push(G),S.all[L]=G,(j=A.implements)===null||j===void 0||j.forEach(Q=>this.addKeyword(Q))}function le(L,A,F){const j=L.rules.findIndex(m=>m.keyword===F);j>=0?L.rules.splice(j,0,A):(L.rules.push(A),this.logger.warn(`rule ${F} is not defined`))}function Re(L){let{metaSchema:A}=L;A!==void 0&&(L.$data&&this.opts.$data&&(A=Ie(A)),L.validateSchema=this.compile(A,!0))}const Fe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ie(L){return{anyOf:[L,Fe]}}})(_a);var Ia={},qn={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});const $u={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Oa.default=$u;var lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.callRef=lr.getValidate=void 0;const bu=Tr,Ms=Ae,At=ke,Vr=Rt,Fs=Tt,pn=ee,Eu={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:a,schemaEnv:s,validateName:i,opts:o,self:l}=n,{root:c}=s;if((r==="#"||r==="#/")&&a===c.baseId)return f();const u=Fs.resolveRef.call(l,c,a,r);if(u===void 0)throw new bu.default(n.opts.uriResolver,a,r);if(u instanceof Fs.SchemaEnv)return d(u);return p(u);function f(){if(s===c)return En(t,i,s,s.$async);const h=e.scopeValue("root",{ref:c});return En(t,(0,At._)`${h}.validate`,c,c.$async)}function d(h){const w=Fo(t,h);En(t,w,h,h.$async)}function p(h){const w=e.scopeValue("schema",o.code.source===!0?{ref:h,code:(0,At.stringify)(h)}:{ref:h}),$=e.name("valid"),v=t.subschema({schema:h,dataTypes:[],schemaPath:At.nil,topSchemaRef:w,errSchemaPath:r},$);t.mergeEvaluated(v),t.ok($)}}};function Fo(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,At._)`${r.scopeValue("wrapper",{ref:e})}.validate`}lr.getValidate=Fo;function En(t,e,r,n){const{gen:a,it:s}=t,{allErrors:i,schemaEnv:o,opts:l}=s,c=l.passContext?Vr.default.this:At.nil;n?u():f();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");const h=a.let("valid");a.try(()=>{a.code((0,At._)`await ${(0,Ms.callValidateCode)(t,e,c)}`),p(e),i||a.assign(h,!0)},w=>{a.if((0,At._)`!(${w} instanceof ${s.ValidationError})`,()=>a.throw(w)),d(w),i||a.assign(h,!1)}),t.ok(h)}function f(){t.result((0,Ms.callValidateCode)(t,e,c),()=>p(e),()=>d(e))}function d(h){const w=(0,At._)`${h}.errors`;a.assign(Vr.default.vErrors,(0,At._)`${Vr.default.vErrors} === null ? ${w} : ${Vr.default.vErrors}.concat(${w})`),a.assign(Vr.default.errors,(0,At._)`${Vr.default.vErrors}.length`)}function p(h){var w;if(!s.opts.unevaluated)return;const $=(w=r==null?void 0:r.validate)===null||w===void 0?void 0:w.evaluated;if(s.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(s.props=pn.mergeEvaluated.props(a,$.props,s.props));else{const v=a.var("props",(0,At._)`${h}.evaluated.props`);s.props=pn.mergeEvaluated.props(a,v,s.props,At.Name)}if(s.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(s.items=pn.mergeEvaluated.items(a,$.items,s.items));else{const v=a.var("items",(0,At._)`${h}.evaluated.items`);s.items=pn.mergeEvaluated.items(a,v,s.items,At.Name)}}}lr.callRef=En;lr.default=Eu;Object.defineProperty(qn,"__esModule",{value:!0});const wu=Oa,Su=lr,ku=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",wu.default,Su.default];qn.default=ku;var Ln={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});const Dn=ke,mr=Dn.operators,An={maximum:{okStr:"<=",ok:mr.LTE,fail:mr.GT},minimum:{okStr:">=",ok:mr.GTE,fail:mr.LT},exclusiveMaximum:{okStr:"<",ok:mr.LT,fail:mr.GTE},exclusiveMinimum:{okStr:">",ok:mr.GT,fail:mr.LTE}},Pu={message:({keyword:t,schemaCode:e})=>(0,Dn.str)`must be ${An[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Dn._)`{comparison: ${An[t].okStr}, limit: ${e}}`},Nu={keyword:Object.keys(An),type:"number",schemaType:"number",$data:!0,error:Pu,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Dn._)`${r} ${An[e].fail} ${n} || isNaN(${r})`)}};Ta.default=Nu;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});const rn=ke,Iu={message:({schemaCode:t})=>(0,rn.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,rn._)`{multipleOf: ${t}}`},Ou={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Iu,code(t){const{gen:e,data:r,schemaCode:n,it:a}=t,s=a.opts.multipleOfPrecision,i=e.let("res"),o=s?(0,rn._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,rn._)`${i} !== parseInt(${i})`;t.fail$data((0,rn._)`(${n} === 0 || (${i} = ${r}/${n}, ${o}))`)}};Da.default=Ou;var Aa={},ja={};Object.defineProperty(ja,"__esModule",{value:!0});function zo(t){const e=t.length;let r=0,n=0,a;for(;n<e;)r++,a=t.charCodeAt(n++),a>=55296&&a<=56319&&n<e&&(a=t.charCodeAt(n),(a&64512)===56320&&n++);return r}ja.default=zo;zo.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Aa,"__esModule",{value:!0});const kr=ke,Tu=ee,Du=ja,Au={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,kr.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,kr._)`{limit: ${t}}`},ju={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Au,code(t){const{keyword:e,data:r,schemaCode:n,it:a}=t,s=e==="maxLength"?kr.operators.GT:kr.operators.LT,i=a.opts.unicode===!1?(0,kr._)`${r}.length`:(0,kr._)`${(0,Tu.useFunc)(t.gen,Du.default)}(${r})`;t.fail$data((0,kr._)`${i} ${s} ${n}`)}};Aa.default=ju;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});const Cu=Ae,jn=ke,Ru={message:({schemaCode:t})=>(0,jn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,jn._)`{pattern: ${t}}`},Vu={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Ru,code(t){const{data:e,$data:r,schema:n,schemaCode:a,it:s}=t,i=s.opts.unicodeRegExp?"u":"",o=r?(0,jn._)`(new RegExp(${a}, ${i}))`:(0,Cu.usePattern)(t,n);t.fail$data((0,jn._)`!${o}.test(${e})`)}};Ca.default=Vu;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});const nn=ke,Mu={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,nn.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,nn._)`{limit: ${t}}`},Fu={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Mu,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxProperties"?nn.operators.GT:nn.operators.LT;t.fail$data((0,nn._)`Object.keys(${r}).length ${a} ${n}`)}};Ra.default=Fu;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});const Yr=Ae,an=ke,zu=ee,Uu={message:({params:{missingProperty:t}})=>(0,an.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,an._)`{missingProperty: ${t}}`},qu={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Uu,code(t){const{gen:e,schema:r,schemaCode:n,data:a,$data:s,it:i}=t,{opts:o}=i;if(!s&&r.length===0)return;const l=r.length>=o.loopRequired;if(i.allErrors?c():u(),o.strictRequired){const p=t.parentSchema.properties,{definedProperties:h}=t.it;for(const w of r)if((p==null?void 0:p[w])===void 0&&!h.has(w)){const $=i.schemaEnv.baseId+i.errSchemaPath,v=`required property "${w}" is not defined at "${$}" (strictRequired)`;(0,zu.checkStrictMode)(i,v,i.opts.strictRequired)}}function c(){if(l||s)t.block$data(an.nil,f);else for(const p of r)(0,Yr.checkReportMissingProp)(t,p)}function u(){const p=e.let("missing");if(l||s){const h=e.let("valid",!0);t.block$data(h,()=>d(p,h)),t.ok(h)}else e.if((0,Yr.checkMissingProp)(t,r,p)),(0,Yr.reportMissingProp)(t,p),e.else()}function f(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,Yr.noPropertyInData)(e,a,p,o.ownProperties),()=>t.error())})}function d(p,h){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(h,(0,Yr.propertyInData)(e,a,p,o.ownProperties)),e.if((0,an.not)(h),()=>{t.error(),e.break()})},an.nil)}}};Va.default=qu;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});const sn=ke,Lu={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,sn.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,sn._)`{limit: ${t}}`},Ju={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Lu,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxItems"?sn.operators.GT:sn.operators.LT;t.fail$data((0,sn._)`${r}.length ${a} ${n}`)}};Ma.default=Ju;var Fa={},un={};Object.defineProperty(un,"__esModule",{value:!0});const Uo=$o;Uo.code='require("ajv/dist/runtime/equal").default';un.default=Uo;Object.defineProperty(Fa,"__esModule",{value:!0});const Yn=ut,vt=ke,Ku=ee,Bu=un,Hu={message:({params:{i:t,j:e}})=>(0,vt.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,vt._)`{i: ${t}, j: ${e}}`},Gu={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Hu,code(t){const{gen:e,data:r,$data:n,schema:a,parentSchema:s,schemaCode:i,it:o}=t;if(!n&&!a)return;const l=e.let("valid"),c=s.items?(0,Yn.getSchemaTypes)(s.items):[];t.block$data(l,u,(0,vt._)`${i} === false`),t.ok(l);function u(){const h=e.let("i",(0,vt._)`${r}.length`),w=e.let("j");t.setParams({i:h,j:w}),e.assign(l,!0),e.if((0,vt._)`${h} > 1`,()=>(f()?d:p)(h,w))}function f(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function d(h,w){const $=e.name("item"),v=(0,Yn.checkDataTypes)(c,$,o.opts.strictNumbers,Yn.DataType.Wrong),b=e.const("indices",(0,vt._)`{}`);e.for((0,vt._)`;${h}--;`,()=>{e.let($,(0,vt._)`${r}[${h}]`),e.if(v,(0,vt._)`continue`),c.length>1&&e.if((0,vt._)`typeof ${$} == "string"`,(0,vt._)`${$} += "_"`),e.if((0,vt._)`typeof ${b}[${$}] == "number"`,()=>{e.assign(w,(0,vt._)`${b}[${$}]`),t.error(),e.assign(l,!1).break()}).code((0,vt._)`${b}[${$}] = ${h}`)})}function p(h,w){const $=(0,Ku.useFunc)(e,Bu.default),v=e.name("outer");e.label(v).for((0,vt._)`;${h}--;`,()=>e.for((0,vt._)`${w} = ${h}; ${w}--;`,()=>e.if((0,vt._)`${$}(${r}[${h}], ${r}[${w}])`,()=>{t.error(),e.assign(l,!1).break(v)})))}}};Fa.default=Gu;var za={};Object.defineProperty(za,"__esModule",{value:!0});const la=ke,Wu=ee,Xu=un,Zu={message:"must be equal to constant",params:({schemaCode:t})=>(0,la._)`{allowedValue: ${t}}`},Qu={keyword:"const",$data:!0,error:Zu,code(t){const{gen:e,data:r,$data:n,schemaCode:a,schema:s}=t;n||s&&typeof s=="object"?t.fail$data((0,la._)`!${(0,Wu.useFunc)(e,Xu.default)}(${r}, ${a})`):t.fail((0,la._)`${s} !== ${r}`)}};za.default=Qu;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});const xr=ke,Yu=ee,xu=un,ef={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,xr._)`{allowedValues: ${t}}`},tf={keyword:"enum",schemaType:"array",$data:!0,error:ef,code(t){const{gen:e,data:r,$data:n,schema:a,schemaCode:s,it:i}=t;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=i.opts.loopEnum;let l;const c=()=>l??(l=(0,Yu.useFunc)(e,xu.default));let u;if(o||n)u=e.let("valid"),t.block$data(u,f);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const p=e.const("vSchema",s);u=(0,xr.or)(...a.map((h,w)=>d(p,w)))}t.pass(u);function f(){e.assign(u,!1),e.forOf("v",s,p=>e.if((0,xr._)`${c()}(${r}, ${p})`,()=>e.assign(u,!0).break()))}function d(p,h){const w=a[h];return typeof w=="object"&&w!==null?(0,xr._)`${c()}(${r}, ${p}[${h}])`:(0,xr._)`${r} === ${w}`}}};Ua.default=tf;Object.defineProperty(Ln,"__esModule",{value:!0});const rf=Ta,nf=Da,af=Aa,sf=Ca,of=Ra,lf=Va,cf=Ma,uf=Fa,ff=za,df=Ua,hf=[rf.default,nf.default,af.default,sf.default,of.default,lf.default,cf.default,uf.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},ff.default,df.default];Ln.default=hf;var Jn={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.validateAdditionalItems=void 0;const Pr=ke,ca=ee,mf={message:({params:{len:t}})=>(0,Pr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Pr._)`{limit: ${t}}`},pf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:mf,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,ca.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}qo(t,n)}};function qo(t,e){const{gen:r,schema:n,data:a,keyword:s,it:i}=t;i.items=!0;const o=r.const("len",(0,Pr._)`${a}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Pr._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,ca.alwaysValidSchema)(i,n)){const c=r.var("valid",(0,Pr._)`${o} <= ${e.length}`);r.if((0,Pr.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,o,u=>{t.subschema({keyword:s,dataProp:u,dataPropType:ca.Type.Num},c),i.allErrors||r.if((0,Pr.not)(c),()=>r.break())})}}Jr.validateAdditionalItems=qo;Jr.default=pf;var qa={},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.validateTuple=void 0;const zs=ke,wn=ee,_f=Ae,vf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Lo(t,"additionalItems",e);r.items=!0,!(0,wn.alwaysValidSchema)(r,e)&&t.ok((0,_f.validateArray)(t))}};function Lo(t,e,r=t.schema){const{gen:n,parentSchema:a,data:s,keyword:i,it:o}=t;u(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=wn.mergeEvaluated.items(n,r.length,o.items));const l=n.name("valid"),c=n.const("len",(0,zs._)`${s}.length`);r.forEach((f,d)=>{(0,wn.alwaysValidSchema)(o,f)||(n.if((0,zs._)`${c} > ${d}`,()=>t.subschema({keyword:i,schemaProp:d,dataProp:d},l)),t.ok(l))});function u(f){const{opts:d,errSchemaPath:p}=o,h=r.length,w=h===f.minItems&&(h===f.maxItems||f[e]===!1);if(d.strictTuples&&!w){const $=`"${i}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,wn.checkStrictMode)(o,$,d.strictTuples)}}}Kr.validateTuple=Lo;Kr.default=vf;Object.defineProperty(qa,"__esModule",{value:!0});const yf=Kr,gf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,yf.validateTuple)(t,"items")};qa.default=gf;var La={};Object.defineProperty(La,"__esModule",{value:!0});const Us=ke,$f=ee,bf=Ae,Ef=Jr,wf={message:({params:{len:t}})=>(0,Us.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Us._)`{limit: ${t}}`},Sf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:wf,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:a}=r;n.items=!0,!(0,$f.alwaysValidSchema)(n,e)&&(a?(0,Ef.validateAdditionalItems)(t,a):t.ok((0,bf.validateArray)(t)))}};La.default=Sf;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});const Ft=ke,_n=ee,kf={message:({params:{min:t,max:e}})=>e===void 0?(0,Ft.str)`must contain at least ${t} valid item(s)`:(0,Ft.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Ft._)`{minContains: ${t}}`:(0,Ft._)`{minContains: ${t}, maxContains: ${e}}`},Pf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:kf,code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:s}=t;let i,o;const{minContains:l,maxContains:c}=n;s.opts.next?(i=l===void 0?1:l,o=c):i=1;const u=e.const("len",(0,Ft._)`${a}.length`);if(t.setParams({min:i,max:o}),o===void 0&&i===0){(0,_n.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,_n.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,_n.alwaysValidSchema)(s,r)){let w=(0,Ft._)`${u} >= ${i}`;o!==void 0&&(w=(0,Ft._)`${w} && ${u} <= ${o}`),t.pass(w);return}s.items=!0;const f=e.name("valid");o===void 0&&i===1?p(f,()=>e.if(f,()=>e.break())):i===0?(e.let(f,!0),o!==void 0&&e.if((0,Ft._)`${a}.length > 0`,d)):(e.let(f,!1),d()),t.result(f,()=>t.reset());function d(){const w=e.name("_valid"),$=e.let("count",0);p(w,()=>e.if(w,()=>h($)))}function p(w,$){e.forRange("i",0,u,v=>{t.subschema({keyword:"contains",dataProp:v,dataPropType:_n.Type.Num,compositeRule:!0},w),$()})}function h(w){e.code((0,Ft._)`${w}++`),o===void 0?e.if((0,Ft._)`${w} >= ${i}`,()=>e.assign(f,!0).break()):(e.if((0,Ft._)`${w} > ${o}`,()=>e.assign(f,!1).break()),i===1?e.assign(f,!0):e.if((0,Ft._)`${w} >= ${i}`,()=>e.assign(f,!0)))}}};Ja.default=Pf;var Kn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=ke,r=ee,n=Ae;t.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const f=c===1?"property":"properties";return(0,e.str)`must have ${f} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:f}})=>(0,e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,u]=s(l);i(l,c),o(l,u)}};function s({schema:l}){const c={},u={};for(const f in l){if(f==="__proto__")continue;const d=Array.isArray(l[f])?c:u;d[f]=l[f]}return[c,u]}function i(l,c=l.schema){const{gen:u,data:f,it:d}=l;if(Object.keys(c).length===0)return;const p=u.let("missing");for(const h in c){const w=c[h];if(w.length===0)continue;const $=(0,n.propertyInData)(u,f,h,d.opts.ownProperties);l.setParams({property:h,depsCount:w.length,deps:w.join(", ")}),d.allErrors?u.if($,()=>{for(const v of w)(0,n.checkReportMissingProp)(l,v)}):(u.if((0,e._)`${$} && (${(0,n.checkMissingProp)(l,w,p)})`),(0,n.reportMissingProp)(l,p),u.else())}}t.validatePropertyDeps=i;function o(l,c=l.schema){const{gen:u,data:f,keyword:d,it:p}=l,h=u.name("valid");for(const w in c)(0,r.alwaysValidSchema)(p,c[w])||(u.if((0,n.propertyInData)(u,f,w,p.opts.ownProperties),()=>{const $=l.subschema({keyword:d,schemaProp:w},h);l.mergeValidEvaluated($,h)},()=>u.var(h,!0)),l.ok(h))}t.validateSchemaDeps=o,t.default=a})(Kn);var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});const Jo=ke,Nf=ee,If={message:"property name must be valid",params:({params:t})=>(0,Jo._)`{propertyName: ${t.propertyName}}`},Of={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:If,code(t){const{gen:e,schema:r,data:n,it:a}=t;if((0,Nf.alwaysValidSchema)(a,r))return;const s=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),e.if((0,Jo.not)(s),()=>{t.error(!0),a.allErrors||e.break()})}),t.ok(s)}};Ka.default=Of;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});const vn=Ae,Ht=ke,Tf=Rt,yn=ee,Df={message:"must NOT have additional properties",params:({params:t})=>(0,Ht._)`{additionalProperty: ${t.additionalProperty}}`},Af={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Df,code(t){const{gen:e,schema:r,parentSchema:n,data:a,errsCount:s,it:i}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=i;if(i.props=!0,l.removeAdditional!=="all"&&(0,yn.alwaysValidSchema)(i,r))return;const c=(0,vn.allSchemaProperties)(n.properties),u=(0,vn.allSchemaProperties)(n.patternProperties);f(),t.ok((0,Ht._)`${s} === ${Tf.default.errors}`);function f(){e.forIn("key",a,$=>{!c.length&&!u.length?h($):e.if(d($),()=>h($))})}function d($){let v;if(c.length>8){const b=(0,yn.schemaRefOrVal)(i,n.properties,"properties");v=(0,vn.isOwnProperty)(e,b,$)}else c.length?v=(0,Ht.or)(...c.map(b=>(0,Ht._)`${$} === ${b}`)):v=Ht.nil;return u.length&&(v=(0,Ht.or)(v,...u.map(b=>(0,Ht._)`${(0,vn.usePattern)(t,b)}.test(${$})`))),(0,Ht.not)(v)}function p($){e.code((0,Ht._)`delete ${a}[${$}]`)}function h($){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p($);return}if(r===!1){t.setParams({additionalProperty:$}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,yn.alwaysValidSchema)(i,r)){const v=e.name("valid");l.removeAdditional==="failing"?(w($,v,!1),e.if((0,Ht.not)(v),()=>{t.reset(),p($)})):(w($,v),o||e.if((0,Ht.not)(v),()=>e.break()))}}function w($,v,b){const I={keyword:"additionalProperties",dataProp:$,dataPropType:yn.Type.Str};b===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(I,v)}}};Bn.default=Af;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});const jf=zt,qs=Ae,xn=ee,Ls=Bn,Cf={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:s}=t;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ls.default.code(new jf.KeywordCxt(s,Ls.default,"additionalProperties"));const i=(0,qs.allSchemaProperties)(r);for(const f of i)s.definedProperties.add(f);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=xn.mergeEvaluated.props(e,(0,xn.toHash)(i),s.props));const o=i.filter(f=>!(0,xn.alwaysValidSchema)(s,r[f]));if(o.length===0)return;const l=e.name("valid");for(const f of o)c(f)?u(f):(e.if((0,qs.propertyInData)(e,a,f,s.opts.ownProperties)),u(f),s.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(l);function c(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function u(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};Ba.default=Cf;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const Js=Ae,gn=ke,Ks=ee,Bs=ee,Rf={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:a,it:s}=t,{opts:i}=s,o=(0,Js.allSchemaProperties)(r),l=o.filter(w=>(0,Ks.alwaysValidSchema)(s,r[w]));if(o.length===0||l.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const c=i.strictSchema&&!i.allowMatchingProperties&&a.properties,u=e.name("valid");s.props!==!0&&!(s.props instanceof gn.Name)&&(s.props=(0,Bs.evaluatedPropsToName)(e,s.props));const{props:f}=s;d();function d(){for(const w of o)c&&p(w),s.allErrors?h(w):(e.var(u,!0),h(w),e.if(u))}function p(w){for(const $ in c)new RegExp(w).test($)&&(0,Ks.checkStrictMode)(s,`property ${$} matches pattern ${w} (use allowMatchingProperties)`)}function h(w){e.forIn("key",n,$=>{e.if((0,gn._)`${(0,Js.usePattern)(t,w)}.test(${$})`,()=>{const v=l.includes(w);v||t.subschema({keyword:"patternProperties",schemaProp:w,dataProp:$,dataPropType:Bs.Type.Str},u),s.opts.unevaluated&&f!==!0?e.assign((0,gn._)`${f}[${$}]`,!0):!v&&!s.allErrors&&e.if((0,gn.not)(u),()=>e.break())})})}}};Ha.default=Rf;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});const Vf=ee,Mf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,Vf.alwaysValidSchema)(n,r)){t.fail();return}const a=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),t.failResult(a,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ga.default=Mf;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});const Ff=Ae,zf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ff.validateUnion,error:{message:"must match a schema in anyOf"}};Wa.default=zf;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});const Sn=ke,Uf=ee,qf={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Sn._)`{passingSchemas: ${t.passing}}`},Lf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:qf,code(t){const{gen:e,schema:r,parentSchema:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,i=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(c),t.result(i,()=>t.reset(),()=>t.error(!0));function c(){s.forEach((u,f)=>{let d;(0,Uf.alwaysValidSchema)(a,u)?e.var(l,!0):d=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&e.if((0,Sn._)`${l} && ${i}`).assign(i,!1).assign(o,(0,Sn._)`[${o}, ${f}]`).else(),e.if(l,()=>{e.assign(i,!0),e.assign(o,f),d&&t.mergeEvaluated(d,Sn.Name)})})}}};Xa.default=Lf;var Za={};Object.defineProperty(Za,"__esModule",{value:!0});const Jf=ee,Kf={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=e.name("valid");r.forEach((s,i)=>{if((0,Jf.alwaysValidSchema)(n,s))return;const o=t.subschema({keyword:"allOf",schemaProp:i},a);t.ok(a),t.mergeEvaluated(o)})}};Za.default=Kf;var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});const Cn=ke,Ko=ee,Bf={message:({params:t})=>(0,Cn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Cn._)`{failingKeyword: ${t.ifClause}}`},Hf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Bf,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Ko.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Hs(n,"then"),s=Hs(n,"else");if(!a&&!s)return;const i=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),a&&s){const u=e.let("ifClause");t.setParams({ifClause:u}),e.if(o,c("then",u),c("else",u))}else a?e.if(o,c("then")):e.if((0,Cn.not)(o),c("else"));t.pass(i,()=>t.error(!0));function l(){const u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(u)}function c(u,f){return()=>{const d=t.subschema({keyword:u},o);e.assign(i,o),t.mergeValidEvaluated(d,i),f?e.assign(f,(0,Cn._)`${u}`):t.setParams({ifClause:u})}}}};function Hs(t,e){const r=t.schema[e];return r!==void 0&&!(0,Ko.alwaysValidSchema)(t,r)}Qa.default=Hf;var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});const Gf=ee,Wf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Gf.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Ya.default=Wf;Object.defineProperty(Jn,"__esModule",{value:!0});const Xf=Jr,Zf=qa,Qf=Kr,Yf=La,xf=Ja,ed=Kn,td=Ka,rd=Bn,nd=Ba,ad=Ha,sd=Ga,id=Wa,od=Xa,ld=Za,cd=Qa,ud=Ya;function fd(t=!1){const e=[sd.default,id.default,od.default,ld.default,cd.default,ud.default,td.default,rd.default,ed.default,nd.default,ad.default];return t?e.push(Zf.default,Yf.default):e.push(Xf.default,Qf.default),e.push(xf.default),e}Jn.default=fd;var Hn={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});const rt=ke,dd={message:({schemaCode:t})=>(0,rt.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,rt._)`{format: ${t}}`},hd={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:dd,code(t,e){const{gen:r,data:n,$data:a,schema:s,schemaCode:i,it:o}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:f}=o;if(!l.validateFormats)return;a?d():p();function d(){const h=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),w=r.const("fDef",(0,rt._)`${h}[${i}]`),$=r.let("fType"),v=r.let("format");r.if((0,rt._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign($,(0,rt._)`${w}.type || "string"`).assign(v,(0,rt._)`${w}.validate`),()=>r.assign($,(0,rt._)`"string"`).assign(v,w)),t.fail$data((0,rt.or)(b(),I()));function b(){return l.strictSchema===!1?rt.nil:(0,rt._)`${i} && !${v}`}function I(){const k=u.$async?(0,rt._)`(${w}.async ? await ${v}(${n}) : ${v}(${n}))`:(0,rt._)`${v}(${n})`,C=(0,rt._)`(typeof ${v} == "function" ? ${k} : ${v}.test(${n}))`;return(0,rt._)`${v} && ${v} !== true && ${$} === ${e} && !${C}`}}function p(){const h=f.formats[s];if(!h){b();return}if(h===!0)return;const[w,$,v]=I(h);w===e&&t.pass(k());function b(){if(l.strictSchema===!1){f.logger.warn(C());return}throw new Error(C());function C(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function I(C){const U=C instanceof RegExp?(0,rt.regexpCode)(C):l.code.formats?(0,rt._)`${l.code.formats}${(0,rt.getProperty)(s)}`:void 0,Y=r.scopeValue("formats",{key:s,ref:C,code:U});return typeof C=="object"&&!(C instanceof RegExp)?[C.type||"string",C.validate,(0,rt._)`${Y}.validate`]:["string",C,Y]}function k(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!u.$async)throw new Error("async format in sync schema");return(0,rt._)`await ${v}(${n})`}return typeof $=="function"?(0,rt._)`${v}(${n})`:(0,rt._)`${v}.test(${n})`}}}};xa.default=hd;Object.defineProperty(Hn,"__esModule",{value:!0});const md=xa,pd=[md.default];Hn.default=pd;var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.contentVocabulary=Or.metadataVocabulary=void 0;Or.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Or.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Ia,"__esModule",{value:!0});const _d=qn,vd=Ln,yd=Jn,gd=Hn,Gs=Or,$d=[_d.default,vd.default,(0,yd.default)(),gd.default,Gs.metadataVocabulary,Gs.contentVocabulary];Ia.default=$d;var Gn={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.DiscrError=void 0;var Ws;(function(t){t.Tag="tag",t.Mapping="mapping"})(Ws||(Wn.DiscrError=Ws={}));Object.defineProperty(Gn,"__esModule",{value:!0});const Mr=ke,ua=Wn,Xs=Tt,bd=Tr,Ed=ee,wd={message:({params:{discrError:t,tagName:e}})=>t===ua.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Mr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Sd={keyword:"discriminator",type:"object",schemaType:"object",error:wd,code(t){const{gen:e,data:r,schema:n,parentSchema:a,it:s}=t,{oneOf:i}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,Mr._)`${r}${(0,Mr.getProperty)(o)}`);e.if((0,Mr._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:ua.DiscrError.Tag,tag:c,tagName:o})),t.ok(l);function u(){const p=d();e.if(!1);for(const h in p)e.elseIf((0,Mr._)`${c} === ${h}`),e.assign(l,f(p[h]));e.else(),t.error(!1,{discrError:ua.DiscrError.Mapping,tag:c,tagName:o}),e.endIf()}function f(p){const h=e.name("valid"),w=t.subschema({keyword:"oneOf",schemaProp:p},h);return t.mergeEvaluated(w,Mr.Name),h}function d(){var p;const h={},w=v(a);let $=!0;for(let k=0;k<i.length;k++){let C=i[k];if(C!=null&&C.$ref&&!(0,Ed.schemaHasRulesButRef)(C,s.self.RULES)){const Y=C.$ref;if(C=Xs.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,Y),C instanceof Xs.SchemaEnv&&(C=C.schema),C===void 0)throw new bd.default(s.opts.uriResolver,s.baseId,Y)}const U=(p=C==null?void 0:C.properties)===null||p===void 0?void 0:p[o];if(typeof U!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);$=$&&(w||v(C)),b(U,k)}if(!$)throw new Error(`discriminator: "${o}" must be required`);return h;function v({required:k}){return Array.isArray(k)&&k.includes(o)}function b(k,C){if(k.const)I(k.const,C);else if(k.enum)for(const U of k.enum)I(U,C);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function I(k,C){if(typeof k!="string"||k in h)throw new Error(`discriminator: "${o}" values must be unique strings`);h[k]=C}}}};Gn.default=Sd;const kd="http://json-schema.org/draft-07/schema#",Pd="http://json-schema.org/draft-07/schema#",Nd="Core schema meta-schema",Id={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Od=["object","boolean"],Td={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Dd={$schema:kd,$id:Pd,title:Nd,definitions:Id,type:Od,properties:Td,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=_a,n=Ia,a=Gn,s=Dd,i=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(h,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=zt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=ke;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=Lr;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=Tr;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(ra,ra.exports);var Bo=ra.exports;const Ad=pa(Bo);var fa={exports:{}},es={},ts={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.dynamicAnchor=void 0;const ea=ke,jd=Rt,Zs=Tt,Cd=lr,Rd={keyword:"$dynamicAnchor",schemaType:"string",code:t=>Ho(t,t.schema)};function Ho(t,e){const{gen:r,it:n}=t;n.schemaEnv.root.dynamicAnchors[e]=!0;const a=(0,ea._)`${jd.default.dynamicAnchors}${(0,ea.getProperty)(e)}`,s=n.errSchemaPath==="#"?n.validateName:Vd(t);r.if((0,ea._)`!${a}`,()=>r.assign(a,s))}Br.dynamicAnchor=Ho;function Vd(t){const{schemaEnv:e,schema:r,self:n}=t.it,{root:a,baseId:s,localRefs:i,meta:o}=e.root,{schemaId:l}=n.opts,c=new Zs.SchemaEnv({schema:r,schemaId:l,root:a,baseId:s,localRefs:i,meta:o});return Zs.compileSchema.call(n,c),(0,Cd.getValidate)(t,c)}Br.default=Rd;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.dynamicRef=void 0;const Qs=ke,Md=Rt,Ys=lr,Fd={keyword:"$dynamicRef",schemaType:"string",code:t=>Go(t,t.schema)};function Go(t,e){const{gen:r,keyword:n,it:a}=t;if(e[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const s=e.slice(1);if(a.allErrors)i();else{const l=r.let("valid",!1);i(l),t.ok(l)}function i(l){if(a.schemaEnv.root.dynamicAnchors[s]){const c=r.let("_v",(0,Qs._)`${Md.default.dynamicAnchors}${(0,Qs.getProperty)(s)}`);r.if(c,o(c,l),o(a.validateName,l))}else o(a.validateName,l)()}function o(l,c){return c?()=>r.block(()=>{(0,Ys.callRef)(t,l),r.let(c,!0)}):()=>(0,Ys.callRef)(t,l)}}Hr.dynamicRef=Go;Hr.default=Fd;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});const zd=Br,Ud=ee,qd={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,zd.dynamicAnchor)(t,""):(0,Ud.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};rs.default=qd;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});const Ld=Hr,Jd={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,Ld.dynamicRef)(t,t.schema)};ns.default=Jd;Object.defineProperty(ts,"__esModule",{value:!0});const Kd=Br,Bd=Hr,Hd=rs,Gd=ns,Wd=[Kd.default,Bd.default,Hd.default,Gd.default];ts.default=Wd;var as={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});const xs=Kn,Xd={keyword:"dependentRequired",type:"object",schemaType:"object",error:xs.error,code:t=>(0,xs.validatePropertyDeps)(t)};ss.default=Xd;var is={};Object.defineProperty(is,"__esModule",{value:!0});const Zd=Kn,Qd={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,Zd.validateSchemaDeps)(t)};is.default=Qd;var os={};Object.defineProperty(os,"__esModule",{value:!0});const Yd=ee,xd={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:r}){e.contains===void 0&&(0,Yd.checkStrictMode)(r,`"${t}" without "contains" is ignored`)}};os.default=xd;Object.defineProperty(as,"__esModule",{value:!0});const eh=ss,th=is,rh=os,nh=[eh.default,th.default,rh.default];as.default=nh;var ls={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});const pr=ke,ei=ee,ah=Rt,sh={message:"must NOT have unevaluated properties",params:({params:t})=>(0,pr._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},ih={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:sh,code(t){const{gen:e,schema:r,data:n,errsCount:a,it:s}=t;if(!a)throw new Error("ajv implementation error");const{allErrors:i,props:o}=s;o instanceof pr.Name?e.if((0,pr._)`${o} !== true`,()=>e.forIn("key",n,f=>e.if(c(o,f),()=>l(f)))):o!==!0&&e.forIn("key",n,f=>o===void 0?l(f):e.if(u(o,f),()=>l(f))),s.props=!0,t.ok((0,pr._)`${a} === ${ah.default.errors}`);function l(f){if(r===!1){t.setParams({unevaluatedProperty:f}),t.error(),i||e.break();return}if(!(0,ei.alwaysValidSchema)(s,r)){const d=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:f,dataPropType:ei.Type.Str},d),i||e.if((0,pr.not)(d),()=>e.break())}}function c(f,d){return(0,pr._)`!${f} || !${f}[${d}]`}function u(f,d){const p=[];for(const h in f)f[h]===!0&&p.push((0,pr._)`${d} !== ${h}`);return(0,pr.and)(...p)}}};cs.default=ih;var us={};Object.defineProperty(us,"__esModule",{value:!0});const Nr=ke,ti=ee,oh={message:({params:{len:t}})=>(0,Nr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Nr._)`{limit: ${t}}`},lh={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:oh,code(t){const{gen:e,schema:r,data:n,it:a}=t,s=a.items||0;if(s===!0)return;const i=e.const("len",(0,Nr._)`${n}.length`);if(r===!1)t.setParams({len:s}),t.fail((0,Nr._)`${i} > ${s}`);else if(typeof r=="object"&&!(0,ti.alwaysValidSchema)(a,r)){const l=e.var("valid",(0,Nr._)`${i} <= ${s}`);e.if((0,Nr.not)(l),()=>o(l,s)),t.ok(l)}a.items=!0;function o(l,c){e.forRange("i",c,i,u=>{t.subschema({keyword:"unevaluatedItems",dataProp:u,dataPropType:ti.Type.Num},l),a.allErrors||e.if((0,Nr.not)(l),()=>e.break())})}}};us.default=lh;Object.defineProperty(ls,"__esModule",{value:!0});const ch=cs,uh=us,fh=[ch.default,uh.default];ls.default=fh;Object.defineProperty(es,"__esModule",{value:!0});const dh=qn,hh=Ln,mh=Jn,ph=ts,_h=as,vh=ls,yh=Hn,ri=Or,gh=[ph.default,dh.default,hh.default,(0,mh.default)(!0),yh.default,ri.metadataVocabulary,ri.contentVocabulary,_h.default,vh.default];es.default=gh;var fs={};const $h="https://json-schema.org/draft/2020-12/schema",bh="https://json-schema.org/draft/2020-12/schema",Eh={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},wh="meta",Sh="Core and Validation specifications meta-schema",kh=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],Ph=["object","boolean"],Nh="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",Ih={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},Oh={$schema:$h,$id:bh,$vocabulary:Eh,$dynamicAnchor:wh,title:Sh,allOf:kh,type:Ph,$comment:Nh,properties:Ih},Th="https://json-schema.org/draft/2020-12/schema",Dh="https://json-schema.org/draft/2020-12/meta/applicator",Ah={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},jh="meta",Ch="Applicator vocabulary meta-schema",Rh=["object","boolean"],Vh={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},Mh={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},Fh={$schema:Th,$id:Dh,$vocabulary:Ah,$dynamicAnchor:jh,title:Ch,type:Rh,properties:Vh,$defs:Mh},zh="https://json-schema.org/draft/2020-12/schema",Uh="https://json-schema.org/draft/2020-12/meta/unevaluated",qh={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},Lh="meta",Jh="Unevaluated applicator vocabulary meta-schema",Kh=["object","boolean"],Bh={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},Hh={$schema:zh,$id:Uh,$vocabulary:qh,$dynamicAnchor:Lh,title:Jh,type:Kh,properties:Bh},Gh="https://json-schema.org/draft/2020-12/schema",Wh="https://json-schema.org/draft/2020-12/meta/content",Xh={"https://json-schema.org/draft/2020-12/vocab/content":!0},Zh="meta",Qh="Content vocabulary meta-schema",Yh=["object","boolean"],xh={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},em={$schema:Gh,$id:Wh,$vocabulary:Xh,$dynamicAnchor:Zh,title:Qh,type:Yh,properties:xh},tm="https://json-schema.org/draft/2020-12/schema",rm="https://json-schema.org/draft/2020-12/meta/core",nm={"https://json-schema.org/draft/2020-12/vocab/core":!0},am="meta",sm="Core vocabulary meta-schema",im=["object","boolean"],om={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},lm={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},cm={$schema:tm,$id:rm,$vocabulary:nm,$dynamicAnchor:am,title:sm,type:im,properties:om,$defs:lm},um="https://json-schema.org/draft/2020-12/schema",fm="https://json-schema.org/draft/2020-12/meta/format-annotation",dm={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},hm="meta",mm="Format vocabulary meta-schema for annotation results",pm=["object","boolean"],_m={format:{type:"string"}},vm={$schema:um,$id:fm,$vocabulary:dm,$dynamicAnchor:hm,title:mm,type:pm,properties:_m},ym="https://json-schema.org/draft/2020-12/schema",gm="https://json-schema.org/draft/2020-12/meta/meta-data",$m={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},bm="meta",Em="Meta-data vocabulary meta-schema",wm=["object","boolean"],Sm={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},km={$schema:ym,$id:gm,$vocabulary:$m,$dynamicAnchor:bm,title:Em,type:wm,properties:Sm},Pm="https://json-schema.org/draft/2020-12/schema",Nm="https://json-schema.org/draft/2020-12/meta/validation",Im={"https://json-schema.org/draft/2020-12/vocab/validation":!0},Om="meta",Tm="Validation vocabulary meta-schema",Dm=["object","boolean"],Am={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},jm={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Cm={$schema:Pm,$id:Nm,$vocabulary:Im,$dynamicAnchor:Om,title:Tm,type:Dm,properties:Am,$defs:jm};Object.defineProperty(fs,"__esModule",{value:!0});const Rm=Oh,Vm=Fh,Mm=Hh,Fm=em,zm=cm,Um=vm,qm=km,Lm=Cm,Jm=["/properties"];function Km(t){return[Rm,Vm,Mm,Fm,zm,e(this,Um),qm,e(this,Lm)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function e(r,n){return t?r.$dataMetaSchema(n,Jm):n}}fs.default=Km;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2020=void 0;const r=_a,n=es,a=Gn,s=fs,i="https://json-schema.org/draft/2020-12/schema";class o extends r.default{constructor(p={}){super({...p,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:p,meta:h}=this.opts;h&&(s.default.call(this,p),this.refs["http://json-schema.org/schema"]=i)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.Ajv2020=o,t.exports=e=o,t.exports.Ajv2020=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var l=zt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=ke;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var u=Lr;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return u.default}});var f=Tr;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(fa,fa.exports);var Bm=fa.exports;const Hm=pa(Bm);var da={exports:{}},Wo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(K,z){return{validate:K,compare:z}}t.fullFormats={date:e(s,i),time:e(l(!0),c),"date-time":e(d(!0),p),"iso-time":e(l(),u),"iso-date-time":e(d(),h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:v,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:ye,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:I,int32:{type:"number",validate:U},int64:{type:"number",validate:Y},float:{type:"number",validate:ae},double:{type:"number",validate:ae},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,c),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(K){return K%4===0&&(K%100!==0||K%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(K){const z=n.exec(K);if(!z)return!1;const x=+z[1],W=+z[2],oe=+z[3];return W>=1&&W<=12&&oe>=1&&oe<=(W===2&&r(x)?29:a[W])}function i(K,z){if(K&&z)return K>z?1:K<z?-1:0}const o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(K){return function(x){const W=o.exec(x);if(!W)return!1;const oe=+W[1],le=+W[2],Re=+W[3],Fe=W[4],Ie=W[5]==="-"?-1:1,L=+(W[6]||0),A=+(W[7]||0);if(L>23||A>59||K&&!Fe)return!1;if(oe<=23&&le<=59&&Re<60)return!0;const F=le-A*Ie,j=oe-L*Ie-(F<0?1:0);return(j===23||j===-1)&&(F===59||F===-1)&&Re<61}}function c(K,z){if(!(K&&z))return;const x=new Date("2020-01-01T"+K).valueOf(),W=new Date("2020-01-01T"+z).valueOf();if(x&&W)return x-W}function u(K,z){if(!(K&&z))return;const x=o.exec(K),W=o.exec(z);if(x&&W)return K=x[1]+x[2]+x[3],z=W[1]+W[2]+W[3],K>z?1:K<z?-1:0}const f=/t|\s/i;function d(K){const z=l(K);return function(W){const oe=W.split(f);return oe.length===2&&s(oe[0])&&z(oe[1])}}function p(K,z){if(!(K&&z))return;const x=new Date(K).valueOf(),W=new Date(z).valueOf();if(x&&W)return x-W}function h(K,z){if(!(K&&z))return;const[x,W]=K.split(f),[oe,le]=z.split(f),Re=i(x,oe);if(Re!==void 0)return Re||c(W,le)}const w=/\/|:/,$=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function v(K){return w.test(K)&&$.test(K)}const b=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function I(K){return b.lastIndex=0,b.test(K)}const k=-(2**31),C=2**31-1;function U(K){return Number.isInteger(K)&&K<=C&&K>=k}function Y(K){return Number.isInteger(K)}function ae(){return!0}const he=/[^\\]\\Z/;function ye(K){if(he.test(K))return!1;try{return new RegExp(K),!0}catch{return!1}}})(Wo);var Xo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Bo,r=ke,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:o,schemaCode:l})=>(0,r.str)`should be ${a[o].okStr} ${l}`,params:({keyword:o,schemaCode:l})=>(0,r._)`{comparison: ${a[o].okStr}, limit: ${l}}`};t.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:l,data:c,schemaCode:u,keyword:f,it:d}=o,{opts:p,self:h}=d;if(!p.validateFormats)return;const w=new e.KeywordCxt(d,h.RULES.all.format.definition,"format");w.$data?$():v();function $(){const I=l.scopeValue("formats",{ref:h.formats,code:p.code.formats}),k=l.const("fmt",(0,r._)`${I}[${w.schemaCode}]`);o.fail$data((0,r.or)((0,r._)`typeof ${k} != "object"`,(0,r._)`${k} instanceof RegExp`,(0,r._)`typeof ${k}.compare != "function"`,b(k)))}function v(){const I=w.schema,k=h.formats[I];if(!k||k===!0)return;if(typeof k!="object"||k instanceof RegExp||typeof k.compare!="function")throw new Error(`"${f}": format "${I}" does not define "compare" function`);const C=l.scopeValue("formats",{key:I,ref:k,code:p.code.formats?(0,r._)`${p.code.formats}${(0,r.getProperty)(I)}`:void 0});o.fail$data(b(C))}function b(I){return(0,r._)`${I}.compare(${c}, ${u}) ${a[f].fail} 0`}},dependencies:["format"]};const i=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=i})(Xo);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=Wo,n=Xo,a=ke,s=new a.Name("fullFormats"),i=new a.Name("fastFormats"),o=(c,u={keywords:!0})=>{if(Array.isArray(u))return l(c,u,r.fullFormats,s),c;const[f,d]=u.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,s],p=u.formats||r.formatNames;return l(c,p,f,d),u.keywords&&(0,n.default)(c),c};o.get=(c,u="full")=>{const d=(u==="fast"?r.fastFormats:r.fullFormats)[c];if(!d)throw new Error(`Unknown format "${c}"`);return d};function l(c,u,f,d){var p,h;(p=(h=c.opts.code).formats)!==null&&p!==void 0||(h.formats=(0,a._)`require("ajv-formats/dist/formats").${d}`);for(const w of u)c.addFormat(w,f[w])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(da,da.exports);var Gm=da.exports;const Wm=pa(Gm);class gr{constructor(e,r=!1){const n={strict:!0,allErrors:r};this.ajv=e==="pydantic_v1"?new Ad(n):new Hm(n),Wm(this.ajv),this.canValidate=!1}validateSchema(e){this.ajv.compile(e)}loadSchema(e){try{return this.validator=this.ajv.compile(e),this.canValidate=!0}catch(r){return console.error("SchemaValidator: error compiling schema",r),!1}}isValid(e){if(this.validator)return this.canValidate?this.validator(e):null}getErrors(){return!this.validator||!this.canValidate?null:this.validator.errors||null}}function ha(t){try{return new gr("pydantic_v2").validateSchema(t),"pydantic_v2"}catch{return new gr("pydantic_v1").validateSchema(t),"pydantic_v1"}}class Xm{constructor(e,r,n,a=[],s=void 0){Ye(this,"root");Ye(this,"ids",[]);Ye(this,"schemaVersion");if(this.schemaVersion=n,this.jsonSchema=ro(e,a),this.validator=new gr(n),!this.validator.loadSchema(this.jsonSchema))throw new Error("Invalid JSON Schema");const o=ol(this.jsonSchema,n,s);this.dispatch=r,this.notifyChange=()=>{const l=this.getFormData();this.dispatch("change",{value:l})},this.root=this.createObjectElement({key:null,property:this.jsonSchema,required:!0,removable:!1,value:o})}createFormElement(e){const{property:r}=e;if("enum"in r)return this.createEnumElement(e);switch(r.type){case"object":{const n=r;return this.createObjectElement({...e,property:n})}case"array":{const n=r;return eo(n)?this.createTupleElement({...e,property:n}):this.createArrayElement({...e,property:n})}case"number":case"integer":{const n=r;return this.createNumberElement({...e,property:n})}case"boolean":{const n=r;return this.createBooleanElement({...e,property:n})}default:{const n=r;return this.createStringElement({...e,property:n})}}}createStringElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new fl({...i,value:s||null})}createBooleanElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new dl({...i,value:Nn(s)})}createNumberElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new Ns({...i,type:"number",value:Nn(s),min:al(r),max:sl(r)})}createEnumElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new hl({...i,type:"enum",value:s||null,options:r.enum})}createObjectElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.required||[],l=[],c=Object.entries(to(r,s));for(const[f,d]of c){const p=o.includes(f),h=this.createFormElement({key:f,property:d,required:p,removable:il(r,f),value:s[f]});l.push(h)}return new ml({...i,children:l,additionalProperties:r.additionalProperties||!1})}createArrayElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.items,l=s.map(u=>this.createFormElement({key:null,property:o,required:!1,removable:!0,value:u}));return new pl({...i,children:l,items:o,minItems:r.minItems,maxItems:r.maxItems})}createTupleElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.minItems,l=this.schemaVersion==="pydantic_v1"?r.items:r.prefixItems;return new _l({...i,type:"tuple",items:l,size:o,children:n||Array.isArray(s)&&s.length>0?this.createTupleChildren({items:l,size:o,value:s}):[]})}createTupleChildren({items:e,size:r,value:n}){const a={key:null,required:!1,removable:!1};return Array.isArray(e)?e.map((s,i)=>this.createFormElement({...a,property:s,value:n[i]})):Array(r).map((s,i)=>this.createFormElement({...a,property:e,value:n[i]}))}getBaseElementFields({key:e,property:r,required:n,removable:a}){return{key:e,required:n,removable:a,manager:this,id:this.getUniqueId(),type:r.type||null,title:e&&a?e:r.title||e||"",description:r.description||"",property:_r(r),notifyChange:this.notifyChange}}getUniqueId(){let e;do if(e=Math.random().toString(36).substring(7),!this.ids.includes(e)){this.ids.push(e);break}while(!0);return e}getFormData(){return this.getDataFromObjectElement(this.root)}getDataFromObjectElement(e){const r={};for(const n of e.children){let a=this.getDataFromElement(n);r[n.key]=a}return r}validate(){const e=Vn(this.getFormData());if(!this.validator.isValid(e)){const n=this.validator.getErrors();throw new Zo(n)}}getDataFromElement(e){switch(e.type){case"object":return this.getDataFromObjectElement(e);case"array":case"tuple":return this.getDataFromArrayElement(e);default:if(e instanceof ln)return e instanceof Ns&&e.badInput?"invalid":e.value;throw new Error(`Unsupported type ${e.type}`)}}getDataFromArrayElement(e){return e.children.map(r=>this.getDataFromElement(r))}}class Zo extends Error{constructor(e){super("Invalid JSON Schema data"),this.errors=e}}function ni(t){let e;return{c(){e=P("span"),this.h()},l(r){e=N(r,"SPAN",{tabindex:!0,role:!0,"data-bs-trigger":!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0,"data-bs-html":!0,"data-bs-content":!0}),T(e).forEach(y),this.h()},h(){_(e,"tabindex","0"),_(e,"role","button"),_(e,"data-bs-trigger","focus"),_(e,"class","bi bi-info-circle text-primary"),_(e,"data-bs-toggle","collapse"),_(e,"data-bs-target",""),_(e,"data-bs-html",t[1]),_(e,"data-bs-content",t[0])},m(r,n){q(r,e,n),t[3](e)},p(r,n){n&2&&_(e,"data-bs-html",r[1]),n&1&&_(e,"data-bs-content",r[0])},d(r){r&&y(e),t[3](null)}}}function Zm(t){let e,r=t[0]&&ni(t);return{c(){e=P("span"),r&&r.c(),this.h()},l(n){e=N(n,"SPAN",{class:!0});var a=T(e);r&&r.l(a),a.forEach(y),this.h()},h(){_(e,"class","ms-2 property-description")},m(n,a){q(n,e,a),r&&r.m(e,null)},p(n,[a]){n[0]?r?r.p(n,a):(r=ni(n),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:Ct,o:Ct,d(n){n&&y(e),r&&r.d()}}}function Qm(t,e,r){let{description:n=void 0}=e,{html:a=!1}=e,s,i,o;qr(()=>{s&&s.addEventListener("click",function(){i=bootstrap.Popover.getOrCreateInstance(s,{trigger:"manual"}),i.toggle(),o||(o=function(c){const u=c.composedPath();u.length>0&&u[0]instanceof HTMLElement&&u[0]!==s&&(u[0].closest(".popover")||(i==null||i.hide(),i=void 0,window.removeEventListener("click",o),o=void 0))},window.addEventListener("click",o))})});function l(c){$r[c?"unshift":"push"](()=>{s=c,r(2,s)})}return t.$$set=c=>{"description"in c&&r(0,n=c.description),"html"in c&&r(1,a=c.html)},[n,a,s,l]}class Ym extends gt{constructor(e){super(),$t(this,e,Qm,Zm,ft,{description:0,html:1})}}function xm(t){let e;function r(s,i){if(s[0].title)return rp;if(s[2])return tp}let n=r(t),a=n&&n(t);return{c(){e=P("span"),a&&a.c(),this.h()},l(s){e=N(s,"SPAN",{class:!0});var i=T(e);a&&a.l(i),i.forEach(y),this.h()},h(){_(e,"class",t[3])},m(s,i){q(s,e,i),a&&a.m(e,null)},p(s,i){n===(n=r(s))&&a?a.p(s,i):(a&&a.d(1),a=n&&n(s),a&&(a.c(),a.m(e,null))),i&8&&_(e,"class",s[3])},d(s){s&&y(e),a&&a.d()}}}function ep(t){let e,r;function n(i,o){if(i[0].title)return ap;if(i[2])return np}let a=n(t),s=a&&a(t);return{c(){e=P("label"),s&&s.c(),this.h()},l(i){e=N(i,"LABEL",{class:!0,for:!0});var o=T(e);s&&s.l(o),o.forEach(y),this.h()},h(){_(e,"class",t[3]),_(e,"for",r=t[1]==="label"?`property-${t[0].id}`:void 0)},m(i,o){q(i,e,o),s&&s.m(e,null)},p(i,o){a===(a=n(i))&&s?s.p(i,o):(s&&s.d(1),s=a&&a(i),s&&(s.c(),s.m(e,null))),o&8&&_(e,"class",i[3]),o&3&&r!==(r=i[1]==="label"?`property-${i[0].id}`:void 0)&&_(e,"for",r)},d(i){i&&y(e),s&&s.d()}}}function tp(t){let e,r;return{c(){e=P("span"),r=X(t[2]),this.h()},l(n){e=N(n,"SPAN",{class:!0});var a=T(e);r=Z(a,t[2]),a.forEach(y),this.h()},h(){_(e,"class","visually-hidden")},m(n,a){q(n,e,a),g(e,r)},p(n,a){a&4&&Qe(r,n[2])},d(n){n&&y(e)}}}function rp(t){let e=t[0].title+"",r;return{c(){r=X(e)},l(n){r=Z(n,e)},m(n,a){q(n,r,a)},p(n,a){a&1&&e!==(e=n[0].title+"")&&Qe(r,e)},d(n){n&&y(r)}}}function np(t){let e,r;return{c(){e=P("span"),r=X(t[2]),this.h()},l(n){e=N(n,"SPAN",{class:!0});var a=T(e);r=Z(a,t[2]),a.forEach(y),this.h()},h(){_(e,"class","visually-hidden")},m(n,a){q(n,e,a),g(e,r)},p(n,a){a&4&&Qe(r,n[2])},d(n){n&&y(e)}}}function ap(t){let e=t[0].title+"",r;return{c(){r=X(e)},l(n){r=Z(n,e)},m(n,a){q(n,r,a)},p(n,a){a&1&&e!==(e=n[0].title+"")&&Qe(r,e)},d(n){n&&y(r)}}}function sp(t){let e,r,n;function a(o,l){return o[1]==="label"?ep:xm}let s=a(t),i=s(t);return r=new Ym({props:{description:t[0].description}}),{c(){i.c(),e=B(),Ke(r.$$.fragment)},l(o){i.l(o),e=H(o),Be(r.$$.fragment,o)},m(o,l){i.m(o,l),q(o,e,l),He(r,o,l),n=!0},p(o,[l]){s===(s=a(o))&&i?i.p(o,l):(i.d(1),i=s(o),i&&(i.c(),i.m(e.parentNode,e)));const c={};l&1&&(c.description=o[0].description),r.$set(c)},i(o){n||(_e(r.$$.fragment,o),n=!0)},o(o){be(r.$$.fragment,o),n=!1},d(o){i.d(o),o&&y(e),Ge(r,o)}}}function ip(t,e,r){let n,{formElement:a}=e,{tag:s="label"}=e,{defaultTitle:i=""}=e;return t.$$set=o=>{"formElement"in o&&r(0,a=o.formElement),"tag"in o&&r(1,s=o.tag),"defaultTitle"in o&&r(2,i=o.defaultTitle)},t.$$.update=()=>{t.$$.dirty&1&&r(3,n=a.required?"fw-bold":!("value"in a)||a.value!==null&&a.value!==void 0&&a.value!==""?"":"text-secondary fw-light")},[a,s,i,n]}class fn extends gt{constructor(e){super(),$t(this,e,ip,sp,ft,{formElement:0,tag:1,defaultTitle:2})}}function ai(t){let e,r,n,a;return{c(){e=P("button"),r=X("Reset"),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var i=T(e);r=Z(i,"Reset"),i.forEach(y),this.h()},h(){_(e,"class","btn btn-warning me-3")},m(s,i){q(s,e,i),g(e,r),n||(a=ne(e,"click",t[3]),n=!0)},p:Ct,d(s){s&&y(e),n=!1,a()}}}function op(t){let e,r,n,a,s,i,o,l,c,u,f,d,p,h,w,$,v,b;l=new fn({props:{formElement:t[0],tag:"span"}});let I=t[1]!==null&&t[0].property.default!==void 0&&ai(t);const k=t[5].default,C=el(k,t,t[4],null);return{c(){e=P("div"),r=P("div"),n=P("div"),a=P("div"),s=P("div"),i=P("button"),o=P("div"),Ke(l.$$.fragment),c=B(),u=P("div"),I&&I.c(),f=B(),d=P("div"),p=P("div"),C&&C.c(),this.h()},l(U){e=N(U,"DIV",{class:!0});var Y=T(e);r=N(Y,"DIV",{class:!0});var ae=T(r);n=N(ae,"DIV",{class:!0,id:!0});var he=T(n);a=N(he,"DIV",{class:!0});var ye=T(a);s=N(ye,"DIV",{class:!0});var K=T(s);i=N(K,"BUTTON",{class:!0,type:!0});var z=T(i);o=N(z,"DIV",{class:!0});var x=T(o);Be(l.$$.fragment,x),x.forEach(y),c=H(z),u=N(z,"DIV",{});var W=T(u);I&&I.l(W),W.forEach(y),z.forEach(y),K.forEach(y),f=H(ye),d=N(ye,"DIV",{id:!0,class:!0});var oe=T(d);p=N(oe,"DIV",{class:!0});var le=T(p);C&&C.l(le),le.forEach(y),oe.forEach(y),ye.forEach(y),he.forEach(y),ae.forEach(y),Y.forEach(y),this.h()},h(){_(o,"class","flex-fill"),_(i,"class","accordion-button"),_(i,"type","button"),Oe(i,"collapsed",t[0].collapsed),_(s,"class","accordion-header"),_(p,"class","accordion-body p-1"),_(d,"id",h="collapse-"+t[0].id),_(d,"class","accordion-collapse jschema-collapsing"),Oe(d,"collapse",t[0].collapsed),Oe(d,"show",!t[0].collapsed),_(a,"class","accordion-item"),_(n,"class","accordion"),_(n,"id",w="accordion-"+t[0].id),_(r,"class","my-2"),_(e,"class","d-flex flex-column p-2")},m(U,Y){q(U,e,Y),g(e,r),g(r,n),g(n,a),g(a,s),g(s,i),g(i,o),He(l,o,null),g(i,c),g(i,u),I&&I.m(u,null),g(a,f),g(a,d),g(d,p),C&&C.m(p,null),$=!0,v||(b=ne(i,"click",t[6]),v=!0)},p(U,[Y]){const ae={};Y&1&&(ae.formElement=U[0]),l.$set(ae),U[1]!==null&&U[0].property.default!==void 0?I?I.p(U,Y):(I=ai(U),I.c(),I.m(u,null)):I&&(I.d(1),I=null),(!$||Y&1)&&Oe(i,"collapsed",U[0].collapsed),C&&C.p&&(!$||Y&16)&&tl(C,k,U,U[4],$?nl(k,U[4],Y,null):rl(U[4]),null),(!$||Y&1&&h!==(h="collapse-"+U[0].id))&&_(d,"id",h),(!$||Y&1)&&Oe(d,"collapse",U[0].collapsed),(!$||Y&1)&&Oe(d,"show",!U[0].collapsed),(!$||Y&1&&w!==(w="accordion-"+U[0].id))&&_(n,"id",w)},i(U){$||(_e(l.$$.fragment,U),_e(C,U),$=!0)},o(U){be(l.$$.fragment,U),be(C,U),$=!1},d(U){U&&y(e),Ge(l),I&&I.d(),C&&C.d(U),v=!1,b()}}}function lp(t,e,r){let{$$slots:n={},$$scope:a}=e,{formElement:s}=e,{reset:i=null}=e;function o(u){u.target instanceof HTMLElement&&u.target.classList.contains("bi-info-circle")||r(0,s.collapsed=!s.collapsed,s)}function l(u){u.preventDefault(),u.stopPropagation(),i&&i()}const c=u=>o(u);return t.$$set=u=>{"formElement"in u&&r(0,s=u.formElement),"reset"in u&&r(1,i=u.reset),"$$scope"in u&&r(4,a=u.$$scope)},[s,i,o,l,a,n,c]}class ds extends gt{constructor(e){super(),$t(this,e,lp,op,ft,{formElement:0,reset:1})}}function si(t,e,r){const n=t.slice();return n[13]=e[r],n[15]=r,n}function ii(t){let e,r,n,a;function s(){return t[10](t[15])}return{c(){e=P("button"),r=X("Remove"),this.h()},l(i){e=N(i,"BUTTON",{class:!0,type:!0});var o=T(e);r=Z(o,"Remove"),o.forEach(y),this.h()},h(){_(e,"class","btn btn-warning"),_(e,"type","button")},m(i,o){q(i,e,o),g(e,r),n||(a=ne(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&y(e),n=!1,a()}}}function oi(t){let e,r,n,a,s,i,o,l,c;function u(){return t[11](t[15])}function f(){return t[12](t[15])}return{c(){e=P("button"),r=P("i"),a=B(),s=P("button"),i=P("i"),this.h()},l(d){e=N(d,"BUTTON",{class:!0,"aria-label":!0});var p=T(e);r=N(p,"I",{class:!0}),T(r).forEach(y),p.forEach(y),a=H(d),s=N(d,"BUTTON",{class:!0,"aria-label":!0});var h=T(s);i=N(h,"I",{class:!0}),T(i).forEach(y),h.forEach(y),this.h()},h(){_(r,"class","bi-arrow-up"),_(e,"class","btn btn-light"),_(e,"aria-label","Move item up"),e.disabled=n=t[15]===0,_(i,"class","bi-arrow-down"),_(s,"class","btn btn-light"),_(s,"aria-label","Move item down"),s.disabled=o=t[15]===t[0].length-1},m(d,p){q(d,e,p),g(e,r),q(d,a,p),q(d,s,p),g(s,i),l||(c=[ne(e,"click",ks(u)),ne(s,"click",ks(f))],l=!0)},p(d,p){t=d,p&1&&n!==(n=t[15]===0)&&(e.disabled=n),p&1&&o!==(o=t[15]===t[0].length-1)&&(s.disabled=o)},d(d){d&&y(e),d&&y(a),d&&y(s),l=!1,Ut(c)}}}function li(t,e){let r,n,a,s,i,o,l,c,u,f=e[3]&&ii(e);i=new hs({props:{formElement:e[13]}});let d=e[0].length>1&&oi(e);return{key:t,first:null,c(){r=P("div"),n=P("div"),f&&f.c(),a=B(),s=P("div"),Ke(i.$$.fragment),o=B(),l=P("div"),d&&d.c(),c=B(),this.h()},l(p){r=N(p,"DIV",{class:!0});var h=T(r);n=N(h,"DIV",{class:!0});var w=T(n);f&&f.l(w),w.forEach(y),a=H(h),s=N(h,"DIV",{class:!0});var $=T(s);Be(i.$$.fragment,$),$.forEach(y),o=H(h),l=N(h,"DIV",{class:!0});var v=T(l);d&&d.l(v),v.forEach(y),c=H(h),h.forEach(y),this.h()},h(){_(n,"class","align-self-center m-2"),_(s,"class","flex-fill"),_(l,"class","align-self-right mt-2 me-2"),_(r,"class","d-flex"),this.first=r},m(p,h){q(p,r,h),g(r,n),f&&f.m(n,null),g(r,a),g(r,s),He(i,s,null),g(r,o),g(r,l),d&&d.m(l,null),g(r,c),u=!0},p(p,h){e=p,e[3]?f?f.p(e,h):(f=ii(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null);const w={};h&1&&(w.formElement=e[13]),i.$set(w),e[0].length>1?d?d.p(e,h):(d=oi(e),d.c(),d.m(l,null)):d&&(d.d(1),d=null)},i(p){u||(_e(i.$$.fragment,p),u=!0)},o(p){be(i.$$.fragment,p),u=!1},d(p){p&&y(r),f&&f.d(),Ge(i),d&&d.d()}}}function cp(t){let e,r,n,a,s,i,o=[],l=new Map,c,u,f,d=t[0];const p=h=>h[13].id;for(let h=0;h<d.length;h+=1){let w=si(t,d,h),$=p(w);l.set($,o[h]=li($,w))}return{c(){e=P("div"),r=P("button"),n=X("Add argument to list"),s=B(),i=P("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l(h){e=N(h,"DIV",{class:!0});var w=T(e);r=N(w,"BUTTON",{class:!0,type:!0});var $=T(r);n=Z($,"Add argument to list"),$.forEach(y),w.forEach(y),s=H(h),i=N(h,"DIV",{});var v=T(i);for(let b=0;b<o.length;b+=1)o[b].l(v);v.forEach(y),this.h()},h(){_(r,"class","btn btn-primary"),_(r,"type","button"),r.disabled=a=!t[4],_(e,"class","d-flex justify-content-center p-2")},m(h,w){q(h,e,w),g(e,r),g(r,n),q(h,s,w),q(h,i,w);for(let $=0;$<o.length;$+=1)o[$]&&o[$].m(i,null);c=!0,u||(f=ne(r,"click",t[9]),u=!0)},p(h,w){(!c||w&16&&a!==(a=!h[4]))&&(r.disabled=a),w&457&&(d=h[0],Xt(),o=Hi(o,w,p,1,h,d,l,i,Gi,li,null,si),Zt())},i(h){if(!c){for(let w=0;w<d.length;w+=1)_e(o[w]);c=!0}},o(h){for(let w=0;w<o.length;w+=1)be(o[w]);c=!1},d(h){h&&y(e),h&&y(s),h&&y(i);for(let w=0;w<o.length;w+=1)o[w].d();u=!1,f()}}}function up(t){let e,r;return e=new ds({props:{formElement:t[1],reset:t[2],$$slots:{default:[cp]},$$scope:{ctx:t}}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,[a]){const s={};a&2&&(s.formElement=n[1]),a&4&&(s.reset=n[2]),a&65561&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function fp(t,e,r){let n,a,{formElement:s}=e,{children:i=[]}=e,{reset:o=null}=e;qr(()=>{r(0,i=s.children)});function l(){s.addChild(),r(0,i=s.children)}function c($){s.removeChild($),r(0,i=s.children)}function u($){s.moveChildUp($),r(0,i=s.children)}function f($){s.moveChildDown($),r(0,i=s.children)}const d=()=>l(),p=$=>c($),h=$=>u($),w=$=>f($);return t.$$set=$=>{"formElement"in $&&r(1,s=$.formElement),"children"in $&&r(0,i=$.children),"reset"in $&&r(2,o=$.reset)},t.$$.update=()=>{t.$$.dirty&3&&r(4,n=typeof s.maxItems!="number"||i.length<s.maxItems),t.$$.dirty&3&&r(3,a=!(s.required&&typeof s.minItems=="number"&&i.length<=s.minItems))},[i,s,o,a,n,l,c,u,f,d,p,h,w]}class dp extends gt{constructor(e){super(),$t(this,e,fp,up,ft,{formElement:1,children:0,reset:2})}}function hp(t){let e,r,n,a,s,i,o,l,c,u,f,d,p;return n=new fn({props:{formElement:t[0],defaultTitle:"String argument"}}),{c(){e=P("div"),r=P("div"),Ke(n.$$.fragment),a=B(),s=P("div"),i=P("input"),l=B(),c=P("span"),u=X(t[2]),this.h()},l(h){e=N(h,"DIV",{class:!0});var w=T(e);r=N(w,"DIV",{class:!0});var $=T(r);Be(n.$$.fragment,$),$.forEach(y),a=H(w),s=N(w,"DIV",{class:!0});var v=T(s);i=N(v,"INPUT",{type:!0,class:!0,id:!0}),l=H(v),c=N(v,"SPAN",{class:!0});var b=T(c);u=Z(b,t[2]),b.forEach(y),v.forEach(y),w.forEach(y),this.h()},h(){_(r,"class","property-metadata d-flex flex-row align-self-center w-50"),_(i,"type","text"),_(i,"class","form-control"),_(i,"id",o="property-"+t[0].id),Oe(i,"is-invalid",t[2]),_(c,"class","invalid-feedback"),_(s,"class","property-input ms-auto w-50 has-validation"),_(e,"class","d-flex align-items-center p-2")},m(h,w){q(h,e,w),g(e,r),He(n,r,null),g(e,a),g(e,s),g(s,i),t[4](i),at(i,t[0].value),g(s,l),g(s,c),g(c,u),f=!0,d||(p=[ne(i,"input",t[5]),ne(i,"input",t[3])],d=!0)},p(h,[w]){const $={};w&1&&($.formElement=h[0]),n.$set($),(!f||w&1&&o!==(o="property-"+h[0].id))&&_(i,"id",o),w&1&&i.value!==h[0].value&&at(i,h[0].value),(!f||w&4)&&Oe(i,"is-invalid",h[2]),(!f||w&4)&&Qe(u,h[2])},i(h){f||(_e(n.$$.fragment,h),f=!0)},o(h){be(n.$$.fragment,h),f=!1},d(h){h&&y(e),Ge(n),t[4](null),d=!1,Ut(p)}}}function mp(t,e,r){let{formElement:n}=e,a,s="";function i(){n.notifyChange(),r(2,s=""),n.required&&a.value===""&&r(2,s="Field is required")}function o(c){$r[c?"unshift":"push"](()=>{a=c,r(1,a)})}function l(){n.value=this.value,r(0,n)}return t.$$set=c=>{"formElement"in c&&r(0,n=c.formElement)},[n,a,s,i,o,l]}class pp extends gt{constructor(e){super(),$t(this,e,mp,hp,ft,{formElement:0})}}function _p(t){let e,r,n,a,s,i,o,l,c,u,f;return n=new fn({props:{formElement:t[0],defaultTitle:"Boolean argument",tag:"span"}}),{c(){e=P("div"),r=P("div"),Ke(n.$$.fragment),a=B(),s=P("div"),i=P("div"),o=P("input"),this.h()},l(d){e=N(d,"DIV",{class:!0});var p=T(e);r=N(p,"DIV",{class:!0});var h=T(r);Be(n.$$.fragment,h),h.forEach(y),a=H(p),s=N(p,"DIV",{class:!0});var w=T(s);i=N(w,"DIV",{class:!0});var $=T(i);o=N($,"INPUT",{id:!0,class:!0,type:!0,role:!0}),$.forEach(y),w.forEach(y),p.forEach(y),this.h()},h(){_(r,"class","property-metadata d-flex flex-row align-self-center w-50"),_(o,"id",l="property-"+t[0].id),_(o,"class","form-check-input"),_(o,"type","checkbox"),_(o,"role","switch"),_(i,"class","form-check form-switch"),_(s,"class","property-input ms-auto w-25"),_(e,"class","d-flex align-items-center p-2")},m(d,p){q(d,e,p),g(e,r),He(n,r,null),g(e,a),g(e,s),g(s,i),g(i,o),o.checked=t[0].value,c=!0,u||(f=[ne(o,"change",t[2]),ne(o,"change",t[1])],u=!0)},p(d,[p]){const h={};p&1&&(h.formElement=d[0]),n.$set(h),(!c||p&1&&l!==(l="property-"+d[0].id))&&_(o,"id",l),p&1&&(o.checked=d[0].value)},i(d){c||(_e(n.$$.fragment,d),c=!0)},o(d){be(n.$$.fragment,d),c=!1},d(d){d&&y(e),Ge(n),u=!1,Ut(f)}}}function vp(t,e,r){let{formElement:n}=e;function a(){n.notifyChange()}function s(){n.value=this.checked,r(0,n)}return t.$$set=i=>{"formElement"in i&&r(0,n=i.formElement)},[n,a,s]}class yp extends gt{constructor(e){super(),$t(this,e,vp,_p,ft,{formElement:0})}}function gp(t){let e,r,n,a,s,i,o,l,c,u,f,d,p,h,w;return n=new fn({props:{formElement:t[0],defaultTitle:"Number argument"}}),{c(){e=P("div"),r=P("div"),Ke(n.$$.fragment),a=B(),s=P("div"),i=P("input"),u=B(),f=P("span"),d=X(t[2]),this.h()},l($){e=N($,"DIV",{class:!0});var v=T(e);r=N(v,"DIV",{class:!0});var b=T(r);Be(n.$$.fragment,b),b.forEach(y),a=H(v),s=N(v,"DIV",{class:!0});var I=T(s);i=N(I,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),u=H(I),f=N(I,"SPAN",{class:!0});var k=T(f);d=Z(k,t[2]),k.forEach(y),I.forEach(y),v.forEach(y),this.h()},h(){_(r,"class","property-metadata d-flex flex-row align-self-center w-50"),_(i,"type","number"),_(i,"min",o=t[0].min),_(i,"max",l=t[0].max),_(i,"class","form-control"),_(i,"id",c="property-"+t[0].id),Oe(i,"is-invalid",t[2]),_(f,"class","invalid-feedback"),_(s,"class","property-input ms-auto w-50 has-validation"),_(e,"class","d-flex align-items-center p-2")},m($,v){q($,e,v),g(e,r),He(n,r,null),g(e,a),g(e,s),g(s,i),t[4](i),at(i,t[0].value),g(s,u),g(s,f),g(f,d),p=!0,h||(w=[ne(i,"input",t[5]),ne(i,"input",t[3])],h=!0)},p($,[v]){const b={};v&1&&(b.formElement=$[0]),n.$set(b),(!p||v&1&&o!==(o=$[0].min))&&_(i,"min",o),(!p||v&1&&l!==(l=$[0].max))&&_(i,"max",l),(!p||v&1&&c!==(c="property-"+$[0].id))&&_(i,"id",c),v&1&&Wi(i.value)!==$[0].value&&at(i,$[0].value),(!p||v&4)&&Oe(i,"is-invalid",$[2]),(!p||v&4)&&Qe(d,$[2])},i($){p||(_e(n.$$.fragment,$),p=!0)},o($){be(n.$$.fragment,$),p=!1},d($){$&&y(e),Ge(n),t[4](null),h=!1,Ut(w)}}}function $p(t,e,r){let{formElement:n}=e,a,s="";function i(){o(),n.notifyChange()}function o(){if(r(2,s=""),r(0,n.badInput=a.validity.badInput,n),n.badInput){r(2,s="Should be a number");return}if(a.value===""){n.required?r(2,s="Field is required"):r(2,s="");return}const u=parseInt(a.value),f=n.min,d=n.max;if(f!==null&&u<f){r(2,s="Should be greater or equal than "+f);return}if(d!==null&&u>d){r(2,s="Should be lower or equal than "+d);return}r(2,s="")}function l(u){$r[u?"unshift":"push"](()=>{a=u,r(1,a)})}function c(){n.value=Wi(this.value),r(0,n)}return t.$$set=u=>{"formElement"in u&&r(0,n=u.formElement)},[n,a,s,i,l,c]}class bp extends gt{constructor(e){super(),$t(this,e,$p,gp,ft,{formElement:0})}}function ci(t,e,r){const n=t.slice();return n[6]=e[r],n}function ui(t){let e,r=t[6]+"",n,a;return{c(){e=P("option"),n=X(r),this.h()},l(s){e=N(s,"OPTION",{});var i=T(e);n=Z(i,r),i.forEach(y),this.h()},h(){e.__value=a=t[6],e.value=e.__value},m(s,i){q(s,e,i),g(e,n)},p(s,i){i&1&&r!==(r=s[6]+"")&&Qe(n,r),i&1&&a!==(a=s[6])&&(e.__value=a,e.value=e.__value)},d(s){s&&y(e)}}}function Ep(t){let e,r,n,a,s,i,o,l,c,u,f,d,p,h,w;n=new fn({props:{formElement:t[0],defaultTitle:"Enum argument"}});let $=t[0].options,v=[];for(let b=0;b<$.length;b+=1)v[b]=ui(ci(t,$,b));return{c(){e=P("div"),r=P("div"),Ke(n.$$.fragment),a=B(),s=P("div"),i=P("select"),o=P("option"),l=X("Select...");for(let b=0;b<v.length;b+=1)v[b].c();u=B(),f=P("span"),d=X(t[2]),this.h()},l(b){e=N(b,"DIV",{class:!0});var I=T(e);r=N(I,"DIV",{class:!0});var k=T(r);Be(n.$$.fragment,k),k.forEach(y),a=H(I),s=N(I,"DIV",{class:!0});var C=T(s);i=N(C,"SELECT",{class:!0,id:!0});var U=T(i);o=N(U,"OPTION",{});var Y=T(o);l=Z(Y,"Select..."),Y.forEach(y);for(let he=0;he<v.length;he+=1)v[he].l(U);U.forEach(y),u=H(C),f=N(C,"SPAN",{class:!0});var ae=T(f);d=Z(ae,t[2]),ae.forEach(y),C.forEach(y),I.forEach(y),this.h()},h(){_(r,"class","property-metadata d-flex flex-row align-self-center w-50"),o.__value=null,o.value=o.__value,_(i,"class","form-control"),_(i,"id",c="property-"+t[0].id),t[0].value===void 0&&Xi(()=>t[5].call(i)),Oe(i,"is-invalid",t[2]),_(f,"class","invalid-feedback"),_(s,"class","property-input ms-auto w-50 has-validation"),_(e,"class","d-flex align-items-center p-2")},m(b,I){q(b,e,I),g(e,r),He(n,r,null),g(e,a),g(e,s),g(s,i),g(i,o),g(o,l);for(let k=0;k<v.length;k+=1)v[k]&&v[k].m(i,null);t[4](i),kn(i,t[0].value,!0),g(s,u),g(s,f),g(f,d),p=!0,h||(w=[ne(i,"change",t[5]),ne(i,"change",t[3]),ne(i,"input",t[3])],h=!0)},p(b,[I]){const k={};if(I&1&&(k.formElement=b[0]),n.$set(k),I&1){$=b[0].options;let C;for(C=0;C<$.length;C+=1){const U=ci(b,$,C);v[C]?v[C].p(U,I):(v[C]=ui(U),v[C].c(),v[C].m(i,null))}for(;C<v.length;C+=1)v[C].d(1);v.length=$.length}(!p||I&1&&c!==(c="property-"+b[0].id))&&_(i,"id",c),I&1&&kn(i,b[0].value),(!p||I&4)&&Oe(i,"is-invalid",b[2]),(!p||I&4)&&Qe(d,b[2])},i(b){p||(_e(n.$$.fragment,b),p=!0)},o(b){be(n.$$.fragment,b),p=!1},d(b){b&&y(e),Ge(n),Rn(v,b),t[4](null),h=!1,Ut(w)}}}function wp(t,e,r){let{formElement:n}=e,a,s="";function i(){n.notifyChange(),r(2,s=""),n.required&&a.value==="null"&&r(2,s="Field is required")}function o(c){$r[c?"unshift":"push"](()=>{a=c,r(1,a)})}function l(){n.value=Zi(this),r(0,n)}return t.$$set=c=>{"formElement"in c&&r(0,n=c.formElement)},[n,a,s,i,o,l]}class Sp extends gt{constructor(e){super(),$t(this,e,wp,Ep,ft,{formElement:0})}}function fi(t,e,r){const n=t.slice();return n[5]=e[r],n[7]=r,n}function di(t){let e;function r(s,i){return s[0].length>0?Pp:kp}let n=r(t),a=n(t);return{c(){a.c(),e=st()},l(s){a.l(s),e=st()},m(s,i){a.m(s,i),q(s,e,i)},p(s,i){n===(n=r(s))&&a?a.p(s,i):(a.d(1),a=n(s),a&&(a.c(),a.m(e.parentNode,e)))},d(s){a.d(s),s&&y(e)}}}function kp(t){let e,r,n,a;return{c(){e=P("button"),r=X("Add tuple"),this.h()},l(s){e=N(s,"BUTTON",{class:!0,type:!0});var i=T(e);r=Z(i,"Add tuple"),i.forEach(y),this.h()},h(){_(e,"class","btn btn-primary"),_(e,"type","button")},m(s,i){q(s,e,i),g(e,r),n||(a=ne(e,"click",t[3]),n=!0)},p:Ct,d(s){s&&y(e),n=!1,a()}}}function Pp(t){let e,r,n,a;return{c(){e=P("button"),r=X("Remove tuple"),this.h()},l(s){e=N(s,"BUTTON",{class:!0,type:!0});var i=T(e);r=Z(i,"Remove tuple"),i.forEach(y),this.h()},h(){_(e,"class","btn btn-primary"),_(e,"type","button")},m(s,i){q(s,e,i),g(e,r),n||(a=ne(e,"click",t[4]),n=!0)},p:Ct,d(s){s&&y(e),n=!1,a()}}}function hi(t,e){let r,n,a,s,i;return a=new hs({props:{formElement:e[5]}}),{key:t,first:null,c(){r=P("div"),n=P("div"),Ke(a.$$.fragment),s=B(),this.h()},l(o){r=N(o,"DIV",{class:!0});var l=T(r);n=N(l,"DIV",{class:!0});var c=T(n);Be(a.$$.fragment,c),c.forEach(y),s=H(l),l.forEach(y),this.h()},h(){_(n,"class","flex-fill"),_(r,"class","d-flex"),this.first=r},m(o,l){q(o,r,l),g(r,n),He(a,n,null),g(r,s),i=!0},p(o,l){e=o;const c={};l&1&&(c.formElement=e[5]),a.$set(c)},i(o){i||(_e(a.$$.fragment,o),i=!0)},o(o){be(a.$$.fragment,o),i=!1},d(o){o&&y(r),Ge(a)}}}function Np(t){let e,r,n,a=[],s=new Map,i,o=!t[1].required&&di(t),l=t[0];const c=u=>u[5].id;for(let u=0;u<l.length;u+=1){let f=fi(t,l,u),d=c(f);s.set(d,a[u]=hi(d,f))}return{c(){e=P("div"),o&&o.c(),r=B(),n=P("div");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=N(u,"DIV",{class:!0});var f=T(e);o&&o.l(f),f.forEach(y),r=H(u),n=N(u,"DIV",{});var d=T(n);for(let p=0;p<a.length;p+=1)a[p].l(d);d.forEach(y),this.h()},h(){_(e,"class","d-flex justify-content-center p-2")},m(u,f){q(u,e,f),o&&o.m(e,null),q(u,r,f),q(u,n,f);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(n,null);i=!0},p(u,f){u[1].required?o&&(o.d(1),o=null):o?o.p(u,f):(o=di(u),o.c(),o.m(e,null)),f&1&&(l=u[0],Xt(),a=Hi(a,f,c,1,u,l,s,n,Gi,hi,null,fi),Zt())},i(u){if(!i){for(let f=0;f<l.length;f+=1)_e(a[f]);i=!0}},o(u){for(let f=0;f<a.length;f+=1)be(a[f]);i=!1},d(u){u&&y(e),o&&o.d(),u&&y(r),u&&y(n);for(let f=0;f<a.length;f+=1)a[f].d()}}}function Ip(t){let e,r;return e=new ds({props:{formElement:t[1],reset:t[2],$$slots:{default:[Np]},$$scope:{ctx:t}}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,[a]){const s={};a&2&&(s.formElement=n[1]),a&4&&(s.reset=n[2]),a&259&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function Op(t,e,r){let{formElement:n}=e,{children:a=[]}=e,{reset:s=null}=e;qr(()=>{r(0,a=n.children)});function i(){n.addTuple(),r(0,a=n.children)}function o(){n.removeTuple(),r(0,a=n.children)}return t.$$set=l=>{"formElement"in l&&r(1,n=l.formElement),"children"in l&&r(0,a=l.children),"reset"in l&&r(2,s=l.reset)},[a,n,s,i,o]}class Tp extends gt{constructor(e){super(),$t(this,e,Op,Ip,ft,{formElement:1,children:0,reset:2})}}function Dp(t){let e,r,n=t[0].type+"",a;return{c(){e=P("p"),r=X("Unsupported property type "),a=X(n)},l(s){e=N(s,"P",{});var i=T(e);r=Z(i,"Unsupported property type "),a=Z(i,n),i.forEach(y)},m(s,i){q(s,e,i),g(e,r),g(e,a)},p(s,i){i&1&&n!==(n=s[0].type+"")&&Qe(a,n)},i:Ct,o:Ct,d(s){s&&y(e)}}}function Ap(t){let e,r;return e=new Tp({props:{formElement:t[0],reset:t[1]}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&2&&(s.reset=n[1]),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function jp(t){let e,r;return e=new dp({props:{formElement:t[0],reset:t[1]}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&2&&(s.reset=n[1]),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function Cp(t){let e,r;return e=new ds({props:{formElement:t[0],reset:t[1],$$slots:{default:[zp]},$$scope:{ctx:t}}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&2&&(s.reset=n[1]),a&5&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function Rp(t){let e,r;return e=new Sp({props:{formElement:t[0]}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function Vp(t){let e,r;return e=new yp({props:{formElement:t[0]}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function Mp(t){let e,r;return e=new bp({props:{formElement:t[0]}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function Fp(t){let e,r;return e=new pp({props:{formElement:t[0]}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function zp(t){let e,r;return e=new Qo({props:{formElement:t[0]}}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function Up(t){let e,r,n,a;const s=[Fp,Mp,Vp,Rp,Cp,jp,Ap,Dp],i=[];function o(l,c){return l[0].type==="string"?0:l[0].type==="number"?1:l[0].type==="boolean"?2:l[0].type==="enum"?3:l[0].type==="object"?4:l[0].type==="array"?5:l[0].type==="tuple"?6:7}return e=o(t),r=i[e]=s[e](t),{c(){r.c(),n=st()},l(l){r.l(l),n=st()},m(l,c){i[e].m(l,c),q(l,n,c),a=!0},p(l,[c]){let u=e;e=o(l),e===u?i[e].p(l,c):(Xt(),be(i[u],1,1,()=>{i[u]=null}),Zt(),r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),_e(r,1),r.m(n.parentNode,n))},i(l){a||(_e(r),a=!0)},o(l){be(r),a=!1},d(l){i[e].d(l),l&&y(n)}}}function qp(t,e,r){let{formElement:n}=e,{reset:a=null}=e;return t.$$set=s=>{"formElement"in s&&r(0,n=s.formElement),"reset"in s&&r(1,a=s.reset)},[n,a]}class hs extends gt{constructor(e){super(),$t(this,e,qp,Up,ft,{formElement:0,reset:1})}}function mi(t,e,r){const n=t.slice();return n[11]=e[r],n[13]=r,n}function pi(t){let e,r,n,a,s,i,o,l,c,u,f,d=t[4]&&_i(t);return{c(){e=P("div"),r=P("form"),n=P("div"),a=P("div"),s=P("input"),i=B(),o=P("button"),l=X("Add property"),c=B(),d&&d.c(),this.h()},l(p){e=N(p,"DIV",{class:!0});var h=T(e);r=N(h,"FORM",{class:!0});var w=T(r);n=N(w,"DIV",{class:!0});var $=T(n);a=N($,"DIV",{class:!0});var v=T(a);s=N(v,"INPUT",{type:!0,placeholder:!0,class:!0}),i=H(v),o=N(v,"BUTTON",{class:!0,type:!0});var b=T(o);l=Z(b,"Add property"),b.forEach(y),c=H(v),d&&d.l(v),v.forEach(y),$.forEach(y),w.forEach(y),h.forEach(y),this.h()},h(){_(s,"type","text"),_(s,"placeholder","Key"),_(s,"class","form-control"),Oe(s,"is-invalid",t[4]),_(o,"class","btn btn-primary"),_(o,"type","button"),_(a,"class","input-group"),Oe(a,"has-validation",t[4]),_(n,"class","col-lg-6 offset-lg-3 mb-1"),_(r,"class","row row-cols-auto g-3 align-items-center p-2 flex-grow-1"),_(e,"class","d-flex justify-content-center")},m(p,h){q(p,e,h),g(e,r),g(r,n),g(n,a),g(a,s),at(s,t[3]),g(a,i),g(a,o),g(o,l),g(a,c),d&&d.m(a,null),u||(f=[ne(s,"input",t[8]),ne(o,"click",t[5])],u=!0)},p(p,h){h&8&&s.value!==p[3]&&at(s,p[3]),h&16&&Oe(s,"is-invalid",p[4]),p[4]?d?d.p(p,h):(d=_i(p),d.c(),d.m(a,null)):d&&(d.d(1),d=null),h&16&&Oe(a,"has-validation",p[4])},d(p){p&&y(e),d&&d.d(),u=!1,Ut(f)}}}function _i(t){let e,r;return{c(){e=P("div"),r=X(t[4]),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=T(e);r=Z(a,t[4]),a.forEach(y),this.h()},h(){_(e,"class","invalid-feedback")},m(n,a){q(n,e,a),g(e,r)},p(n,a){a&16&&Qe(r,n[4])},d(n){n&&y(e)}}}function vi(t){let e,r,n,a;function s(){return t[9](t[11])}return{c(){e=P("button"),r=X("Remove Property Block"),this.h()},l(i){e=N(i,"BUTTON",{class:!0,type:!0});var o=T(e);r=Z(o,"Remove Property Block"),o.forEach(y),this.h()},h(){_(e,"class","btn btn-danger w-100"),_(e,"type","button")},m(i,o){q(i,e,o),g(e,r),n||(a=ne(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&y(e),n=!1,a()}}}function yi(t){let e,r,n,a,s,i,o,l=t[11].removable&&vi(t);function c(){return t[10](t[13])}return a=new hs({props:{formElement:t[11],reset:t[1]?c:null}}),{c(){e=P("div"),l&&l.c(),r=B(),n=P("div"),Ke(a.$$.fragment),i=B(),this.h()},l(u){e=N(u,"DIV",{class:!0});var f=T(e);l&&l.l(f),r=H(f),n=N(f,"DIV",{class:!0,id:!0});var d=T(n);Be(a.$$.fragment,d),d.forEach(y),i=H(f),f.forEach(y),this.h()},h(){_(n,"class","d-flex flex-column properties-block"),_(n,"id",s=t[11].id+"-wrapper"),_(e,"class","property-block svelte-en10qk")},m(u,f){q(u,e,f),l&&l.m(e,null),g(e,r),g(e,n),He(a,n,null),g(e,i),o=!0},p(u,f){t=u,t[11].removable?l?l.p(t,f):(l=vi(t),l.c(),l.m(e,r)):l&&(l.d(1),l=null);const d={};f&4&&(d.formElement=t[11]),f&2&&(d.reset=t[1]?c:null),a.$set(d),(!o||f&4&&s!==(s=t[11].id+"-wrapper"))&&_(n,"id",s)},i(u){o||(_e(a.$$.fragment,u),o=!0)},o(u){be(a.$$.fragment,u),o=!1},d(u){u&&y(e),l&&l.d(),Ge(a)}}}function gi(t){let e,r,n=t[2],a=[];for(let i=0;i<n.length;i+=1)a[i]=yi(mi(t,n,i));const s=i=>be(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=st()},l(i){for(let o=0;o<a.length;o+=1)a[o].l(i);e=st()},m(i,o){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(i,o);q(i,e,o),r=!0},p(i,o){if(o&198){n=i[2];let l;for(l=0;l<n.length;l+=1){const c=mi(i,n,l);a[l]?(a[l].p(c,o),_e(a[l],1)):(a[l]=yi(c),a[l].c(),_e(a[l],1),a[l].m(e.parentNode,e))}for(Xt(),l=n.length;l<a.length;l+=1)s(l);Zt()}},i(i){if(!r){for(let o=0;o<n.length;o+=1)_e(a[o]);r=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)be(a[o]);r=!1},d(i){Rn(a,i),i&&y(e)}}}function Lp(t){let e,r=t[2],n,a,s=t[0].additionalProperties&&pi(t),i=gi(t);return{c(){s&&s.c(),e=B(),i.c(),n=st()},l(o){s&&s.l(o),e=H(o),i.l(o),n=st()},m(o,l){s&&s.m(o,l),q(o,e,l),i.m(o,l),q(o,n,l),a=!0},p(o,[l]){o[0].additionalProperties?s?s.p(o,l):(s=pi(o),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),l&4&&ft(r,r=o[2])?(Xt(),be(i,1,1,Ct),Zt(),i=gi(o),i.c(),_e(i,1),i.m(n.parentNode,n)):i.p(o,l)},i(o){a||(_e(i),a=!0)},o(o){be(i),a=!1},d(o){s&&s.d(o),o&&y(e),o&&y(n),i.d(o)}}}function Jp(t,e,r){let{formElement:n}=e,{isRoot:a=!1}=e,s=[];qr(()=>{r(2,s=n.children)});let i="",o="";function l(){try{r(4,o=""),n.addChild(i.trim()),r(2,s=n.children),r(3,i="")}catch(h){r(4,o=h.message)}}function c(h){n.removeChild(h),r(2,s=n.children)}function u(h){n.resetChild(h),r(2,s=n.children)}function f(){i=this.value,r(3,i)}const d=h=>c(h.key),p=h=>u(h);return t.$$set=h=>{"formElement"in h&&r(0,n=h.formElement),"isRoot"in h&&r(1,a=h.isRoot)},[n,a,s,i,o,l,c,u,f,d,p]}class Qo extends gt{constructor(e){super(),$t(this,e,Jp,Lp,ft,{formElement:0,isRoot:1})}}function $i(t){let e=t[1],r,n,a=bi(t);return{c(){a.c(),r=st()},l(s){a.l(s),r=st()},m(s,i){a.m(s,i),q(s,r,i),n=!0},p(s,i){i&2&&ft(e,e=s[1])?(Xt(),be(a,1,1,Ct),Zt(),a=bi(s),a.c(),_e(a,1),a.m(r.parentNode,r)):a.p(s,i)},i(s){n||(_e(a),n=!0)},o(s){be(a),n=!1},d(s){s&&y(r),a.d(s)}}}function bi(t){let e,r,n;return r=new Qo({props:{formElement:t[1].root,isRoot:!0}}),{c(){e=P("div"),Ke(r.$$.fragment),this.h()},l(a){e=N(a,"DIV",{id:!0});var s=T(e);Be(r.$$.fragment,s),s.forEach(y),this.h()},h(){_(e,"id",t[0])},m(a,s){q(a,e,s),He(r,e,null),n=!0},p(a,s){const i={};s&2&&(i.formElement=a[1].root),r.$set(i),(!n||s&1)&&_(e,"id",a[0])},i(a){n||(_e(r.$$.fragment,a),n=!0)},o(a){be(r.$$.fragment,a),n=!1},d(a){a&&y(e),Ge(r)}}}function Kp(t){let e,r,n=t[1]&&$i(t);return{c(){n&&n.c(),e=st()},l(a){n&&n.l(a),e=st()},m(a,s){n&&n.m(a,s),q(a,e,s),r=!0},p(a,[s]){a[1]?n?(n.p(a,s),s&2&&_e(n,1)):(n=$i(a),n.c(),_e(n,1),n.m(e.parentNode,e)):n&&(Xt(),be(n,1,1,()=>{n=null}),Zt())},i(a){r||(_e(n),r=!0)},o(a){be(n),r=!1},d(a){n&&n.d(a),a&&y(e)}}}function Bp(t,e,r){const n=Qi();let{schema:a}=e,{schemaData:s}=e,{schemaVersion:i}=e,{propertiesToIgnore:o=[]}=e,{componentId:l}=e,c;qr(()=>{d()});function u(){return c==null?void 0:c.getFormData()}function f(){for(const p of document.querySelectorAll(`#${l} input, #${l} select`))p.dispatchEvent(new Event("input"));c==null||c.validate()}function d(){if(a)try{r(1,c=new Xm(a,n,i,o,s))}catch(p){console.error(p),r(1,c=void 0)}else r(1,c=void 0)}return t.$$set=p=>{"schema"in p&&r(2,a=p.schema),"schemaData"in p&&r(3,s=p.schemaData),"schemaVersion"in p&&r(4,i=p.schemaVersion),"propertiesToIgnore"in p&&r(5,o=p.propertiesToIgnore),"componentId"in p&&r(0,l=p.componentId)},t.$$.update=()=>{t.$$.dirty&44&&(a||s||o)&&d()},[l,c,a,s,i,o,u,f]}class ms extends gt{constructor(e){super(),$t(this,e,Bp,Kp,ft,{schema:2,schemaData:3,schemaVersion:4,propertiesToIgnore:5,componentId:0,getArguments:6,validateArguments:7})}get getArguments(){return this.$$.ctx[6]}get validateArguments(){return this.$$.ctx[7]}}const Hp="CellvoyagerToOmeZarrInit",Gp="object",Wp={zarr_urls:{title:"Zarr Urls",type:"array",items:{type:"string"},description:"List of paths or urls to the individual OME-Zarr image to be processed. Not used by the converter task. (standard argument for Fractal tasks, managed by Fractal server)."},zarr_dir:{title:"Zarr Dir",type:"string",description:"path of the directory where the new OME-Zarrs will be created. (standard argument for Fractal tasks, managed by Fractal server)."},image_dirs:{title:"Image Dirs",type:"array",items:{type:"string"},description:"list of paths to the folders that contains the Cellvoyager image files. Each entry is a path to a folder that contains the image files themselves for a multiwell plate and the MeasurementData & MeasurementDetail metadata files."},allowed_channels:{title:"Allowed Channels",type:"array",items:{$ref:"#/definitions/OmeroChannel"},description:"A list of `OmeroChannel` s, where each channel must include the `wavelength_id` attribute and where the `wavelength_id` values must be unique across the list."},image_glob_patterns:{title:"Image Glob Patterns",type:"array",items:{type:"string"},description:'If specified, only parse images with filenames that match with all these patterns. Patterns must be defined as in https://docs.python.org/3/library/fnmatch.html, Example: `image_glob_pattern=["*_B03_*"]` => only process well B03 `image_glob_pattern=["*_C09_*", "*F016*", "*Z[0-5][0-9]C*"]` => only process well C09, field of view 16 and Z planes 0-59.'},num_levels:{title:"Num Levels",default:5,type:"integer",description:"Number of resolution-pyramid levels. If set to `5`, there will be the full-resolution level and 4 levels of downsampled images."},coarsening_xy:{title:"Coarsening Xy",default:2,type:"integer",description:"Linear coarsening factor between subsequent levels. If set to `2`, level 1 is 2x downsampled, level 2 is 4x downsampled etc."},image_extension:{title:"Image Extension",default:"tif",type:"string",description:'Filename extension of images (e.g. `"tif"` or `"png"`)'},metadata_table_file:{title:"Metadata Table File",type:"string",description:"If `None`, parse Yokogawa metadata from mrf/mlf files in the input_path folder; else, the full path to a csv file containing the parsed metadata table."},overwrite:{title:"Overwrite",default:!1,type:"boolean",description:"If `True`, overwrite the task output."}},Xp=["zarr_urls","zarr_dir","image_dirs","allowed_channels"],Zp=!1,Qp={Window:{title:"Window",description:"Custom class for Omero-channel window, based on OME-NGFF v0.4.",type:"object",properties:{min:{title:"Min",type:"integer",description:"Do not change. It will be set to `0` by default."},max:{title:"Max",type:"integer",description:"Do not change. It will be set according to bit-depth of the images by default (e.g. 65535 for 16 bit images)."},start:{title:"Start",type:"integer",description:"Lower-bound rescaling value for visualization."},end:{title:"End",type:"integer",description:"Upper-bound rescaling value for visualization."}},required:["start","end"]},OmeroChannel:{title:"OmeroChannel",description:"Custom class for Omero channels, based on OME-NGFF v0.4.",type:"object",properties:{wavelength_id:{title:"Wavelength Id",type:"string",description:"Unique ID for the channel wavelength, e.g. `A01_C01`."},index:{title:"Index",type:"integer",description:"Do not change. For internal use only."},label:{title:"Label",type:"string",description:"Name of the channel."},window:{$ref:"#/definitions/Window",title:"Window",description:"Optional `Window` object to set default display settings for napari."},color:{title:"Color",type:"string",description:"Optional hex colormap to display the channel in napari (it must be of length 6, e.g. `00FFFF`)."},active:{title:"Active",default:!0,type:"boolean",description:"Should this channel be shown in the viewer?"},coefficient:{title:"Coefficient",default:1,type:"integer",description:"Do not change. Omero-channel attribute."},inverted:{title:"Inverted",default:!1,type:"boolean",description:"Do not change. Omero-channel attribute."}},required:["wavelength_id"]}},Yp={title:Hp,type:Gp,properties:Wp,required:Xp,additionalProperties:Zp,definitions:Qp};function Ei(t){let e,r,n;return{c(){e=P("div"),r=P("pre"),n=X(t[8]),this.h()},l(a){e=N(a,"DIV",{class:!0});var s=T(e);r=N(s,"PRE",{});var i=T(r);n=Z(i,t[8]),i.forEach(y),s.forEach(y),this.h()},h(){_(e,"class","alert alert-danger")},m(a,s){q(a,e,s),g(e,r),g(r,n)},p(a,s){s&256&&Qe(n,a[8])},d(a){a&&y(e)}}}function wi(t){let e,r;return{c(){e=P("div"),r=X("Data is valid"),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=T(e);r=Z(a,"Data is valid"),a.forEach(y),this.h()},h(){_(e,"class","alert alert-success")},m(n,a){q(n,e,a),g(e,r)},d(n){n&&y(e)}}}function Si(t){let e,r,n={componentId:"json-schema-sandbox",schema:t[0],schemaVersion:t[6],schemaData:t[1],propertiesToIgnore:t[10]};return e=new ms({props:n}),t[21](e),e.$on("change",t[15]),{c(){Ke(e.$$.fragment)},l(a){Be(e.$$.fragment,a)},m(a,s){He(e,a,s),r=!0},p(a,s){const i={};s&1&&(i.schema=a[0]),s&64&&(i.schemaVersion=a[6]),s&2&&(i.schemaData=a[1]),s&1024&&(i.propertiesToIgnore=a[10]),e.$set(i)},i(a){r||(_e(e.$$.fragment,a),r=!0)},o(a){be(e.$$.fragment,a),r=!1},d(a){t[21](null),Ge(e,a)}}}function xp(t){let e,r,n,a,s,i,o,l,c,u,f,d,p,h,w,$,v,b,I,k,C,U,Y,ae,he,ye,K,z,x,W,oe,le,Re,Fe,Ie,L,A,F,j,m,S,V,G,Q,re,ue,$e,We,nt,se,me,qe,pe,Se,Xe,it,ot,je=t[8]&&Ei(t),Te=t[9]&&wi(),Ce=t[0]&&!t[4]&&Si(t);return Xe=Pn(t[17][0]),{c(){e=P("h1"),r=X("Sandbox page for JSON Schema"),n=B(),a=P("p"),s=X("This is a test page for the JSON Schema component"),i=B(),o=P("div"),l=P("div"),c=P("div"),u=P("div"),f=P("div"),d=P("input"),p=B(),h=P("label"),w=X("pydantic_v1"),$=B(),v=P("div"),b=P("input"),I=B(),k=P("label"),C=X("pydantic_v2"),U=B(),Y=P("button"),ae=X("Load example"),he=B(),ye=P("div"),K=P("div"),z=P("label"),x=X("JSON Schema"),W=B(),oe=P("textarea"),le=B(),Re=P("span"),Fe=X(t[4]),Ie=B(),L=P("div"),A=P("div"),F=P("label"),j=X("Initial JSON data"),m=B(),S=P("textarea"),V=B(),G=P("span"),Q=X(t[5]),re=B(),ue=P("div"),$e=P("div"),je&&je.c(),We=B(),Te&&Te.c(),nt=B(),se=P("button"),me=X("Validate"),qe=B(),pe=P("div"),Ce&&Ce.c(),this.h()},l(de){e=N(de,"H1",{class:!0});var Pe=T(e);r=Z(Pe,"Sandbox page for JSON Schema"),Pe.forEach(y),n=H(de),a=N(de,"P",{});var lt=T(a);s=Z(lt,"This is a test page for the JSON Schema component"),lt.forEach(y),i=H(de),o=N(de,"DIV",{class:!0});var bt=T(o);l=N(bt,"DIV",{class:!0});var Le=T(l);c=N(Le,"DIV",{class:!0});var Ze=T(c);u=N(Ze,"DIV",{class:!0});var ze=T(u);f=N(ze,"DIV",{class:!0});var Dt=T(f);d=N(Dt,"INPUT",{class:!0,type:!0,name:!0,id:!0}),p=H(Dt),h=N(Dt,"LABEL",{class:!0,for:!0});var ct=T(h);w=Z(ct,"pydantic_v1"),ct.forEach(y),Dt.forEach(y),$=H(ze),v=N(ze,"DIV",{class:!0});var dt=T(v);b=N(dt,"INPUT",{class:!0,type:!0,name:!0,id:!0}),I=H(dt),k=N(dt,"LABEL",{class:!0,for:!0});var qt=T(k);C=Z(qt,"pydantic_v2"),qt.forEach(y),dt.forEach(y),U=H(ze),Y=N(ze,"BUTTON",{class:!0});var mt=T(Y);ae=Z(mt,"Load example"),mt.forEach(y),ze.forEach(y),Ze.forEach(y),he=H(Le),ye=N(Le,"DIV",{class:!0});var Ve=T(ye);K=N(Ve,"DIV",{class:!0});var Vt=T(K);z=N(Vt,"LABEL",{for:!0});var Mt=T(z);x=Z(Mt,"JSON Schema"),Mt.forEach(y),W=H(Vt),oe=N(Vt,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(oe).forEach(y),le=H(Vt),Re=N(Vt,"SPAN",{class:!0});var cr=T(Re);Fe=Z(cr,t[4]),cr.forEach(y),Vt.forEach(y),Ve.forEach(y),Ie=H(Le),L=N(Le,"DIV",{class:!0});var rr=T(L);A=N(rr,"DIV",{class:!0});var ht=T(A);F=N(ht,"LABEL",{for:!0});var Lt=T(F);j=Z(Lt,"Initial JSON data"),Lt.forEach(y),m=H(ht),S=N(ht,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(S).forEach(y),V=H(ht),G=N(ht,"SPAN",{class:!0});var Et=T(G);Q=Z(Et,t[5]),Et.forEach(y),ht.forEach(y),rr.forEach(y),re=H(Le),ue=N(Le,"DIV",{class:!0});var Nt=T(ue);$e=N(Nt,"DIV",{class:!0});var wt=T($e);je&&je.l(wt),We=H(wt),Te&&Te.l(wt),nt=H(wt),se=N(wt,"BUTTON",{class:!0});var ur=T(se);me=Z(ur,"Validate"),ur.forEach(y),wt.forEach(y),Nt.forEach(y),Le.forEach(y),qe=H(bt),pe=N(bt,"DIV",{class:!0});var Qt=T(pe);Ce&&Ce.l(Qt),Qt.forEach(y),bt.forEach(y),this.h()},h(){_(e,"class","fw-light"),_(d,"class","form-check-input"),_(d,"type","radio"),_(d,"name","schemaVersionOptions"),_(d,"id","pydantic_v1"),d.__value="pydantic_v1",d.value=d.__value,_(h,"class","form-check-label"),_(h,"for","pydantic_v1"),_(f,"class","form-check form-check-inline"),_(b,"class","form-check-input"),_(b,"type","radio"),_(b,"name","schemaVersionOptions"),_(b,"id","pydantic_v2"),b.__value="pydantic_v2",b.value=b.__value,_(k,"class","form-check-label"),_(k,"for","pydantic_v2"),_(v,"class","form-check form-check-inline"),_(Y,"class","btn btn-outline-primary float-end"),_(u,"class","col"),_(c,"class","row"),_(z,"for","json-schema"),_(oe,"id","json-schema"),_(oe,"class","form-control"),_(oe,"rows","10"),Oe(oe,"is-invalid",t[4]),_(Re,"class","invalid-feedback"),_(K,"class","col"),_(ye,"class","row has-validation mt-2 mb-2"),_(F,"for","jdata"),_(S,"id","jdata"),_(S,"class","form-control"),_(S,"rows","10"),Oe(S,"is-invalid",t[5]),_(G,"class","invalid-feedback"),_(A,"class","col"),_(L,"class","row has-validation mt-3 mb-2"),_(se,"class","btn btn-primary"),_($e,"class","col"),_(ue,"class","row mt-3 mb-2"),_(l,"class","col-lg-6 mt-3"),_(pe,"class","col-lg-6"),_(o,"class","row"),Xe.p(d,b)},m(de,Pe){q(de,e,Pe),g(e,r),q(de,n,Pe),q(de,a,Pe),g(a,s),q(de,i,Pe),q(de,o,Pe),g(o,l),g(l,c),g(c,u),g(u,f),g(f,d),d.checked=d.__value===t[6],g(f,p),g(f,h),g(h,w),g(u,$),g(u,v),g(v,b),b.checked=b.__value===t[6],g(v,I),g(v,k),g(k,C),g(u,U),g(u,Y),g(Y,ae),g(l,he),g(l,ye),g(ye,K),g(K,z),g(z,x),g(K,W),g(K,oe),at(oe,t[2]),g(K,le),g(K,Re),g(Re,Fe),g(l,Ie),g(l,L),g(L,A),g(A,F),g(F,j),g(A,m),g(A,S),at(S,t[3]),g(A,V),g(A,G),g(G,Q),g(l,re),g(l,ue),g(ue,$e),je&&je.m($e,null),g($e,We),Te&&Te.m($e,null),g($e,nt),g($e,se),g(se,me),g(o,qe),g(o,pe),Ce&&Ce.m(pe,null),Se=!0,it||(ot=[ne(d,"change",t[16]),ne(d,"change",t[11]),ne(b,"change",t[18]),ne(b,"change",t[11]),ne(Y,"click",t[14]),ne(oe,"input",t[19]),ne(oe,"input",t[11]),ne(S,"input",t[20]),ne(S,"input",t[12]),ne(se,"click",t[13])],it=!0)},p(de,[Pe]){Pe&64&&(d.checked=d.__value===de[6]),Pe&64&&(b.checked=b.__value===de[6]),Pe&4&&at(oe,de[2]),(!Se||Pe&16)&&Oe(oe,"is-invalid",de[4]),(!Se||Pe&16)&&Qe(Fe,de[4]),Pe&8&&at(S,de[3]),(!Se||Pe&32)&&Oe(S,"is-invalid",de[5]),(!Se||Pe&32)&&Qe(Q,de[5]),de[8]?je?je.p(de,Pe):(je=Ei(de),je.c(),je.m($e,We)):je&&(je.d(1),je=null),de[9]?Te||(Te=wi(),Te.c(),Te.m($e,nt)):Te&&(Te.d(1),Te=null),de[0]&&!de[4]?Ce?(Ce.p(de,Pe),Pe&17&&_e(Ce,1)):(Ce=Si(de),Ce.c(),_e(Ce,1),Ce.m(pe,null)):Ce&&(Xt(),be(Ce,1,1,()=>{Ce=null}),Zt())},i(de){Se||(_e(Ce),Se=!0)},o(de){be(Ce),Se=!1},d(de){de&&y(e),de&&y(n),de&&y(a),de&&y(i),de&&y(o),je&&je.d(),Te&&Te.d(),Ce&&Ce.d(),Xe.r(),it=!1,Ut(ot)}}}function e_(t,e,r){let n,a,s,i="",o="",l="",c="",u="pydantic_v2",f;function d(){if(r(8,h=""),r(4,l=""),i===""){r(0,a=void 0);return}let K;try{K=JSON.parse(i)}catch{r(0,a=void 0),r(4,l="Invalid JSON");return}try{new gr(u).validateSchema(K)}catch{try{r(6,u=ha(K))}catch(x){r(0,a=void 0),r(4,l=`Invalid JSON Schema: ${x.message}`);return}}r(0,a=K),b()}function p(){r(8,h=""),r(5,c="");try{r(1,s=JSON.parse(o))}catch{r(1,s=void 0),r(5,c="Invalid JSON")}}let h="",w=!1;function $(){try{r(8,h=""),r(9,w=!1),f==null||f.validateArguments(),r(9,w=!0)}catch(K){r(8,h=ma(K))}}function v(){r(6,u="pydantic_v2"),r(2,i=JSON.stringify(Yp,null,2)),d()}async function b(){await en(),f&&k(f.getArguments())}function I({detail:K}){k(K.value)}function k(K){const z=_r(K),x=JSON.stringify(Vn(z),null,2);x!==o&&r(3,o=x)}const C=[[]];function U(){u=this.__value,r(6,u)}function Y(){u=this.__value,r(6,u)}function ae(){i=this.value,r(2,i)}function he(){o=this.value,r(3,o)}function ye(K){$r[K?"unshift":"push"](()=>{f=K,r(7,f)})}return r(10,n=On(!1)),[a,s,i,o,l,c,u,f,h,w,n,d,p,$,v,I,U,C,Y,ae,he,ye]}class t_ extends gt{constructor(e){super(),$t(this,e,e_,xp,ft,{})}}function ki(t,e,r){const n=t.slice();return n[49]=e[r],n[51]=r,n}function Pi(t){let e,r,n;return{c(){e=P("div"),r=P("pre"),n=X(t[18]),this.h()},l(a){e=N(a,"DIV",{class:!0});var s=T(e);r=N(s,"PRE",{});var i=T(r);n=Z(i,t[18]),i.forEach(y),s.forEach(y),this.h()},h(){_(e,"class","alert alert-danger")},m(a,s){q(a,e,s),g(e,r),g(r,n)},p(a,s){s[0]&262144&&Qe(n,a[18])},d(a){a&&y(e)}}}function Ni(t){let e,r;return{c(){e=P("div"),r=X("Data is valid"),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=T(e);r=Z(a,"Data is valid"),a.forEach(y),this.h()},h(){_(e,"class","alert alert-success")},m(n,a){q(n,e,a),g(e,r)},d(n){n&&y(e)}}}function Ii(t){let e,r,n={componentId:"json-schema-version-update-sandbox",schema:t[4],schemaData:t[5],schemaVersion:t[10],propertiesToIgnore:t[22]};return e=new ms({props:n}),t[40](e),e.$on("change",t[27]),{c(){Ke(e.$$.fragment)},l(a){Be(e.$$.fragment,a)},m(a,s){He(e,a,s),r=!0},p(a,s){const i={};s[0]&16&&(i.schema=a[4]),s[0]&32&&(i.schemaData=a[5]),s[0]&1024&&(i.schemaVersion=a[10]),s[0]&4194304&&(i.propertiesToIgnore=a[22]),e.$set(i)},i(a){r||(_e(e.$$.fragment,a),r=!0)},o(a){be(e.$$.fragment,a),r=!1},d(a){t[40](null),Ge(e,a)}}}function Oi(t){let e,r,n,a,s,i,o=t[16]&&t[17]&&Ti(t);return{c(){e=P("button"),r=X("Try version update"),n=B(),o&&o.c(),a=st(),this.h()},l(l){e=N(l,"BUTTON",{class:!0});var c=T(e);r=Z(c,"Try version update"),c.forEach(y),n=H(l),o&&o.l(l),a=st(),this.h()},h(){_(e,"class","btn btn-primary mt-4 mb-2")},m(l,c){q(l,e,c),g(e,r),q(l,n,c),o&&o.m(l,c),q(l,a,c),s||(i=ne(e,"click",t[28]),s=!0)},p(l,c){l[16]&&l[17]?o?o.p(l,c):(o=Ti(l),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(l){l&&y(e),l&&y(n),o&&o.d(l),l&&y(a),s=!1,i()}}}function Ti(t){let e,r,n,a=t[3]&&Di(t),s=t[1]&&Ci(t),i=t[20]&&Fi(t);return{c(){a&&a.c(),e=B(),s&&s.c(),r=B(),i&&i.c(),n=st()},l(o){a&&a.l(o),e=H(o),s&&s.l(o),r=H(o),i&&i.l(o),n=st()},m(o,l){a&&a.m(o,l),q(o,e,l),s&&s.m(o,l),q(o,r,l),i&&i.m(o,l),q(o,n,l)},p(o,l){o[3]?a?a.p(o,l):(a=Di(o),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),o[1]?s?s.p(o,l):(s=Ci(o),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),o[20]?i?i.p(o,l):(i=Fi(o),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(o){a&&a.d(o),o&&y(e),s&&s.d(o),o&&y(r),i&&i.d(o),o&&y(n)}}}function Di(t){let e,r,n,a,s,i=t[3],o=[];for(let l=0;l<i.length;l+=1)o[l]=ji(ki(t,i,l));return{c(){e=P("div"),r=P("p"),n=X("Following errors must be fixed before performing the update:"),a=B(),s=P("ul");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=N(l,"DIV",{class:!0});var c=T(e);r=N(c,"P",{});var u=T(r);n=Z(u,"Following errors must be fixed before performing the update:"),u.forEach(y),a=H(c),s=N(c,"UL",{id:!0});var f=T(s);for(let d=0;d<o.length;d+=1)o[d].l(f);f.forEach(y),c.forEach(y),this.h()},h(){_(s,"id","validation-errors"),_(e,"class","alert alert-danger mt-3")},m(l,c){q(l,e,c),g(e,r),g(r,n),g(e,a),g(e,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null)},p(l,c){if(c[0]&8){i=l[3];let u;for(u=0;u<i.length;u+=1){const f=ki(l,i,u);o[u]?o[u].p(f,c):(o[u]=ji(f),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(l){l&&y(e),Rn(o,l)}}}function Ai(t){let e=t[49].instancePath+"",r,n;return{c(){r=X(e),n=X(":")},l(a){r=Z(a,e),n=Z(a,":")},m(a,s){q(a,r,s),q(a,n,s)},p(a,s){s[0]&8&&e!==(e=a[49].instancePath+"")&&Qe(r,e)},d(a){a&&y(r),a&&y(n)}}}function r_(t){let e=t[49].message+"",r;return{c(){r=X(e)},l(n){r=Z(n,e)},m(n,a){q(n,r,a)},p(n,a){a[0]&8&&e!==(e=n[49].message+"")&&Qe(r,e)},d(n){n&&y(r)}}}function n_(t){let e,r=t[49].params.additionalProperty+"",n,a;return{c(){e=X("must NOT have additional property '"),n=X(r),a=X("'")},l(s){e=Z(s,"must NOT have additional property '"),n=Z(s,r),a=Z(s,"'")},m(s,i){q(s,e,i),q(s,n,i),q(s,a,i)},p(s,i){i[0]&8&&r!==(r=s[49].params.additionalProperty+"")&&Qe(n,r)},d(s){s&&y(e),s&&y(n),s&&y(a)}}}function ji(t){let e,r,n,a,s,i,o,l,c,u=JSON.stringify(t[49],null,2)+"",f,d,p=t[49].instancePath&&Ai(t);function h(v,b){return v[49].keyword==="additionalProperties"?n_:r_}let w=h(t),$=w(t);return{c(){e=P("li"),p&&p.c(),r=B(),$.c(),n=B(),a=P("small"),s=X("more"),i=B(),o=P("div"),l=P("div"),c=P("pre"),f=X(u),d=B(),this.h()},l(v){e=N(v,"LI",{});var b=T(e);p&&p.l(b),r=H(b),$.l(b),n=H(b),a=N(b,"SMALL",{"data-bs-toggle":!0,"data-bs-target":!0,"aria-expanded":!0,"aria-controls":!0,class:!0,role:!0});var I=T(a);s=Z(I,"more"),I.forEach(y),i=H(b),o=N(b,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var k=T(o);l=N(k,"DIV",{class:!0});var C=T(l);c=N(C,"PRE",{class:!0});var U=T(c);f=Z(U,u),U.forEach(y),C.forEach(y),k.forEach(y),d=H(b),b.forEach(y),this.h()},h(){_(a,"data-bs-toggle","collapse"),_(a,"data-bs-target","#collapse-"+t[51]),_(a,"aria-expanded","true"),_(a,"aria-controls","collapse-"+t[51]),_(a,"class","text-primary"),_(a,"role","button"),_(c,"class","alert alert-warning mt-1"),_(l,"class","accordion-body"),_(o,"id","collapse-"+t[51]),_(o,"class","accordion-collapse collapse"),_(o,"data-bs-parent","#validation-errors")},m(v,b){q(v,e,b),p&&p.m(e,null),g(e,r),$.m(e,null),g(e,n),g(e,a),g(a,s),g(e,i),g(e,o),g(o,l),g(l,c),g(c,f),g(e,d)},p(v,b){v[49].instancePath?p?p.p(v,b):(p=Ai(v),p.c(),p.m(e,r)):p&&(p.d(1),p=null),w===(w=h(v))&&$?$.p(v,b):($.d(1),$=w(v),$&&($.c(),$.m(e,n))),b[0]&8&&u!==(u=JSON.stringify(v[49],null,2)+"")&&Qe(f,u)},d(v){v&&y(e),p&&p.d(),$.d()}}}function Ci(t){let e,r,n,a=!t[3]&&Ri(),s=t[20]&&Vi(t),i=!t[21]&&Mi();return{c(){a&&a.c(),e=B(),s&&s.c(),r=B(),i&&i.c(),n=st()},l(o){a&&a.l(o),e=H(o),s&&s.l(o),r=H(o),i&&i.l(o),n=st()},m(o,l){a&&a.m(o,l),q(o,e,l),s&&s.m(o,l),q(o,r,l),i&&i.m(o,l),q(o,n,l)},p(o,l){o[3]?a&&(a.d(1),a=null):a||(a=Ri(),a.c(),a.m(e.parentNode,e)),o[20]?s?s.p(o,l):(s=Vi(o),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),o[21]?i&&(i.d(1),i=null):i||(i=Mi(),i.c(),i.m(n.parentNode,n))},d(o){a&&a.d(o),o&&y(e),s&&s.d(o),o&&y(r),i&&i.d(o),o&&y(n)}}}function Ri(t){let e,r;return{c(){e=P("div"),r=X("The arguments are valid"),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=T(e);r=Z(a,"The arguments are valid"),a.forEach(y),this.h()},h(){_(e,"class","alert alert-success mt-3")},m(n,a){q(n,e,a),g(e,r)},d(n){n&&y(e)}}}function Vi(t){let e,r,n,a,s,i;return{c(){e=P("label"),r=X("Fix the arguments:"),n=B(),a=P("textarea"),this.h()},l(o){e=N(o,"LABEL",{class:!0,for:!0});var l=T(e);r=Z(l,"Fix the arguments:"),l.forEach(y),n=H(o),a=N(o,"TEXTAREA",{class:!0,id:!0,rows:!0}),T(a).forEach(y),this.h()},h(){_(e,"class","form-label"),_(e,"for","fix-arguments"),_(a,"class","form-control"),_(a,"id","fix-arguments"),_(a,"rows","20"),Oe(a,"is-invalid",!t[21])},m(o,l){q(o,e,l),g(e,r),q(o,n,l),q(o,a,l),at(a,t[2]),s||(i=ne(a,"input",t[44]),s=!0)},p(o,l){l[0]&4&&at(a,o[2]),l[0]&2097152&&Oe(a,"is-invalid",!o[21])},d(o){o&&y(e),o&&y(n),o&&y(a),s=!1,i()}}}function Mi(t){let e,r;return{c(){e=P("div"),r=X("Invalid JSON"),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=T(e);r=Z(a,"Invalid JSON"),a.forEach(y),this.h()},h(){_(e,"class","invalid-feedback")},m(n,a){q(n,e,a),g(e,r)},d(n){n&&y(e)}}}function Fi(t){let e,r,n,a;return{c(){e=P("button"),r=X("Check"),this.h()},l(s){e=N(s,"BUTTON",{type:!0,class:!0});var i=T(e);r=Z(i,"Check"),i.forEach(y),this.h()},h(){_(e,"type","button"),_(e,"class","btn btn-warning mt-3")},m(s,i){q(s,e,i),g(e,r),n||(a=ne(e,"click",t[0]),n=!0)},p:Ct,d(s){s&&y(e),n=!1,a()}}}function a_(t){let e,r,n,a,s,i,o,l,c,u,f,d,p,h,w,$,v,b,I,k,C,U,Y,ae,he,ye,K,z,x,W,oe,le,Re,Fe,Ie,L,A,F,j,m,S,V,G,Q,re,ue,$e,We,nt,se,me,qe,pe,Se,Xe,it,ot,je,Te,Ce,de,Pe,lt,bt,Le,Ze,ze,Dt,ct,dt,qt,mt,Ve,Vt,Mt,cr,rr,ht,Lt,Et,Nt,wt,ur,Qt,St,Gr,nr,Dr,Ar,O,E,D,M,R,ce,te=t[18]&&Pi(t),ve=t[19]&&Ni(),Ee=t[4]&&Ii(t),De=t[12]&&Oi(t);return D=Pn(t[36][0]),M=Pn(t[36][1]),{c(){e=P("h1"),r=X("Sandbox page for task version update"),n=B(),a=P("p"),s=X("This is a test page for the task version update"),i=B(),o=P("div"),l=P("div"),c=P("h2"),u=X("Old schema"),f=B(),d=P("div"),p=P("input"),h=B(),w=P("label"),$=X("pydantic_v1"),v=B(),b=P("div"),I=P("input"),k=B(),C=P("label"),U=X("pydantic_v2"),Y=B(),ae=P("div"),he=P("button"),ye=X("Load example"),K=B(),z=P("div"),x=P("div"),W=P("div"),oe=P("div"),le=P("label"),Re=X("JSON Schema"),Fe=B(),Ie=P("textarea"),L=B(),A=P("span"),F=X(t[8]),j=B(),m=P("div"),S=P("div"),V=P("label"),G=X("Initial JSON data"),Q=B(),re=P("textarea"),ue=B(),$e=P("span"),We=X(t[9]),nt=B(),se=P("div"),me=P("div"),te&&te.c(),qe=B(),ve&&ve.c(),pe=B(),Se=P("button"),Xe=X("Validate"),it=B(),ot=P("div"),Ee&&Ee.c(),je=B(),Te=P("hr"),Ce=B(),de=P("div"),Pe=P("div"),lt=P("h2"),bt=X("New schema"),Le=B(),Ze=P("div"),ze=P("input"),Dt=B(),ct=P("label"),dt=X("pydantic_v1"),qt=B(),mt=P("div"),Ve=P("input"),Vt=B(),Mt=P("label"),cr=X("pydantic_v2"),rr=B(),ht=P("div"),Lt=P("div"),Et=P("div"),Nt=P("div"),wt=P("label"),ur=X("JSON Schema"),Qt=B(),St=P("textarea"),Gr=B(),nr=P("span"),Dr=X(t[15]),Ar=B(),O=P("div"),De&&De.c(),this.h()},l(J){e=N(J,"H1",{class:!0});var ie=T(e);r=Z(ie,"Sandbox page for task version update"),ie.forEach(y),n=H(J),a=N(J,"P",{});var et=T(a);s=Z(et,"This is a test page for the task version update"),et.forEach(y),i=H(J),o=N(J,"DIV",{class:!0});var ge=T(o);l=N(ge,"DIV",{class:!0});var Me=T(l);c=N(Me,"H2",{});var tt=T(c);u=Z(tt,"Old schema"),tt.forEach(y),f=H(Me),d=N(Me,"DIV",{class:!0});var Ue=T(d);p=N(Ue,"INPUT",{class:!0,type:!0,name:!0,id:!0}),h=H(Ue),w=N(Ue,"LABEL",{class:!0,for:!0});var Jt=T(w);$=Z(Jt,"pydantic_v1"),Jt.forEach(y),Ue.forEach(y),v=H(Me),b=N(Me,"DIV",{class:!0});var It=T(b);I=N(It,"INPUT",{class:!0,type:!0,name:!0,id:!0}),k=H(It),C=N(It,"LABEL",{class:!0,for:!0});var jt=T(C);U=Z(jt,"pydantic_v2"),jt.forEach(y),It.forEach(y),Me.forEach(y),Y=H(ge),ae=N(ge,"DIV",{class:!0});var ar=T(ae);he=N(ar,"BUTTON",{class:!0});var Yt=T(he);ye=Z(Yt,"Load example"),Yt.forEach(y),ar.forEach(y),ge.forEach(y),K=H(J),z=N(J,"DIV",{class:!0});var pt=T(z);x=N(pt,"DIV",{class:!0});var _t=T(x);W=N(_t,"DIV",{class:!0});var xt=T(W);oe=N(xt,"DIV",{class:!0});var kt=T(oe);le=N(kt,"LABEL",{for:!0});var fr=T(le);Re=Z(fr,"JSON Schema"),fr.forEach(y),Fe=H(kt),Ie=N(kt,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(Ie).forEach(y),L=H(kt),A=N(kt,"SPAN",{class:!0});var Wr=T(A);F=Z(Wr,t[8]),Wr.forEach(y),kt.forEach(y),xt.forEach(y),j=H(_t),m=N(_t,"DIV",{class:!0});var Xr=T(m);S=N(Xr,"DIV",{class:!0});var Kt=T(S);V=N(Kt,"LABEL",{for:!0});var br=T(V);G=Z(br,"Initial JSON data"),br.forEach(y),Q=H(Kt),re=N(Kt,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(re).forEach(y),ue=H(Kt),$e=N(Kt,"SPAN",{class:!0});var Er=T($e);We=Z(Er,t[9]),Er.forEach(y),Kt.forEach(y),Xr.forEach(y),nt=H(_t),se=N(_t,"DIV",{class:!0});var Zr=T(se);me=N(Zr,"DIV",{class:!0});var sr=T(me);te&&te.l(sr),qe=H(sr),ve&&ve.l(sr),pe=H(sr),Se=N(sr,"BUTTON",{class:!0});var dr=T(Se);Xe=Z(dr,"Validate"),dr.forEach(y),sr.forEach(y),Zr.forEach(y),_t.forEach(y),it=H(pt),ot=N(pt,"DIV",{class:!0});var ps=T(ot);Ee&&Ee.l(ps),ps.forEach(y),pt.forEach(y),je=H(J),Te=N(J,"HR",{}),Ce=H(J),de=N(J,"DIV",{class:!0});var _s=T(de);Pe=N(_s,"DIV",{class:!0});var jr=T(Pe);lt=N(jr,"H2",{});var vs=T(lt);bt=Z(vs,"New schema"),vs.forEach(y),Le=H(jr),Ze=N(jr,"DIV",{class:!0});var dn=T(Ze);ze=N(dn,"INPUT",{class:!0,type:!0,name:!0,id:!0}),Dt=H(dn),ct=N(dn,"LABEL",{class:!0,for:!0});var ys=T(ct);dt=Z(ys,"pydantic_v1"),ys.forEach(y),dn.forEach(y),qt=H(jr),mt=N(jr,"DIV",{class:!0});var hn=T(mt);Ve=N(hn,"INPUT",{class:!0,type:!0,name:!0,id:!0}),Vt=H(hn),Mt=N(hn,"LABEL",{class:!0,for:!0});var gs=T(Mt);cr=Z(gs,"pydantic_v2"),gs.forEach(y),hn.forEach(y),jr.forEach(y),_s.forEach(y),rr=H(J),ht=N(J,"DIV",{class:!0});var mn=T(ht);Lt=N(mn,"DIV",{class:!0});var $s=T(Lt);Et=N($s,"DIV",{class:!0});var bs=T(Et);Nt=N(bs,"DIV",{class:!0});var Cr=T(Nt);wt=N(Cr,"LABEL",{for:!0});var Es=T(wt);ur=Z(Es,"JSON Schema"),Es.forEach(y),Qt=H(Cr),St=N(Cr,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(St).forEach(y),Gr=H(Cr),nr=N(Cr,"SPAN",{class:!0});var ws=T(nr);Dr=Z(ws,t[15]),ws.forEach(y),Cr.forEach(y),bs.forEach(y),$s.forEach(y),Ar=H(mn),O=N(mn,"DIV",{class:!0});var Ss=T(O);De&&De.l(Ss),Ss.forEach(y),mn.forEach(y),this.h()},h(){_(e,"class","fw-light"),_(p,"class","form-check-input"),_(p,"type","radio"),_(p,"name","oldSchemaVersionOptions"),_(p,"id","old_pydantic_v1"),p.__value="pydantic_v1",p.value=p.__value,_(w,"class","form-check-label"),_(w,"for","old_pydantic_v1"),_(d,"class","form-check form-check-inline"),_(I,"class","form-check-input"),_(I,"type","radio"),_(I,"name","oldSchemaVersionOptions"),_(I,"id","old_pydantic_v2"),I.__value="pydantic_v2",I.value=I.__value,_(C,"class","form-check-label"),_(C,"for","old_pydantic_v2"),_(b,"class","form-check form-check-inline"),_(l,"class","col-lg-6 mt-3"),_(he,"class","btn btn-outline-primary"),_(ae,"class","col-lg-6 mt-5"),_(o,"class","row"),_(le,"for","jschema-old"),_(Ie,"id","jschema-old"),_(Ie,"class","form-control"),_(Ie,"rows","10"),Oe(Ie,"is-invalid",t[8]),_(A,"class","invalid-feedback"),_(oe,"class","col"),_(W,"class","row has-validation mb-2"),_(V,"for","jdata-old"),_(re,"id","jdata-old"),_(re,"class","form-control"),_(re,"rows","10"),Oe(re,"is-invalid",t[9]),_($e,"class","invalid-feedback"),_(S,"class","col"),_(m,"class","row has-validation mt-3 mb-2"),_(Se,"class","btn btn-primary"),_(me,"class","col"),_(se,"class","row mt-3 mb-2"),_(x,"class","col-lg-6 mt-3"),_(ot,"class","col-lg-6 mt-3"),_(z,"class","row"),_(ze,"class","form-check-input"),_(ze,"type","radio"),_(ze,"name","newSchemaVersionOptions"),_(ze,"id","new_pydantic_v1"),ze.__value="pydantic_v1",ze.value=ze.__value,_(ct,"class","form-check-label"),_(ct,"for","new_pydantic_v1"),_(Ze,"class","form-check form-check-inline"),_(Ve,"class","form-check-input"),_(Ve,"type","radio"),_(Ve,"name","newSchemaVersionOptions"),_(Ve,"id","new_pydantic_v2"),Ve.__value="pydantic_v2",Ve.value=Ve.__value,_(Mt,"class","form-check-label"),_(Mt,"for","new_pydantic_v2"),_(mt,"class","form-check form-check-inline"),_(Pe,"class","col-lg-6 mt-2"),_(de,"class","row"),_(wt,"for","jschema-new"),_(St,"id","jschema-new"),_(St,"class","form-control"),_(St,"rows","10"),Oe(St,"is-invalid",t[15]),_(nr,"class","invalid-feedback"),_(Nt,"class","col"),_(Et,"class","row has-validation mb-2"),_(Lt,"class","col-lg-6 mt-3"),_(O,"class","col-lg-6"),_(ht,"class","row mb-5"),D.p(ze,Ve),M.p(p,I)},m(J,ie){q(J,e,ie),g(e,r),q(J,n,ie),q(J,a,ie),g(a,s),q(J,i,ie),q(J,o,ie),g(o,l),g(l,c),g(c,u),g(l,f),g(l,d),g(d,p),p.checked=p.__value===t[10],g(d,h),g(d,w),g(w,$),g(l,v),g(l,b),g(b,I),I.checked=I.__value===t[10],g(b,k),g(b,C),g(C,U),g(o,Y),g(o,ae),g(ae,he),g(he,ye),q(J,K,ie),q(J,z,ie),g(z,x),g(x,W),g(W,oe),g(oe,le),g(le,Re),g(oe,Fe),g(oe,Ie),at(Ie,t[6]),g(oe,L),g(oe,A),g(A,F),g(x,j),g(x,m),g(m,S),g(S,V),g(V,G),g(S,Q),g(S,re),at(re,t[7]),g(S,ue),g(S,$e),g($e,We),g(x,nt),g(x,se),g(se,me),te&&te.m(me,null),g(me,qe),ve&&ve.m(me,null),g(me,pe),g(me,Se),g(Se,Xe),g(z,it),g(z,ot),Ee&&Ee.m(ot,null),q(J,je,ie),q(J,Te,ie),q(J,Ce,ie),q(J,de,ie),g(de,Pe),g(Pe,lt),g(lt,bt),g(Pe,Le),g(Pe,Ze),g(Ze,ze),ze.checked=ze.__value===t[13],g(Ze,Dt),g(Ze,ct),g(ct,dt),g(Pe,qt),g(Pe,mt),g(mt,Ve),Ve.checked=Ve.__value===t[13],g(mt,Vt),g(mt,Mt),g(Mt,cr),q(J,rr,ie),q(J,ht,ie),g(ht,Lt),g(Lt,Et),g(Et,Nt),g(Nt,wt),g(wt,ur),g(Nt,Qt),g(Nt,St),at(St,t[14]),g(Nt,Gr),g(Nt,nr),g(nr,Dr),g(ht,Ar),g(ht,O),De&&De.m(O,null),E=!0,R||(ce=[ne(p,"change",t[35]),ne(p,"change",t[23]),ne(I,"change",t[37]),ne(I,"change",t[23]),ne(he,"click",t[29]),ne(Ie,"input",t[38]),ne(Ie,"input",t[23]),ne(re,"input",t[39]),ne(re,"input",t[24]),ne(Se,"click",t[26]),ne(ze,"change",t[41]),ne(ze,"change",t[25]),ne(Ve,"change",t[42]),ne(Ve,"change",t[25]),ne(St,"input",t[43]),ne(St,"input",t[25])],R=!0)},p(J,ie){ie[0]&1024&&(p.checked=p.__value===J[10]),ie[0]&1024&&(I.checked=I.__value===J[10]),ie[0]&64&&at(Ie,J[6]),(!E||ie[0]&256)&&Oe(Ie,"is-invalid",J[8]),(!E||ie[0]&256)&&Qe(F,J[8]),ie[0]&128&&at(re,J[7]),(!E||ie[0]&512)&&Oe(re,"is-invalid",J[9]),(!E||ie[0]&512)&&Qe(We,J[9]),J[18]?te?te.p(J,ie):(te=Pi(J),te.c(),te.m(me,qe)):te&&(te.d(1),te=null),J[19]?ve||(ve=Ni(),ve.c(),ve.m(me,pe)):ve&&(ve.d(1),ve=null),J[4]?Ee?(Ee.p(J,ie),ie[0]&16&&_e(Ee,1)):(Ee=Ii(J),Ee.c(),_e(Ee,1),Ee.m(ot,null)):Ee&&(Xt(),be(Ee,1,1,()=>{Ee=null}),Zt()),ie[0]&8192&&(ze.checked=ze.__value===J[13]),ie[0]&8192&&(Ve.checked=Ve.__value===J[13]),ie[0]&16384&&at(St,J[14]),(!E||ie[0]&32768)&&Oe(St,"is-invalid",J[15]),(!E||ie[0]&32768)&&Qe(Dr,J[15]),J[12]?De?De.p(J,ie):(De=Oi(J),De.c(),De.m(O,null)):De&&(De.d(1),De=null)},i(J){E||(_e(Ee),E=!0)},o(J){be(Ee),E=!1},d(J){J&&y(e),J&&y(n),J&&y(a),J&&y(i),J&&y(o),J&&y(K),J&&y(z),te&&te.d(),ve&&ve.d(),Ee&&Ee.d(),J&&y(je),J&&y(Te),J&&y(Ce),J&&y(de),J&&y(rr),J&&y(ht),De&&De.d(),D.r(),M.r(),R=!1,Ut(ce)}}}function s_(t,e,r){let n,a,s,i="",o="",l="",c="",u="pydantic_v2",f,d,p="pydantic_v2",h="",w="",$,v;async function b(){if(r(8,l=""),i===""){r(4,a=void 0);return}try{r(4,a=JSON.parse(i)),ae()}catch{r(4,a=void 0),r(8,l="Invalid JSON")}try{new gr(u).validateSchema(a)}catch{try{r(10,u=ha(a))}catch(me){r(4,a=void 0),r(8,l=`Invalid JSON Schema: ${me.message}`);return}}}function I(){r(9,c=""),r(9,c="");try{r(5,s=JSON.parse(o))}catch{r(5,s=void 0),r(9,c="Invalid JSON")}}function k(){if(r(16,$=void 0),r(17,v=void 0),r(15,w=""),h===""){r(12,d=void 0);return}try{r(12,d=JSON.parse(h))}catch{r(12,d=void 0),r(15,w="Invalid JSON")}try{new gr(p).validateSchema(d)}catch{try{r(13,p=ha(d))}catch(me){r(12,d=void 0),r(15,w=`Invalid JSON Schema: ${me.message}`);return}}}let C,U=!1;async function Y(){try{r(18,C=""),r(19,U=!1),r(5,s=JSON.parse(o)),await en(),f==null||f.validateArguments(),r(19,U=!0)}catch(se){r(18,C=ma(se)),r(16,$=void 0),r(17,v=void 0)}}async function ae(){if(await en(),!f)return;const se=_r(f.getArguments()),me=JSON.stringify(Vn(se),null,2);me!==o&&r(7,o=me)}async function he(){r(20,x=!1),U||await Y(),U&&(ye(),await en(),L())}function ye(){r(16,$={id:1,args_parallel:_r(s),task_type:"parallel"}),r(17,v={args_schema_parallel:d})}function K(){r(10,u="pydantic_v2"),r(13,p="pydantic_v2");const se={title:"Test",type:"object",properties:{foo:{title:"foo",type:"string"}},required:["foo"]},me=_r(se);me.properties.bar={title:"bar",type:"string"},me.required.push("bar"),r(6,i=JSON.stringify(se,null,2)),r(7,o=JSON.stringify({foo:"something"},null,2)),r(14,h=JSON.stringify(me,null,2)),b(),I(),k()}let z="",x=!1,W="",oe=!0,le=null;function Re(){r(2,W=""),r(3,le=null)}function Fe(){r(2,W=z),Ie()}function Ie(){if(!W)return;r(21,oe=!0);let se;try{se=JSON.parse(W)}catch{r(21,oe=!1);return}F(se)}function L(){const se=$.args_parallel||{};r(1,z=JSON.stringify(se,null,2)),F(se)}function A(){W!==""?JSON.parse(W):$.args_parallel}function F(se){const me=v.args_schema_parallel,qe=new gr(p,!0);"properties"in me&&no(me,On(!1));const pe=_r(me);if(!qe.loadSchema(pe))throw new Error("Invalid JSON schema");qe.isValid(se)?r(3,le=null):(r(2,W=JSON.stringify(se,null,2)),r(20,x=!0),r(3,le=qe.getErrors()))}function j(){return((le==null?void 0:le.length)||0)>0}const m=[[],[]];function S(){u=this.__value,r(10,u)}function V(){u=this.__value,r(10,u)}function G(){i=this.value,r(6,i)}function Q(){o=this.value,r(7,o)}function re(se){$r[se?"unshift":"push"](()=>{f=se,r(11,f)})}function ue(){p=this.__value,r(13,p)}function $e(){p=this.__value,r(13,p)}function We(){h=this.value,r(14,h)}function nt(){W=this.value,r(2,W)}return t.$$.update=()=>{t.$$.dirty[0]&14&&(le===null||le.length)},r(22,n=On(!1)),[Ie,z,W,le,a,s,i,o,l,c,u,f,d,p,h,w,$,v,C,U,x,oe,n,b,I,k,Y,ae,he,K,Re,Fe,L,A,j,S,m,V,G,Q,re,ue,$e,We,nt]}class i_ extends gt{constructor(e){super(),$t(this,e,s_,a_,ft,{reset:30,cancel:31,check:0,checkArgumentsWithNewSchema:32,getNewArgs:33,hasValidationErrors:34},null,[-1,-1])}get reset(){return this.$$.ctx[30]}get cancel(){return this.$$.ctx[31]}get check(){return this.$$.ctx[0]}get checkArgumentsWithNewSchema(){return this.$$.ctx[32]}get getNewArgs(){return this.$$.ctx[33]}get hasValidationErrors(){return this.$$.ctx[34]}}const o_="ManifestV2",l_=`Packages containing tasks are required to include a special file
\`__FRACTAL_MANIFEST__.json\` in order to be discovered and used by Fractal.

This model class and the model classes it depends on provide the base
schema to read, write and validate manifests.

Attributes:
    manifest_version:
        A version string that provides indication for compatibility between
        manifests as the schema evolves. This is for instance used by
        Fractal to determine which subclass of the present base class needs
        be used to read and validate the input.
    task_list : list[TaskManifestType]
        The list of tasks, represented as specified by subclasses of the
        _TaskManifestBase (a.k.a. TaskManifestType)
    has_args_schemas:
        \`True\` if the manifest incldues JSON Schemas for the arguments of
        each task.
    args_schema_version:
        Label of how \`args_schema\`s were generated (e.g. \`pydantic_v2\`).`,c_="object",u_={manifest_version:{title:"Manifest Version",type:"string"},task_list:{title:"Task List",type:"array",items:{$ref:"#/definitions/TaskManifestV2"}},has_args_schemas:{title:"Has Args Schemas",default:!1,type:"boolean"},args_schema_version:{title:"Args Schema Version",type:"string"}},f_=["manifest_version","task_list"],d_={TaskManifestV2:{title:"TaskManifestV2",description:`Represents a task within a V2 manifest.

Attributes:
    name:
        The task name
    executable:
        Path to the executable relative to the package root

        Note: by package root we mean "as it will be installed". If a
        package \`Pkg\` installs in the folder \`pkg\` the executable
        \`pkg/executable.py\`, this attribute must contain only
        \`executable.py\`.
    input_type:
        The input type accepted by the task
    output_type:
        The output type returned by the task
    meta:
        Additional information about the package, such as hash of the
        executable, specific runtime requirements (e.g., need_gpu=True),
        etc.
    args_schema:
        JSON Schema for task arguments
    docs_info:
        Additional information about the Task, coming from the docstring.
    docs_link:
        Link to Task docs.`,type:"object",properties:{name:{title:"Name",type:"string"},executable_non_parallel:{title:"Executable Non Parallel",type:"string"},executable_parallel:{title:"Executable Parallel",type:"string"},input_types:{title:"Input Types",type:"object",additionalProperties:{type:"boolean"}},output_types:{title:"Output Types",type:"object",additionalProperties:{type:"boolean"}},meta_non_parallel:{title:"Meta Non Parallel",type:"object"},meta_parallel:{title:"Meta Parallel",type:"object"},args_schema_non_parallel:{title:"Args Schema Non Parallel",type:"object"},args_schema_parallel:{title:"Args Schema Parallel",type:"object"},docs_info:{title:"Docs Info",type:"string"},docs_link:{title:"Docs Link",minLength:1,maxLength:2083,format:"uri",type:"string"}},required:["name"]}},h_={title:o_,description:l_,type:c_,properties:u_,required:f_,definitions:d_};function zi(t){let e,r,n,a;return{c(){e=P("button"),r=X("Clear"),this.h()},l(s){e=N(s,"BUTTON",{class:!0});var i=T(e);r=Z(i,"Clear"),i.forEach(y),this.h()},h(){_(e,"class","btn btn-outline-secondary")},m(s,i){q(s,e,i),g(e,r),n||(a=ne(e,"click",t[8]),n=!0)},p:Ct,d(s){s&&y(e),n=!1,a()}}}function m_(t){let e,r,n,a,s,i,o,l,c,u,f,d,p,h,w,$,v,b=t[3]&&t[3].length>0&&zi(t);return{c(){e=P("div"),r=P("div"),n=P("div"),a=P("label"),s=X(t[1]),i=B(),o=P("input"),l=B(),b&&b.c(),c=B(),u=P("span"),f=X(t[5]),d=B(),p=P("p"),h=P("i"),w=X(" or drag file here"),this.h()},l(I){e=N(I,"DIV",{class:!0});var k=T(e);r=N(k,"DIV",{class:!0});var C=T(r);n=N(C,"DIV",{class:!0});var U=T(n);a=N(U,"LABEL",{for:!0,class:!0});var Y=T(a);s=Z(Y,t[1]),Y.forEach(y),i=H(U),o=N(U,"INPUT",{class:!0,accept:!0,type:!0,name:!0,id:!0}),l=H(U),b&&b.l(U),c=H(U),u=N(U,"SPAN",{class:!0});var ae=T(u);f=Z(ae,t[5]),ae.forEach(y),U.forEach(y),C.forEach(y),d=H(k),p=N(k,"P",{class:!0});var he=T(p);h=N(he,"I",{class:!0}),T(h).forEach(y),w=Z(he," or drag file here"),he.forEach(y),k.forEach(y),this.h()},h(){_(a,"for",t[0]),_(a,"class","input-group-text"),_(o,"class","form-control"),_(o,"accept",t[2]),_(o,"type","file"),_(o,"name",t[0]),_(o,"id",t[0]),Oe(o,"is-invalid",t[5]),_(u,"class","invalid-feedback"),_(n,"class","input-group has-validation"),_(r,"class","m-1"),_(h,"class","bi bi-file-earmark-arrow-up"),_(p,"class","text-center mt-1 mb-1"),_(e,"class","dropZone bg-light svelte-1n1vpyg"),Oe(e,"dragOver",t[6])},m(I,k){q(I,e,k),g(e,r),g(r,n),g(n,a),g(a,s),g(n,i),g(n,o),t[13](o),g(n,l),b&&b.m(n,null),g(n,c),g(n,u),g(u,f),g(e,d),g(e,p),g(p,h),g(p,w),$||(v=[ne(o,"change",t[14]),ne(o,"change",t[7]),ne(e,"drop",t[9]),ne(e,"dragover",t[10]),ne(e,"dragleave",t[11])],$=!0)},p(I,[k]){k&2&&Qe(s,I[1]),k&1&&_(a,"for",I[0]),k&4&&_(o,"accept",I[2]),k&1&&_(o,"name",I[0]),k&1&&_(o,"id",I[0]),k&32&&Oe(o,"is-invalid",I[5]),I[3]&&I[3].length>0?b?b.p(I,k):(b=zi(I),b.c(),b.m(n,c)):b&&(b.d(1),b=null),k&32&&Qe(f,I[5]),k&64&&Oe(e,"dragOver",I[6])},i:Ct,o:Ct,d(I){I&&y(e),t[13](null),b&&b.d(),$=!1,Ut(v)}}}function p_(t,e,r){let{id:n}=e,{description:a}=e,{accept:s}=e,{validateFile:i}=e;const o=Qi();let l=null,c,u="";async function f(){if(r(5,u=""),!l||l.length===0){o("change",{value:null});return}const k=l[0];await h(k)}function d(){r(5,u=""),r(3,l=null),c&&r(4,c.value="",c),o("change",{value:null})}async function p(k){k.preventDefault(),r(6,w=!1),k.dataTransfer&&k.dataTransfer.files.length>0&&(r(3,l=k.dataTransfer.files),r(4,c.files=l,c),await h(l[0]))}async function h(k){r(5,u="");let C=await k.text();try{const U=i(C);o("change",{value:U})}catch(U){r(5,u=U.message),o("change",{value:null})}}let w=!1;function $(k){k.preventDefault(),r(6,w=!0)}function v(){r(6,w=!1)}function b(k){$r[k?"unshift":"push"](()=>{c=k,r(4,c)})}function I(){l=this.files,r(3,l)}return t.$$set=k=>{"id"in k&&r(0,n=k.id),"description"in k&&r(1,a=k.description),"accept"in k&&r(2,s=k.accept),"validateFile"in k&&r(12,i=k.validateFile)},[n,a,s,l,c,u,w,f,d,p,$,v,i,b,I]}class __ extends gt{constructor(e){super(),$t(this,e,p_,m_,ft,{id:0,description:1,accept:2,validateFile:12})}}function Ui(t,e,r){const n=t.slice();return n[37]=e[r],n}function qi(t){let e,r,n,a,s,i,o,l,c,u=t[0],f=[];for(let d=0;d<u.length;d+=1)f[d]=Li(Ui(t,u,d));return{c(){e=P("div"),r=P("label"),n=X("Task"),a=B(),s=P("select"),i=P("option"),o=X("Select...");for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){e=N(d,"DIV",{class:!0});var p=T(e);r=N(p,"LABEL",{for:!0,class:!0});var h=T(r);n=Z(h,"Task"),h.forEach(y),a=H(p),s=N(p,"SELECT",{class:!0,name:!0,id:!0});var w=T(s);i=N(w,"OPTION",{});var $=T(i);o=Z($,"Select..."),$.forEach(y);for(let v=0;v<f.length;v+=1)f[v].l(w);w.forEach(y),p.forEach(y),this.h()},h(){_(r,"for","selectedTask"),_(r,"class","input-group-text"),i.__value="",i.value=i.__value,_(s,"class","form-control"),_(s,"name","selectedTask"),_(s,"id","selectedTask"),t[1]===void 0&&Xi(()=>t[21].call(s)),_(e,"class","input-group")},m(d,p){q(d,e,p),g(e,r),g(r,n),g(e,a),g(e,s),g(s,i),g(i,o);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(s,null);kn(s,t[1],!0),l||(c=[ne(s,"change",t[21]),ne(s,"change",t[22])],l=!0)},p(d,p){if(p[0]&1){u=d[0];let h;for(h=0;h<u.length;h+=1){const w=Ui(d,u,h);f[h]?f[h].p(w,p):(f[h]=Li(w),f[h].c(),f[h].m(s,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=u.length}p[0]&3&&kn(s,d[1])},d(d){d&&y(e),Rn(f,d),l=!1,Ut(c)}}}function Li(t){let e,r=t[37]+"",n,a;return{c(){e=P("option"),n=X(r),this.h()},l(s){e=N(s,"OPTION",{});var i=T(e);n=Z(i,r),i.forEach(y),this.h()},h(){e.__value=a=t[37],e.value=e.__value},m(s,i){q(s,e,i),g(e,n)},p(s,i){i[0]&1&&r!==(r=s[37]+"")&&Qe(n,r),i[0]&1&&a!==(a=s[37])&&(e.__value=a,e.value=e.__value)},d(s){s&&y(e)}}}function Ji(t){let e,r,n,a,s,i,o,l,c,u,f,d,p,h,w,$,v,b,I,k,C,U,Y,ae,he,ye,K,z,x,W,oe,le,Re,Fe,Ie,L,A,F,j,m,S,V,G,Q,re,ue,$e,We,nt,se=t[11]&&Ki(t),me=t[12]&&Bi(),qe={componentId:"json-schema-task-manifest-sandbox",schema:t[2],schemaVersion:t[3],schemaData:t[6],propertiesToIgnore:t[14]};return re=new ms({props:qe}),t[29](re),re.$on("change",t[20]),$e=Pn(t[24][0]),{c(){e=P("div"),r=P("div"),n=P("div"),a=P("input"),i=B(),o=P("label"),l=X("non parallel"),c=B(),u=P("div"),f=P("input"),p=B(),h=P("label"),w=X("parallel"),$=B(),v=P("div"),b=P("div"),I=P("div"),k=P("div"),C=P("label"),U=X("JSON Schema"),Y=B(),ae=P("textarea"),ye=B(),K=P("div"),z=P("div"),x=P("label"),W=X("Initial JSON data"),oe=B(),le=P("textarea"),Re=B(),Fe=P("span"),Ie=X(t[8]),L=B(),A=P("div"),F=P("div"),se&&se.c(),j=B(),me&&me.c(),m=B(),S=P("button"),V=X("Validate"),G=B(),Q=P("div"),Ke(re.$$.fragment),this.h()},l(pe){e=N(pe,"DIV",{class:!0});var Se=T(e);r=N(Se,"DIV",{class:!0});var Xe=T(r);n=N(Xe,"DIV",{class:!0});var it=T(n);a=N(it,"INPUT",{class:!0,type:!0,name:!0,id:!0}),i=H(it),o=N(it,"LABEL",{class:!0,for:!0});var ot=T(o);l=Z(ot,"non parallel"),ot.forEach(y),it.forEach(y),c=H(Xe),u=N(Xe,"DIV",{class:!0});var je=T(u);f=N(je,"INPUT",{class:!0,type:!0,name:!0,id:!0}),p=H(je),h=N(je,"LABEL",{class:!0,for:!0});var Te=T(h);w=Z(Te,"parallel"),Te.forEach(y),je.forEach(y),Xe.forEach(y),Se.forEach(y),$=H(pe),v=N(pe,"DIV",{class:!0});var Ce=T(v);b=N(Ce,"DIV",{class:!0});var de=T(b);I=N(de,"DIV",{class:!0});var Pe=T(I);k=N(Pe,"DIV",{class:!0});var lt=T(k);C=N(lt,"LABEL",{for:!0});var bt=T(C);U=Z(bt,"JSON Schema"),bt.forEach(y),Y=H(lt),ae=N(lt,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(ae).forEach(y),lt.forEach(y),Pe.forEach(y),ye=H(de),K=N(de,"DIV",{class:!0});var Le=T(K);z=N(Le,"DIV",{class:!0});var Ze=T(z);x=N(Ze,"LABEL",{for:!0});var ze=T(x);W=Z(ze,"Initial JSON data"),ze.forEach(y),oe=H(Ze),le=N(Ze,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(le).forEach(y),Re=H(Ze),Fe=N(Ze,"SPAN",{class:!0});var Dt=T(Fe);Ie=Z(Dt,t[8]),Dt.forEach(y),Ze.forEach(y),Le.forEach(y),L=H(de),A=N(de,"DIV",{class:!0});var ct=T(A);F=N(ct,"DIV",{class:!0});var dt=T(F);se&&se.l(dt),j=H(dt),me&&me.l(dt),m=H(dt),S=N(dt,"BUTTON",{class:!0});var qt=T(S);V=Z(qt,"Validate"),qt.forEach(y),dt.forEach(y),ct.forEach(y),de.forEach(y),G=H(Ce),Q=N(Ce,"DIV",{class:!0});var mt=T(Q);Be(re.$$.fragment,mt),mt.forEach(y),Ce.forEach(y),this.h()},h(){_(a,"class","form-check-input"),_(a,"type","radio"),_(a,"name","schemaTypeSelector"),_(a,"id","schemaNonParallelSelector"),a.__value="non_parallel",a.value=a.__value,a.disabled=s=!t[9],_(o,"class","form-check-label"),_(o,"for","schemaNonParallelSelector"),_(n,"class","form-check form-check-inline"),_(f,"class","form-check-input"),_(f,"type","radio"),_(f,"name","schemaTypeSelector"),_(f,"id","schemaParallelSelector"),f.__value="parallel",f.value=f.__value,f.disabled=d=!t[10],_(h,"class","form-check-label"),_(h,"for","schemaParallelSelector"),_(u,"class","form-check form-check-inline"),_(r,"class","col-md-6"),_(e,"class","row mt-3"),_(C,"for","jschema"),_(ae,"id","jschema"),_(ae,"class","form-control"),ae.value=he=JSON.stringify(t[2],null,2),_(ae,"rows","10"),ae.disabled=!0,_(k,"class","col"),_(I,"class","row"),_(x,"for","jdata"),_(le,"id","jdata"),_(le,"class","form-control"),_(le,"rows","10"),Oe(le,"is-invalid",t[8]),_(Fe,"class","invalid-feedback"),_(z,"class","col"),_(K,"class","row has-validation mt-3 mb-2"),_(S,"class","btn btn-primary"),_(F,"class","col"),_(A,"class","row mt-3 mb-2"),_(b,"class","col-lg-6"),_(Q,"class","col-lg-6"),_(v,"class","row mt-2 mb-3"),$e.p(a,f)},m(pe,Se){q(pe,e,Se),g(e,r),g(r,n),g(n,a),a.checked=a.__value===t[4],g(n,i),g(n,o),g(o,l),g(r,c),g(r,u),g(u,f),f.checked=f.__value===t[4],g(u,p),g(u,h),g(h,w),q(pe,$,Se),q(pe,v,Se),g(v,b),g(b,I),g(I,k),g(k,C),g(C,U),g(k,Y),g(k,ae),g(b,ye),g(b,K),g(K,z),g(z,x),g(x,W),g(z,oe),g(z,le),at(le,t[7]),g(z,Re),g(z,Fe),g(Fe,Ie),g(b,L),g(b,A),g(A,F),se&&se.m(F,null),g(F,j),me&&me.m(F,null),g(F,m),g(F,S),g(S,V),g(v,G),g(v,Q),He(re,Q,null),ue=!0,We||(nt=[ne(a,"change",t[23]),ne(a,"change",t[25]),ne(f,"change",t[26]),ne(f,"change",t[27]),ne(le,"input",t[28]),ne(le,"input",t[19]),ne(S,"click",t[15])],We=!0)},p(pe,Se){(!ue||Se[0]&512&&s!==(s=!pe[9]))&&(a.disabled=s),Se[0]&16&&(a.checked=a.__value===pe[4]),(!ue||Se[0]&1024&&d!==(d=!pe[10]))&&(f.disabled=d),Se[0]&16&&(f.checked=f.__value===pe[4]),(!ue||Se[0]&4&&he!==(he=JSON.stringify(pe[2],null,2)))&&(ae.value=he),Se[0]&128&&at(le,pe[7]),(!ue||Se[0]&256)&&Oe(le,"is-invalid",pe[8]),(!ue||Se[0]&256)&&Qe(Ie,pe[8]),pe[11]?se?se.p(pe,Se):(se=Ki(pe),se.c(),se.m(F,j)):se&&(se.d(1),se=null),pe[12]?me||(me=Bi(),me.c(),me.m(F,m)):me&&(me.d(1),me=null);const Xe={};Se[0]&4&&(Xe.schema=pe[2]),Se[0]&8&&(Xe.schemaVersion=pe[3]),Se[0]&64&&(Xe.schemaData=pe[6]),Se[0]&16384&&(Xe.propertiesToIgnore=pe[14]),re.$set(Xe)},i(pe){ue||(_e(re.$$.fragment,pe),ue=!0)},o(pe){be(re.$$.fragment,pe),ue=!1},d(pe){pe&&y(e),pe&&y($),pe&&y(v),se&&se.d(),me&&me.d(),t[29](null),Ge(re),$e.r(),We=!1,Ut(nt)}}}function Ki(t){let e,r,n;return{c(){e=P("div"),r=P("pre"),n=X(t[11]),this.h()},l(a){e=N(a,"DIV",{class:!0});var s=T(e);r=N(s,"PRE",{});var i=T(r);n=Z(i,t[11]),i.forEach(y),s.forEach(y),this.h()},h(){_(e,"class","alert alert-danger")},m(a,s){q(a,e,s),g(e,r),g(r,n)},p(a,s){s[0]&2048&&Qe(n,a[11])},d(a){a&&y(e)}}}function Bi(t){let e,r;return{c(){e=P("div"),r=X("Data is valid"),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=T(e);r=Z(a,"Data is valid"),a.forEach(y),this.h()},h(){_(e,"class","alert alert-success")},m(n,a){q(n,e,a),g(e,r)},d(n){n&&y(e)}}}function v_(t){let e,r,n,a,s,i,o,l,c,u,f,d,p,h,w,$,v;c=new __({props:{description:"Upload manifest file",accept:"application/json",id:"manifestFileUpload",validateFile:t[16]}}),c.$on("change",t[17]);let b=t[0].length>0&&qi(t),I=t[2]&&t[5]&&Ji(t);return{c(){e=P("h1"),r=X("Sandbox page for task package manifest"),n=B(),a=P("p"),s=X("This is a test page for the JSON Schema form of a whole task package manifest"),i=B(),o=P("div"),l=P("div"),Ke(c.$$.fragment),u=B(),f=P("div"),d=X("An entire task package manifest"),p=B(),h=P("div"),b&&b.c(),w=B(),I&&I.c(),$=st(),this.h()},l(k){e=N(k,"H1",{class:!0});var C=T(e);r=Z(C,"Sandbox page for task package manifest"),C.forEach(y),n=H(k),a=N(k,"P",{});var U=T(a);s=Z(U,"This is a test page for the JSON Schema form of a whole task package manifest"),U.forEach(y),i=H(k),o=N(k,"DIV",{class:!0});var Y=T(o);l=N(Y,"DIV",{class:!0});var ae=T(l);Be(c.$$.fragment,ae),u=H(ae),f=N(ae,"DIV",{class:!0});var he=T(f);d=Z(he,"An entire task package manifest"),he.forEach(y),ae.forEach(y),p=H(Y),h=N(Y,"DIV",{class:!0});var ye=T(h);b&&b.l(ye),ye.forEach(y),Y.forEach(y),w=H(k),I&&I.l(k),$=st(),this.h()},h(){_(e,"class","fw-light"),_(f,"class","form-text"),_(l,"class","col-lg-7"),_(h,"class","col-lg-5"),_(o,"class","row")},m(k,C){q(k,e,C),g(e,r),q(k,n,C),q(k,a,C),g(a,s),q(k,i,C),q(k,o,C),g(o,l),He(c,l,null),g(l,u),g(l,f),g(f,d),g(o,p),g(o,h),b&&b.m(h,null),q(k,w,C),I&&I.m(k,C),q(k,$,C),v=!0},p(k,C){k[0].length>0?b?b.p(k,C):(b=qi(k),b.c(),b.m(h,null)):b&&(b.d(1),b=null),k[2]&&k[5]?I?(I.p(k,C),C[0]&36&&_e(I,1)):(I=Ji(k),I.c(),_e(I,1),I.m($.parentNode,$)):I&&(Xt(),be(I,1,1,()=>{I=null}),Zt())},i(k){v||(_e(c.$$.fragment,k),_e(I),v=!0)},o(k){be(c.$$.fragment,k),be(I),v=!1},d(k){k&&y(e),k&&y(n),k&&y(a),k&&y(i),k&&y(o),Ge(c),b&&b.d(),k&&y(w),I&&I.d(k),k&&y($)}}}function y_(t,e,r){let n,a=null,s=[],i="",o,l="pydantic_v2",c="non_parallel",u,f,d="",p="",h=!1,w=!1,$="",v=!1;function b(){a=null,r(12,v=!1),r(11,$=""),r(0,s=[]),r(1,i=""),r(2,o=null),r(5,u=null),r(8,p="")}function I(){try{r(11,$=""),r(12,v=!1),k==null||k.validateArguments(),r(12,v=!0)}catch(m){r(11,$=ma(m))}}let k;function C(m){let S;try{S=JSON.parse(m)}catch{throw new Error("File doesn't contain valid JSON")}if(S.args_schema_version!=="pydantic_v2"&&S.args_schema_version!=="pydantic_v1")throw new Error("Unsupported manifest args schema version");if(r(3,l=S.args_schema_version),Y(S)){if(S.manifest_version!=="2")throw new Error("Unsupported manifest version")}else throw new Error("Invalid manifest format");return S}function U({detail:m}){m.value===null?b():ae(m.value)}function Y(m){const S=new gr(l);return S.loadSchema(h_),S.isValid(m)}function ae(m){a=m,r(0,s=a.task_list.map(S=>S.name))}async function he(m=void 0){if(r(8,p=""),r(11,$=""),r(12,v=!1),!i){r(2,o=null),r(5,u=null);return}r(5,u=a.task_list.filter(S=>S.name===i)[0]),r(9,h=ye(u.args_schema_non_parallel)),r(10,w=ye(u.args_schema_parallel)),m?r(4,c=m):h?r(4,c="non_parallel"):r(4,c="parallel"),c==="non_parallel"?r(2,o=u.args_schema_non_parallel):r(2,o=u.args_schema_parallel),await z()}function ye(m){if(!m)return!1;const S=ro(m,n);return Object.keys(S.properties).length>0}function K(){r(11,$=""),r(8,p="");try{r(6,f=JSON.parse(d))}catch{r(6,f=void 0),r(8,p="Invalid JSON")}}async function z(){await en(),k&&W(k.getArguments())}function x({detail:m}){W(m.value)}function W(m){const S=_r(m),V=JSON.stringify(Vn(S),null,2);V!==d&&r(7,d=V)}const oe=[[]];function le(){i=Zi(this),r(1,i),r(0,s)}const Re=()=>he();function Fe(){c=this.__value,r(4,c)}const Ie=()=>he("non_parallel");function L(){c=this.__value,r(4,c)}const A=()=>he("parallel");function F(){d=this.value,r(7,d)}function j(m){$r[m?"unshift":"push"](()=>{k=m,r(13,k)})}return r(14,n=On(!1)),[s,i,o,l,c,u,f,d,p,h,w,$,v,k,n,I,C,U,he,K,x,le,Re,Fe,oe,Ie,L,A,F,j]}class g_ extends gt{constructor(e){super(),$t(this,e,y_,v_,ft,{},null,[-1,-1])}}function $_(t){let e,r;return e=new g_({}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function b_(t){let e,r;return e=new i_({}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function E_(t){let e,r;return e=new t_({}),{c(){Ke(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){He(e,n,a),r=!0},i(n){r||(_e(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){Ge(e,n)}}}function w_(t){let e,r,n,a,s,i,o,l,c,u,f,d,p,h,w,$,v,b,I,k,C,U,Y,ae;const he=[E_,b_,$_],ye=[];function K(z,x){return z[0]==="jschema"?0:z[0]==="version-update"?1:z[0]==="task-manifest"?2:-1}return~(k=K(t))&&(C=ye[k]=he[k](t)),{c(){e=P("nav"),r=P("div"),n=P("a"),a=X("Documentation"),s=B(),i=P("ul"),o=P("li"),l=P("a"),c=X("JSON Schema"),u=B(),f=P("li"),d=P("a"),p=X("Version update"),h=B(),w=P("li"),$=P("a"),v=X("Task manifest"),b=B(),I=P("div"),C&&C.c(),this.h()},l(z){e=N(z,"NAV",{class:!0});var x=T(e);r=N(x,"DIV",{class:!0});var W=T(r);n=N(W,"A",{class:!0,href:!0});var oe=T(n);a=Z(oe,"Documentation"),oe.forEach(y),s=H(W),i=N(W,"UL",{class:!0});var le=T(i);o=N(le,"LI",{class:!0});var Re=T(o);l=N(Re,"A",{class:!0,href:!0});var Fe=T(l);c=Z(Fe,"JSON Schema"),Fe.forEach(y),Re.forEach(y),u=H(le),f=N(le,"LI",{class:!0});var Ie=T(f);d=N(Ie,"A",{class:!0,href:!0});var L=T(d);p=Z(L,"Version update"),L.forEach(y),Ie.forEach(y),h=H(le),w=N(le,"LI",{class:!0});var A=T(w);$=N(A,"A",{class:!0,href:!0});var F=T($);v=Z(F,"Task manifest"),F.forEach(y),A.forEach(y),le.forEach(y),W.forEach(y),x.forEach(y),b=H(z),I=N(z,"DIV",{class:!0});var j=T(I);C&&C.l(j),j.forEach(y),this.h()},h(){_(n,"class","navbar-brand"),_(n,"href","https://fractal-analytics-platform.github.io/fractal-web/"),_(l,"class","nav-link"),_(l,"href","#jschema"),Oe(l,"active",t[0]==="jschema"),_(o,"class","nav-item"),_(d,"class","nav-link"),_(d,"href","#version-update"),Oe(d,"active",t[0]==="version-update"),_(f,"class","nav-item"),_($,"class","nav-link"),_($,"href","#task-manifest"),Oe($,"active",t[0]==="task-manifest"),_(w,"class","nav-item"),_(i,"class","navbar-nav me-auto"),_(r,"class","container"),_(e,"class","navbar navbar-expand-lg bg-light mb-3 border-bottom"),_(I,"class","container")},m(z,x){q(z,e,x),g(e,r),g(r,n),g(n,a),g(r,s),g(r,i),g(i,o),g(o,l),g(l,c),g(i,u),g(i,f),g(f,d),g(d,p),g(i,h),g(i,w),g(w,$),g($,v),q(z,b,x),q(z,I,x),~k&&ye[k].m(I,null),U=!0,Y||(ae=[ne(l,"click",t[1]),ne(d,"click",t[2]),ne($,"click",t[3])],Y=!0)},p(z,[x]){(!U||x&1)&&Oe(l,"active",z[0]==="jschema"),(!U||x&1)&&Oe(d,"active",z[0]==="version-update"),(!U||x&1)&&Oe($,"active",z[0]==="task-manifest");let W=k;k=K(z),k!==W&&(C&&(Xt(),be(ye[W],1,1,()=>{ye[W]=null}),Zt()),~k?(C=ye[k],C||(C=ye[k]=he[k](z),C.c()),_e(C,1),C.m(I,null)):C=null)},i(z){U||(_e(C),U=!0)},o(z){be(C),U=!1},d(z){z&&y(e),z&&y(b),z&&y(I),~k&&ye[k].d(),Y=!1,Ut(ae)}}}function S_(t,e,r){const n=["jschema","version-update","task-manifest"];let a="jschema";return qr(()=>{for(const l of n)if(`#${l}`===location.hash){r(0,a=l);break}}),[a,()=>r(0,a="jschema"),()=>r(0,a="version-update"),()=>r(0,a="task-manifest")]}class N_ extends gt{constructor(e){super(),$t(this,e,S_,w_,ft,{})}}export{N_ as component};
