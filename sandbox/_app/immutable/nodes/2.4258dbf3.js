var zi=Object.defineProperty;var Ki=(t,e,r)=>e in t?zi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ge=(t,e,r)=>(Ki(t,typeof e!="symbol"?e+"":e,r),r);import{S as yt,i as $t,s as pt,k as O,l as C,m as T,h as b,n as E,b as L,H as rr,o as wr,w as Sr,a as J,y as Le,c as B,z as ze,A as Ke,g as le,d as me,B as Je,q as G,r as W,G as P,u as Xe,C as Ji,J as Pe,K as ce,D as Bi,E as Hi,F as Gi,v as Gt,L as zs,f as Wt,M as Ks,N as Ma,O as Xt,P as lt,Q as Js,R as Wi,T as Fa,U as Ln,V as Xi,e as mt,W as Qi,t as sn}from"../chunks/index.0951804f.js";function cr(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))}function dn(t){return t===void 0?null:t}function hn(t){return typeof t=="object"&&t!==null&&t!==void 0}function zn(t){const e=Bs(t);return Hs(e)}function Bs(t){return Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=t[e].filter(r=>r!==null&&r!=="")),t[e]&&typeof t[e]=="object"?Bs(t[e]):(t[e]===null||t[e]==="")&&delete t[e]}),t}function Hs(t){return Object.keys(t).forEach(e=>{t[e]&&typeof t[e]=="object"&&(Hs(t[e]),Object.keys(t[e]).length===0&&delete t[e])}),t}function Gs(t){return t instanceof Ui?JSON.stringify(t.errors.length===1?t.errors[0]:t.errors,null,2):(console.error(t),t.message)}function Zi(t){return"minimum"in t&&t.minimum!==void 0?Number(t.minimum):"exclusiveMinimum"in t&&t.exclusiveMinimum!==void 0?Number(t.exclusiveMinimum)+1:null}function Yi(t){return"maximum"in t&&t.maximum!==void 0?Number(t.maximum):"exclusiveMaximum"in t&&t.exclusiveMaximum!==void 0?Number(t.exclusiveMaximum)-1:null}function Ws(t){return"minItems"in t&&typeof t.minItems=="number"&&"maxItems"in t&&typeof t.maxItems=="number"&&t.minItems===t.maxItems}function Xs(t,e){const r=t.properties||{};if(t.additionalProperties)for(const n of Object.keys(e))Object.keys(r).includes(n)||(r[n]=t.additionalProperties);return r}function xi(t,e){const r=t.properties||{};return!Object.keys(r).includes(e)}function Cn(t){return t?["input_paths","output_path","metadata","component"]:["zarr_url","zarr_urls","init_args","zarr_dir"]}function eo(t,e=void 0){return Dt(t,!0,e,e===void 0)}function to(t,e,r){const n=t.required||[],a={};e==null&&(e={});const s=Xs(t,e);for(const[i,o]of Object.entries(s)){const l=n.includes(i);a[i]=Dt(o,l,dn(e[i]),r)}return a}function Dt(t,e,r,n){if(n&&"default"in t)return Dt(t,e,t.default,!1);if(t.type===null)return null;switch(t.type){case"object":return to(t,r,n);case"array":{const a=t;return Ws(a)?no(a,e,r,n):ro(a,e,r,n)}default:return dn(r)}}function ro(t,e,r,n){Array.isArray(r)||(r=[]);const a=t.items;let s=[];for(let i=0;i<r.length;i++)s.push(Dt(a,e,r[i],n));if(e&&typeof t.minItems=="number"&&s.length<t.minItems)for(let i=s.length;i<t.minItems;i++)s.push(Dt(a,e,null,n));return s}function no(t,e,r,n){if(Array.isArray(r)||(r=[]),!e&&r.length===0)return r;let a=[];for(let i=0;i<r.length;i++)a.push(Dt(Ua(t,i),e,r[i],n));const s=t.minItems;for(let i=a.length;i<s;i++)a.push(Dt(Ua(t,i),!1,null,n));return a.length>s&&(console.warn("Tuple initial value has more items than allowed (%d)",s,r),a.splice(s,a.length)),a}function Ua(t,e){return Array.isArray(t.items)?t.items[e]:t.items}class yn{constructor(e){Ge(this,"manager");Ge(this,"id");Ge(this,"key");Ge(this,"type");Ge(this,"title");Ge(this,"description");Ge(this,"required");Ge(this,"removable");Ge(this,"default");this.manager=e.manager,this.id=e.id,this.key=e.key,this.type=e.type,this.title=e.title,this.required=e.required,this.description=e.description,this.removable=e.removable,this.default=e.default}notifyChange(){this.manager.notifyChange()}}class zr extends yn{constructor(r){super(r);Ge(this,"value");this.value=r.value}}class ao extends zr{constructor(e){super(e)}}class so extends zr{constructor(e){super(e)}}class io extends zr{constructor(r){super(r);Ge(this,"options");this.options=r.options}}class oo extends zr{constructor(e){super(e),this.min=e.min,this.max=e.max}}class lo extends yn{constructor(r){super(r);Ge(this,"children");Ge(this,"additionalProperties",!1);this.additionalProperties=r.additionalProperties,this.children=r.children,this.collapsed=!r.required}addChild(r){if(!this.additionalProperties)return;if(r==="")throw new Error("Schema property has no name");if(this.children.map(s=>s.key).includes(r))throw new Error("Schema property already has a property with the same name");const a=this.manager.createFormElement({key:r,property:this.additionalProperties,required:!1,removable:!0,value:Dt(this.additionalProperties,!1,this.additionalProperties.default,!1)});a.title=r,a.removable=!0,this.children=[...this.children,a],this.notifyChange()}removeChild(r){if(!this.additionalProperties){console.warn("Attempted to call remove child on element without additional properties");return}const n=this.children.filter(s=>s.key===r);if(n.length===0){console.warn("Attempted to remove not existing key %s",r);return}const[a]=n;if(!a.removable){console.warn("Attempted to remove not removable child");return}this.children=this.children.filter(s=>s.key!==r),this.notifyChange()}}class co extends yn{constructor(r){super(r);Ge(this,"children");Ge(this,"items");Ge(this,"minItems");Ge(this,"maxItems");this.children=r.children,this.items=r.items,this.minItems=r.minItems,this.maxItems=r.maxItems,this.collapsed=!r.required}addChild(){if(typeof this.maxItems=="number"&&this.children.length===this.maxItems)return;const r=this.manager.createFormElement({key:null,property:this.items,required:!1,removable:!0,value:Dt(this.items,!1,void 0,!0)});this.children=[...this.children,r],this.notifyChange()}removeChild(r){this.children.splice(r,1),this.notifyChange()}moveChildUp(r){if(r>0){let n=[];for(let a=0;a<this.children.length;a++)a===r-1?n[a]=this.children[a+1]:a===r?n[a]=this.children[a-1]:n[a]=this.children[a];this.children=n,this.notifyChange()}}moveChildDown(r){if(r<this.children.length-1){let n=[];for(let a=0;a<this.children.length;a++)a===r?n[a]=this.children[a+1]:a===r+1?n[a]=this.children[a-1]:n[a]=this.children[a];this.children=n,this.notifyChange()}}clearChild(r){const n=this.children[r];"value"in n&&(n.value=null,this.notifyChange())}}class uo extends yn{constructor(r){super(r);Ge(this,"children");Ge(this,"items");Ge(this,"size");this.children=r.children,this.items=r.items,this.size=r.size,this.collapsed=!r.required}addTuple(){let r;if(Array.isArray(this.items))r=this.items.map((n,a)=>Dt(n,!1,Array.isArray(this.default)?this.default[a]:void 0,!1));else{const n=this.items;r=Array(this.size).map(a=>Dt(n,!1,Array.isArray(this.default)?this.default[a]:void 0,!1))}this.children=this.manager.createTupleChildren({items:this.items,size:this.size,value:r}),this.notifyChange()}removeTuple(){this.children=[],this.notifyChange()}clearChild(r){const n=this.children[r];"value"in n&&(n.value=null,this.notifyChange())}}function fo(t,e=[]){let r=Qs(t,e);return r=on(r,r),r=Tn(r),r}function Qs(t,e=[]){const r=cr(t);for(const n of Object.keys(r.properties))e.includes(n)&&delete r.properties[n];return r.required&&(r.required=r.required.filter(n=>!e.includes(n))),r}function on(t,e){if(Array.isArray(e)){const r=[];for(const n of e)r.push(on(t,n));return r}else if(hn(e)){const r={};for(const[n,a]of Object.entries(e))if(n==="$ref"&&typeof a=="string"){const s=ho(t,a);for(const[i,o]of Object.entries(s))r[i]=on(t,o)}else r[n]=on(t,a);return r}else return e}function ho(t,e){if(!e.startsWith("#/"))throw new Error(`Unsupported $ref field format: ${e}`);const r=e.substring(2).split("/");let n=t;for(const a of r){if(!(a in n))throw new Error(`Unable to resolve reference ${e}. Key ${a} not found.`);n=n[a]}return n}function Tn(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(Tn(r));return e}else if(hn(t)){const e={};for(const[r,n]of Object.entries(t))if(r==="allOf"&&Array.isArray(n))for(const a of n)for(const[s,i]of Object.entries(a))mo(e,s,i);else e[r]=Tn(n);return e}else return t}function mo(t,e,r){e in t?Array.isArray(t[e])&&Array.isArray(r)?t[e]=[...t[e],...r]:hn(t)&&hn(r)&&(t[e]={...t[e],...r}):t[e]=r}var po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dn={exports:{}},Zs={},Tt={},br={},Kr={},ge={},Lr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(y){if(super(),!t.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((j,F)=>`${j}${F}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((j,F)=>(F instanceof r&&(j[F.str]=(j[F.str]||0)+1),j),{})}}t._Code=n,t.nil=new n("");function a(f,...y){const j=[f[0]];let F=0;for(;F<y.length;)o(j,y[F]),j.push(f[++F]);return new n(j)}t._=a;const s=new n("+");function i(f,...y){const j=[_(f[0])];let F=0;for(;F<y.length;)j.push(s),o(j,y[F]),j.push(s,_(f[++F]));return l(j),new n(j)}t.str=i;function o(f,y){y instanceof n?f.push(...y._items):y instanceof r?f.push(y):f.push(d(y))}t.addCodeArg=o;function l(f){let y=1;for(;y<f.length-1;){if(f[y]===s){const j=c(f[y-1],f[y+1]);if(j!==void 0){f.splice(y-1,3,j);continue}f[y++]="+"}y++}}function c(f,y){if(y==='""')return f;if(f==='""')return y;if(typeof f=="string")return y instanceof r||f[f.length-1]!=='"'?void 0:typeof y!="string"?`${f.slice(0,-1)}${y}"`:y[0]==='"'?f.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(f instanceof r))return`"${f}${y.slice(1)}`}function u(f,y){return y.emptyStr()?f:f.emptyStr()?y:i`${f}${y}`}t.strConcat=u;function d(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:_(Array.isArray(f)?f.join(","):f)}function m(f){return new n(_(f))}t.stringify=m;function _(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=_;function g(f){return typeof f=="string"&&t.IDENTIFIER.test(f)?new n(`.${f}`):a`[${f}]`}t.getProperty=g;function $(f){if(typeof f=="string"&&t.IDENTIFIER.test(f))return new n(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}t.getEsmExportName=$;function v(f){return new n(f.toString())}t.regexpCode=v})(Lr);var An={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Lr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class a{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=a;class s extends e.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:d}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(u)}[${d}]`}}t.ValueScopeName=s;const i=(0,e._)`\n`;class o extends a{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:e.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(c),{prefix:_}=m,g=(d=u.key)!==null&&d!==void 0?d:u.ref;let $=this._values[_];if($){const y=$.get(g);if(y)return y}else $=this._values[_]=new Map;$.set(g,m);const v=this._scope[_]||(this._scope[_]=[]),f=v.length;return v[f]=u.ref,m.setValue(u,{property:_,itemIndex:f}),m}getValue(c,u){const d=this._values[c];if(d)return d.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${c}${d.scopePath}`})}scopeCode(c=this._values,u,d){return this._reduceValues(c,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},u,d)}_reduceValues(c,u,d={},m){let _=e.nil;for(const g in c){const $=c[g];if(!$)continue;const v=d[g]=d[g]||new Map;$.forEach(f=>{if(v.has(f))return;v.set(f,n.Started);let y=u(f);if(y){const j=this.opts.es5?t.varKinds.var:t.varKinds.const;_=(0,e._)`${_}${j} ${f} = ${y};${this.opts._n}`}else if(y=m==null?void 0:m(f))_=(0,e._)`${_}${y}${this.opts._n}`;else throw new r(f);v.set(f,n.Completed)})}return _}}t.ValueScope=o})(An);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Lr,r=An;var n=Lr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var a=An;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(h,w){return this}}class i extends s{constructor(h,w,R){super(),this.varKind=h,this.name=w,this.rhs=R}render({es5:h,_n:w}){const R=h?r.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${R} ${this.name}${K};`+w}optimizeNames(h,w){if(h[this.name.str])return this.rhs&&(this.rhs=we(this.rhs,h,w)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(h,w,R){super(),this.lhs=h,this.rhs=w,this.sideEffects=R}render({_n:h}){return`${this.lhs} = ${this.rhs};`+h}optimizeNames(h,w){if(!(this.lhs instanceof e.Name&&!h[this.lhs.str]&&!this.sideEffects))return this.rhs=we(this.rhs,h,w),this}get names(){const h=this.lhs instanceof e.Name?{}:{...this.lhs.names};return Te(h,this.rhs)}}class l extends o{constructor(h,w,R,K){super(h,R,K),this.op=w}render({_n:h}){return`${this.lhs} ${this.op}= ${this.rhs};`+h}}class c extends s{constructor(h){super(),this.label=h,this.names={}}render({_n:h}){return`${this.label}:`+h}}class u extends s{constructor(h){super(),this.label=h,this.names={}}render({_n:h}){return`break${this.label?` ${this.label}`:""};`+h}}class d extends s{constructor(h){super(),this.error=h}render({_n:h}){return`throw ${this.error};`+h}get names(){return this.error.names}}class m extends s{constructor(h){super(),this.code=h}render({_n:h}){return`${this.code};`+h}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(h,w){return this.code=we(this.code,h,w),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class _ extends s{constructor(h=[]){super(),this.nodes=h}render(h){return this.nodes.reduce((w,R)=>w+R.render(h),"")}optimizeNodes(){const{nodes:h}=this;let w=h.length;for(;w--;){const R=h[w].optimizeNodes();Array.isArray(R)?h.splice(w,1,...R):R?h[w]=R:h.splice(w,1)}return h.length>0?this:void 0}optimizeNames(h,w){const{nodes:R}=this;let K=R.length;for(;K--;){const q=R[K];q.optimizeNames(h,w)||(Ne(h,q.names),R.splice(K,1))}return R.length>0?this:void 0}get names(){return this.nodes.reduce((h,w)=>ne(h,w.names),{})}}class g extends _{render(h){return"{"+h._n+super.render(h)+"}"+h._n}}class $ extends _{}class v extends g{}v.kind="else";class f extends g{constructor(h,w){super(w),this.condition=h}render(h){let w=`if(${this.condition})`+super.render(h);return this.else&&(w+="else "+this.else.render(h)),w}optimizeNodes(){super.optimizeNodes();const h=this.condition;if(h===!0)return this.nodes;let w=this.else;if(w){const R=w.optimizeNodes();w=this.else=Array.isArray(R)?new v(R):R}if(w)return h===!1?w instanceof f?w:w.nodes:this.nodes.length?this:new f($e(h),w instanceof f?[w]:w.nodes);if(!(h===!1||!this.nodes.length))return this}optimizeNames(h,w){var R;if(this.else=(R=this.else)===null||R===void 0?void 0:R.optimizeNames(h,w),!!(super.optimizeNames(h,w)||this.else))return this.condition=we(this.condition,h,w),this}get names(){const h=super.names;return Te(h,this.condition),this.else&&ne(h,this.else.names),h}}f.kind="if";class y extends g{}y.kind="for";class j extends y{constructor(h){super(),this.iteration=h}render(h){return`for(${this.iteration})`+super.render(h)}optimizeNames(h,w){if(super.optimizeNames(h,w))return this.iteration=we(this.iteration,h,w),this}get names(){return ne(super.names,this.iteration.names)}}class F extends y{constructor(h,w,R,K){super(),this.varKind=h,this.name=w,this.from=R,this.to=K}render(h){const w=h.es5?r.varKinds.var:this.varKind,{name:R,from:K,to:q}=this;return`for(${w} ${R}=${K}; ${R}<${q}; ${R}++)`+super.render(h)}get names(){const h=Te(super.names,this.from);return Te(h,this.to)}}class M extends y{constructor(h,w,R,K){super(),this.loop=h,this.varKind=w,this.name=R,this.iterable=K}render(h){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(h)}optimizeNames(h,w){if(super.optimizeNames(h,w))return this.iterable=we(this.iterable,h,w),this}get names(){return ne(super.names,this.iterable.names)}}class z extends g{constructor(h,w,R){super(),this.name=h,this.args=w,this.async=R}render(h){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(h)}}z.kind="func";class ue extends _{render(h){return"return "+super.render(h)}}ue.kind="return";class x extends g{render(h){let w="try"+super.render(h);return this.catch&&(w+=this.catch.render(h)),this.finally&&(w+=this.finally.render(h)),w}optimizeNodes(){var h,w;return super.optimizeNodes(),(h=this.catch)===null||h===void 0||h.optimizeNodes(),(w=this.finally)===null||w===void 0||w.optimizeNodes(),this}optimizeNames(h,w){var R,K;return super.optimizeNames(h,w),(R=this.catch)===null||R===void 0||R.optimizeNames(h,w),(K=this.finally)===null||K===void 0||K.optimizeNames(h,w),this}get names(){const h=super.names;return this.catch&&ne(h,this.catch.names),this.finally&&ne(h,this.finally.names),h}}class te extends g{constructor(h){super(),this.error=h}render(h){return`catch(${this.error})`+super.render(h)}}te.kind="catch";class de extends g{render(h){return"finally"+super.render(h)}}de.kind="finally";class ke{constructor(h,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...w,_n:w.lines?`
`:""},this._extScope=h,this._scope=new r.Scope({parent:h}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(h){return this._scope.name(h)}scopeName(h){return this._extScope.name(h)}scopeValue(h,w){const R=this._extScope.value(h,w);return(this._values[R.prefix]||(this._values[R.prefix]=new Set)).add(R),R}getScopeValue(h,w){return this._extScope.getValue(h,w)}scopeRefs(h){return this._extScope.scopeRefs(h,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(h,w,R,K){const q=this._scope.toName(w);return R!==void 0&&K&&(this._constants[q.str]=R),this._leafNode(new i(h,q,R)),q}const(h,w,R){return this._def(r.varKinds.const,h,w,R)}let(h,w,R){return this._def(r.varKinds.let,h,w,R)}var(h,w,R){return this._def(r.varKinds.var,h,w,R)}assign(h,w,R){return this._leafNode(new o(h,w,R))}add(h,w){return this._leafNode(new l(h,t.operators.ADD,w))}code(h){return typeof h=="function"?h():h!==e.nil&&this._leafNode(new m(h)),this}object(...h){const w=["{"];for(const[R,K]of h)w.length>1&&w.push(","),w.push(R),(R!==K||this.opts.es5)&&(w.push(":"),(0,e.addCodeArg)(w,K));return w.push("}"),new e._Code(w)}if(h,w,R){if(this._blockNode(new f(h)),w&&R)this.code(w).else().code(R).endIf();else if(w)this.code(w).endIf();else if(R)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(h){return this._elseNode(new f(h))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(f,v)}_for(h,w){return this._blockNode(h),w&&this.code(w).endFor(),this}for(h,w){return this._for(new j(h),w)}forRange(h,w,R,K,q=this.opts.es5?r.varKinds.var:r.varKinds.let){const re=this._scope.toName(h);return this._for(new F(q,re,w,R),()=>K(re))}forOf(h,w,R,K=r.varKinds.const){const q=this._scope.toName(h);if(this.opts.es5){const re=w instanceof e.Name?w:this.var("_arr",w);return this.forRange("_i",0,(0,e._)`${re}.length`,ie=>{this.var(q,(0,e._)`${re}[${ie}]`),R(q)})}return this._for(new M("of",K,q,w),()=>R(q))}forIn(h,w,R,K=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(h,(0,e._)`Object.keys(${w})`,R);const q=this._scope.toName(h);return this._for(new M("in",K,q,w),()=>R(q))}endFor(){return this._endBlockNode(y)}label(h){return this._leafNode(new c(h))}break(h){return this._leafNode(new u(h))}return(h){const w=new ue;if(this._blockNode(w),this.code(h),w.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ue)}try(h,w,R){if(!w&&!R)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new x;if(this._blockNode(K),this.code(h),w){const q=this.name("e");this._currNode=K.catch=new te(q),w(q)}return R&&(this._currNode=K.finally=new de,this.code(R)),this._endBlockNode(te,de)}throw(h){return this._leafNode(new d(h))}block(h,w){return this._blockStarts.push(this._nodes.length),h&&this.code(h).endBlock(w),this}endBlock(h){const w=this._blockStarts.pop();if(w===void 0)throw new Error("CodeGen: not in self-balancing block");const R=this._nodes.length-w;if(R<0||h!==void 0&&R!==h)throw new Error(`CodeGen: wrong number of nodes: ${R} vs ${h} expected`);return this._nodes.length=w,this}func(h,w=e.nil,R,K){return this._blockNode(new z(h,w,R)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(z)}optimize(h=1){for(;h-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(h){return this._currNode.nodes.push(h),this}_blockNode(h){this._currNode.nodes.push(h),this._nodes.push(h)}_endBlockNode(h,w){const R=this._currNode;if(R instanceof h||w&&R instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?`${h.kind}/${w.kind}`:h.kind}"`)}_elseNode(h){const w=this._currNode;if(!(w instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=w.else=h,this}get _root(){return this._nodes[0]}get _currNode(){const h=this._nodes;return h[h.length-1]}set _currNode(h){const w=this._nodes;w[w.length-1]=h}}t.CodeGen=ke;function ne(I,h){for(const w in h)I[w]=(I[w]||0)+(h[w]||0);return I}function Te(I,h){return h instanceof e._CodeOrName?ne(I,h.names):I}function we(I,h,w){if(I instanceof e.Name)return R(I);if(!K(I))return I;return new e._Code(I._items.reduce((q,re)=>(re instanceof e.Name&&(re=R(re)),re instanceof e._Code?q.push(...re._items):q.push(re),q),[]));function R(q){const re=w[q.str];return re===void 0||h[q.str]!==1?q:(delete h[q.str],re)}function K(q){return q instanceof e._Code&&q._items.some(re=>re instanceof e.Name&&h[re.str]===1&&w[re.str]!==void 0)}}function Ne(I,h){for(const w in h)I[w]=(I[w]||0)-(h[w]||0)}function $e(I){return typeof I=="boolean"||typeof I=="number"||I===null?!I:(0,e._)`!${V(I)}`}t.not=$e;const Ie=N(t.operators.AND);function xe(...I){return I.reduce(Ie)}t.and=xe;const be=N(t.operators.OR);function U(...I){return I.reduce(be)}t.or=U;function N(I){return(h,w)=>h===e.nil?w:w===e.nil?h:(0,e._)`${V(h)} ${I} ${V(w)}`}function V(I){return I instanceof e.Name?I:(0,e._)`(${I})`}})(ge);var H={};Object.defineProperty(H,"__esModule",{value:!0});H.checkStrictMode=H.getErrorPath=H.Type=H.useFunc=H.setEvaluated=H.evaluatedPropsToName=H.mergeEvaluated=H.eachItem=H.unescapeJsonPointer=H.escapeJsonPointer=H.escapeFragment=H.unescapeFragment=H.schemaRefOrVal=H.schemaHasRulesButRef=H.schemaHasRules=H.checkUnknownRules=H.alwaysValidSchema=H.toHash=void 0;const je=ge,_o=Lr;function go(t){const e={};for(const r of t)e[r]=!0;return e}H.toHash=go;function yo(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Ys(t,e),!xs(e,t.self.RULES.all))}H.alwaysValidSchema=yo;function Ys(t,e=t.schema){const{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;const a=n.RULES.keywords;for(const s in e)a[s]||ri(t,`unknown keyword: "${s}"`)}H.checkUnknownRules=Ys;function xs(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(e[r])return!0;return!1}H.schemaHasRules=xs;function $o(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}H.schemaHasRulesButRef=$o;function bo({topSchemaRef:t,schemaPath:e},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,je._)`${r}`}return(0,je._)`${t}${e}${(0,je.getProperty)(n)}`}H.schemaRefOrVal=bo;function Eo(t){return ei(decodeURIComponent(t))}H.unescapeFragment=Eo;function wo(t){return encodeURIComponent(Kn(t))}H.escapeFragment=wo;function Kn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}H.escapeJsonPointer=Kn;function ei(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}H.unescapeJsonPointer=ei;function So(t,e){if(Array.isArray(t))for(const r of t)e(r);else e(t)}H.eachItem=So;function qa({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(a,s,i,o)=>{const l=i===void 0?s:i instanceof je.Name?(s instanceof je.Name?t(a,s,i):e(a,s,i),i):s instanceof je.Name?(e(a,i,s),s):r(s,i);return o===je.Name&&!(l instanceof je.Name)?n(a,l):l}}H.mergeEvaluated={props:qa({mergeNames:(t,e,r)=>t.if((0,je._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,je._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,je._)`${r} || {}`).code((0,je._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,je._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,je._)`${r} || {}`),Jn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:ti}),items:qa({mergeNames:(t,e,r)=>t.if((0,je._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,je._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,je._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,je._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function ti(t,e){if(e===!0)return t.var("props",!0);const r=t.var("props",(0,je._)`{}`);return e!==void 0&&Jn(t,r,e),r}H.evaluatedPropsToName=ti;function Jn(t,e,r){Object.keys(r).forEach(n=>t.assign((0,je._)`${e}${(0,je.getProperty)(n)}`,!0))}H.setEvaluated=Jn;const La={};function Po(t,e){return t.scopeValue("func",{ref:e,code:La[e.code]||(La[e.code]=new _o._Code(e.code))})}H.useFunc=Po;var jn;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(jn||(H.Type=jn={}));function ko(t,e,r){if(t instanceof je.Name){const n=e===jn.Num;return r?n?(0,je._)`"[" + ${t} + "]"`:(0,je._)`"['" + ${t} + "']"`:n?(0,je._)`"/" + ${t}`:(0,je._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,je.getProperty)(t).toString():"/"+Kn(t)}H.getErrorPath=ko;function ri(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}H.checkStrictMode=ri;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});const ht=ge,No={data:new ht.Name("data"),valCxt:new ht.Name("valCxt"),instancePath:new ht.Name("instancePath"),parentData:new ht.Name("parentData"),parentDataProperty:new ht.Name("parentDataProperty"),rootData:new ht.Name("rootData"),dynamicAnchors:new ht.Name("dynamicAnchors"),vErrors:new ht.Name("vErrors"),errors:new ht.Name("errors"),this:new ht.Name("this"),self:new ht.Name("self"),scope:new ht.Name("scope"),json:new ht.Name("json"),jsonPos:new ht.Name("jsonPos"),jsonLen:new ht.Name("jsonLen"),jsonPart:new ht.Name("jsonPart")};Ut.default=No;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=ge,r=H,n=Ut;t.keywordError={message:({keyword:v})=>(0,e.str)`must pass "${v}" keyword validation`},t.keyword$DataError={message:({keyword:v,schemaType:f})=>f?(0,e.str)`"${v}" keyword must be ${f} ($data)`:(0,e.str)`"${v}" keyword is invalid ($data)`};function a(v,f=t.keywordError,y,j){const{it:F}=v,{gen:M,compositeRule:z,allErrors:ue}=F,x=d(v,f,y);j??(z||ue)?l(M,x):c(F,(0,e._)`[${x}]`)}t.reportError=a;function s(v,f=t.keywordError,y){const{it:j}=v,{gen:F,compositeRule:M,allErrors:z}=j,ue=d(v,f,y);l(F,ue),M||z||c(j,n.default.vErrors)}t.reportExtraError=s;function i(v,f){v.assign(n.default.errors,f),v.if((0,e._)`${n.default.vErrors} !== null`,()=>v.if(f,()=>v.assign((0,e._)`${n.default.vErrors}.length`,f),()=>v.assign(n.default.vErrors,null)))}t.resetErrorsCount=i;function o({gen:v,keyword:f,schemaValue:y,data:j,errsCount:F,it:M}){if(F===void 0)throw new Error("ajv implementation error");const z=v.name("err");v.forRange("i",F,n.default.errors,ue=>{v.const(z,(0,e._)`${n.default.vErrors}[${ue}]`),v.if((0,e._)`${z}.instancePath === undefined`,()=>v.assign((0,e._)`${z}.instancePath`,(0,e.strConcat)(n.default.instancePath,M.errorPath))),v.assign((0,e._)`${z}.schemaPath`,(0,e.str)`${M.errSchemaPath}/${f}`),M.opts.verbose&&(v.assign((0,e._)`${z}.schema`,y),v.assign((0,e._)`${z}.data`,j))})}t.extendErrors=o;function l(v,f){const y=v.const("err",f);v.if((0,e._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,e._)`[${y}]`),(0,e._)`${n.default.vErrors}.push(${y})`),v.code((0,e._)`${n.default.errors}++`)}function c(v,f){const{gen:y,validateName:j,schemaEnv:F}=v;F.$async?y.throw((0,e._)`new ${v.ValidationError}(${f})`):(y.assign((0,e._)`${j}.errors`,f),y.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(v,f,y){const{createErrors:j}=v.it;return j===!1?(0,e._)`{}`:m(v,f,y)}function m(v,f,y={}){const{gen:j,it:F}=v,M=[_(F,y),g(v,y)];return $(v,f,M),j.object(...M)}function _({errorPath:v},{instancePath:f}){const y=f?(0,e.str)`${v}${(0,r.getErrorPath)(f,r.Type.Str)}`:v;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,y)]}function g({keyword:v,it:{errSchemaPath:f}},{schemaPath:y,parentSchema:j}){let F=j?f:(0,e.str)`${f}/${v}`;return y&&(F=(0,e.str)`${F}${(0,r.getErrorPath)(y,r.Type.Str)}`),[u.schemaPath,F]}function $(v,{params:f,message:y},j){const{keyword:F,data:M,schemaValue:z,it:ue}=v,{opts:x,propertyName:te,topSchemaRef:de,schemaPath:ke}=ue;j.push([u.keyword,F],[u.params,typeof f=="function"?f(v):f||(0,e._)`{}`]),x.messages&&j.push([u.message,typeof y=="function"?y(v):y]),x.verbose&&j.push([u.schema,z],[u.parentSchema,(0,e._)`${de}${ke}`],[n.default.data,M]),te&&j.push([u.propertyName,te])}})(Kr);Object.defineProperty(br,"__esModule",{value:!0});br.boolOrEmptySchema=br.topBoolOrEmptySchema=void 0;const Io=Kr,Oo=ge,Co=Ut,To={message:"boolean schema is false"};function Do(t){const{gen:e,schema:r,validateName:n}=t;r===!1?ni(t,!1):typeof r=="object"&&r.$async===!0?e.return(Co.default.data):(e.assign((0,Oo._)`${n}.errors`,null),e.return(!0))}br.topBoolOrEmptySchema=Do;function Ao(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),ni(t)):r.var(e,!0)}br.boolOrEmptySchema=Ao;function ni(t,e){const{gen:r,data:n}=t,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Io.reportError)(a,To,void 0,e)}var it={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.getRules=ur.isJSONType=void 0;const jo=["string","number","integer","boolean","null","object","array"],Ro=new Set(jo);function Vo(t){return typeof t=="string"&&Ro.has(t)}ur.isJSONType=Vo;function Mo(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}ur.getRules=Mo;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.shouldUseRule=Bt.shouldUseGroup=Bt.schemaHasRulesForType=void 0;function Fo({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&ai(t,n)}Bt.schemaHasRulesForType=Fo;function ai(t,e){return e.rules.some(r=>si(t,r))}Bt.shouldUseGroup=ai;function si(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Bt.shouldUseRule=si;Object.defineProperty(it,"__esModule",{value:!0});it.reportTypeError=it.checkDataTypes=it.checkDataType=it.coerceAndCheckDataType=it.getJSONTypes=it.getSchemaTypes=it.DataType=void 0;const Uo=ur,qo=Bt,Lo=Kr,he=ge,ii=H;var yr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(yr||(it.DataType=yr={}));function zo(t){const e=oi(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}it.getSchemaTypes=zo;function oi(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(Uo.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}it.getJSONTypes=oi;function Ko(t,e){const{gen:r,data:n,opts:a}=t,s=Jo(e,a.coerceTypes),i=e.length>0&&!(s.length===0&&e.length===1&&(0,qo.schemaHasRulesForType)(t,e[0]));if(i){const o=Bn(e,n,a.strictNumbers,yr.Wrong);r.if(o,()=>{s.length?Bo(t,e,s):Hn(t)})}return i}it.coerceAndCheckDataType=Ko;const li=new Set(["string","number","integer","boolean","null"]);function Jo(t,e){return e?t.filter(r=>li.has(r)||e==="array"&&r==="array"):[]}function Bo(t,e,r){const{gen:n,data:a,opts:s}=t,i=n.let("dataType",(0,he._)`typeof ${a}`),o=n.let("coerced",(0,he._)`undefined`);s.coerceTypes==="array"&&n.if((0,he._)`${i} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,he._)`${a}[0]`).assign(i,(0,he._)`typeof ${a}`).if(Bn(e,a,s.strictNumbers),()=>n.assign(o,a))),n.if((0,he._)`${o} !== undefined`);for(const c of r)(li.has(c)||c==="array"&&s.coerceTypes==="array")&&l(c);n.else(),Hn(t),n.endIf(),n.if((0,he._)`${o} !== undefined`,()=>{n.assign(a,o),Ho(t,o)});function l(c){switch(c){case"string":n.elseIf((0,he._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,he._)`"" + ${a}`).elseIf((0,he._)`${a} === null`).assign(o,(0,he._)`""`);return;case"number":n.elseIf((0,he._)`${i} == "boolean" || ${a} === null
              || (${i} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,he._)`+${a}`);return;case"integer":n.elseIf((0,he._)`${i} === "boolean" || ${a} === null
              || (${i} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,he._)`+${a}`);return;case"boolean":n.elseIf((0,he._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,he._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,he._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,he._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${a} === null`).assign(o,(0,he._)`[${a}]`)}}}function Ho({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,he._)`${e} !== undefined`,()=>t.assign((0,he._)`${e}[${r}]`,n))}function Rn(t,e,r,n=yr.Correct){const a=n===yr.Correct?he.operators.EQ:he.operators.NEQ;let s;switch(t){case"null":return(0,he._)`${e} ${a} null`;case"array":s=(0,he._)`Array.isArray(${e})`;break;case"object":s=(0,he._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=i((0,he._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=i();break;default:return(0,he._)`typeof ${e} ${a} ${t}`}return n===yr.Correct?s:(0,he.not)(s);function i(o=he.nil){return(0,he.and)((0,he._)`typeof ${e} == "number"`,o,r?(0,he._)`isFinite(${e})`:he.nil)}}it.checkDataType=Rn;function Bn(t,e,r,n){if(t.length===1)return Rn(t[0],e,r,n);let a;const s=(0,ii.toHash)(t);if(s.array&&s.object){const i=(0,he._)`typeof ${e} != "object"`;a=s.null?i:(0,he._)`!${e} || ${i}`,delete s.null,delete s.array,delete s.object}else a=he.nil;s.number&&delete s.integer;for(const i in s)a=(0,he.and)(a,Rn(i,e,r,n));return a}it.checkDataTypes=Bn;const Go={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,he._)`{type: ${t}}`:(0,he._)`{type: ${e}}`};function Hn(t){const e=Wo(t);(0,Lo.reportError)(e,Go)}it.reportTypeError=Hn;function Wo(t){const{gen:e,data:r,schema:n}=t,a=(0,ii.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:t}}var $n={};Object.defineProperty($n,"__esModule",{value:!0});$n.assignDefaults=void 0;const vr=ge,Xo=H;function Qo(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const a in r)za(t,a,r[a].default);else e==="array"&&Array.isArray(n)&&n.forEach((a,s)=>za(t,s,a.default))}$n.assignDefaults=Qo;function za(t,e,r){const{gen:n,compositeRule:a,data:s,opts:i}=t;if(r===void 0)return;const o=(0,vr._)`${s}${(0,vr.getProperty)(e)}`;if(a){(0,Xo.checkStrictMode)(t,`default is ignored for: ${o}`);return}let l=(0,vr._)`${o} === undefined`;i.useDefaults==="empty"&&(l=(0,vr._)`${l} || ${o} === null || ${o} === ""`),n.if(l,(0,vr._)`${o} = ${(0,vr.stringify)(r)}`)}var Ft={},_e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.validateUnion=_e.validateArray=_e.usePattern=_e.callValidateCode=_e.schemaProperties=_e.allSchemaProperties=_e.noPropertyInData=_e.propertyInData=_e.isOwnProperty=_e.hasPropFunc=_e.reportMissingProp=_e.checkMissingProp=_e.checkReportMissingProp=void 0;const Ve=ge,Gn=H,Yt=Ut,Zo=H;function Yo(t,e){const{gen:r,data:n,it:a}=t;r.if(Xn(r,n,e,a.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Ve._)`${e}`},!0),t.error()})}_e.checkReportMissingProp=Yo;function xo({gen:t,data:e,it:{opts:r}},n,a){return(0,Ve.or)(...n.map(s=>(0,Ve.and)(Xn(t,e,s,r.ownProperties),(0,Ve._)`${a} = ${s}`)))}_e.checkMissingProp=xo;function el(t,e){t.setParams({missingProperty:e},!0),t.error()}_e.reportMissingProp=el;function ci(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ve._)`Object.prototype.hasOwnProperty`})}_e.hasPropFunc=ci;function Wn(t,e,r){return(0,Ve._)`${ci(t)}.call(${e}, ${r})`}_e.isOwnProperty=Wn;function tl(t,e,r,n){const a=(0,Ve._)`${e}${(0,Ve.getProperty)(r)} !== undefined`;return n?(0,Ve._)`${a} && ${Wn(t,e,r)}`:a}_e.propertyInData=tl;function Xn(t,e,r,n){const a=(0,Ve._)`${e}${(0,Ve.getProperty)(r)} === undefined`;return n?(0,Ve.or)(a,(0,Ve.not)(Wn(t,e,r))):a}_e.noPropertyInData=Xn;function ui(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}_e.allSchemaProperties=ui;function rl(t,e){return ui(e).filter(r=>!(0,Gn.alwaysValidSchema)(t,e[r]))}_e.schemaProperties=rl;function nl({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:s},it:i},o,l,c){const u=c?(0,Ve._)`${t}, ${e}, ${n}${a}`:e,d=[[Yt.default.instancePath,(0,Ve.strConcat)(Yt.default.instancePath,s)],[Yt.default.parentData,i.parentData],[Yt.default.parentDataProperty,i.parentDataProperty],[Yt.default.rootData,Yt.default.rootData]];i.opts.dynamicRef&&d.push([Yt.default.dynamicAnchors,Yt.default.dynamicAnchors]);const m=(0,Ve._)`${u}, ${r.object(...d)}`;return l!==Ve.nil?(0,Ve._)`${o}.call(${l}, ${m})`:(0,Ve._)`${o}(${m})`}_e.callValidateCode=nl;const al=(0,Ve._)`new RegExp`;function sl({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:a}=e.code,s=a(r,n);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ve._)`${a.code==="new RegExp"?al:(0,Zo.useFunc)(t,a)}(${r}, ${n})`})}_e.usePattern=sl;function il(t){const{gen:e,data:r,keyword:n,it:a}=t,s=e.name("valid");if(a.allErrors){const o=e.let("valid",!0);return i(()=>e.assign(o,!1)),o}return e.var(s,!0),i(()=>e.break()),s;function i(o){const l=e.const("len",(0,Ve._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:Gn.Type.Num},s),e.if((0,Ve.not)(s),o)})}}_e.validateArray=il;function ol(t){const{gen:e,schema:r,keyword:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Gn.alwaysValidSchema)(a,l))&&!a.opts.unevaluated)return;const i=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const u=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},o);e.assign(i,(0,Ve._)`${i} || ${o}`),t.mergeValidEvaluated(u,o)||e.if((0,Ve.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}_e.validateUnion=ol;Object.defineProperty(Ft,"__esModule",{value:!0});Ft.validateKeywordUsage=Ft.validSchemaType=Ft.funcKeywordCode=Ft.macroKeywordCode=void 0;const gt=ge,ir=Ut,ll=_e,cl=Kr;function ul(t,e){const{gen:r,keyword:n,schema:a,parentSchema:s,it:i}=t,o=e.macro.call(i.self,a,s,i),l=fi(r,n,o);i.opts.validateSchema!==!1&&i.self.validateSchema(o,!0);const c=r.name("valid");t.subschema({schema:o,schemaPath:gt.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Ft.macroKeywordCode=ul;function fl(t,e){var r;const{gen:n,keyword:a,schema:s,parentSchema:i,$data:o,it:l}=t;hl(l,e);const c=!o&&e.compile?e.compile.call(l.self,s,i,l):e.validate,u=fi(n,a,c),d=n.let("valid");t.block$data(d,m),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function m(){if(e.errors===!1)$(),e.modifying&&Ka(t),v(()=>t.error());else{const f=e.async?_():g();e.modifying&&Ka(t),v(()=>dl(t,f))}}function _(){const f=n.let("ruleErrs",null);return n.try(()=>$((0,gt._)`await `),y=>n.assign(d,!1).if((0,gt._)`${y} instanceof ${l.ValidationError}`,()=>n.assign(f,(0,gt._)`${y}.errors`),()=>n.throw(y))),f}function g(){const f=(0,gt._)`${u}.errors`;return n.assign(f,null),$(gt.nil),f}function $(f=e.async?(0,gt._)`await `:gt.nil){const y=l.opts.passContext?ir.default.this:ir.default.self,j=!("compile"in e&&!o||e.schema===!1);n.assign(d,(0,gt._)`${f}${(0,ll.callValidateCode)(t,u,y,j)}`,e.modifying)}function v(f){var y;n.if((0,gt.not)((y=e.valid)!==null&&y!==void 0?y:d),f)}}Ft.funcKeywordCode=fl;function Ka(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,gt._)`${n.parentData}[${n.parentDataProperty}]`))}function dl(t,e){const{gen:r}=t;r.if((0,gt._)`Array.isArray(${e})`,()=>{r.assign(ir.default.vErrors,(0,gt._)`${ir.default.vErrors} === null ? ${e} : ${ir.default.vErrors}.concat(${e})`).assign(ir.default.errors,(0,gt._)`${ir.default.vErrors}.length`),(0,cl.extendErrors)(t)},()=>t.error())}function hl({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function fi(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,gt.stringify)(r)})}function ml(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Ft.validSchemaType=ml;function pl({schema:t,opts:e,self:r,errSchemaPath:n},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const i=a.dependencies;if(i!=null&&i.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(a.validateSchema&&!a.validateSchema(t[s])){const l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ft.validateKeywordUsage=pl;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.extendSubschemaMode=tr.extendSubschemaData=tr.getSubschema=void 0;const Mt=ge,di=H;function vl(t,{keyword:e,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:s,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,Mt._)`${t.schemaPath}${(0,Mt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,Mt._)`${t.schemaPath}${(0,Mt.getProperty)(e)}${(0,Mt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,di.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}tr.getSubschema=vl;function _l(t,e,{dataProp:r,dataPropType:n,data:a,dataTypes:s,propertyName:i}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:c,dataPathArr:u,opts:d}=e,m=o.let("data",(0,Mt._)`${e.data}${(0,Mt.getProperty)(r)}`,!0);l(m),t.errorPath=(0,Mt.str)`${c}${(0,di.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Mt._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(a!==void 0){const c=a instanceof Mt.Name?a:o.let("data",a,!0);l(c),i!==void 0&&(t.propertyName=i)}s&&(t.dataTypes=s);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}tr.extendSubschemaData=_l;function gl(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:s}){n!==void 0&&(t.compositeRule=n),a!==void 0&&(t.createErrors=a),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}tr.extendSubschemaMode=gl;var ut={},hi=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var i=s[a];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r},mi={exports:{}},er=mi.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};ln(e,n,a,t,"",t)};er.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};er.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};er.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};er.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ln(t,e,r,n,a,s,i,o,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,a,s,i,o,l,c);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in er.arrayKeywords)for(var m=0;m<d.length;m++)ln(t,e,r,d[m],a+"/"+u+"/"+m,s,a,u,n,m)}else if(u in er.propsKeywords){if(d&&typeof d=="object")for(var _ in d)ln(t,e,r,d[_],a+"/"+u+"/"+yl(_),s,a,u,n,_)}else(u in er.keywords||t.allKeys&&!(u in er.skipKeywords))&&ln(t,e,r,d,a+"/"+u,s,a,u,n)}r(n,a,s,i,o,l,c)}}function yl(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var $l=mi.exports;Object.defineProperty(ut,"__esModule",{value:!0});ut.getSchemaRefs=ut.resolveUrl=ut.normalizeId=ut._getFullPath=ut.getFullPath=ut.inlineRef=void 0;const bl=H,El=hi,wl=$l,Sl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Pl(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Vn(t):e?pi(t)<=e:!1}ut.inlineRef=Pl;const kl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Vn(t){for(const e in t){if(kl.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Vn)||typeof r=="object"&&Vn(r))return!0}return!1}function pi(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Sl.has(r)&&(typeof t[r]=="object"&&(0,bl.eachItem)(t[r],n=>e+=pi(n)),e===1/0))return 1/0}return e}function vi(t,e="",r){r!==!1&&(e=$r(e));const n=t.parse(e);return _i(t,n)}ut.getFullPath=vi;function _i(t,e){return t.serialize(e).split("#")[0]+"#"}ut._getFullPath=_i;const Nl=/#\/?$/;function $r(t){return t?t.replace(Nl,""):""}ut.normalizeId=$r;function Il(t,e,r){return r=$r(r),t.resolve(e,r)}ut.resolveUrl=Il;const Ol=/^[a-z_][-a-z0-9._]*$/i;function Cl(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=$r(t[r]||e),s={"":a},i=vi(n,a,!1),o={},l=new Set;return wl(t,{allKeys:!0},(d,m,_,g)=>{if(g===void 0)return;const $=i+m;let v=s[g];typeof d[r]=="string"&&(v=f.call(this,d[r])),y.call(this,d.$anchor),y.call(this,d.$dynamicAnchor),s[m]=v;function f(j){const F=this.opts.uriResolver.resolve;if(j=$r(v?F(v,j):j),l.has(j))throw u(j);l.add(j);let M=this.refs[j];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?c(d,M.schema,j):j!==$r($)&&(j[0]==="#"?(c(d,o[j],j),o[j]=d):this.refs[j]=$),j}function y(j){if(typeof j=="string"){if(!Ol.test(j))throw new Error(`invalid anchor "${j}"`);f.call(this,`#${j}`)}}}),o;function c(d,m,_){if(m!==void 0&&!El(d,m))throw u(_)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}ut.getSchemaRefs=Cl;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getData=Tt.KeywordCxt=Tt.validateFunctionCode=void 0;const gi=br,Ja=it,Qn=Bt,mn=it,Tl=$n,Rr=Ft,Pn=tr,Q=ge,se=Ut,Dl=ut,Ht=H,Dr=Kr;function Al(t){if(bi(t)&&(Ei(t),$i(t))){Vl(t);return}yi(t,()=>(0,gi.topBoolOrEmptySchema)(t))}Tt.validateFunctionCode=Al;function yi({gen:t,validateName:e,schema:r,schemaEnv:n,opts:a},s){a.code.es5?t.func(e,(0,Q._)`${se.default.data}, ${se.default.valCxt}`,n.$async,()=>{t.code((0,Q._)`"use strict"; ${Ba(r,a)}`),Rl(t,a),t.code(s)}):t.func(e,(0,Q._)`${se.default.data}, ${jl(a)}`,n.$async,()=>t.code(Ba(r,a)).code(s))}function jl(t){return(0,Q._)`{${se.default.instancePath}="", ${se.default.parentData}, ${se.default.parentDataProperty}, ${se.default.rootData}=${se.default.data}${t.dynamicRef?(0,Q._)`, ${se.default.dynamicAnchors}={}`:Q.nil}}={}`}function Rl(t,e){t.if(se.default.valCxt,()=>{t.var(se.default.instancePath,(0,Q._)`${se.default.valCxt}.${se.default.instancePath}`),t.var(se.default.parentData,(0,Q._)`${se.default.valCxt}.${se.default.parentData}`),t.var(se.default.parentDataProperty,(0,Q._)`${se.default.valCxt}.${se.default.parentDataProperty}`),t.var(se.default.rootData,(0,Q._)`${se.default.valCxt}.${se.default.rootData}`),e.dynamicRef&&t.var(se.default.dynamicAnchors,(0,Q._)`${se.default.valCxt}.${se.default.dynamicAnchors}`)},()=>{t.var(se.default.instancePath,(0,Q._)`""`),t.var(se.default.parentData,(0,Q._)`undefined`),t.var(se.default.parentDataProperty,(0,Q._)`undefined`),t.var(se.default.rootData,se.default.data),e.dynamicRef&&t.var(se.default.dynamicAnchors,(0,Q._)`{}`)})}function Vl(t){const{schema:e,opts:r,gen:n}=t;yi(t,()=>{r.$comment&&e.$comment&&Si(t),Ll(t),n.let(se.default.vErrors,null),n.let(se.default.errors,0),r.unevaluated&&Ml(t),wi(t),Jl(t)})}function Ml(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Q._)`${r}.evaluated`),e.if((0,Q._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Q._)`${t.evaluated}.props`,(0,Q._)`undefined`)),e.if((0,Q._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Q._)`${t.evaluated}.items`,(0,Q._)`undefined`))}function Ba(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Q._)`/*# sourceURL=${r} */`:Q.nil}function Fl(t,e){if(bi(t)&&(Ei(t),$i(t))){Ul(t,e);return}(0,gi.boolOrEmptySchema)(t,e)}function $i({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function bi(t){return typeof t.schema!="boolean"}function Ul(t,e){const{schema:r,gen:n,opts:a}=t;a.$comment&&r.$comment&&Si(t),zl(t),Kl(t);const s=n.const("_errs",se.default.errors);wi(t,s),n.var(e,(0,Q._)`${s} === ${se.default.errors}`)}function Ei(t){(0,Ht.checkUnknownRules)(t),ql(t)}function wi(t,e){if(t.opts.jtd)return Ha(t,[],!1,e);const r=(0,Ja.getSchemaTypes)(t.schema),n=(0,Ja.coerceAndCheckDataType)(t,r);Ha(t,r,!n,e)}function ql(t){const{schema:e,errSchemaPath:r,opts:n,self:a}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Ht.schemaHasRulesButRef)(e,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Ll(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ht.checkStrictMode)(t,"default is ignored in the schema root")}function zl(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Dl.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Kl(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Si({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:a}){const s=r.$comment;if(a.$comment===!0)t.code((0,Q._)`${se.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const i=(0,Q.str)`${n}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,Q._)`${se.default.self}.opts.$comment(${s}, ${i}, ${o}.schema)`)}}function Jl(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:a,opts:s}=t;r.$async?e.if((0,Q._)`${se.default.errors} === 0`,()=>e.return(se.default.data),()=>e.throw((0,Q._)`new ${a}(${se.default.vErrors})`)):(e.assign((0,Q._)`${n}.errors`,se.default.vErrors),s.unevaluated&&Bl(t),e.return((0,Q._)`${se.default.errors} === 0`))}function Bl({gen:t,evaluated:e,props:r,items:n}){r instanceof Q.Name&&t.assign((0,Q._)`${e}.props`,r),n instanceof Q.Name&&t.assign((0,Q._)`${e}.items`,n)}function Ha(t,e,r,n){const{gen:a,schema:s,data:i,allErrors:o,opts:l,self:c}=t,{RULES:u}=c;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Ht.schemaHasRulesButRef)(s,u))){a.block(()=>Ni(t,"$ref",u.all.$ref.definition));return}l.jtd||Hl(t,e),a.block(()=>{for(const m of u.rules)d(m);d(u.post)});function d(m){(0,Qn.shouldUseGroup)(s,m)&&(m.type?(a.if((0,mn.checkDataType)(m.type,i,l.strictNumbers)),Ga(t,m),e.length===1&&e[0]===m.type&&r&&(a.else(),(0,mn.reportTypeError)(t)),a.endIf()):Ga(t,m),o||a.if((0,Q._)`${se.default.errors} === ${n||0}`))}}function Ga(t,e){const{gen:r,schema:n,opts:{useDefaults:a}}=t;a&&(0,Tl.assignDefaults)(t,e.type),r.block(()=>{for(const s of e.rules)(0,Qn.shouldUseRule)(n,s)&&Ni(t,s.keyword,s.definition,e.type)})}function Hl(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Gl(t,e),t.opts.allowUnionTypes||Wl(t,e),Xl(t,t.dataTypes))}function Gl(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Pi(t.dataTypes,r)||Zn(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),Zl(t,e)}}function Wl(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Zn(t,"use allowUnionTypes to allow union type keyword")}function Xl(t,e){const r=t.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,Qn.shouldUseRule)(t.schema,a)){const{type:s}=a.definition;s.length&&!s.some(i=>Ql(e,i))&&Zn(t,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function Ql(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Pi(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Zl(t,e){const r=[];for(const n of t.dataTypes)Pi(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function Zn(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Ht.checkStrictMode)(t,e,t.opts.strictTypes)}class ki{constructor(e,r,n){if((0,Rr.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ht.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Ii(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Rr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",se.default.errors))}result(e,r,n){this.failResult((0,Q.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Q.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,Q._)`${r} !== undefined && (${(0,Q.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Dr.reportExtraError:Dr.reportError)(this,this.def.error,r)}$dataError(){(0,Dr.reportError)(this,this.def.$dataError||Dr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Dr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Q.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Q.nil,r=Q.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:s,def:i}=this;n.if((0,Q.or)((0,Q._)`${a} === undefined`,r)),e!==Q.nil&&n.assign(e,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Q.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:a,it:s}=this;return(0,Q.or)(i(),o());function i(){if(n.length){if(!(r instanceof Q.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Q._)`${(0,mn.checkDataTypes)(l,r,s.opts.strictNumbers,mn.DataType.Wrong)}`}return Q.nil}function o(){if(a.validateSchema){const l=e.scopeValue("validate$data",{ref:a.validateSchema});return(0,Q._)`!${l}(${r})`}return Q.nil}}subschema(e,r){const n=(0,Pn.getSubschema)(this.it,e);(0,Pn.extendSubschemaData)(n,this.it,e),(0,Pn.extendSubschemaMode)(n,e);const a={...this.it,...n,items:void 0,props:void 0};return Fl(a,r),a}mergeEvaluated(e,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Ht.mergeEvaluated.props(a,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Ht.mergeEvaluated.items(a,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(e,Q.Name)),!0}}Tt.KeywordCxt=ki;function Ni(t,e,r,n){const a=new ki(t,r,e);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Rr.funcKeywordCode)(a,r):"macro"in r?(0,Rr.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Rr.funcKeywordCode)(a,r)}const Yl=/^\/(?:[^~]|~0|~1)*$/,xl=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ii(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let a,s;if(t==="")return se.default.rootData;if(t[0]==="/"){if(!Yl.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);a=t,s=se.default.rootData}else{const c=xl.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const u=+c[1];if(a=c[2],a==="#"){if(u>=e)throw new Error(l("property/index",u));return n[e-u]}if(u>e)throw new Error(l("data",u));if(s=r[e-u],!a)return s}let i=s;const o=a.split("/");for(const c of o)c&&(s=(0,Q._)`${s}${(0,Q.getProperty)((0,Ht.unescapeJsonPointer)(c))}`,i=(0,Q._)`${i} && ${s}`);return i;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}Tt.getData=Ii;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});class ec extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Jr.default=ec;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});const kn=ut;class tc extends Error{constructor(e,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,kn.resolveUrl)(e,r,n),this.missingSchema=(0,kn.normalizeId)((0,kn.getFullPath)(e,this.missingRef))}}Pr.default=tc;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.resolveSchema=wt.getCompilingSchema=wt.resolveRef=wt.compileSchema=wt.SchemaEnv=void 0;const It=ge,rc=Jr,sr=Ut,Ct=ut,Wa=H,nc=Tt;class bn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Ct.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}wt.SchemaEnv=bn;function Yn(t){const e=Oi.call(this,t);if(e)return e;const r=(0,Ct.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,i=new It.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let o;t.$async&&(o=i.scopeValue("Error",{ref:rc.default,code:(0,It._)`require("ajv/dist/runtime/validation_error").default`}));const l=i.scopeName("validate");t.validateName=l;const c={gen:i,allErrors:this.opts.allErrors,data:sr.default.data,parentData:sr.default.parentData,parentDataProperty:sr.default.parentDataProperty,dataNames:[sr.default.data],dataPathArr:[It.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,It.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:It.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,It._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(t),(0,nc.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);const d=i.toString();u=`${i.scopeRefs(sr.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,t));const _=new Function(`${sr.default.self}`,`${sr.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:_}),_.errors=null,_.schema=t.schema,_.schemaEnv=t,t.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:l,validateCode:d,scopeValues:i._values}),this.opts.unevaluated){const{props:g,items:$}=c;_.evaluated={props:g instanceof It.Name?void 0:g,items:$ instanceof It.Name?void 0:$,dynamicProps:g instanceof It.Name,dynamicItems:$ instanceof It.Name},_.source&&(_.source.evaluated=(0,It.stringify)(_.evaluated))}return t.validate=_,t}catch(d){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(t)}}wt.compileSchema=Yn;function ac(t,e,r){var n;r=(0,Ct.resolveUrl)(this.opts.uriResolver,e,r);const a=t.refs[r];if(a)return a;let s=oc.call(this,t,r);if(s===void 0){const i=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;i&&(s=new bn({schema:i,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=sc.call(this,s)}wt.resolveRef=ac;function sc(t){return(0,Ct.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Yn.call(this,t)}function Oi(t){for(const e of this._compilations)if(ic(e,t))return e}wt.getCompilingSchema=Oi;function ic(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function oc(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||En.call(this,t,e)}function En(t,e){const r=this.opts.uriResolver.parse(e),n=(0,Ct._getFullPath)(this.opts.uriResolver,r);let a=(0,Ct.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===a)return Nn.call(this,r,t);const s=(0,Ct.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=En.call(this,t,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Nn.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||Yn.call(this,i),s===(0,Ct.normalizeId)(e)){const{schema:o}=i,{schemaId:l}=this.opts,c=o[l];return c&&(a=(0,Ct.resolveUrl)(this.opts.uriResolver,a,c)),new bn({schema:o,schemaId:l,root:t,baseId:a})}return Nn.call(this,r,i)}}wt.resolveSchema=En;const lc=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Nn(t,{baseId:e,schema:r,root:n}){var a;if(((a=t.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Wa.unescapeFragment)(o)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!lc.has(o)&&c&&(e=(0,Ct.resolveUrl)(this.opts.uriResolver,e,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Wa.schemaHasRulesButRef)(r,this.RULES)){const o=(0,Ct.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=En.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new bn({schema:r,schemaId:i,root:n,baseId:e}),s.schema!==s.root.schema)return s}const cc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",uc="Meta-schema for $data reference (JSON AnySchema extension proposal)",fc="object",dc=["$data"],hc={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},mc=!1,pc={$id:cc,description:uc,type:fc,required:dc,properties:hc,additionalProperties:mc};var xn={},Mn={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(po,function(r){function n(){for(var S=arguments.length,p=Array(S),k=0;k<S;k++)p[k]=arguments[k];if(p.length>1){p[0]=p[0].slice(0,-1);for(var D=p.length-1,A=1;A<D;++A)p[A]=p[A].slice(1,-1);return p[D]=p[D].slice(1),p.join("")}else return p[0]}function a(S){return"(?:"+S+")"}function s(S){return S===void 0?"undefined":S===null?"null":Object.prototype.toString.call(S).split(" ").pop().split("]").shift().toLowerCase()}function i(S){return S.toUpperCase()}function o(S){return S!=null?S instanceof Array?S:typeof S.length!="number"||S.split||S.setInterval||S.call?[S]:Array.prototype.slice.call(S):[]}function l(S,p){var k=S;if(p)for(var D in p)k[D]=p[D];return k}function c(S){var p="[A-Za-z]",k="[0-9]",D=n(k,"[A-Fa-f]"),A=a(a("%[EFef]"+D+"%"+D+D+"%"+D+D)+"|"+a("%[89A-Fa-f]"+D+"%"+D+D)+"|"+a("%"+D+D)),X="[\\:\\/\\?\\#\\[\\]\\@]",Z="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ve=n(X,Z),De=S?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Me=S?"[\\uE000-\\uF8FF]":"[]",fe=n(p,k,"[\\-\\.\\_\\~]",De);a(p+n(p,k,"[\\+\\-\\.]")+"*"),a(a(A+"|"+n(fe,Z,"[\\:]"))+"*");var Ce=a(a("25[0-5]")+"|"+a("2[0-4]"+k)+"|"+a("1"+k+k)+"|"+a("0?[1-9]"+k)+"|0?0?"+k),Fe=a(Ce+"\\."+Ce+"\\."+Ce+"\\."+Ce),ae=a(D+"{1,4}"),Ue=a(a(ae+"\\:"+ae)+"|"+Fe),st=a(a(ae+"\\:")+"{6}"+Ue),qe=a("\\:\\:"+a(ae+"\\:")+"{5}"+Ue),Zt=a(a(ae)+"?\\:\\:"+a(ae+"\\:")+"{4}"+Ue),jt=a(a(a(ae+"\\:")+"{0,1}"+ae)+"?\\:\\:"+a(ae+"\\:")+"{3}"+Ue),Rt=a(a(a(ae+"\\:")+"{0,2}"+ae)+"?\\:\\:"+a(ae+"\\:")+"{2}"+Ue),pr=a(a(a(ae+"\\:")+"{0,3}"+ae)+"?\\:\\:"+ae+"\\:"+Ue),nr=a(a(a(ae+"\\:")+"{0,4}"+ae)+"?\\:\\:"+Ue),kt=a(a(a(ae+"\\:")+"{0,5}"+ae)+"?\\:\\:"+ae),Vt=a(a(a(ae+"\\:")+"{0,6}"+ae)+"?\\:\\:"),ar=a([st,qe,Zt,jt,Rt,pr,nr,kt,Vt].join("|")),Jt=a(a(fe+"|"+A)+"+");a("[vV]"+D+"+\\."+n(fe,Z,"[\\:]")+"+"),a(a(A+"|"+n(fe,Z))+"*");var Cr=a(A+"|"+n(fe,Z,"[\\:\\@]"));return a(a(A+"|"+n(fe,Z,"[\\@]"))+"+"),a(a(Cr+"|"+n("[\\/\\?]",Me))+"*"),{NOT_SCHEME:new RegExp(n("[^]",p,k,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",fe,Z),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",fe,Z),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",fe,Z),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",fe,Z),"g"),NOT_QUERY:new RegExp(n("[^\\%]",fe,Z,"[\\:\\@\\/\\?]",Me),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",fe,Z,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",fe,Z),"g"),UNRESERVED:new RegExp(fe,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",fe,ve),"g"),PCT_ENCODED:new RegExp(A,"g"),IPV4ADDRESS:new RegExp("^("+Fe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ar+")"+a(a("\\%25|\\%(?!"+D+"{2})")+"("+Jt+")")+"?\\]?$")}}var u=c(!1),d=c(!0),m=function(){function S(p,k){var D=[],A=!0,X=!1,Z=void 0;try{for(var ve=p[Symbol.iterator](),De;!(A=(De=ve.next()).done)&&(D.push(De.value),!(k&&D.length===k));A=!0);}catch(Me){X=!0,Z=Me}finally{try{!A&&ve.return&&ve.return()}finally{if(X)throw Z}}return D}return function(p,k){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return S(p,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(S){if(Array.isArray(S)){for(var p=0,k=Array(S.length);p<S.length;p++)k[p]=S[p];return k}else return Array.from(S)},g=2147483647,$=36,v=1,f=26,y=38,j=700,F=72,M=128,z="-",ue=/^xn--/,x=/[^\0-\x7E]/,te=/[\x2E\u3002\uFF0E\uFF61]/g,de={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ke=$-v,ne=Math.floor,Te=String.fromCharCode;function we(S){throw new RangeError(de[S])}function Ne(S,p){for(var k=[],D=S.length;D--;)k[D]=p(S[D]);return k}function $e(S,p){var k=S.split("@"),D="";k.length>1&&(D=k[0]+"@",S=k[1]),S=S.replace(te,".");var A=S.split("."),X=Ne(A,p).join(".");return D+X}function Ie(S){for(var p=[],k=0,D=S.length;k<D;){var A=S.charCodeAt(k++);if(A>=55296&&A<=56319&&k<D){var X=S.charCodeAt(k++);(X&64512)==56320?p.push(((A&1023)<<10)+(X&1023)+65536):(p.push(A),k--)}else p.push(A)}return p}var xe=function(p){return String.fromCodePoint.apply(String,_(p))},be=function(p){return p-48<10?p-22:p-65<26?p-65:p-97<26?p-97:$},U=function(p,k){return p+22+75*(p<26)-((k!=0)<<5)},N=function(p,k,D){var A=0;for(p=D?ne(p/j):p>>1,p+=ne(p/k);p>ke*f>>1;A+=$)p=ne(p/ke);return ne(A+(ke+1)*p/(p+y))},V=function(p){var k=[],D=p.length,A=0,X=M,Z=F,ve=p.lastIndexOf(z);ve<0&&(ve=0);for(var De=0;De<ve;++De)p.charCodeAt(De)>=128&&we("not-basic"),k.push(p.charCodeAt(De));for(var Me=ve>0?ve+1:0;Me<D;){for(var fe=A,Ce=1,Fe=$;;Fe+=$){Me>=D&&we("invalid-input");var ae=be(p.charCodeAt(Me++));(ae>=$||ae>ne((g-A)/Ce))&&we("overflow"),A+=ae*Ce;var Ue=Fe<=Z?v:Fe>=Z+f?f:Fe-Z;if(ae<Ue)break;var st=$-Ue;Ce>ne(g/st)&&we("overflow"),Ce*=st}var qe=k.length+1;Z=N(A-fe,qe,fe==0),ne(A/qe)>g-X&&we("overflow"),X+=ne(A/qe),A%=qe,k.splice(A++,0,X)}return String.fromCodePoint.apply(String,k)},I=function(p){var k=[];p=Ie(p);var D=p.length,A=M,X=0,Z=F,ve=!0,De=!1,Me=void 0;try{for(var fe=p[Symbol.iterator](),Ce;!(ve=(Ce=fe.next()).done);ve=!0){var Fe=Ce.value;Fe<128&&k.push(Te(Fe))}}catch(Tr){De=!0,Me=Tr}finally{try{!ve&&fe.return&&fe.return()}finally{if(De)throw Me}}var ae=k.length,Ue=ae;for(ae&&k.push(z);Ue<D;){var st=g,qe=!0,Zt=!1,jt=void 0;try{for(var Rt=p[Symbol.iterator](),pr;!(qe=(pr=Rt.next()).done);qe=!0){var nr=pr.value;nr>=A&&nr<st&&(st=nr)}}catch(Tr){Zt=!0,jt=Tr}finally{try{!qe&&Rt.return&&Rt.return()}finally{if(Zt)throw jt}}var kt=Ue+1;st-A>ne((g-X)/kt)&&we("overflow"),X+=(st-A)*kt,A=st;var Vt=!0,ar=!1,Jt=void 0;try{for(var Cr=p[Symbol.iterator](),Aa;!(Vt=(Aa=Cr.next()).done);Vt=!0){var ja=Aa.value;if(ja<A&&++X>g&&we("overflow"),ja==A){for(var Zr=X,Yr=$;;Yr+=$){var xr=Yr<=Z?v:Yr>=Z+f?f:Yr-Z;if(Zr<xr)break;var Ra=Zr-xr,Va=$-xr;k.push(Te(U(xr+Ra%Va,0))),Zr=ne(Ra/Va)}k.push(Te(U(Zr,0))),Z=N(X,kt,Ue==ae),X=0,++Ue}}}catch(Tr){ar=!0,Jt=Tr}finally{try{!Vt&&Cr.return&&Cr.return()}finally{if(ar)throw Jt}}++X,++A}return k.join("")},h=function(p){return $e(p,function(k){return ue.test(k)?V(k.slice(4).toLowerCase()):k})},w=function(p){return $e(p,function(k){return x.test(k)?"xn--"+I(k):k})},R={version:"2.1.0",ucs2:{decode:Ie,encode:xe},decode:V,encode:I,toASCII:w,toUnicode:h},K={};function q(S){var p=S.charCodeAt(0),k=void 0;return p<16?k="%0"+p.toString(16).toUpperCase():p<128?k="%"+p.toString(16).toUpperCase():p<2048?k="%"+(p>>6|192).toString(16).toUpperCase()+"%"+(p&63|128).toString(16).toUpperCase():k="%"+(p>>12|224).toString(16).toUpperCase()+"%"+(p>>6&63|128).toString(16).toUpperCase()+"%"+(p&63|128).toString(16).toUpperCase(),k}function re(S){for(var p="",k=0,D=S.length;k<D;){var A=parseInt(S.substr(k+1,2),16);if(A<128)p+=String.fromCharCode(A),k+=3;else if(A>=194&&A<224){if(D-k>=6){var X=parseInt(S.substr(k+4,2),16);p+=String.fromCharCode((A&31)<<6|X&63)}else p+=S.substr(k,6);k+=6}else if(A>=224){if(D-k>=9){var Z=parseInt(S.substr(k+4,2),16),ve=parseInt(S.substr(k+7,2),16);p+=String.fromCharCode((A&15)<<12|(Z&63)<<6|ve&63)}else p+=S.substr(k,9);k+=9}else p+=S.substr(k,3),k+=3}return p}function ie(S,p){function k(D){var A=re(D);return A.match(p.UNRESERVED)?A:D}return S.scheme&&(S.scheme=String(S.scheme).replace(p.PCT_ENCODED,k).toLowerCase().replace(p.NOT_SCHEME,"")),S.userinfo!==void 0&&(S.userinfo=String(S.userinfo).replace(p.PCT_ENCODED,k).replace(p.NOT_USERINFO,q).replace(p.PCT_ENCODED,i)),S.host!==void 0&&(S.host=String(S.host).replace(p.PCT_ENCODED,k).toLowerCase().replace(p.NOT_HOST,q).replace(p.PCT_ENCODED,i)),S.path!==void 0&&(S.path=String(S.path).replace(p.PCT_ENCODED,k).replace(S.scheme?p.NOT_PATH:p.NOT_PATH_NOSCHEME,q).replace(p.PCT_ENCODED,i)),S.query!==void 0&&(S.query=String(S.query).replace(p.PCT_ENCODED,k).replace(p.NOT_QUERY,q).replace(p.PCT_ENCODED,i)),S.fragment!==void 0&&(S.fragment=String(S.fragment).replace(p.PCT_ENCODED,k).replace(p.NOT_FRAGMENT,q).replace(p.PCT_ENCODED,i)),S}function Ee(S){return S.replace(/^0*(.*)/,"$1")||"0"}function Se(S,p){var k=S.match(p.IPV4ADDRESS)||[],D=m(k,2),A=D[1];return A?A.split(".").map(Ee).join("."):S}function Y(S,p){var k=S.match(p.IPV6ADDRESS)||[],D=m(k,3),A=D[1],X=D[2];if(A){for(var Z=A.toLowerCase().split("::").reverse(),ve=m(Z,2),De=ve[0],Me=ve[1],fe=Me?Me.split(":").map(Ee):[],Ce=De.split(":").map(Ee),Fe=p.IPV4ADDRESS.test(Ce[Ce.length-1]),ae=Fe?7:8,Ue=Ce.length-ae,st=Array(ae),qe=0;qe<ae;++qe)st[qe]=fe[qe]||Ce[Ue+qe]||"";Fe&&(st[ae-1]=Se(st[ae-1],p));var Zt=st.reduce(function(kt,Vt,ar){if(!Vt||Vt==="0"){var Jt=kt[kt.length-1];Jt&&Jt.index+Jt.length===ar?Jt.length++:kt.push({index:ar,length:1})}return kt},[]),jt=Zt.sort(function(kt,Vt){return Vt.length-kt.length})[0],Rt=void 0;if(jt&&jt.length>1){var pr=st.slice(0,jt.index),nr=st.slice(jt.index+jt.length);Rt=pr.join(":")+"::"+nr.join(":")}else Rt=st.join(":");return X&&(Rt+="%"+X),Rt}else return S}var oe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,pe="".match(/(){0}/)[1]===void 0;function ye(S){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k={},D=p.iri!==!1?d:u;p.reference==="suffix"&&(S=(p.scheme?p.scheme+":":"")+"//"+S);var A=S.match(oe);if(A){pe?(k.scheme=A[1],k.userinfo=A[3],k.host=A[4],k.port=parseInt(A[5],10),k.path=A[6]||"",k.query=A[7],k.fragment=A[8],isNaN(k.port)&&(k.port=A[5])):(k.scheme=A[1]||void 0,k.userinfo=S.indexOf("@")!==-1?A[3]:void 0,k.host=S.indexOf("//")!==-1?A[4]:void 0,k.port=parseInt(A[5],10),k.path=A[6]||"",k.query=S.indexOf("?")!==-1?A[7]:void 0,k.fragment=S.indexOf("#")!==-1?A[8]:void 0,isNaN(k.port)&&(k.port=S.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?A[4]:void 0)),k.host&&(k.host=Y(Se(k.host,D),D)),k.scheme===void 0&&k.userinfo===void 0&&k.host===void 0&&k.port===void 0&&!k.path&&k.query===void 0?k.reference="same-document":k.scheme===void 0?k.reference="relative":k.fragment===void 0?k.reference="absolute":k.reference="uri",p.reference&&p.reference!=="suffix"&&p.reference!==k.reference&&(k.error=k.error||"URI is not a "+p.reference+" reference.");var X=K[(p.scheme||k.scheme||"").toLowerCase()];if(!p.unicodeSupport&&(!X||!X.unicodeSupport)){if(k.host&&(p.domainHost||X&&X.domainHost))try{k.host=R.toASCII(k.host.replace(D.PCT_ENCODED,re).toLowerCase())}catch(Z){k.error=k.error||"Host's domain name can not be converted to ASCII via punycode: "+Z}ie(k,u)}else ie(k,D);X&&X.parse&&X.parse(k,p)}else k.error=k.error||"URI can not be parsed.";return k}function et(S,p){var k=p.iri!==!1?d:u,D=[];return S.userinfo!==void 0&&(D.push(S.userinfo),D.push("@")),S.host!==void 0&&D.push(Y(Se(String(S.host),k),k).replace(k.IPV6ADDRESS,function(A,X,Z){return"["+X+(Z?"%25"+Z:"")+"]"})),(typeof S.port=="number"||typeof S.port=="string")&&(D.push(":"),D.push(String(S.port))),D.length?D.join(""):void 0}var tt=/^\.\.?\//,rt=/^\/\.(\/|$)/,ft=/^\/\.\.(\/|$)/,Qe=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(S){for(var p=[];S.length;)if(S.match(tt))S=S.replace(tt,"");else if(S.match(rt))S=S.replace(rt,"/");else if(S.match(ft))S=S.replace(ft,"/"),p.pop();else if(S==="."||S==="..")S="";else{var k=S.match(Qe);if(k){var D=k[0];S=S.slice(D.length),p.push(D)}else throw new Error("Unexpected dot segment condition")}return p.join("")}function Ze(S){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=p.iri?d:u,D=[],A=K[(p.scheme||S.scheme||"").toLowerCase()];if(A&&A.serialize&&A.serialize(S,p),S.host&&!k.IPV6ADDRESS.test(S.host)){if(p.domainHost||A&&A.domainHost)try{S.host=p.iri?R.toUnicode(S.host):R.toASCII(S.host.replace(k.PCT_ENCODED,re).toLowerCase())}catch(ve){S.error=S.error||"Host's domain name can not be converted to "+(p.iri?"Unicode":"ASCII")+" via punycode: "+ve}}ie(S,k),p.reference!=="suffix"&&S.scheme&&(D.push(S.scheme),D.push(":"));var X=et(S,p);if(X!==void 0&&(p.reference!=="suffix"&&D.push("//"),D.push(X),S.path&&S.path.charAt(0)!=="/"&&D.push("/")),S.path!==void 0){var Z=S.path;!p.absolutePath&&(!A||!A.absolutePath)&&(Z=nt(Z)),X===void 0&&(Z=Z.replace(/^\/\//,"/%2F")),D.push(Z)}return S.query!==void 0&&(D.push("?"),D.push(S.query)),S.fragment!==void 0&&(D.push("#"),D.push(S.fragment)),D.join("")}function St(S,p){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments[3],A={};return D||(S=ye(Ze(S,k),k),p=ye(Ze(p,k),k)),k=k||{},!k.tolerant&&p.scheme?(A.scheme=p.scheme,A.userinfo=p.userinfo,A.host=p.host,A.port=p.port,A.path=nt(p.path||""),A.query=p.query):(p.userinfo!==void 0||p.host!==void 0||p.port!==void 0?(A.userinfo=p.userinfo,A.host=p.host,A.port=p.port,A.path=nt(p.path||""),A.query=p.query):(p.path?(p.path.charAt(0)==="/"?A.path=nt(p.path):((S.userinfo!==void 0||S.host!==void 0||S.port!==void 0)&&!S.path?A.path="/"+p.path:S.path?A.path=S.path.slice(0,S.path.lastIndexOf("/")+1)+p.path:A.path=p.path,A.path=nt(A.path)),A.query=p.query):(A.path=S.path,p.query!==void 0?A.query=p.query:A.query=S.query),A.userinfo=S.userinfo,A.host=S.host,A.port=S.port),A.scheme=S.scheme),A.fragment=p.fragment,A}function Re(S,p,k){var D=l({scheme:"null"},k);return Ze(St(ye(S,D),ye(p,D),D,!0),D)}function bt(S,p){return typeof S=="string"?S=Ze(ye(S,p),p):s(S)==="object"&&(S=ye(Ze(S,p),p)),S}function vt(S,p,k){return typeof S=="string"?S=Ze(ye(S,k),k):s(S)==="object"&&(S=Ze(S,k)),typeof p=="string"?p=Ze(ye(p,k),k):s(p)==="object"&&(p=Ze(p,k)),S===p}function Pt(S,p){return S&&S.toString().replace(!p||!p.iri?u.ESCAPE:d.ESCAPE,q)}function Be(S,p){return S&&S.toString().replace(!p||!p.iri?u.PCT_ENCODED:d.PCT_ENCODED,re)}var ot={scheme:"http",domainHost:!0,parse:function(p,k){return p.host||(p.error=p.error||"HTTP URIs must have a host."),p},serialize:function(p,k){var D=String(p.scheme).toLowerCase()==="https";return(p.port===(D?443:80)||p.port==="")&&(p.port=void 0),p.path||(p.path="/"),p}},dt={scheme:"https",domainHost:ot.domainHost,parse:ot.parse,serialize:ot.serialize};function qt(S){return typeof S.secure=="boolean"?S.secure:String(S.scheme).toLowerCase()==="wss"}var _t={scheme:"ws",domainHost:!0,parse:function(p,k){var D=p;return D.secure=qt(D),D.resourceName=(D.path||"/")+(D.query?"?"+D.query:""),D.path=void 0,D.query=void 0,D},serialize:function(p,k){if((p.port===(qt(p)?443:80)||p.port==="")&&(p.port=void 0),typeof p.secure=="boolean"&&(p.scheme=p.secure?"wss":"ws",p.secure=void 0),p.resourceName){var D=p.resourceName.split("?"),A=m(D,2),X=A[0],Z=A[1];p.path=X&&X!=="/"?X:void 0,p.query=Z,p.resourceName=void 0}return p.fragment=void 0,p}},We={scheme:"wss",domainHost:_t.domainHost,parse:_t.parse,serialize:_t.serialize},at={},He="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ae="[0-9A-Fa-f]",ee=a(a("%[EFef]"+Ae+"%"+Ae+Ae+"%"+Ae+Ae)+"|"+a("%[89A-Fa-f]"+Ae+"%"+Ae+Ae)+"|"+a("%"+Ae+Ae)),Oe="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",dr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",At=n(dr,'[\\"\\\\]'),Gr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Qt=new RegExp(He,"g"),Lt=new RegExp(ee,"g"),hr=new RegExp(n("[^]",Oe,"[\\.]",'[\\"]',At),"g"),Ir=new RegExp(n("[^]",He,Gr),"g"),Wr=Ir;function mr(S){var p=re(S);return p.match(Qt)?p:S}var zt={scheme:"mailto",parse:function(p,k){var D=p,A=D.to=D.path?D.path.split(","):[];if(D.path=void 0,D.query){for(var X=!1,Z={},ve=D.query.split("&"),De=0,Me=ve.length;De<Me;++De){var fe=ve[De].split("=");switch(fe[0]){case"to":for(var Ce=fe[1].split(","),Fe=0,ae=Ce.length;Fe<ae;++Fe)A.push(Ce[Fe]);break;case"subject":D.subject=Be(fe[1],k);break;case"body":D.body=Be(fe[1],k);break;default:X=!0,Z[Be(fe[0],k)]=Be(fe[1],k);break}}X&&(D.headers=Z)}D.query=void 0;for(var Ue=0,st=A.length;Ue<st;++Ue){var qe=A[Ue].split("@");if(qe[0]=Be(qe[0]),k.unicodeSupport)qe[1]=Be(qe[1],k).toLowerCase();else try{qe[1]=R.toASCII(Be(qe[1],k).toLowerCase())}catch(Zt){D.error=D.error||"Email address's domain name can not be converted to ASCII via punycode: "+Zt}A[Ue]=qe.join("@")}return D},serialize:function(p,k){var D=p,A=o(p.to);if(A){for(var X=0,Z=A.length;X<Z;++X){var ve=String(A[X]),De=ve.lastIndexOf("@"),Me=ve.slice(0,De).replace(Lt,mr).replace(Lt,i).replace(hr,q),fe=ve.slice(De+1);try{fe=k.iri?R.toUnicode(fe):R.toASCII(Be(fe,k).toLowerCase())}catch(Ue){D.error=D.error||"Email address's domain name can not be converted to "+(k.iri?"Unicode":"ASCII")+" via punycode: "+Ue}A[X]=Me+"@"+fe}D.path=A.join(",")}var Ce=p.headers=p.headers||{};p.subject&&(Ce.subject=p.subject),p.body&&(Ce.body=p.body);var Fe=[];for(var ae in Ce)Ce[ae]!==at[ae]&&Fe.push(ae.replace(Lt,mr).replace(Lt,i).replace(Ir,q)+"="+Ce[ae].replace(Lt,mr).replace(Lt,i).replace(Wr,q));return Fe.length&&(D.query=Fe.join("&")),D}},Xr=/^([^\:]+)\:(.*)/,Or={scheme:"urn",parse:function(p,k){var D=p.path&&p.path.match(Xr),A=p;if(D){var X=k.scheme||A.scheme||"urn",Z=D[1].toLowerCase(),ve=D[2],De=X+":"+(k.nid||Z),Me=K[De];A.nid=Z,A.nss=ve,A.path=void 0,Me&&(A=Me.parse(A,k))}else A.error=A.error||"URN can not be parsed.";return A},serialize:function(p,k){var D=k.scheme||p.scheme||"urn",A=p.nid,X=D+":"+(k.nid||A),Z=K[X];Z&&(p=Z.serialize(p,k));var ve=p,De=p.nss;return ve.path=(A||k.nid)+":"+De,ve}},Qr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Kt={scheme:"urn:uuid",parse:function(p,k){var D=p;return D.uuid=D.nss,D.nss=void 0,!k.tolerant&&(!D.uuid||!D.uuid.match(Qr))&&(D.error=D.error||"UUID is not valid."),D},serialize:function(p,k){var D=p;return D.nss=(p.uuid||"").toLowerCase(),D}};K[ot.scheme]=ot,K[dt.scheme]=dt,K[_t.scheme]=_t,K[We.scheme]=We,K[zt.scheme]=zt,K[Or.scheme]=Or,K[Kt.scheme]=Kt,r.SCHEMES=K,r.pctEncChar=q,r.pctDecChars=re,r.parse=ye,r.removeDotSegments=nt,r.serialize=Ze,r.resolveComponents=St,r.resolve=Re,r.normalize=bt,r.equal=vt,r.escapeComponent=Pt,r.unescapeComponent=Be,Object.defineProperty(r,"__esModule",{value:!0})})})(Mn,Mn.exports);var vc=Mn.exports;Object.defineProperty(xn,"__esModule",{value:!0});const Ci=vc;Ci.code='require("ajv/dist/runtime/uri").default';xn.default=Ci;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Tt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=ge;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Jr,a=Pr,s=ur,i=wt,o=ge,l=ut,c=it,u=H,d=pc,m=xn,_=(U,N)=>new RegExp(U,N);_.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function j(U){var N,V,I,h,w,R,K,q,re,ie,Ee,Se,Y,oe,pe,ye,et,tt,rt,ft,Qe,nt,Ze,St,Re;const bt=U.strict,vt=(N=U.code)===null||N===void 0?void 0:N.optimize,Pt=vt===!0||vt===void 0?1:vt||0,Be=(I=(V=U.code)===null||V===void 0?void 0:V.regExp)!==null&&I!==void 0?I:_,ot=(h=U.uriResolver)!==null&&h!==void 0?h:m.default;return{strictSchema:(R=(w=U.strictSchema)!==null&&w!==void 0?w:bt)!==null&&R!==void 0?R:!0,strictNumbers:(q=(K=U.strictNumbers)!==null&&K!==void 0?K:bt)!==null&&q!==void 0?q:!0,strictTypes:(ie=(re=U.strictTypes)!==null&&re!==void 0?re:bt)!==null&&ie!==void 0?ie:"log",strictTuples:(Se=(Ee=U.strictTuples)!==null&&Ee!==void 0?Ee:bt)!==null&&Se!==void 0?Se:"log",strictRequired:(oe=(Y=U.strictRequired)!==null&&Y!==void 0?Y:bt)!==null&&oe!==void 0?oe:!1,code:U.code?{...U.code,optimize:Pt,regExp:Be}:{optimize:Pt,regExp:Be},loopRequired:(pe=U.loopRequired)!==null&&pe!==void 0?pe:y,loopEnum:(ye=U.loopEnum)!==null&&ye!==void 0?ye:y,meta:(et=U.meta)!==null&&et!==void 0?et:!0,messages:(tt=U.messages)!==null&&tt!==void 0?tt:!0,inlineRefs:(rt=U.inlineRefs)!==null&&rt!==void 0?rt:!0,schemaId:(ft=U.schemaId)!==null&&ft!==void 0?ft:"$id",addUsedSchema:(Qe=U.addUsedSchema)!==null&&Qe!==void 0?Qe:!0,validateSchema:(nt=U.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(Ze=U.validateFormats)!==null&&Ze!==void 0?Ze:!0,unicodeRegExp:(St=U.unicodeRegExp)!==null&&St!==void 0?St:!0,int32range:(Re=U.int32range)!==null&&Re!==void 0?Re:!0,uriResolver:ot}}class F{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...j(N)};const{es5:V,lines:I}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:$,es5:V,lines:I}),this.logger=ne(N.logger);const h=N.validateFormats;N.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,v,N,"NOT SUPPORTED"),M.call(this,f,N,"DEPRECATED","warn"),this._metaOpts=de.call(this),N.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&te.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),ue.call(this),N.validateFormats=h}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:V,schemaId:I}=this.opts;let h=d;I==="id"&&(h={...d},h.id=h.$id,delete h.$id),V&&N&&this.addMetaSchema(h,h[I],!1)}defaultMeta(){const{meta:N,schemaId:V}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[V]||N:void 0}validate(N,V){let I;if(typeof N=="string"){if(I=this.getSchema(N),!I)throw new Error(`no schema with key or ref "${N}"`)}else I=this.compile(N);const h=I(V);return"$async"in I||(this.errors=I.errors),h}compile(N,V){const I=this._addSchema(N,V);return I.validate||this._compileSchemaEnv(I)}compileAsync(N,V){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:I}=this.opts;return h.call(this,N,V);async function h(ie,Ee){await w.call(this,ie.$schema);const Se=this._addSchema(ie,Ee);return Se.validate||R.call(this,Se)}async function w(ie){ie&&!this.getSchema(ie)&&await h.call(this,{$ref:ie},!0)}async function R(ie){try{return this._compileSchemaEnv(ie)}catch(Ee){if(!(Ee instanceof a.default))throw Ee;return K.call(this,Ee),await q.call(this,Ee.missingSchema),R.call(this,ie)}}function K({missingSchema:ie,missingRef:Ee}){if(this.refs[ie])throw new Error(`AnySchema ${ie} is loaded but ${Ee} cannot be resolved`)}async function q(ie){const Ee=await re.call(this,ie);this.refs[ie]||await w.call(this,Ee.$schema),this.refs[ie]||this.addSchema(Ee,ie,V)}async function re(ie){const Ee=this._loading[ie];if(Ee)return Ee;try{return await(this._loading[ie]=I(ie))}finally{delete this._loading[ie]}}}addSchema(N,V,I,h=this.opts.validateSchema){if(Array.isArray(N)){for(const R of N)this.addSchema(R,void 0,I,h);return this}let w;if(typeof N=="object"){const{schemaId:R}=this.opts;if(w=N[R],w!==void 0&&typeof w!="string")throw new Error(`schema ${R} must be string`)}return V=(0,l.normalizeId)(V||w),this._checkUnique(V),this.schemas[V]=this._addSchema(N,I,V,h,!0),this}addMetaSchema(N,V,I=this.opts.validateSchema){return this.addSchema(N,V,!0,I),this}validateSchema(N,V){if(typeof N=="boolean")return!0;let I;if(I=N.$schema,I!==void 0&&typeof I!="string")throw new Error("$schema must be a string");if(I=I||this.opts.defaultMeta||this.defaultMeta(),!I)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const h=this.validate(I,N);if(!h&&V){const w="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(w);else throw new Error(w)}return h}getSchema(N){let V;for(;typeof(V=z.call(this,N))=="string";)N=V;if(V===void 0){const{schemaId:I}=this.opts,h=new i.SchemaEnv({schema:{},schemaId:I});if(V=i.resolveSchema.call(this,h,N),!V)return;this.refs[N]=V}return V.validate||this._compileSchemaEnv(V)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const V=z.call(this,N);return typeof V=="object"&&this._cache.delete(V.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const V=N;this._cache.delete(V);let I=N[this.opts.schemaId];return I&&(I=(0,l.normalizeId)(I),delete this.schemas[I],delete this.refs[I]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const V of N)this.addKeyword(V);return this}addKeyword(N,V){let I;if(typeof N=="string")I=N,typeof V=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),V.keyword=I);else if(typeof N=="object"&&V===void 0){if(V=N,I=V.keyword,Array.isArray(I)&&!I.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(we.call(this,I,V),!V)return(0,u.eachItem)(I,w=>Ne.call(this,w)),this;Ie.call(this,V);const h={...V,type:(0,c.getJSONTypes)(V.type),schemaType:(0,c.getJSONTypes)(V.schemaType)};return(0,u.eachItem)(I,h.type.length===0?w=>Ne.call(this,w,h):w=>h.type.forEach(R=>Ne.call(this,w,h,R))),this}getKeyword(N){const V=this.RULES.all[N];return typeof V=="object"?V.definition:!!V}removeKeyword(N){const{RULES:V}=this;delete V.keywords[N],delete V.all[N];for(const I of V.rules){const h=I.rules.findIndex(w=>w.keyword===N);h>=0&&I.rules.splice(h,1)}return this}addFormat(N,V){return typeof V=="string"&&(V=new RegExp(V)),this.formats[N]=V,this}errorsText(N=this.errors,{separator:V=", ",dataVar:I="data"}={}){return!N||N.length===0?"No errors":N.map(h=>`${I}${h.instancePath} ${h.message}`).reduce((h,w)=>h+V+w)}$dataMetaSchema(N,V){const I=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const h of V){const w=h.split("/").slice(1);let R=N;for(const K of w)R=R[K];for(const K in I){const q=I[K];if(typeof q!="object")continue;const{$data:re}=q.definition,ie=R[K];re&&ie&&(R[K]=be(ie))}}return N}_removeAllSchemas(N,V){for(const I in N){const h=N[I];(!V||V.test(I))&&(typeof h=="string"?delete N[I]:h&&!h.meta&&(this._cache.delete(h.schema),delete N[I]))}}_addSchema(N,V,I,h=this.opts.validateSchema,w=this.opts.addUsedSchema){let R;const{schemaId:K}=this.opts;if(typeof N=="object")R=N[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let q=this._cache.get(N);if(q!==void 0)return q;I=(0,l.normalizeId)(R||I);const re=l.getSchemaRefs.call(this,N,I);return q=new i.SchemaEnv({schema:N,schemaId:K,meta:V,baseId:I,localRefs:re}),this._cache.set(q.schema,q),w&&!I.startsWith("#")&&(I&&this._checkUnique(I),this.refs[I]=q),h&&this.validateSchema(N,!0),q}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):i.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const V=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,N)}finally{this.opts=V}}}F.ValidationError=n.default,F.MissingRefError=a.default,t.default=F;function M(U,N,V,I="error"){for(const h in U){const w=h;w in N&&this.logger[I](`${V}: option ${h}. ${U[w]}`)}}function z(U){return U=(0,l.normalizeId)(U),this.schemas[U]||this.refs[U]}function ue(){const U=this.opts.schemas;if(U)if(Array.isArray(U))this.addSchema(U);else for(const N in U)this.addSchema(U[N],N)}function x(){for(const U in this.opts.formats){const N=this.opts.formats[U];N&&this.addFormat(U,N)}}function te(U){if(Array.isArray(U)){this.addVocabulary(U);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in U){const V=U[N];V.keyword||(V.keyword=N),this.addKeyword(V)}}function de(){const U={...this.opts};for(const N of g)delete U[N];return U}const ke={log(){},warn(){},error(){}};function ne(U){if(U===!1)return ke;if(U===void 0)return console;if(U.log&&U.warn&&U.error)return U;throw new Error("logger must implement log, warn and error methods")}const Te=/^[a-z_$][a-z0-9_$:-]*$/i;function we(U,N){const{RULES:V}=this;if((0,u.eachItem)(U,I=>{if(V.keywords[I])throw new Error(`Keyword ${I} is already defined`);if(!Te.test(I))throw new Error(`Keyword ${I} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function Ne(U,N,V){var I;const h=N==null?void 0:N.post;if(V&&h)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:w}=this;let R=h?w.post:w.rules.find(({type:q})=>q===V);if(R||(R={type:V,rules:[]},w.rules.push(R)),w.keywords[U]=!0,!N)return;const K={keyword:U,definition:{...N,type:(0,c.getJSONTypes)(N.type),schemaType:(0,c.getJSONTypes)(N.schemaType)}};N.before?$e.call(this,R,K,N.before):R.rules.push(K),w.all[U]=K,(I=N.implements)===null||I===void 0||I.forEach(q=>this.addKeyword(q))}function $e(U,N,V){const I=U.rules.findIndex(h=>h.keyword===V);I>=0?U.rules.splice(I,0,N):(U.rules.push(N),this.logger.warn(`rule ${V} is not defined`))}function Ie(U){let{metaSchema:N}=U;N!==void 0&&(U.$data&&this.opts.$data&&(N=be(N)),U.validateSchema=this.compile(N,!0))}const xe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function be(U){return{anyOf:[U,xe]}}})(Zs);var ea={},ta={},ra={};Object.defineProperty(ra,"__esModule",{value:!0});const _c={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ra.default=_c;var fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.callRef=fr.getValidate=void 0;const gc=Pr,Xa=_e,Et=ge,_r=Ut,Qa=wt,en=H,yc={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:a,schemaEnv:s,validateName:i,opts:o,self:l}=n,{root:c}=s;if((r==="#"||r==="#/")&&a===c.baseId)return d();const u=Qa.resolveRef.call(l,c,a,r);if(u===void 0)throw new gc.default(n.opts.uriResolver,a,r);if(u instanceof Qa.SchemaEnv)return m(u);return _(u);function d(){if(s===c)return cn(t,i,s,s.$async);const g=e.scopeValue("root",{ref:c});return cn(t,(0,Et._)`${g}.validate`,c,c.$async)}function m(g){const $=Ti(t,g);cn(t,$,g,g.$async)}function _(g){const $=e.scopeValue("schema",o.code.source===!0?{ref:g,code:(0,Et.stringify)(g)}:{ref:g}),v=e.name("valid"),f=t.subschema({schema:g,dataTypes:[],schemaPath:Et.nil,topSchemaRef:$,errSchemaPath:r},v);t.mergeEvaluated(f),t.ok(v)}}};function Ti(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Et._)`${r.scopeValue("wrapper",{ref:e})}.validate`}fr.getValidate=Ti;function cn(t,e,r,n){const{gen:a,it:s}=t,{allErrors:i,schemaEnv:o,opts:l}=s,c=l.passContext?_r.default.this:Et.nil;n?u():d();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");const g=a.let("valid");a.try(()=>{a.code((0,Et._)`await ${(0,Xa.callValidateCode)(t,e,c)}`),_(e),i||a.assign(g,!0)},$=>{a.if((0,Et._)`!(${$} instanceof ${s.ValidationError})`,()=>a.throw($)),m($),i||a.assign(g,!1)}),t.ok(g)}function d(){t.result((0,Xa.callValidateCode)(t,e,c),()=>_(e),()=>m(e))}function m(g){const $=(0,Et._)`${g}.errors`;a.assign(_r.default.vErrors,(0,Et._)`${_r.default.vErrors} === null ? ${$} : ${_r.default.vErrors}.concat(${$})`),a.assign(_r.default.errors,(0,Et._)`${_r.default.vErrors}.length`)}function _(g){var $;if(!s.opts.unevaluated)return;const v=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=en.mergeEvaluated.props(a,v.props,s.props));else{const f=a.var("props",(0,Et._)`${g}.evaluated.props`);s.props=en.mergeEvaluated.props(a,f,s.props,Et.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=en.mergeEvaluated.items(a,v.items,s.items));else{const f=a.var("items",(0,Et._)`${g}.evaluated.items`);s.items=en.mergeEvaluated.items(a,f,s.items,Et.Name)}}}fr.callRef=cn;fr.default=yc;Object.defineProperty(ta,"__esModule",{value:!0});const $c=ra,bc=fr,Ec=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",$c.default,bc.default];ta.default=Ec;var na={},aa={};Object.defineProperty(aa,"__esModule",{value:!0});const pn=ge,xt=pn.operators,vn={maximum:{okStr:"<=",ok:xt.LTE,fail:xt.GT},minimum:{okStr:">=",ok:xt.GTE,fail:xt.LT},exclusiveMaximum:{okStr:"<",ok:xt.LT,fail:xt.GTE},exclusiveMinimum:{okStr:">",ok:xt.GT,fail:xt.LTE}},wc={message:({keyword:t,schemaCode:e})=>(0,pn.str)`must be ${vn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,pn._)`{comparison: ${vn[t].okStr}, limit: ${e}}`},Sc={keyword:Object.keys(vn),type:"number",schemaType:"number",$data:!0,error:wc,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,pn._)`${r} ${vn[e].fail} ${n} || isNaN(${r})`)}};aa.default=Sc;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});const Vr=ge,Pc={message:({schemaCode:t})=>(0,Vr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Vr._)`{multipleOf: ${t}}`},kc={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Pc,code(t){const{gen:e,data:r,schemaCode:n,it:a}=t,s=a.opts.multipleOfPrecision,i=e.let("res"),o=s?(0,Vr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,Vr._)`${i} !== parseInt(${i})`;t.fail$data((0,Vr._)`(${n} === 0 || (${i} = ${r}/${n}, ${o}))`)}};sa.default=kc;var ia={},oa={};Object.defineProperty(oa,"__esModule",{value:!0});function Di(t){const e=t.length;let r=0,n=0,a;for(;n<e;)r++,a=t.charCodeAt(n++),a>=55296&&a<=56319&&n<e&&(a=t.charCodeAt(n),(a&64512)===56320&&n++);return r}oa.default=Di;Di.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ia,"__esModule",{value:!0});const or=ge,Nc=H,Ic=oa,Oc={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,or.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,or._)`{limit: ${t}}`},Cc={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Oc,code(t){const{keyword:e,data:r,schemaCode:n,it:a}=t,s=e==="maxLength"?or.operators.GT:or.operators.LT,i=a.opts.unicode===!1?(0,or._)`${r}.length`:(0,or._)`${(0,Nc.useFunc)(t.gen,Ic.default)}(${r})`;t.fail$data((0,or._)`${i} ${s} ${n}`)}};ia.default=Cc;var la={};Object.defineProperty(la,"__esModule",{value:!0});const Tc=_e,_n=ge,Dc={message:({schemaCode:t})=>(0,_n.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,_n._)`{pattern: ${t}}`},Ac={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Dc,code(t){const{data:e,$data:r,schema:n,schemaCode:a,it:s}=t,i=s.opts.unicodeRegExp?"u":"",o=r?(0,_n._)`(new RegExp(${a}, ${i}))`:(0,Tc.usePattern)(t,n);t.fail$data((0,_n._)`!${o}.test(${e})`)}};la.default=Ac;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});const Mr=ge,jc={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Mr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Mr._)`{limit: ${t}}`},Rc={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:jc,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxProperties"?Mr.operators.GT:Mr.operators.LT;t.fail$data((0,Mr._)`Object.keys(${r}).length ${a} ${n}`)}};ca.default=Rc;var ua={};Object.defineProperty(ua,"__esModule",{value:!0});const Ar=_e,Fr=ge,Vc=H,Mc={message:({params:{missingProperty:t}})=>(0,Fr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Fr._)`{missingProperty: ${t}}`},Fc={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Mc,code(t){const{gen:e,schema:r,schemaCode:n,data:a,$data:s,it:i}=t,{opts:o}=i;if(!s&&r.length===0)return;const l=r.length>=o.loopRequired;if(i.allErrors?c():u(),o.strictRequired){const _=t.parentSchema.properties,{definedProperties:g}=t.it;for(const $ of r)if((_==null?void 0:_[$])===void 0&&!g.has($)){const v=i.schemaEnv.baseId+i.errSchemaPath,f=`required property "${$}" is not defined at "${v}" (strictRequired)`;(0,Vc.checkStrictMode)(i,f,i.opts.strictRequired)}}function c(){if(l||s)t.block$data(Fr.nil,d);else for(const _ of r)(0,Ar.checkReportMissingProp)(t,_)}function u(){const _=e.let("missing");if(l||s){const g=e.let("valid",!0);t.block$data(g,()=>m(_,g)),t.ok(g)}else e.if((0,Ar.checkMissingProp)(t,r,_)),(0,Ar.reportMissingProp)(t,_),e.else()}function d(){e.forOf("prop",n,_=>{t.setParams({missingProperty:_}),e.if((0,Ar.noPropertyInData)(e,a,_,o.ownProperties),()=>t.error())})}function m(_,g){t.setParams({missingProperty:_}),e.forOf(_,n,()=>{e.assign(g,(0,Ar.propertyInData)(e,a,_,o.ownProperties)),e.if((0,Fr.not)(g),()=>{t.error(),e.break()})},Fr.nil)}}};ua.default=Fc;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});const Ur=ge,Uc={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Ur.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Ur._)`{limit: ${t}}`},qc={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Uc,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxItems"?Ur.operators.GT:Ur.operators.LT;t.fail$data((0,Ur._)`${r}.length ${a} ${n}`)}};fa.default=qc;var da={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});const Ai=hi;Ai.code='require("ajv/dist/runtime/equal").default';Br.default=Ai;Object.defineProperty(da,"__esModule",{value:!0});const In=it,ct=ge,Lc=H,zc=Br,Kc={message:({params:{i:t,j:e}})=>(0,ct.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ct._)`{i: ${t}, j: ${e}}`},Jc={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Kc,code(t){const{gen:e,data:r,$data:n,schema:a,parentSchema:s,schemaCode:i,it:o}=t;if(!n&&!a)return;const l=e.let("valid"),c=s.items?(0,In.getSchemaTypes)(s.items):[];t.block$data(l,u,(0,ct._)`${i} === false`),t.ok(l);function u(){const g=e.let("i",(0,ct._)`${r}.length`),$=e.let("j");t.setParams({i:g,j:$}),e.assign(l,!0),e.if((0,ct._)`${g} > 1`,()=>(d()?m:_)(g,$))}function d(){return c.length>0&&!c.some(g=>g==="object"||g==="array")}function m(g,$){const v=e.name("item"),f=(0,In.checkDataTypes)(c,v,o.opts.strictNumbers,In.DataType.Wrong),y=e.const("indices",(0,ct._)`{}`);e.for((0,ct._)`;${g}--;`,()=>{e.let(v,(0,ct._)`${r}[${g}]`),e.if(f,(0,ct._)`continue`),c.length>1&&e.if((0,ct._)`typeof ${v} == "string"`,(0,ct._)`${v} += "_"`),e.if((0,ct._)`typeof ${y}[${v}] == "number"`,()=>{e.assign($,(0,ct._)`${y}[${v}]`),t.error(),e.assign(l,!1).break()}).code((0,ct._)`${y}[${v}] = ${g}`)})}function _(g,$){const v=(0,Lc.useFunc)(e,zc.default),f=e.name("outer");e.label(f).for((0,ct._)`;${g}--;`,()=>e.for((0,ct._)`${$} = ${g}; ${$}--;`,()=>e.if((0,ct._)`${v}(${r}[${g}], ${r}[${$}])`,()=>{t.error(),e.assign(l,!1).break(f)})))}}};da.default=Jc;var ha={};Object.defineProperty(ha,"__esModule",{value:!0});const Fn=ge,Bc=H,Hc=Br,Gc={message:"must be equal to constant",params:({schemaCode:t})=>(0,Fn._)`{allowedValue: ${t}}`},Wc={keyword:"const",$data:!0,error:Gc,code(t){const{gen:e,data:r,$data:n,schemaCode:a,schema:s}=t;n||s&&typeof s=="object"?t.fail$data((0,Fn._)`!${(0,Bc.useFunc)(e,Hc.default)}(${r}, ${a})`):t.fail((0,Fn._)`${s} !== ${r}`)}};ha.default=Wc;var ma={};Object.defineProperty(ma,"__esModule",{value:!0});const jr=ge,Xc=H,Qc=Br,Zc={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,jr._)`{allowedValues: ${t}}`},Yc={keyword:"enum",schemaType:"array",$data:!0,error:Zc,code(t){const{gen:e,data:r,$data:n,schema:a,schemaCode:s,it:i}=t;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=i.opts.loopEnum;let l;const c=()=>l??(l=(0,Xc.useFunc)(e,Qc.default));let u;if(o||n)u=e.let("valid"),t.block$data(u,d);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const _=e.const("vSchema",s);u=(0,jr.or)(...a.map((g,$)=>m(_,$)))}t.pass(u);function d(){e.assign(u,!1),e.forOf("v",s,_=>e.if((0,jr._)`${c()}(${r}, ${_})`,()=>e.assign(u,!0).break()))}function m(_,g){const $=a[g];return typeof $=="object"&&$!==null?(0,jr._)`${c()}(${r}, ${_}[${g}])`:(0,jr._)`${r} === ${$}`}}};ma.default=Yc;Object.defineProperty(na,"__esModule",{value:!0});const xc=aa,eu=sa,tu=ia,ru=la,nu=ca,au=ua,su=fa,iu=da,ou=ha,lu=ma,cu=[xc.default,eu.default,tu.default,ru.default,nu.default,au.default,su.default,iu.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},ou.default,lu.default];na.default=cu;var pa={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.validateAdditionalItems=void 0;const lr=ge,Un=H,uu={message:({params:{len:t}})=>(0,lr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,lr._)`{limit: ${t}}`},fu={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:uu,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,Un.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}ji(t,n)}};function ji(t,e){const{gen:r,schema:n,data:a,keyword:s,it:i}=t;i.items=!0;const o=r.const("len",(0,lr._)`${a}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,lr._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,Un.alwaysValidSchema)(i,n)){const c=r.var("valid",(0,lr._)`${o} <= ${e.length}`);r.if((0,lr.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,o,u=>{t.subschema({keyword:s,dataProp:u,dataPropType:Un.Type.Num},c),i.allErrors||r.if((0,lr.not)(c),()=>r.break())})}}kr.validateAdditionalItems=ji;kr.default=fu;var va={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.validateTuple=void 0;const Za=ge,un=H,du=_e,hu={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Ri(t,"additionalItems",e);r.items=!0,!(0,un.alwaysValidSchema)(r,e)&&t.ok((0,du.validateArray)(t))}};function Ri(t,e,r=t.schema){const{gen:n,parentSchema:a,data:s,keyword:i,it:o}=t;u(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=un.mergeEvaluated.items(n,r.length,o.items));const l=n.name("valid"),c=n.const("len",(0,Za._)`${s}.length`);r.forEach((d,m)=>{(0,un.alwaysValidSchema)(o,d)||(n.if((0,Za._)`${c} > ${m}`,()=>t.subschema({keyword:i,schemaProp:m,dataProp:m},l)),t.ok(l))});function u(d){const{opts:m,errSchemaPath:_}=o,g=r.length,$=g===d.minItems&&(g===d.maxItems||d[e]===!1);if(m.strictTuples&&!$){const v=`"${i}" is ${g}-tuple, but minItems or maxItems/${e} are not specified or different at path "${_}"`;(0,un.checkStrictMode)(o,v,m.strictTuples)}}}Nr.validateTuple=Ri;Nr.default=hu;Object.defineProperty(va,"__esModule",{value:!0});const mu=Nr,pu={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,mu.validateTuple)(t,"items")};va.default=pu;var _a={};Object.defineProperty(_a,"__esModule",{value:!0});const Ya=ge,vu=H,_u=_e,gu=kr,yu={message:({params:{len:t}})=>(0,Ya.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ya._)`{limit: ${t}}`},$u={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:yu,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:a}=r;n.items=!0,!(0,vu.alwaysValidSchema)(n,e)&&(a?(0,gu.validateAdditionalItems)(t,a):t.ok((0,_u.validateArray)(t)))}};_a.default=$u;var ga={};Object.defineProperty(ga,"__esModule",{value:!0});const Nt=ge,tn=H,bu={message:({params:{min:t,max:e}})=>e===void 0?(0,Nt.str)`must contain at least ${t} valid item(s)`:(0,Nt.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Nt._)`{minContains: ${t}}`:(0,Nt._)`{minContains: ${t}, maxContains: ${e}}`},Eu={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:bu,code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:s}=t;let i,o;const{minContains:l,maxContains:c}=n;s.opts.next?(i=l===void 0?1:l,o=c):i=1;const u=e.const("len",(0,Nt._)`${a}.length`);if(t.setParams({min:i,max:o}),o===void 0&&i===0){(0,tn.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,tn.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,tn.alwaysValidSchema)(s,r)){let $=(0,Nt._)`${u} >= ${i}`;o!==void 0&&($=(0,Nt._)`${$} && ${u} <= ${o}`),t.pass($);return}s.items=!0;const d=e.name("valid");o===void 0&&i===1?_(d,()=>e.if(d,()=>e.break())):i===0?(e.let(d,!0),o!==void 0&&e.if((0,Nt._)`${a}.length > 0`,m)):(e.let(d,!1),m()),t.result(d,()=>t.reset());function m(){const $=e.name("_valid"),v=e.let("count",0);_($,()=>e.if($,()=>g(v)))}function _($,v){e.forRange("i",0,u,f=>{t.subschema({keyword:"contains",dataProp:f,dataPropType:tn.Type.Num,compositeRule:!0},$),v()})}function g($){e.code((0,Nt._)`${$}++`),o===void 0?e.if((0,Nt._)`${$} >= ${i}`,()=>e.assign(d,!0).break()):(e.if((0,Nt._)`${$} > ${o}`,()=>e.assign(d,!1).break()),i===1?e.assign(d,!0):e.if((0,Nt._)`${$} >= ${i}`,()=>e.assign(d,!0)))}}};ga.default=Eu;var Vi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=ge,r=H,n=_e;t.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const d=c===1?"property":"properties";return(0,e.str)`must have ${d} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:d}})=>(0,e._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${c},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,u]=s(l);i(l,c),o(l,u)}};function s({schema:l}){const c={},u={};for(const d in l){if(d==="__proto__")continue;const m=Array.isArray(l[d])?c:u;m[d]=l[d]}return[c,u]}function i(l,c=l.schema){const{gen:u,data:d,it:m}=l;if(Object.keys(c).length===0)return;const _=u.let("missing");for(const g in c){const $=c[g];if($.length===0)continue;const v=(0,n.propertyInData)(u,d,g,m.opts.ownProperties);l.setParams({property:g,depsCount:$.length,deps:$.join(", ")}),m.allErrors?u.if(v,()=>{for(const f of $)(0,n.checkReportMissingProp)(l,f)}):(u.if((0,e._)`${v} && (${(0,n.checkMissingProp)(l,$,_)})`),(0,n.reportMissingProp)(l,_),u.else())}}t.validatePropertyDeps=i;function o(l,c=l.schema){const{gen:u,data:d,keyword:m,it:_}=l,g=u.name("valid");for(const $ in c)(0,r.alwaysValidSchema)(_,c[$])||(u.if((0,n.propertyInData)(u,d,$,_.opts.ownProperties),()=>{const v=l.subschema({keyword:m,schemaProp:$},g);l.mergeValidEvaluated(v,g)},()=>u.var(g,!0)),l.ok(g))}t.validateSchemaDeps=o,t.default=a})(Vi);var ya={};Object.defineProperty(ya,"__esModule",{value:!0});const Mi=ge,wu=H,Su={message:"property name must be valid",params:({params:t})=>(0,Mi._)`{propertyName: ${t.propertyName}}`},Pu={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Su,code(t){const{gen:e,schema:r,data:n,it:a}=t;if((0,wu.alwaysValidSchema)(a,r))return;const s=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),e.if((0,Mi.not)(s),()=>{t.error(!0),a.allErrors||e.break()})}),t.ok(s)}};ya.default=Pu;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});const rn=_e,Ot=ge,ku=Ut,nn=H,Nu={message:"must NOT have additional properties",params:({params:t})=>(0,Ot._)`{additionalProperty: ${t.additionalProperty}}`},Iu={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Nu,code(t){const{gen:e,schema:r,parentSchema:n,data:a,errsCount:s,it:i}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=i;if(i.props=!0,l.removeAdditional!=="all"&&(0,nn.alwaysValidSchema)(i,r))return;const c=(0,rn.allSchemaProperties)(n.properties),u=(0,rn.allSchemaProperties)(n.patternProperties);d(),t.ok((0,Ot._)`${s} === ${ku.default.errors}`);function d(){e.forIn("key",a,v=>{!c.length&&!u.length?g(v):e.if(m(v),()=>g(v))})}function m(v){let f;if(c.length>8){const y=(0,nn.schemaRefOrVal)(i,n.properties,"properties");f=(0,rn.isOwnProperty)(e,y,v)}else c.length?f=(0,Ot.or)(...c.map(y=>(0,Ot._)`${v} === ${y}`)):f=Ot.nil;return u.length&&(f=(0,Ot.or)(f,...u.map(y=>(0,Ot._)`${(0,rn.usePattern)(t,y)}.test(${v})`))),(0,Ot.not)(f)}function _(v){e.code((0,Ot._)`delete ${a}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){_(v);return}if(r===!1){t.setParams({additionalProperty:v}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,nn.alwaysValidSchema)(i,r)){const f=e.name("valid");l.removeAdditional==="failing"?($(v,f,!1),e.if((0,Ot.not)(f),()=>{t.reset(),_(v)})):($(v,f),o||e.if((0,Ot.not)(f),()=>e.break()))}}function $(v,f,y){const j={keyword:"additionalProperties",dataProp:v,dataPropType:nn.Type.Str};y===!1&&Object.assign(j,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(j,f)}}};wn.default=Iu;var $a={};Object.defineProperty($a,"__esModule",{value:!0});const Ou=Tt,xa=_e,On=H,es=wn,Cu={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:s}=t;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&es.default.code(new Ou.KeywordCxt(s,es.default,"additionalProperties"));const i=(0,xa.allSchemaProperties)(r);for(const d of i)s.definedProperties.add(d);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=On.mergeEvaluated.props(e,(0,On.toHash)(i),s.props));const o=i.filter(d=>!(0,On.alwaysValidSchema)(s,r[d]));if(o.length===0)return;const l=e.name("valid");for(const d of o)c(d)?u(d):(e.if((0,xa.propertyInData)(e,a,d,s.opts.ownProperties)),u(d),s.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(l);function c(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function u(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};$a.default=Cu;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});const ts=_e,an=ge,rs=H,ns=H,Tu={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:a,it:s}=t,{opts:i}=s,o=(0,ts.allSchemaProperties)(r),l=o.filter($=>(0,rs.alwaysValidSchema)(s,r[$]));if(o.length===0||l.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const c=i.strictSchema&&!i.allowMatchingProperties&&a.properties,u=e.name("valid");s.props!==!0&&!(s.props instanceof an.Name)&&(s.props=(0,ns.evaluatedPropsToName)(e,s.props));const{props:d}=s;m();function m(){for(const $ of o)c&&_($),s.allErrors?g($):(e.var(u,!0),g($),e.if(u))}function _($){for(const v in c)new RegExp($).test(v)&&(0,rs.checkStrictMode)(s,`property ${v} matches pattern ${$} (use allowMatchingProperties)`)}function g($){e.forIn("key",n,v=>{e.if((0,an._)`${(0,ts.usePattern)(t,$)}.test(${v})`,()=>{const f=l.includes($);f||t.subschema({keyword:"patternProperties",schemaProp:$,dataProp:v,dataPropType:ns.Type.Str},u),s.opts.unevaluated&&d!==!0?e.assign((0,an._)`${d}[${v}]`,!0):!f&&!s.allErrors&&e.if((0,an.not)(u),()=>e.break())})})}}};ba.default=Tu;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});const Du=H,Au={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,Du.alwaysValidSchema)(n,r)){t.fail();return}const a=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),t.failResult(a,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ea.default=Au;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});const ju=_e,Ru={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ju.validateUnion,error:{message:"must match a schema in anyOf"}};wa.default=Ru;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});const fn=ge,Vu=H,Mu={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,fn._)`{passingSchemas: ${t.passing}}`},Fu={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Mu,code(t){const{gen:e,schema:r,parentSchema:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,i=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(c),t.result(i,()=>t.reset(),()=>t.error(!0));function c(){s.forEach((u,d)=>{let m;(0,Vu.alwaysValidSchema)(a,u)?e.var(l,!0):m=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&e.if((0,fn._)`${l} && ${i}`).assign(i,!1).assign(o,(0,fn._)`[${o}, ${d}]`).else(),e.if(l,()=>{e.assign(i,!0),e.assign(o,d),m&&t.mergeEvaluated(m,fn.Name)})})}}};Sa.default=Fu;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});const Uu=H,qu={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=e.name("valid");r.forEach((s,i)=>{if((0,Uu.alwaysValidSchema)(n,s))return;const o=t.subschema({keyword:"allOf",schemaProp:i},a);t.ok(a),t.mergeEvaluated(o)})}};Pa.default=qu;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});const gn=ge,Fi=H,Lu={message:({params:t})=>(0,gn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,gn._)`{failingKeyword: ${t.ifClause}}`},zu={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Lu,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Fi.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=as(n,"then"),s=as(n,"else");if(!a&&!s)return;const i=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),a&&s){const u=e.let("ifClause");t.setParams({ifClause:u}),e.if(o,c("then",u),c("else",u))}else a?e.if(o,c("then")):e.if((0,gn.not)(o),c("else"));t.pass(i,()=>t.error(!0));function l(){const u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(u)}function c(u,d){return()=>{const m=t.subschema({keyword:u},o);e.assign(i,o),t.mergeValidEvaluated(m,i),d?e.assign(d,(0,gn._)`${u}`):t.setParams({ifClause:u})}}}};function as(t,e){const r=t.schema[e];return r!==void 0&&!(0,Fi.alwaysValidSchema)(t,r)}ka.default=zu;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});const Ku=H,Ju={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Ku.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Na.default=Ju;Object.defineProperty(pa,"__esModule",{value:!0});const Bu=kr,Hu=va,Gu=Nr,Wu=_a,Xu=ga,Qu=Vi,Zu=ya,Yu=wn,xu=$a,ef=ba,tf=Ea,rf=wa,nf=Sa,af=Pa,sf=ka,of=Na;function lf(t=!1){const e=[tf.default,rf.default,nf.default,af.default,sf.default,of.default,Zu.default,Yu.default,Qu.default,xu.default,ef.default];return t?e.push(Hu.default,Wu.default):e.push(Bu.default,Gu.default),e.push(Xu.default),e}pa.default=lf;var Ia={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});const Ye=ge,cf={message:({schemaCode:t})=>(0,Ye.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Ye._)`{format: ${t}}`},uf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:cf,code(t,e){const{gen:r,data:n,$data:a,schema:s,schemaCode:i,it:o}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:d}=o;if(!l.validateFormats)return;a?m():_();function m(){const g=r.scopeValue("formats",{ref:d.formats,code:l.code.formats}),$=r.const("fDef",(0,Ye._)`${g}[${i}]`),v=r.let("fType"),f=r.let("format");r.if((0,Ye._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(v,(0,Ye._)`${$}.type || "string"`).assign(f,(0,Ye._)`${$}.validate`),()=>r.assign(v,(0,Ye._)`"string"`).assign(f,$)),t.fail$data((0,Ye.or)(y(),j()));function y(){return l.strictSchema===!1?Ye.nil:(0,Ye._)`${i} && !${f}`}function j(){const F=u.$async?(0,Ye._)`(${$}.async ? await ${f}(${n}) : ${f}(${n}))`:(0,Ye._)`${f}(${n})`,M=(0,Ye._)`(typeof ${f} == "function" ? ${F} : ${f}.test(${n}))`;return(0,Ye._)`${f} && ${f} !== true && ${v} === ${e} && !${M}`}}function _(){const g=d.formats[s];if(!g){y();return}if(g===!0)return;const[$,v,f]=j(g);$===e&&t.pass(F());function y(){if(l.strictSchema===!1){d.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function j(M){const z=M instanceof RegExp?(0,Ye.regexpCode)(M):l.code.formats?(0,Ye._)`${l.code.formats}${(0,Ye.getProperty)(s)}`:void 0,ue=r.scopeValue("formats",{key:s,ref:M,code:z});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,Ye._)`${ue}.validate`]:["string",M,ue]}function F(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Ye._)`await ${f}(${n})`}return typeof v=="function"?(0,Ye._)`${f}(${n})`:(0,Ye._)`${f}.test(${n})`}}}};Oa.default=uf;Object.defineProperty(Ia,"__esModule",{value:!0});const ff=Oa,df=[ff.default];Ia.default=df;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.contentVocabulary=Er.metadataVocabulary=void 0;Er.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Er.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ea,"__esModule",{value:!0});const hf=ta,mf=na,pf=pa,vf=Ia,ss=Er,_f=[hf.default,mf.default,(0,pf.default)(),vf.default,ss.metadataVocabulary,ss.contentVocabulary];ea.default=_f;var Ca={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.DiscrError=void 0;var is;(function(t){t.Tag="tag",t.Mapping="mapping"})(is||(Sn.DiscrError=is={}));Object.defineProperty(Ca,"__esModule",{value:!0});const gr=ge,qn=Sn,os=wt,gf=Pr,yf=H,$f={message:({params:{discrError:t,tagName:e}})=>t===qn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,gr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},bf={keyword:"discriminator",type:"object",schemaType:"object",error:$f,code(t){const{gen:e,data:r,schema:n,parentSchema:a,it:s}=t,{oneOf:i}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,gr._)`${r}${(0,gr.getProperty)(o)}`);e.if((0,gr._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:qn.DiscrError.Tag,tag:c,tagName:o})),t.ok(l);function u(){const _=m();e.if(!1);for(const g in _)e.elseIf((0,gr._)`${c} === ${g}`),e.assign(l,d(_[g]));e.else(),t.error(!1,{discrError:qn.DiscrError.Mapping,tag:c,tagName:o}),e.endIf()}function d(_){const g=e.name("valid"),$=t.subschema({keyword:"oneOf",schemaProp:_},g);return t.mergeEvaluated($,gr.Name),g}function m(){var _;const g={},$=f(a);let v=!0;for(let F=0;F<i.length;F++){let M=i[F];if(M!=null&&M.$ref&&!(0,yf.schemaHasRulesButRef)(M,s.self.RULES)){const ue=M.$ref;if(M=os.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,ue),M instanceof os.SchemaEnv&&(M=M.schema),M===void 0)throw new gf.default(s.opts.uriResolver,s.baseId,ue)}const z=(_=M==null?void 0:M.properties)===null||_===void 0?void 0:_[o];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);v=v&&($||f(M)),y(z,F)}if(!v)throw new Error(`discriminator: "${o}" must be required`);return g;function f({required:F}){return Array.isArray(F)&&F.includes(o)}function y(F,M){if(F.const)j(F.const,M);else if(F.enum)for(const z of F.enum)j(z,M);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function j(F,M){if(typeof F!="string"||F in g)throw new Error(`discriminator: "${o}" values must be unique strings`);g[F]=M}}}};Ca.default=bf;const Ef="http://json-schema.org/draft-07/schema#",wf="http://json-schema.org/draft-07/schema#",Sf="Core schema meta-schema",Pf={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},kf=["object","boolean"],Nf={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},If={$schema:Ef,$id:wf,title:Sf,definitions:Pf,type:kf,properties:Nf,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=Zs,n=ea,a=Ca,s=If,i=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(g,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=Tt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=ge;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=Jr;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var m=Pr;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return m.default}})})(Dn,Dn.exports);var Of=Dn.exports;const Cf=vo(Of);class qr{constructor(e=!1){this.ajv=new Cf({allErrors:e}),this.canValidate=!1}loadSchema(e){try{return this.validator=this.ajv.compile(e),this.canValidate=!0}catch(r){return console.error("SchemaValidator: error compiling schema",r),!1}}isValid(e){if(this.validator)return this.canValidate?this.validator(e):null}getErrors(){return!this.validator||!this.canValidate?null:this.validator.errors||null}}class Tf{constructor(e,r,n=[],a=void 0){Ge(this,"root");Ge(this,"ids",[]);if(this.jsonSchema=fo(e,n),this.validator=new qr,!this.validator.loadSchema(this.jsonSchema))throw new Error("Invalid JSON Schema");const i=eo(this.jsonSchema,a);this.dispatch=r,this.notifyChange=()=>{const o=this.getFormData();this.dispatch("change",{value:o})},this.root=this.createObjectElement({key:null,property:this.jsonSchema,required:!0,removable:!1,value:i})}createFormElement(e){const{property:r}=e;if("enum"in r)return this.createEnumElement(e);switch(r.type){case"object":{const n=r;return this.createObjectElement({...e,property:n})}case"array":{const n=r;return Ws(n)?this.createTupleElement({...e,property:n}):this.createArrayElement({...e,property:n})}case"number":case"integer":{const n=r;return this.createNumberElement({...e,property:n})}case"boolean":{const n=r;return this.createBooleanElement({...e,property:n})}default:{const n=r;return this.createStringElement({...e,property:n})}}}createStringElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new ao({...i,value:s||null})}createBooleanElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new so({...i,value:dn(s)})}createNumberElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new oo({...i,type:"number",value:dn(s),min:Zi(r),max:Yi(r)})}createEnumElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new io({...i,type:"enum",value:s||null,options:r.enum})}createObjectElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.required||[],l=[],c=Object.entries(Xs(r,s));for(const[d,m]of c){const _=o.includes(d),g=this.createFormElement({key:d,property:m,required:_,removable:xi(r,d),value:s[d]});l.push(g)}return new lo({...i,children:l,additionalProperties:r.additionalProperties||!1})}createArrayElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.items,l=s.map(u=>this.createFormElement({key:null,property:o,required:!1,removable:!0,value:u}));return new co({...i,children:l,items:o,minItems:r.minItems,maxItems:r.maxItems})}createTupleElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.minItems;return new uo({...i,type:"tuple",items:r.items,size:o,children:n||Array.isArray(s)&&s.length>0?this.createTupleChildren({items:r.items,size:o,value:s}):[]})}createTupleChildren({items:e,size:r,value:n}){const a={key:null,required:!1,removable:!1};return Array.isArray(e)?e.map((s,i)=>this.createFormElement({...a,property:s,value:n[i]})):Array(r).map((s,i)=>this.createFormElement({...a,property:e,value:n[i]}))}getBaseElementFields({key:e,property:r,required:n,removable:a}){return{key:e,required:n,removable:a,manager:this,id:this.getUniqueId(),type:r.type||null,title:r.title||e||"",default:cr(r.default),description:r.description||"",notifyChange:this.notifyChange}}getUniqueId(){let e;do if(e=Math.random().toString(36).substring(7),!this.ids.includes(e)){this.ids.push(e);break}while(!0);return e}getFormData(){return this.getDataFromObjectElement(this.root)}getDataFromObjectElement(e){const r={};for(const n of e.children){let a=this.getDataFromElement(n);r[n.key]=a}return r}validate(){const e=zn(this.getFormData());if(!this.validator.isValid(e)){const n=this.validator.getErrors();throw new Ui(n)}}getDataFromElement(e){switch(e.type){case"object":return this.getDataFromObjectElement(e);case"array":case"tuple":return this.getDataFromArrayElement(e);default:if(e instanceof zr)return e.value;throw new Error(`Unsupported type ${e.type}`)}}getDataFromArrayElement(e){return e.children.map(r=>this.getDataFromElement(r))}}class Ui extends Error{constructor(e){super("Invalid JSON Schema data"),this.errors=e}}function ls(t){let e;return{c(){e=O("span"),this.h()},l(r){e=C(r,"SPAN",{tabindex:!0,role:!0,"data-bs-trigger":!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0,"data-bs-html":!0,"data-bs-content":!0}),T(e).forEach(b),this.h()},h(){E(e,"tabindex","0"),E(e,"role","button"),E(e,"data-bs-trigger","focus"),E(e,"class","bi bi-info-circle text-primary"),E(e,"data-bs-toggle","collapse"),E(e,"data-bs-target",""),E(e,"data-bs-html",t[1]),E(e,"data-bs-content",t[0])},m(r,n){L(r,e,n),t[3](e)},p(r,n){n&2&&E(e,"data-bs-html",r[1]),n&1&&E(e,"data-bs-content",r[0])},d(r){r&&b(e),t[3](null)}}}function Df(t){let e,r=t[0]&&ls(t);return{c(){e=O("span"),r&&r.c(),this.h()},l(n){e=C(n,"SPAN",{class:!0});var a=T(e);r&&r.l(a),a.forEach(b),this.h()},h(){E(e,"class","ms-2 property-description")},m(n,a){L(n,e,a),r&&r.m(e,null)},p(n,[a]){n[0]?r?r.p(n,a):(r=ls(n),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:rr,o:rr,d(n){n&&b(e),r&&r.d()}}}function Af(t,e,r){let{description:n=void 0}=e,{html:a=!1}=e,s,i,o;wr(()=>{s&&s.addEventListener("click",function(){i=bootstrap.Popover.getOrCreateInstance(s,{trigger:"manual"}),i.toggle(),o||(o=function(c){const u=c.composedPath();u.length>0&&u[0]instanceof HTMLElement&&u[0]!==s&&(u[0].closest(".popover")||(i==null||i.hide(),i=void 0,window.removeEventListener("click",o),o=void 0))},window.addEventListener("click",o))})});function l(c){Sr[c?"unshift":"push"](()=>{s=c,r(2,s)})}return t.$$set=c=>{"description"in c&&r(0,n=c.description),"html"in c&&r(1,a=c.html)},[n,a,s,l]}class jf extends yt{constructor(e){super(),$t(this,e,Af,Df,pt,{description:0,html:1})}}function Rf(t){let e;function r(s,i){if(s[0].title)return Ff;if(s[2])return Mf}let n=r(t),a=n&&n(t);return{c(){e=O("span"),a&&a.c(),this.h()},l(s){e=C(s,"SPAN",{class:!0});var i=T(e);a&&a.l(i),i.forEach(b),this.h()},h(){E(e,"class",t[3])},m(s,i){L(s,e,i),a&&a.m(e,null)},p(s,i){n===(n=r(s))&&a?a.p(s,i):(a&&a.d(1),a=n&&n(s),a&&(a.c(),a.m(e,null))),i&8&&E(e,"class",s[3])},d(s){s&&b(e),a&&a.d()}}}function Vf(t){let e,r;function n(i,o){if(i[0].title)return qf;if(i[2])return Uf}let a=n(t),s=a&&a(t);return{c(){e=O("label"),s&&s.c(),this.h()},l(i){e=C(i,"LABEL",{class:!0,for:!0});var o=T(e);s&&s.l(o),o.forEach(b),this.h()},h(){E(e,"class",t[3]),E(e,"for",r=t[1]==="label"?`property-${t[0].id}`:void 0)},m(i,o){L(i,e,o),s&&s.m(e,null)},p(i,o){a===(a=n(i))&&s?s.p(i,o):(s&&s.d(1),s=a&&a(i),s&&(s.c(),s.m(e,null))),o&8&&E(e,"class",i[3]),o&3&&r!==(r=i[1]==="label"?`property-${i[0].id}`:void 0)&&E(e,"for",r)},d(i){i&&b(e),s&&s.d()}}}function Mf(t){let e,r;return{c(){e=O("span"),r=G(t[2]),this.h()},l(n){e=C(n,"SPAN",{class:!0});var a=T(e);r=W(a,t[2]),a.forEach(b),this.h()},h(){E(e,"class","visually-hidden")},m(n,a){L(n,e,a),P(e,r)},p(n,a){a&4&&Xe(r,n[2])},d(n){n&&b(e)}}}function Ff(t){let e=t[0].title+"",r;return{c(){r=G(e)},l(n){r=W(n,e)},m(n,a){L(n,r,a)},p(n,a){a&1&&e!==(e=n[0].title+"")&&Xe(r,e)},d(n){n&&b(r)}}}function Uf(t){let e,r;return{c(){e=O("span"),r=G(t[2]),this.h()},l(n){e=C(n,"SPAN",{class:!0});var a=T(e);r=W(a,t[2]),a.forEach(b),this.h()},h(){E(e,"class","visually-hidden")},m(n,a){L(n,e,a),P(e,r)},p(n,a){a&4&&Xe(r,n[2])},d(n){n&&b(e)}}}function qf(t){let e=t[0].title+"",r;return{c(){r=G(e)},l(n){r=W(n,e)},m(n,a){L(n,r,a)},p(n,a){a&1&&e!==(e=n[0].title+"")&&Xe(r,e)},d(n){n&&b(r)}}}function Lf(t){let e,r,n;function a(o,l){return o[1]==="label"?Vf:Rf}let s=a(t),i=s(t);return r=new jf({props:{description:t[0].description}}),{c(){i.c(),e=J(),Le(r.$$.fragment)},l(o){i.l(o),e=B(o),ze(r.$$.fragment,o)},m(o,l){i.m(o,l),L(o,e,l),Ke(r,o,l),n=!0},p(o,[l]){s===(s=a(o))&&i?i.p(o,l):(i.d(1),i=s(o),i&&(i.c(),i.m(e.parentNode,e)));const c={};l&1&&(c.description=o[0].description),r.$set(c)},i(o){n||(le(r.$$.fragment,o),n=!0)},o(o){me(r.$$.fragment,o),n=!1},d(o){i.d(o),o&&b(e),Je(r,o)}}}function zf(t,e,r){let n,{formElement:a}=e,{tag:s="label"}=e,{defaultTitle:i=""}=e;return t.$$set=o=>{"formElement"in o&&r(0,a=o.formElement),"tag"in o&&r(1,s=o.tag),"defaultTitle"in o&&r(2,i=o.defaultTitle)},t.$$.update=()=>{t.$$.dirty&1&&r(3,n=a.required?"fw-bold":!("value"in a)||a.value!==null&&a.value!==void 0&&a.value!==""?"":"text-secondary fw-light")},[a,s,i,n]}class Hr extends yt{constructor(e){super(),$t(this,e,zf,Lf,pt,{formElement:0,tag:1,defaultTitle:2})}}function Kf(t){let e,r,n,a,s,i,o,l,c,u,d,m,_,g,$;o=new Hr({props:{formElement:t[0],tag:"span"}});const v=t[3].default,f=Ji(v,t,t[2],null);return{c(){e=O("div"),r=O("div"),n=O("div"),a=O("div"),s=O("div"),i=O("button"),Le(o.$$.fragment),l=J(),c=O("div"),u=O("div"),f&&f.c(),this.h()},l(y){e=C(y,"DIV",{class:!0});var j=T(e);r=C(j,"DIV",{class:!0});var F=T(r);n=C(F,"DIV",{class:!0,id:!0});var M=T(n);a=C(M,"DIV",{class:!0});var z=T(a);s=C(z,"DIV",{class:!0});var ue=T(s);i=C(ue,"BUTTON",{class:!0,type:!0});var x=T(i);ze(o.$$.fragment,x),x.forEach(b),ue.forEach(b),l=B(z),c=C(z,"DIV",{id:!0,class:!0});var te=T(c);u=C(te,"DIV",{class:!0});var de=T(u);f&&f.l(de),de.forEach(b),te.forEach(b),z.forEach(b),M.forEach(b),F.forEach(b),j.forEach(b),this.h()},h(){E(i,"class","accordion-button"),E(i,"type","button"),Pe(i,"collapsed",t[0].collapsed),E(s,"class","accordion-header"),E(u,"class","accordion-body p-1"),E(c,"id",d="collapse-"+t[0].id),E(c,"class","accordion-collapse jschema-collapsing"),Pe(c,"collapse",t[0].collapsed),Pe(c,"show",!t[0].collapsed),E(a,"class","accordion-item"),E(n,"class","accordion"),E(n,"id",m="accordion-"+t[0].id),E(r,"class","my-2"),E(e,"class","d-flex flex-column p-2")},m(y,j){L(y,e,j),P(e,r),P(r,n),P(n,a),P(a,s),P(s,i),Ke(o,i,null),P(a,l),P(a,c),P(c,u),f&&f.m(u,null),_=!0,g||($=ce(i,"click",t[4]),g=!0)},p(y,[j]){const F={};j&1&&(F.formElement=y[0]),o.$set(F),(!_||j&1)&&Pe(i,"collapsed",y[0].collapsed),f&&f.p&&(!_||j&4)&&Bi(f,v,y,y[2],_?Gi(v,y[2],j,null):Hi(y[2]),null),(!_||j&1&&d!==(d="collapse-"+y[0].id))&&E(c,"id",d),(!_||j&1)&&Pe(c,"collapse",y[0].collapsed),(!_||j&1)&&Pe(c,"show",!y[0].collapsed),(!_||j&1&&m!==(m="accordion-"+y[0].id))&&E(n,"id",m)},i(y){_||(le(o.$$.fragment,y),le(f,y),_=!0)},o(y){me(o.$$.fragment,y),me(f,y),_=!1},d(y){y&&b(e),Je(o),f&&f.d(y),g=!1,$()}}}function Jf(t,e,r){let{$$slots:n={},$$scope:a}=e,{formElement:s}=e;function i(l){l.target instanceof HTMLElement&&l.target.classList.contains("bi-info-circle")||r(0,s.collapsed=!s.collapsed,s)}const o=l=>i(l);return t.$$set=l=>{"formElement"in l&&r(0,s=l.formElement),"$$scope"in l&&r(2,a=l.$$scope)},[s,i,a,n,o]}class Ta extends yt{constructor(e){super(),$t(this,e,Jf,Kf,pt,{formElement:0})}}function cs(t,e,r){const n=t.slice();return n[14]=e[r],n[16]=r,n}function Bf(t){let e,r,n,a;function s(){return t[11](t[16])}return{c(){e=O("button"),r=G("Clear"),this.h()},l(i){e=C(i,"BUTTON",{class:!0,type:!0});var o=T(e);r=W(o,"Clear"),o.forEach(b),this.h()},h(){E(e,"class","btn btn-warning"),E(e,"type","button")},m(i,o){L(i,e,o),P(e,r),n||(a=ce(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&b(e),n=!1,a()}}}function Hf(t){let e,r,n,a;function s(){return t[10](t[16])}return{c(){e=O("button"),r=G("Remove"),this.h()},l(i){e=C(i,"BUTTON",{class:!0,type:!0});var o=T(e);r=W(o,"Remove"),o.forEach(b),this.h()},h(){E(e,"class","btn btn-warning"),E(e,"type","button")},m(i,o){L(i,e,o),P(e,r),n||(a=ce(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&b(e),n=!1,a()}}}function us(t){let e,r,n,a,s,i,o,l,c;function u(){return t[12](t[16])}function d(){return t[13](t[16])}return{c(){e=O("button"),r=O("i"),a=J(),s=O("button"),i=O("i"),this.h()},l(m){e=C(m,"BUTTON",{class:!0,"aria-label":!0});var _=T(e);r=C(_,"I",{class:!0}),T(r).forEach(b),_.forEach(b),a=B(m),s=C(m,"BUTTON",{class:!0,"aria-label":!0});var g=T(s);i=C(g,"I",{class:!0}),T(i).forEach(b),g.forEach(b),this.h()},h(){E(r,"class","bi-arrow-up"),E(e,"class","btn btn-light"),E(e,"aria-label","Move item up"),e.disabled=n=t[16]===0,E(i,"class","bi-arrow-down"),E(s,"class","btn btn-light"),E(s,"aria-label","Move item down"),s.disabled=o=t[16]===t[0].length-1},m(m,_){L(m,e,_),P(e,r),L(m,a,_),L(m,s,_),P(s,i),l||(c=[ce(e,"click",Ma(u)),ce(s,"click",Ma(d))],l=!0)},p(m,_){t=m,_&1&&n!==(n=t[16]===0)&&(e.disabled=n),_&1&&o!==(o=t[16]===t[0].length-1)&&(s.disabled=o)},d(m){m&&b(e),m&&b(a),m&&b(s),l=!1,Xt(c)}}}function fs(t,e){let r,n,a,s,i,o,l,c,u;function d($,v){if($[2])return Hf;if($[0][$[16]].type!=="array"&&$[0][$[16]].type!=="object")return Bf}let m=d(e),_=m&&m(e);i=new Da({props:{formElement:e[14]}});let g=e[0].length>1&&us(e);return{key:t,first:null,c(){r=O("div"),n=O("div"),_&&_.c(),a=J(),s=O("div"),Le(i.$$.fragment),o=J(),l=O("div"),g&&g.c(),c=J(),this.h()},l($){r=C($,"DIV",{class:!0});var v=T(r);n=C(v,"DIV",{class:!0});var f=T(n);_&&_.l(f),f.forEach(b),a=B(v),s=C(v,"DIV",{class:!0});var y=T(s);ze(i.$$.fragment,y),y.forEach(b),o=B(v),l=C(v,"DIV",{class:!0});var j=T(l);g&&g.l(j),j.forEach(b),c=B(v),v.forEach(b),this.h()},h(){E(n,"class","align-self-center m-2"),E(s,"class","flex-fill"),E(l,"class","align-self-right mt-2 me-2"),E(r,"class","d-flex"),this.first=r},m($,v){L($,r,v),P(r,n),_&&_.m(n,null),P(r,a),P(r,s),Ke(i,s,null),P(r,o),P(r,l),g&&g.m(l,null),P(r,c),u=!0},p($,v){e=$,m===(m=d(e))&&_?_.p(e,v):(_&&_.d(1),_=m&&m(e),_&&(_.c(),_.m(n,null)));const f={};v&1&&(f.formElement=e[14]),i.$set(f),e[0].length>1?g?g.p(e,v):(g=us(e),g.c(),g.m(l,null)):g&&(g.d(1),g=null)},i($){u||(le(i.$$.fragment,$),u=!0)},o($){me(i.$$.fragment,$),u=!1},d($){$&&b(r),_&&_.d(),Je(i),g&&g.d()}}}function Gf(t){let e,r,n,a,s,i,o=[],l=new Map,c,u,d,m=t[0];const _=g=>g[14].id;for(let g=0;g<m.length;g+=1){let $=cs(t,m,g),v=_($);l.set(v,o[g]=fs(v,$))}return{c(){e=O("div"),r=O("button"),n=G("Add argument to list"),s=J(),i=O("div");for(let g=0;g<o.length;g+=1)o[g].c();this.h()},l(g){e=C(g,"DIV",{class:!0});var $=T(e);r=C($,"BUTTON",{class:!0,type:!0});var v=T(r);n=W(v,"Add argument to list"),v.forEach(b),$.forEach(b),s=B(g),i=C(g,"DIV",{});var f=T(i);for(let y=0;y<o.length;y+=1)o[y].l(f);f.forEach(b),this.h()},h(){E(r,"class","btn btn-primary"),E(r,"type","button"),r.disabled=a=!t[3],E(e,"class","d-flex justify-content-center p-2")},m(g,$){L(g,e,$),P(e,r),P(r,n),L(g,s,$),L(g,i,$);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(i,null);c=!0,u||(d=ce(r,"click",t[9]),u=!0)},p(g,$){(!c||$&8&&a!==(a=!g[3]))&&(r.disabled=a),$&485&&(m=g[0],Gt(),o=zs(o,$,_,1,g,m,l,i,Ks,fs,null,cs),Wt())},i(g){if(!c){for(let $=0;$<m.length;$+=1)le(o[$]);c=!0}},o(g){for(let $=0;$<o.length;$+=1)me(o[$]);c=!1},d(g){g&&b(e),g&&b(s),g&&b(i);for(let $=0;$<o.length;$+=1)o[$].d();u=!1,d()}}}function Wf(t){let e,r;return e=new Ta({props:{formElement:t[1],$$slots:{default:[Gf]},$$scope:{ctx:t}}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,[a]){const s={};a&2&&(s.formElement=n[1]),a&131085&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function Xf(t,e,r){let n,a,{formElement:s}=e,{children:i=[]}=e;wr(()=>{r(0,i=s.children)});function o(){s.addChild(),r(0,i=s.children)}function l(f){s.removeChild(f),r(0,i=s.children)}function c(f){s.moveChildUp(f),r(0,i=s.children)}function u(f){s.moveChildDown(f),r(0,i=s.children)}function d(f){s.clearChild(f),r(0,i=s.children)}const m=()=>o(),_=f=>l(f),g=f=>d(f),$=f=>c(f),v=f=>u(f);return t.$$set=f=>{"formElement"in f&&r(1,s=f.formElement),"children"in f&&r(0,i=f.children)},t.$$.update=()=>{t.$$.dirty&3&&r(3,n=typeof s.maxItems!="number"||i.length<s.maxItems),t.$$.dirty&3&&r(2,a=!(s.required&&typeof s.minItems=="number"&&i.length<=s.minItems))},[i,s,a,n,o,l,c,u,d,m,_,g,$,v]}class Qf extends yt{constructor(e){super(),$t(this,e,Xf,Wf,pt,{formElement:1,children:0})}}function Zf(t){let e,r,n,a,s,i,o,l,c,u,d,m,_;return n=new Hr({props:{formElement:t[0],defaultTitle:"String argument"}}),{c(){e=O("div"),r=O("div"),Le(n.$$.fragment),a=J(),s=O("div"),i=O("input"),l=J(),c=O("span"),u=G(t[2]),this.h()},l(g){e=C(g,"DIV",{class:!0});var $=T(e);r=C($,"DIV",{class:!0});var v=T(r);ze(n.$$.fragment,v),v.forEach(b),a=B($),s=C($,"DIV",{class:!0});var f=T(s);i=C(f,"INPUT",{type:!0,class:!0,id:!0}),l=B(f),c=C(f,"SPAN",{class:!0});var y=T(c);u=W(y,t[2]),y.forEach(b),f.forEach(b),$.forEach(b),this.h()},h(){E(r,"class","property-metadata d-flex flex-row align-self-center w-50"),E(i,"type","text"),E(i,"class","form-control"),E(i,"id",o="property-"+t[0].id),Pe(i,"is-invalid",t[2]),E(c,"class","invalid-feedback"),E(s,"class","property-input ms-auto w-50 has-validation"),E(e,"class","d-flex align-items-center p-2")},m(g,$){L(g,e,$),P(e,r),Ke(n,r,null),P(e,a),P(e,s),P(s,i),t[4](i),lt(i,t[0].value),P(s,l),P(s,c),P(c,u),d=!0,m||(_=[ce(i,"input",t[5]),ce(i,"input",t[3])],m=!0)},p(g,[$]){const v={};$&1&&(v.formElement=g[0]),n.$set(v),(!d||$&1&&o!==(o="property-"+g[0].id))&&E(i,"id",o),$&1&&i.value!==g[0].value&&lt(i,g[0].value),(!d||$&4)&&Pe(i,"is-invalid",g[2]),(!d||$&4)&&Xe(u,g[2])},i(g){d||(le(n.$$.fragment,g),d=!0)},o(g){me(n.$$.fragment,g),d=!1},d(g){g&&b(e),Je(n),t[4](null),m=!1,Xt(_)}}}function Yf(t,e,r){let{formElement:n}=e,a,s="";function i(){n.notifyChange(),r(2,s=""),n.required&&a.value===""&&r(2,s="Field is required")}function o(c){Sr[c?"unshift":"push"](()=>{a=c,r(1,a)})}function l(){n.value=this.value,r(0,n)}return t.$$set=c=>{"formElement"in c&&r(0,n=c.formElement)},[n,a,s,i,o,l]}class xf extends yt{constructor(e){super(),$t(this,e,Yf,Zf,pt,{formElement:0})}}function ed(t){let e,r,n,a,s,i,o,l,c,u,d;return n=new Hr({props:{formElement:t[0],defaultTitle:"Boolean argument",tag:"span"}}),{c(){e=O("div"),r=O("div"),Le(n.$$.fragment),a=J(),s=O("div"),i=O("div"),o=O("input"),this.h()},l(m){e=C(m,"DIV",{class:!0});var _=T(e);r=C(_,"DIV",{class:!0});var g=T(r);ze(n.$$.fragment,g),g.forEach(b),a=B(_),s=C(_,"DIV",{class:!0});var $=T(s);i=C($,"DIV",{class:!0});var v=T(i);o=C(v,"INPUT",{id:!0,class:!0,type:!0,role:!0}),v.forEach(b),$.forEach(b),_.forEach(b),this.h()},h(){E(r,"class","property-metadata d-flex flex-row align-self-center w-50"),E(o,"id",l="property-"+t[0].id),E(o,"class","form-check-input"),E(o,"type","checkbox"),E(o,"role","switch"),E(i,"class","form-check form-switch"),E(s,"class","property-input ms-auto w-25"),E(e,"class","d-flex align-items-center p-2")},m(m,_){L(m,e,_),P(e,r),Ke(n,r,null),P(e,a),P(e,s),P(s,i),P(i,o),o.checked=t[0].value,c=!0,u||(d=[ce(o,"change",t[2]),ce(o,"change",t[1])],u=!0)},p(m,[_]){const g={};_&1&&(g.formElement=m[0]),n.$set(g),(!c||_&1&&l!==(l="property-"+m[0].id))&&E(o,"id",l),_&1&&(o.checked=m[0].value)},i(m){c||(le(n.$$.fragment,m),c=!0)},o(m){me(n.$$.fragment,m),c=!1},d(m){m&&b(e),Je(n),u=!1,Xt(d)}}}function td(t,e,r){let{formElement:n}=e;function a(){n.notifyChange()}function s(){n.value=this.checked,r(0,n)}return t.$$set=i=>{"formElement"in i&&r(0,n=i.formElement)},[n,a,s]}class rd extends yt{constructor(e){super(),$t(this,e,td,ed,pt,{formElement:0})}}function nd(t){let e,r,n,a,s,i,o,l,c,u,d,m,_,g,$;return n=new Hr({props:{formElement:t[0],defaultTitle:"Number argument"}}),{c(){e=O("div"),r=O("div"),Le(n.$$.fragment),a=J(),s=O("div"),i=O("input"),u=J(),d=O("span"),m=G(t[2]),this.h()},l(v){e=C(v,"DIV",{class:!0});var f=T(e);r=C(f,"DIV",{class:!0});var y=T(r);ze(n.$$.fragment,y),y.forEach(b),a=B(f),s=C(f,"DIV",{class:!0});var j=T(s);i=C(j,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),u=B(j),d=C(j,"SPAN",{class:!0});var F=T(d);m=W(F,t[2]),F.forEach(b),j.forEach(b),f.forEach(b),this.h()},h(){E(r,"class","property-metadata d-flex flex-row align-self-center w-50"),E(i,"type","number"),E(i,"min",o=t[0].min),E(i,"max",l=t[0].max),E(i,"class","form-control"),E(i,"id",c="property-"+t[0].id),Pe(i,"is-invalid",t[2]),E(d,"class","invalid-feedback"),E(s,"class","property-input ms-auto w-50 has-validation"),E(e,"class","d-flex align-items-center p-2")},m(v,f){L(v,e,f),P(e,r),Ke(n,r,null),P(e,a),P(e,s),P(s,i),t[4](i),lt(i,t[0].value),P(s,u),P(s,d),P(d,m),_=!0,g||($=[ce(i,"input",t[5]),ce(i,"input",t[3])],g=!0)},p(v,[f]){const y={};f&1&&(y.formElement=v[0]),n.$set(y),(!_||f&1&&o!==(o=v[0].min))&&E(i,"min",o),(!_||f&1&&l!==(l=v[0].max))&&E(i,"max",l),(!_||f&1&&c!==(c="property-"+v[0].id))&&E(i,"id",c),f&1&&Js(i.value)!==v[0].value&&lt(i,v[0].value),(!_||f&4)&&Pe(i,"is-invalid",v[2]),(!_||f&4)&&Xe(m,v[2])},i(v){_||(le(n.$$.fragment,v),_=!0)},o(v){me(n.$$.fragment,v),_=!1},d(v){v&&b(e),Je(n),t[4](null),g=!1,Xt($)}}}function ad(t,e,r){let{formElement:n}=e,a,s="";function i(){n.notifyChange(),o()}function o(){if(r(2,s=""),a.validity.badInput){r(2,s="Should be a number");return}if(a.value===""){n.required?r(2,s="Field is required"):r(2,s="");return}const u=parseInt(a.value),d=n.min,m=n.max;if(d!==null&&u<d){r(2,s="Should be greater or equal than "+d);return}if(m!==null&&u>m){r(2,s="Should be lower or equal than "+m);return}r(2,s="")}function l(u){Sr[u?"unshift":"push"](()=>{a=u,r(1,a)})}function c(){n.value=Js(this.value),r(0,n)}return t.$$set=u=>{"formElement"in u&&r(0,n=u.formElement)},[n,a,s,i,l,c]}class sd extends yt{constructor(e){super(),$t(this,e,ad,nd,pt,{formElement:0})}}function ds(t,e,r){const n=t.slice();return n[6]=e[r],n}function hs(t){let e,r=t[6]+"",n,a;return{c(){e=O("option"),n=G(r),this.h()},l(s){e=C(s,"OPTION",{});var i=T(e);n=W(i,r),i.forEach(b),this.h()},h(){e.__value=a=t[6],e.value=e.__value},m(s,i){L(s,e,i),P(e,n)},p(s,i){i&1&&r!==(r=s[6]+"")&&Xe(n,r),i&1&&a!==(a=s[6])&&(e.__value=a,e.value=e.__value)},d(s){s&&b(e)}}}function id(t){let e,r,n,a,s,i,o,l,c,u,d,m,_,g,$;n=new Hr({props:{formElement:t[0],defaultTitle:"Enum argument"}});let v=t[0].options,f=[];for(let y=0;y<v.length;y+=1)f[y]=hs(ds(t,v,y));return{c(){e=O("div"),r=O("div"),Le(n.$$.fragment),a=J(),s=O("div"),i=O("select"),o=O("option"),l=G("Select...");for(let y=0;y<f.length;y+=1)f[y].c();u=J(),d=O("span"),m=G(t[2]),this.h()},l(y){e=C(y,"DIV",{class:!0});var j=T(e);r=C(j,"DIV",{class:!0});var F=T(r);ze(n.$$.fragment,F),F.forEach(b),a=B(j),s=C(j,"DIV",{class:!0});var M=T(s);i=C(M,"SELECT",{class:!0,id:!0});var z=T(i);o=C(z,"OPTION",{});var ue=T(o);l=W(ue,"Select..."),ue.forEach(b);for(let te=0;te<f.length;te+=1)f[te].l(z);z.forEach(b),u=B(M),d=C(M,"SPAN",{class:!0});var x=T(d);m=W(x,t[2]),x.forEach(b),M.forEach(b),j.forEach(b),this.h()},h(){E(r,"class","property-metadata d-flex flex-row align-self-center w-50"),o.__value=null,o.value=o.__value,E(i,"class","form-control"),E(i,"id",c="property-"+t[0].id),t[0].value===void 0&&Wi(()=>t[5].call(i)),Pe(i,"is-invalid",t[2]),E(d,"class","invalid-feedback"),E(s,"class","property-input ms-auto w-50 has-validation"),E(e,"class","d-flex align-items-center p-2")},m(y,j){L(y,e,j),P(e,r),Ke(n,r,null),P(e,a),P(e,s),P(s,i),P(i,o),P(o,l);for(let F=0;F<f.length;F+=1)f[F]&&f[F].m(i,null);t[4](i),Fa(i,t[0].value,!0),P(s,u),P(s,d),P(d,m),_=!0,g||($=[ce(i,"change",t[5]),ce(i,"change",t[3]),ce(i,"input",t[3])],g=!0)},p(y,[j]){const F={};if(j&1&&(F.formElement=y[0]),n.$set(F),j&1){v=y[0].options;let M;for(M=0;M<v.length;M+=1){const z=ds(y,v,M);f[M]?f[M].p(z,j):(f[M]=hs(z),f[M].c(),f[M].m(i,null))}for(;M<f.length;M+=1)f[M].d(1);f.length=v.length}(!_||j&1&&c!==(c="property-"+y[0].id))&&E(i,"id",c),j&1&&Fa(i,y[0].value),(!_||j&4)&&Pe(i,"is-invalid",y[2]),(!_||j&4)&&Xe(m,y[2])},i(y){_||(le(n.$$.fragment,y),_=!0)},o(y){me(n.$$.fragment,y),_=!1},d(y){y&&b(e),Je(n),Ln(f,y),t[4](null),g=!1,Xt($)}}}function od(t,e,r){let{formElement:n}=e,a,s="";function i(){n.notifyChange(),r(2,s=""),n.required&&a.value==="null"&&r(2,s="Field is required")}function o(c){Sr[c?"unshift":"push"](()=>{a=c,r(1,a)})}function l(){n.value=Xi(this),r(0,n)}return t.$$set=c=>{"formElement"in c&&r(0,n=c.formElement)},[n,a,s,i,o,l]}class ld extends yt{constructor(e){super(),$t(this,e,od,id,pt,{formElement:0})}}function ms(t,e,r){const n=t.slice();return n[6]=e[r],n[8]=r,n}function ps(t){let e;function r(s,i){return s[0].length>0?ud:cd}let n=r(t),a=n(t);return{c(){a.c(),e=mt()},l(s){a.l(s),e=mt()},m(s,i){a.m(s,i),L(s,e,i)},p(s,i){n===(n=r(s))&&a?a.p(s,i):(a.d(1),a=n(s),a&&(a.c(),a.m(e.parentNode,e)))},d(s){a.d(s),s&&b(e)}}}function cd(t){let e,r,n,a;return{c(){e=O("button"),r=G("Add tuple"),this.h()},l(s){e=C(s,"BUTTON",{class:!0,type:!0});var i=T(e);r=W(i,"Add tuple"),i.forEach(b),this.h()},h(){E(e,"class","btn btn-primary"),E(e,"type","button")},m(s,i){L(s,e,i),P(e,r),n||(a=ce(e,"click",t[2]),n=!0)},p:rr,d(s){s&&b(e),n=!1,a()}}}function ud(t){let e,r,n,a;return{c(){e=O("button"),r=G("Remove tuple"),this.h()},l(s){e=C(s,"BUTTON",{class:!0,type:!0});var i=T(e);r=W(i,"Remove tuple"),i.forEach(b),this.h()},h(){E(e,"class","btn btn-primary"),E(e,"type","button")},m(s,i){L(s,e,i),P(e,r),n||(a=ce(e,"click",t[3]),n=!0)},p:rr,d(s){s&&b(e),n=!1,a()}}}function vs(t){let e,r,n,a;function s(){return t[5](t[8])}return{c(){e=O("button"),r=G("Clear"),this.h()},l(i){e=C(i,"BUTTON",{class:!0,type:!0});var o=T(e);r=W(o,"Clear"),o.forEach(b),this.h()},h(){E(e,"class","btn btn-warning"),E(e,"type","button")},m(i,o){L(i,e,o),P(e,r),n||(a=ce(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&b(e),n=!1,a()}}}function _s(t,e){let r,n,a,s,i,o,l,c=e[0][e[8]].type!=="array"&&e[0][e[8]].type!=="tuple"&&e[0][e[8]].type!=="object"&&vs(e);return i=new Da({props:{formElement:e[6]}}),{key:t,first:null,c(){r=O("div"),n=O("div"),c&&c.c(),a=J(),s=O("div"),Le(i.$$.fragment),o=J(),this.h()},l(u){r=C(u,"DIV",{class:!0});var d=T(r);n=C(d,"DIV",{class:!0});var m=T(n);c&&c.l(m),m.forEach(b),a=B(d),s=C(d,"DIV",{class:!0});var _=T(s);ze(i.$$.fragment,_),_.forEach(b),o=B(d),d.forEach(b),this.h()},h(){E(n,"class","align-self-center m-2"),E(s,"class","flex-fill"),E(r,"class","d-flex"),this.first=r},m(u,d){L(u,r,d),P(r,n),c&&c.m(n,null),P(r,a),P(r,s),Ke(i,s,null),P(r,o),l=!0},p(u,d){e=u,e[0][e[8]].type!=="array"&&e[0][e[8]].type!=="tuple"&&e[0][e[8]].type!=="object"?c?c.p(e,d):(c=vs(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null);const m={};d&1&&(m.formElement=e[6]),i.$set(m)},i(u){l||(le(i.$$.fragment,u),l=!0)},o(u){me(i.$$.fragment,u),l=!1},d(u){u&&b(r),c&&c.d(),Je(i)}}}function fd(t){let e,r,n,a=[],s=new Map,i,o=!t[1].required&&ps(t),l=t[0];const c=u=>u[6].id;for(let u=0;u<l.length;u+=1){let d=ms(t,l,u),m=c(d);s.set(m,a[u]=_s(m,d))}return{c(){e=O("div"),o&&o.c(),r=J(),n=O("div");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=C(u,"DIV",{class:!0});var d=T(e);o&&o.l(d),d.forEach(b),r=B(u),n=C(u,"DIV",{});var m=T(n);for(let _=0;_<a.length;_+=1)a[_].l(m);m.forEach(b),this.h()},h(){E(e,"class","d-flex justify-content-center p-2")},m(u,d){L(u,e,d),o&&o.m(e,null),L(u,r,d),L(u,n,d);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(n,null);i=!0},p(u,d){u[1].required?o&&(o.d(1),o=null):o?o.p(u,d):(o=ps(u),o.c(),o.m(e,null)),d&17&&(l=u[0],Gt(),a=zs(a,d,c,1,u,l,s,n,Ks,_s,null,ms),Wt())},i(u){if(!i){for(let d=0;d<l.length;d+=1)le(a[d]);i=!0}},o(u){for(let d=0;d<a.length;d+=1)me(a[d]);i=!1},d(u){u&&b(e),o&&o.d(),u&&b(r),u&&b(n);for(let d=0;d<a.length;d+=1)a[d].d()}}}function dd(t){let e,r;return e=new Ta({props:{formElement:t[1],$$slots:{default:[fd]},$$scope:{ctx:t}}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,[a]){const s={};a&2&&(s.formElement=n[1]),a&515&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function hd(t,e,r){let{formElement:n}=e,{children:a=[]}=e;wr(()=>{r(0,a=n.children)});function s(){n.addTuple(),r(0,a=n.children)}function i(){n.removeTuple(),r(0,a=n.children)}function o(c){n.clearChild(c),r(0,a=n.children)}const l=c=>o(c);return t.$$set=c=>{"formElement"in c&&r(1,n=c.formElement),"children"in c&&r(0,a=c.children)},[a,n,s,i,o,l]}class md extends yt{constructor(e){super(),$t(this,e,hd,dd,pt,{formElement:1,children:0})}}function pd(t){let e,r,n=t[0].type+"",a;return{c(){e=O("p"),r=G("Unsupported property type "),a=G(n)},l(s){e=C(s,"P",{});var i=T(e);r=W(i,"Unsupported property type "),a=W(i,n),i.forEach(b)},m(s,i){L(s,e,i),P(e,r),P(e,a)},p(s,i){i&1&&n!==(n=s[0].type+"")&&Xe(a,n)},i:rr,o:rr,d(s){s&&b(e)}}}function vd(t){let e,r;return e=new md({props:{formElement:t[0]}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function _d(t){let e,r;return e=new Qf({props:{formElement:t[0]}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function gd(t){let e,r;return e=new Ta({props:{formElement:t[0],$$slots:{default:[wd]},$$scope:{ctx:t}}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&3&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function yd(t){let e,r;return e=new ld({props:{formElement:t[0]}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function $d(t){let e,r;return e=new rd({props:{formElement:t[0]}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function bd(t){let e,r;return e=new sd({props:{formElement:t[0]}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function Ed(t){let e,r;return e=new xf({props:{formElement:t[0]}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function wd(t){let e,r;return e=new qi({props:{formElement:t[0]}}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function Sd(t){let e,r,n,a;const s=[Ed,bd,$d,yd,gd,_d,vd,pd],i=[];function o(l,c){return l[0].type==="string"?0:l[0].type==="number"?1:l[0].type==="boolean"?2:l[0].type==="enum"?3:l[0].type==="object"?4:l[0].type==="array"?5:l[0].type==="tuple"?6:7}return e=o(t),r=i[e]=s[e](t),{c(){r.c(),n=mt()},l(l){r.l(l),n=mt()},m(l,c){i[e].m(l,c),L(l,n,c),a=!0},p(l,[c]){let u=e;e=o(l),e===u?i[e].p(l,c):(Gt(),me(i[u],1,1,()=>{i[u]=null}),Wt(),r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),le(r,1),r.m(n.parentNode,n))},i(l){a||(le(r),a=!0)},o(l){me(r),a=!1},d(l){i[e].d(l),l&&b(n)}}}function Pd(t,e,r){let{formElement:n}=e;return t.$$set=a=>{"formElement"in a&&r(0,n=a.formElement)},[n]}class Da extends yt{constructor(e){super(),$t(this,e,Pd,Sd,pt,{formElement:0})}}function gs(t,e,r){const n=t.slice();return n[8]=e[r],n}function ys(t){let e,r,n,a,s,i,o,l,c,u,d,m=t[3]&&$s(t);return{c(){e=O("div"),r=O("form"),n=O("div"),a=O("div"),s=O("input"),i=J(),o=O("button"),l=G("Add property"),c=J(),m&&m.c(),this.h()},l(_){e=C(_,"DIV",{class:!0});var g=T(e);r=C(g,"FORM",{class:!0});var $=T(r);n=C($,"DIV",{class:!0});var v=T(n);a=C(v,"DIV",{class:!0});var f=T(a);s=C(f,"INPUT",{type:!0,placeholder:!0,class:!0}),i=B(f),o=C(f,"BUTTON",{class:!0,type:!0});var y=T(o);l=W(y,"Add property"),y.forEach(b),c=B(f),m&&m.l(f),f.forEach(b),v.forEach(b),$.forEach(b),g.forEach(b),this.h()},h(){E(s,"type","text"),E(s,"placeholder","Key"),E(s,"class","form-control"),Pe(s,"is-invalid",t[3]),E(o,"class","btn btn-primary"),E(o,"type","button"),E(a,"class","input-group"),Pe(a,"has-validation",t[3]),E(n,"class","col-lg-6 offset-lg-3 mb-1"),E(r,"class","row row-cols-auto g-3 align-items-center p-2 flex-grow-1"),E(e,"class","d-flex justify-content-center")},m(_,g){L(_,e,g),P(e,r),P(r,n),P(n,a),P(a,s),lt(s,t[2]),P(a,i),P(a,o),P(o,l),P(a,c),m&&m.m(a,null),u||(d=[ce(s,"input",t[6]),ce(o,"click",t[4])],u=!0)},p(_,g){g&4&&s.value!==_[2]&&lt(s,_[2]),g&8&&Pe(s,"is-invalid",_[3]),_[3]?m?m.p(_,g):(m=$s(_),m.c(),m.m(a,null)):m&&(m.d(1),m=null),g&8&&Pe(a,"has-validation",_[3])},d(_){_&&b(e),m&&m.d(),u=!1,Xt(d)}}}function $s(t){let e,r;return{c(){e=O("div"),r=G(t[3]),this.h()},l(n){e=C(n,"DIV",{class:!0});var a=T(e);r=W(a,t[3]),a.forEach(b),this.h()},h(){E(e,"class","invalid-feedback")},m(n,a){L(n,e,a),P(e,r)},p(n,a){a&8&&Xe(r,n[3])},d(n){n&&b(e)}}}function bs(t){let e,r,n,a;function s(){return t[7](t[8])}return{c(){e=O("button"),r=G("Remove Property Block"),this.h()},l(i){e=C(i,"BUTTON",{class:!0,type:!0});var o=T(e);r=W(o,"Remove Property Block"),o.forEach(b),this.h()},h(){E(e,"class","btn btn-danger w-100"),E(e,"type","button")},m(i,o){L(i,e,o),P(e,r),n||(a=ce(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&b(e),n=!1,a()}}}function Es(t){let e,r,n,a,s,i,o,l=t[8].removable&&bs(t);return a=new Da({props:{formElement:t[8]}}),{c(){e=O("div"),l&&l.c(),r=J(),n=O("div"),Le(a.$$.fragment),i=J(),this.h()},l(c){e=C(c,"DIV",{class:!0});var u=T(e);l&&l.l(u),r=B(u),n=C(u,"DIV",{class:!0,id:!0});var d=T(n);ze(a.$$.fragment,d),d.forEach(b),i=B(u),u.forEach(b),this.h()},h(){E(n,"class","d-flex flex-column properties-block"),E(n,"id",s=t[8].id+"-wrapper"),E(e,"class","property-block svelte-en10qk")},m(c,u){L(c,e,u),l&&l.m(e,null),P(e,r),P(e,n),Ke(a,n,null),P(e,i),o=!0},p(c,u){c[8].removable?l?l.p(c,u):(l=bs(c),l.c(),l.m(e,r)):l&&(l.d(1),l=null);const d={};u&2&&(d.formElement=c[8]),a.$set(d),(!o||u&2&&s!==(s=c[8].id+"-wrapper"))&&E(n,"id",s)},i(c){o||(le(a.$$.fragment,c),o=!0)},o(c){me(a.$$.fragment,c),o=!1},d(c){c&&b(e),l&&l.d(),Je(a)}}}function kd(t){let e,r,n,a=t[0].additionalProperties&&ys(t),s=t[1],i=[];for(let l=0;l<s.length;l+=1)i[l]=Es(gs(t,s,l));const o=l=>me(i[l],1,1,()=>{i[l]=null});return{c(){a&&a.c(),e=J();for(let l=0;l<i.length;l+=1)i[l].c();r=mt()},l(l){a&&a.l(l),e=B(l);for(let c=0;c<i.length;c+=1)i[c].l(l);r=mt()},m(l,c){a&&a.m(l,c),L(l,e,c);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(l,c);L(l,r,c),n=!0},p(l,[c]){if(l[0].additionalProperties?a?a.p(l,c):(a=ys(l),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),c&34){s=l[1];let u;for(u=0;u<s.length;u+=1){const d=gs(l,s,u);i[u]?(i[u].p(d,c),le(i[u],1)):(i[u]=Es(d),i[u].c(),le(i[u],1),i[u].m(r.parentNode,r))}for(Gt(),u=s.length;u<i.length;u+=1)o(u);Wt()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)le(i[c]);n=!0}},o(l){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)me(i[c]);n=!1},d(l){a&&a.d(l),l&&b(e),Ln(i,l),l&&b(r)}}}function Nd(t,e,r){let{formElement:n}=e,a=[];wr(()=>{r(1,a=n.children)});let s="",i="";function o(){try{r(3,i=""),n.addChild(s.trim()),r(1,a=n.children),r(2,s="")}catch(d){r(3,i=d.message)}}function l(d){n.removeChild(d),r(1,a=n.children)}function c(){s=this.value,r(2,s)}const u=d=>l(d.key);return t.$$set=d=>{"formElement"in d&&r(0,n=d.formElement)},[n,a,s,i,o,l,c,u]}class qi extends yt{constructor(e){super(),$t(this,e,Nd,kd,pt,{formElement:0})}}function ws(t){let e=t[1],r,n,a=Ss(t);return{c(){a.c(),r=mt()},l(s){a.l(s),r=mt()},m(s,i){a.m(s,i),L(s,r,i),n=!0},p(s,i){i&2&&pt(e,e=s[1])?(Gt(),me(a,1,1,rr),Wt(),a=Ss(s),a.c(),le(a,1),a.m(r.parentNode,r)):a.p(s,i)},i(s){n||(le(a),n=!0)},o(s){me(a),n=!1},d(s){s&&b(r),a.d(s)}}}function Ss(t){let e,r,n;return r=new qi({props:{formElement:t[1].root}}),{c(){e=O("div"),Le(r.$$.fragment),this.h()},l(a){e=C(a,"DIV",{id:!0});var s=T(e);ze(r.$$.fragment,s),s.forEach(b),this.h()},h(){E(e,"id",t[0])},m(a,s){L(a,e,s),Ke(r,e,null),n=!0},p(a,s){const i={};s&2&&(i.formElement=a[1].root),r.$set(i),(!n||s&1)&&E(e,"id",a[0])},i(a){n||(le(r.$$.fragment,a),n=!0)},o(a){me(r.$$.fragment,a),n=!1},d(a){a&&b(e),Je(r)}}}function Id(t){let e,r,n=t[1]&&ws(t);return{c(){n&&n.c(),e=mt()},l(a){n&&n.l(a),e=mt()},m(a,s){n&&n.m(a,s),L(a,e,s),r=!0},p(a,[s]){a[1]?n?(n.p(a,s),s&2&&le(n,1)):(n=ws(a),n.c(),le(n,1),n.m(e.parentNode,e)):n&&(Gt(),me(n,1,1,()=>{n=null}),Wt())},i(a){r||(le(n),r=!0)},o(a){me(n),r=!1},d(a){n&&n.d(a),a&&b(e)}}}function Od(t,e,r){const n=Qi();let{schema:a}=e,{schemaData:s}=e,{propertiesToIgnore:i=[]}=e,{componentId:o}=e,l;wr(()=>{d()});function c(){return l==null?void 0:l.getFormData()}function u(){for(const m of document.querySelectorAll(`#${o} input, #${o} select`))m.dispatchEvent(new Event("input"));l==null||l.validate()}function d(){a?r(1,l=new Tf(a,n,i,s)):r(1,l=void 0)}return t.$$set=m=>{"schema"in m&&r(2,a=m.schema),"schemaData"in m&&r(3,s=m.schemaData),"propertiesToIgnore"in m&&r(4,i=m.propertiesToIgnore),"componentId"in m&&r(0,o=m.componentId)},t.$$.update=()=>{t.$$.dirty&28&&(a||s||i)&&d()},[o,l,a,s,i,c,u]}class Li extends yt{constructor(e){super(),$t(this,e,Od,Id,pt,{schema:2,schemaData:3,propertiesToIgnore:4,componentId:0,getArguments:5,validateArguments:6})}get getArguments(){return this.$$.ctx[5]}get validateArguments(){return this.$$.ctx[6]}}const Cd="CellvoyagerToOmeZarrInit",Td="object",Dd={zarr_urls:{title:"Zarr Urls",type:"array",items:{type:"string"},description:"List of paths or urls to the individual OME-Zarr image to be processed. Not used by the converter task. (standard argument for Fractal tasks, managed by Fractal server)."},zarr_dir:{title:"Zarr Dir",type:"string",description:"path of the directory where the new OME-Zarrs will be created. (standard argument for Fractal tasks, managed by Fractal server)."},image_dirs:{title:"Image Dirs",type:"array",items:{type:"string"},description:"list of paths to the folders that contains the Cellvoyager image files. Each entry is a path to a folder that contains the image files themselves for a multiwell plate and the MeasurementData & MeasurementDetail metadata files."},allowed_channels:{title:"Allowed Channels",type:"array",items:{$ref:"#/definitions/OmeroChannel"},description:"A list of `OmeroChannel` s, where each channel must include the `wavelength_id` attribute and where the `wavelength_id` values must be unique across the list."},image_glob_patterns:{title:"Image Glob Patterns",type:"array",items:{type:"string"},description:'If specified, only parse images with filenames that match with all these patterns. Patterns must be defined as in https://docs.python.org/3/library/fnmatch.html, Example: `image_glob_pattern=["*_B03_*"]` => only process well B03 `image_glob_pattern=["*_C09_*", "*F016*", "*Z[0-5][0-9]C*"]` => only process well C09, field of view 16 and Z planes 0-59.'},num_levels:{title:"Num Levels",default:5,type:"integer",description:"Number of resolution-pyramid levels. If set to `5`, there will be the full-resolution level and 4 levels of downsampled images."},coarsening_xy:{title:"Coarsening Xy",default:2,type:"integer",description:"Linear coarsening factor between subsequent levels. If set to `2`, level 1 is 2x downsampled, level 2 is 4x downsampled etc."},image_extension:{title:"Image Extension",default:"tif",type:"string",description:'Filename extension of images (e.g. `"tif"` or `"png"`)'},metadata_table_file:{title:"Metadata Table File",type:"string",description:"If `None`, parse Yokogawa metadata from mrf/mlf files in the input_path folder; else, the full path to a csv file containing the parsed metadata table."},overwrite:{title:"Overwrite",default:!1,type:"boolean",description:"If `True`, overwrite the task output."}},Ad=["zarr_urls","zarr_dir","image_dirs","allowed_channels"],jd=!1,Rd={Window:{title:"Window",description:"Custom class for Omero-channel window, based on OME-NGFF v0.4.",type:"object",properties:{min:{title:"Min",type:"integer",description:"Do not change. It will be set to `0` by default."},max:{title:"Max",type:"integer",description:"Do not change. It will be set according to bit-depth of the images by default (e.g. 65535 for 16 bit images)."},start:{title:"Start",type:"integer",description:"Lower-bound rescaling value for visualization."},end:{title:"End",type:"integer",description:"Upper-bound rescaling value for visualization."}},required:["start","end"]},OmeroChannel:{title:"OmeroChannel",description:"Custom class for Omero channels, based on OME-NGFF v0.4.",type:"object",properties:{wavelength_id:{title:"Wavelength Id",type:"string",description:"Unique ID for the channel wavelength, e.g. `A01_C01`."},index:{title:"Index",type:"integer",description:"Do not change. For internal use only."},label:{title:"Label",type:"string",description:"Name of the channel."},window:{$ref:"#/definitions/Window",title:"Window",description:"Optional `Window` object to set default display settings for napari."},color:{title:"Color",type:"string",description:"Optional hex colormap to display the channel in napari (it must be of length 6, e.g. `00FFFF`)."},active:{title:"Active",default:!0,type:"boolean",description:"Should this channel be shown in the viewer?"},coefficient:{title:"Coefficient",default:1,type:"integer",description:"Do not change. Omero-channel attribute."},inverted:{title:"Inverted",default:!1,type:"boolean",description:"Do not change. Omero-channel attribute."}},required:["wavelength_id"]}},Vd={title:Cd,type:Td,properties:Dd,required:Ad,additionalProperties:jd,definitions:Rd};function Ps(t){let e,r,n;return{c(){e=O("div"),r=O("pre"),n=G(t[8]),this.h()},l(a){e=C(a,"DIV",{class:!0});var s=T(e);r=C(s,"PRE",{});var i=T(r);n=W(i,t[8]),i.forEach(b),s.forEach(b),this.h()},h(){E(e,"class","alert alert-danger")},m(a,s){L(a,e,s),P(e,r),P(r,n)},p(a,s){s&256&&Xe(n,a[8])},d(a){a&&b(e)}}}function ks(t){let e,r;return{c(){e=O("div"),r=G("Data is valid"),this.h()},l(n){e=C(n,"DIV",{class:!0});var a=T(e);r=W(a,"Data is valid"),a.forEach(b),this.h()},h(){E(e,"class","alert alert-success")},m(n,a){L(n,e,a),P(e,r)},d(n){n&&b(e)}}}function Ns(t){let e,r,n={componentId:"json-schema-sandbox",schema:t[1],schemaData:t[2],propertiesToIgnore:t[10]};return e=new Li({props:n}),t[20](e),e.$on("change",t[16]),{c(){Le(e.$$.fragment)},l(a){ze(e.$$.fragment,a)},m(a,s){Ke(e,a,s),r=!0},p(a,s){const i={};s&2&&(i.schema=a[1]),s&4&&(i.schemaData=a[2]),s&1024&&(i.propertiesToIgnore=a[10]),e.$set(i)},i(a){r||(le(e.$$.fragment,a),r=!0)},o(a){me(e.$$.fragment,a),r=!1},d(a){t[20](null),Je(e,a)}}}function Md(t){let e,r,n,a,s,i,o,l,c,u,d,m,_,g,$,v,f,y,j,F,M,z,ue,x,te,de,ke,ne,Te,we,Ne,$e,Ie,xe,be,U,N,V,I,h,w,R,K,q,re,ie,Ee,Se=t[8]&&Ps(t),Y=t[9]&&ks(),oe=t[1]&&Ns(t);return{c(){e=O("div"),r=O("div"),n=O("div"),a=O("div"),s=O("button"),i=G("Load example"),o=J(),l=O("div"),c=O("input"),u=J(),d=O("label"),m=G("Legacy"),_=J(),g=O("div"),$=G("Changes the set of ignored properties (v1 or v2)"),v=J(),f=O("div"),y=O("div"),j=O("label"),F=G("JSON Schema"),M=J(),z=O("textarea"),ue=J(),x=O("span"),te=G(t[5]),de=J(),ke=O("div"),ne=O("div"),Te=O("label"),we=G("Initial JSON data"),Ne=J(),$e=O("textarea"),Ie=J(),xe=O("span"),be=G(t[6]),U=J(),N=O("div"),V=O("div"),Se&&Se.c(),I=J(),Y&&Y.c(),h=J(),w=O("button"),R=G("Validate"),K=J(),q=O("div"),oe&&oe.c(),this.h()},l(pe){e=C(pe,"DIV",{class:!0});var ye=T(e);r=C(ye,"DIV",{class:!0});var et=T(r);n=C(et,"DIV",{class:!0});var tt=T(n);a=C(tt,"DIV",{class:!0});var rt=T(a);s=C(rt,"BUTTON",{class:!0});var ft=T(s);i=W(ft,"Load example"),ft.forEach(b),o=B(rt),l=C(rt,"DIV",{class:!0});var Qe=T(l);c=C(Qe,"INPUT",{class:!0,type:!0,role:!0,id:!0}),u=B(Qe),d=C(Qe,"LABEL",{class:!0,for:!0});var nt=T(d);m=W(nt,"Legacy"),nt.forEach(b),Qe.forEach(b),_=B(rt),g=C(rt,"DIV",{class:!0});var Ze=T(g);$=W(Ze,"Changes the set of ignored properties (v1 or v2)"),Ze.forEach(b),rt.forEach(b),tt.forEach(b),v=B(et),f=C(et,"DIV",{class:!0});var St=T(f);y=C(St,"DIV",{class:!0});var Re=T(y);j=C(Re,"LABEL",{for:!0});var bt=T(j);F=W(bt,"JSON Schema"),bt.forEach(b),M=B(Re),z=C(Re,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(z).forEach(b),ue=B(Re),x=C(Re,"SPAN",{class:!0});var vt=T(x);te=W(vt,t[5]),vt.forEach(b),Re.forEach(b),St.forEach(b),de=B(et),ke=C(et,"DIV",{class:!0});var Pt=T(ke);ne=C(Pt,"DIV",{class:!0});var Be=T(ne);Te=C(Be,"LABEL",{for:!0});var ot=T(Te);we=W(ot,"Initial JSON data"),ot.forEach(b),Ne=B(Be),$e=C(Be,"TEXTAREA",{id:!0,class:!0,rows:!0}),T($e).forEach(b),Ie=B(Be),xe=C(Be,"SPAN",{class:!0});var dt=T(xe);be=W(dt,t[6]),dt.forEach(b),Be.forEach(b),Pt.forEach(b),U=B(et),N=C(et,"DIV",{class:!0});var qt=T(N);V=C(qt,"DIV",{class:!0});var _t=T(V);Se&&Se.l(_t),I=B(_t),Y&&Y.l(_t),h=B(_t),w=C(_t,"BUTTON",{class:!0});var We=T(w);R=W(We,"Validate"),We.forEach(b),_t.forEach(b),qt.forEach(b),et.forEach(b),K=B(ye),q=C(ye,"DIV",{class:!0});var at=T(q);oe&&oe.l(at),at.forEach(b),ye.forEach(b),this.h()},h(){E(s,"class","btn btn-outline-primary float-end"),E(c,"class","form-check-input"),E(c,"type","checkbox"),E(c,"role","switch"),E(c,"id","legacy"),E(d,"class","form-check-label"),E(d,"for","legacy"),E(l,"class","form-check form-switch"),E(g,"class","form-text"),E(a,"class","col"),E(n,"class","row"),E(j,"for","jschema"),E(z,"id","jschema"),E(z,"class","form-control"),E(z,"rows","10"),Pe(z,"is-invalid",t[5]),E(x,"class","invalid-feedback"),E(y,"class","col"),E(f,"class","row has-validation mt-3 mb-2"),E(Te,"for","jdata"),E($e,"id","jdata"),E($e,"class","form-control"),E($e,"rows","10"),Pe($e,"is-invalid",t[6]),E(xe,"class","invalid-feedback"),E(ne,"class","col"),E(ke,"class","row has-validation mt-3 mb-2"),E(w,"class","btn btn-primary"),E(V,"class","col"),E(N,"class","row mt-3 mb-2"),E(r,"class","col-lg-6 mt-3"),E(q,"class","col-lg-6 mt-3"),E(e,"class","row")},m(pe,ye){L(pe,e,ye),P(e,r),P(r,n),P(n,a),P(a,s),P(s,i),P(a,o),P(a,l),P(l,c),c.checked=t[0],P(l,u),P(l,d),P(d,m),P(a,_),P(a,g),P(g,$),P(r,v),P(r,f),P(f,y),P(y,j),P(j,F),P(y,M),P(y,z),lt(z,t[3]),P(y,ue),P(y,x),P(x,te),P(r,de),P(r,ke),P(ke,ne),P(ne,Te),P(Te,we),P(ne,Ne),P(ne,$e),lt($e,t[4]),P(ne,Ie),P(ne,xe),P(xe,be),P(r,U),P(r,N),P(N,V),Se&&Se.m(V,null),P(V,I),Y&&Y.m(V,null),P(V,h),P(V,w),P(w,R),P(e,K),P(e,q),oe&&oe.m(q,null),re=!0,ie||(Ee=[ce(s,"click",t[15]),ce(c,"change",t[17]),ce(c,"change",t[13]),ce(z,"input",t[18]),ce(z,"input",t[11]),ce($e,"input",t[19]),ce($e,"input",t[12]),ce(w,"click",t[14])],ie=!0)},p(pe,[ye]){ye&1&&(c.checked=pe[0]),ye&8&&lt(z,pe[3]),(!re||ye&32)&&Pe(z,"is-invalid",pe[5]),(!re||ye&32)&&Xe(te,pe[5]),ye&16&&lt($e,pe[4]),(!re||ye&64)&&Pe($e,"is-invalid",pe[6]),(!re||ye&64)&&Xe(be,pe[6]),pe[8]?Se?Se.p(pe,ye):(Se=Ps(pe),Se.c(),Se.m(V,I)):Se&&(Se.d(1),Se=null),pe[9]?Y||(Y=ks(),Y.c(),Y.m(V,h)):Y&&(Y.d(1),Y=null),pe[1]?oe?(oe.p(pe,ye),ye&2&&le(oe,1)):(oe=Ns(pe),oe.c(),le(oe,1),oe.m(q,null)):oe&&(Gt(),me(oe,1,1,()=>{oe=null}),Wt())},i(pe){re||(le(oe),re=!0)},o(pe){me(oe),re=!1},d(pe){pe&&b(e),Se&&Se.d(),Y&&Y.d(),oe&&oe.d(),ie=!1,Xt(Ee)}}}function Fd(t,e,r){let n,a,s,i="",o="",l="",c="",u=!1,d;function m(){if(r(8,$=""),r(5,l=""),i===""){r(1,a=void 0);return}try{r(1,a=JSON.parse(i)),j()}catch{r(1,a=void 0),r(5,l="Invalid JSON")}new qr().loadSchema(a)||(r(1,a=void 0),r(5,l="Invalid JSON Schema"))}function _(){r(8,$=""),r(6,c="");try{r(2,s=JSON.parse(o))}catch{r(2,s=void 0),r(6,c="Invalid JSON")}}function g(){m(),_()}let $="",v=!1;function f(){try{r(8,$=""),r(9,v=!1),d==null||d.validateArguments(),r(9,v=!0)}catch(de){r(8,$=Gs(de))}}function y(){r(3,i=JSON.stringify(Vd,null,2)),m()}async function j(){await sn(),d&&M(d.getArguments())}function F({detail:de}){M(de.value)}function M(de){const ke=cr(de),ne=JSON.stringify(zn(ke),null,2);ne!==o&&r(4,o=ne)}function z(){u=this.checked,r(0,u)}function ue(){i=this.value,r(3,i)}function x(){o=this.value,r(4,o)}function te(de){Sr[de?"unshift":"push"](()=>{d=de,r(7,d)})}return t.$$.update=()=>{t.$$.dirty&1&&r(10,n=Cn(u))},[u,a,s,i,o,l,c,d,$,v,n,m,_,g,f,y,F,z,ue,x,te]}class Ud extends yt{constructor(e){super(),$t(this,e,Fd,Md,pt,{})}}function Is(t,e,r){const n=t.slice();return n[46]=e[r],n[48]=r,n}function Os(t){let e,r,n;return{c(){e=O("div"),r=O("pre"),n=G(t[18]),this.h()},l(a){e=C(a,"DIV",{class:!0});var s=T(e);r=C(s,"PRE",{});var i=T(r);n=W(i,t[18]),i.forEach(b),s.forEach(b),this.h()},h(){E(e,"class","alert alert-danger")},m(a,s){L(a,e,s),P(e,r),P(r,n)},p(a,s){s[0]&262144&&Xe(n,a[18])},d(a){a&&b(e)}}}function Cs(t){let e,r;return{c(){e=O("div"),r=G("Data is valid"),this.h()},l(n){e=C(n,"DIV",{class:!0});var a=T(e);r=W(a,"Data is valid"),a.forEach(b),this.h()},h(){E(e,"class","alert alert-success")},m(n,a){L(n,e,a),P(e,r)},d(n){n&&b(e)}}}function Ts(t){let e,r,n={componentId:"json-schema-version-update-sandbox",schema:t[6],schemaData:t[7],propertiesToIgnore:t[22]};return e=new Li({props:n}),t[41](e),e.$on("change",t[28]),{c(){Le(e.$$.fragment)},l(a){ze(e.$$.fragment,a)},m(a,s){Ke(e,a,s),r=!0},p(a,s){const i={};s[0]&64&&(i.schema=a[6]),s[0]&128&&(i.schemaData=a[7]),s[0]&4194304&&(i.propertiesToIgnore=a[22]),e.$set(i)},i(a){r||(le(e.$$.fragment,a),r=!0)},o(a){me(e.$$.fragment,a),r=!1},d(a){t[41](null),Je(e,a)}}}function Ds(t){let e,r,n,a,s,i,o=t[16]&&t[17]&&As(t);return{c(){e=O("button"),r=G("Try version update"),n=J(),o&&o.c(),a=mt(),this.h()},l(l){e=C(l,"BUTTON",{class:!0});var c=T(e);r=W(c,"Try version update"),c.forEach(b),n=B(l),o&&o.l(l),a=mt(),this.h()},h(){E(e,"class","btn btn-primary mt-4 mb-2")},m(l,c){L(l,e,c),P(e,r),L(l,n,c),o&&o.m(l,c),L(l,a,c),s||(i=ce(e,"click",t[29]),s=!0)},p(l,c){l[16]&&l[17]?o?o.p(l,c):(o=As(l),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(l){l&&b(e),l&&b(n),o&&o.d(l),l&&b(a),s=!1,i()}}}function As(t){let e,r,n,a=t[5]&&js(t),s=t[3]&&Ms(t),i=t[20]&&Ls(t);return{c(){a&&a.c(),e=J(),s&&s.c(),r=J(),i&&i.c(),n=mt()},l(o){a&&a.l(o),e=B(o),s&&s.l(o),r=B(o),i&&i.l(o),n=mt()},m(o,l){a&&a.m(o,l),L(o,e,l),s&&s.m(o,l),L(o,r,l),i&&i.m(o,l),L(o,n,l)},p(o,l){o[5]?a?a.p(o,l):(a=js(o),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),o[3]?s?s.p(o,l):(s=Ms(o),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),o[20]?i?i.p(o,l):(i=Ls(o),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(o){a&&a.d(o),o&&b(e),s&&s.d(o),o&&b(r),i&&i.d(o),o&&b(n)}}}function js(t){let e,r,n,a,s,i=t[5],o=[];for(let l=0;l<i.length;l+=1)o[l]=Vs(Is(t,i,l));return{c(){e=O("div"),r=O("p"),n=G("Following errors must be fixed before performing the update:"),a=J(),s=O("ul");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=C(l,"DIV",{class:!0});var c=T(e);r=C(c,"P",{});var u=T(r);n=W(u,"Following errors must be fixed before performing the update:"),u.forEach(b),a=B(c),s=C(c,"UL",{id:!0});var d=T(s);for(let m=0;m<o.length;m+=1)o[m].l(d);d.forEach(b),c.forEach(b),this.h()},h(){E(s,"id","validation-errors"),E(e,"class","alert alert-danger mt-3")},m(l,c){L(l,e,c),P(e,r),P(r,n),P(e,a),P(e,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null)},p(l,c){if(c[0]&32){i=l[5];let u;for(u=0;u<i.length;u+=1){const d=Is(l,i,u);o[u]?o[u].p(d,c):(o[u]=Vs(d),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(l){l&&b(e),Ln(o,l)}}}function Rs(t){let e=t[46].instancePath+"",r,n;return{c(){r=G(e),n=G(":")},l(a){r=W(a,e),n=W(a,":")},m(a,s){L(a,r,s),L(a,n,s)},p(a,s){s[0]&32&&e!==(e=a[46].instancePath+"")&&Xe(r,e)},d(a){a&&b(r),a&&b(n)}}}function qd(t){let e=t[46].message+"",r;return{c(){r=G(e)},l(n){r=W(n,e)},m(n,a){L(n,r,a)},p(n,a){a[0]&32&&e!==(e=n[46].message+"")&&Xe(r,e)},d(n){n&&b(r)}}}function Ld(t){let e,r=t[46].params.additionalProperty+"",n,a;return{c(){e=G("must NOT have additional property '"),n=G(r),a=G("'")},l(s){e=W(s,"must NOT have additional property '"),n=W(s,r),a=W(s,"'")},m(s,i){L(s,e,i),L(s,n,i),L(s,a,i)},p(s,i){i[0]&32&&r!==(r=s[46].params.additionalProperty+"")&&Xe(n,r)},d(s){s&&b(e),s&&b(n),s&&b(a)}}}function Vs(t){let e,r,n,a,s,i,o,l,c,u=JSON.stringify(t[46],null,2)+"",d,m,_=t[46].instancePath!==""&&Rs(t);function g(f,y){return f[46].keyword==="additionalProperties"?Ld:qd}let $=g(t),v=$(t);return{c(){e=O("li"),_&&_.c(),r=J(),v.c(),n=J(),a=O("small"),s=G("more"),i=J(),o=O("div"),l=O("div"),c=O("pre"),d=G(u),m=J(),this.h()},l(f){e=C(f,"LI",{});var y=T(e);_&&_.l(y),r=B(y),v.l(y),n=B(y),a=C(y,"SMALL",{"data-bs-toggle":!0,"data-bs-target":!0,"aria-expanded":!0,"aria-controls":!0,class:!0,role:!0});var j=T(a);s=W(j,"more"),j.forEach(b),i=B(y),o=C(y,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var F=T(o);l=C(F,"DIV",{class:!0});var M=T(l);c=C(M,"PRE",{class:!0});var z=T(c);d=W(z,u),z.forEach(b),M.forEach(b),F.forEach(b),m=B(y),y.forEach(b),this.h()},h(){E(a,"data-bs-toggle","collapse"),E(a,"data-bs-target","#collapse-"+t[48]),E(a,"aria-expanded","true"),E(a,"aria-controls","collapse-"+t[48]),E(a,"class","text-primary"),E(a,"role","button"),E(c,"class","alert alert-warning mt-1"),E(l,"class","accordion-body"),E(o,"id","collapse-"+t[48]),E(o,"class","accordion-collapse collapse"),E(o,"data-bs-parent","#validation-errors")},m(f,y){L(f,e,y),_&&_.m(e,null),P(e,r),v.m(e,null),P(e,n),P(e,a),P(a,s),P(e,i),P(e,o),P(o,l),P(l,c),P(c,d),P(e,m)},p(f,y){f[46].instancePath!==""?_?_.p(f,y):(_=Rs(f),_.c(),_.m(e,r)):_&&(_.d(1),_=null),$===($=g(f))&&v?v.p(f,y):(v.d(1),v=$(f),v&&(v.c(),v.m(e,n))),y[0]&32&&u!==(u=JSON.stringify(f[46],null,2)+"")&&Xe(d,u)},d(f){f&&b(e),_&&_.d(),v.d()}}}function Ms(t){let e,r,n,a=!t[5]&&Fs(),s=t[20]&&Us(t),i=!t[21]&&qs();return{c(){a&&a.c(),e=J(),s&&s.c(),r=J(),i&&i.c(),n=mt()},l(o){a&&a.l(o),e=B(o),s&&s.l(o),r=B(o),i&&i.l(o),n=mt()},m(o,l){a&&a.m(o,l),L(o,e,l),s&&s.m(o,l),L(o,r,l),i&&i.m(o,l),L(o,n,l)},p(o,l){o[5]?a&&(a.d(1),a=null):a||(a=Fs(),a.c(),a.m(e.parentNode,e)),o[20]?s?s.p(o,l):(s=Us(o),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),o[21]?i&&(i.d(1),i=null):i||(i=qs(),i.c(),i.m(n.parentNode,n))},d(o){a&&a.d(o),o&&b(e),s&&s.d(o),o&&b(r),i&&i.d(o),o&&b(n)}}}function Fs(t){let e,r;return{c(){e=O("div"),r=G("The arguments are valid"),this.h()},l(n){e=C(n,"DIV",{class:!0});var a=T(e);r=W(a,"The arguments are valid"),a.forEach(b),this.h()},h(){E(e,"class","alert alert-success mt-3")},m(n,a){L(n,e,a),P(e,r)},d(n){n&&b(e)}}}function Us(t){let e,r,n=t[0]?"":" non",a,s,i,o,l,c,u,d;return{c(){e=O("label"),r=G("Fix the "),a=G(n),s=G(" parallel arguments:"),o=J(),l=O("textarea"),this.h()},l(m){e=C(m,"LABEL",{class:!0,for:!0});var _=T(e);r=W(_,"Fix the "),a=W(_,n),s=W(_," parallel arguments:"),_.forEach(b),o=B(m),l=C(m,"TEXTAREA",{class:!0,id:!0,rows:!0}),T(l).forEach(b),this.h()},h(){E(e,"class","form-label"),E(e,"for",i="fix-arguments-"+(t[0]?"parallel":"non-parallel")),E(l,"class","form-control"),E(l,"id",c="fix-arguments-"+(t[0]?"parallel":"non-parallel")),E(l,"rows","20"),Pe(l,"is-invalid",!t[21])},m(m,_){L(m,e,_),P(e,r),P(e,a),P(e,s),L(m,o,_),L(m,l,_),lt(l,t[4]),u||(d=ce(l,"input",t[43]),u=!0)},p(m,_){_[0]&1&&n!==(n=m[0]?"":" non")&&Xe(a,n),_[0]&1&&i!==(i="fix-arguments-"+(m[0]?"parallel":"non-parallel"))&&E(e,"for",i),_[0]&1&&c!==(c="fix-arguments-"+(m[0]?"parallel":"non-parallel"))&&E(l,"id",c),_[0]&16&&lt(l,m[4]),_[0]&2097152&&Pe(l,"is-invalid",!m[21])},d(m){m&&b(e),m&&b(o),m&&b(l),u=!1,d()}}}function qs(t){let e,r;return{c(){e=O("div"),r=G("Invalid JSON"),this.h()},l(n){e=C(n,"DIV",{class:!0});var a=T(e);r=W(a,"Invalid JSON"),a.forEach(b),this.h()},h(){E(e,"class","invalid-feedback")},m(n,a){L(n,e,a),P(e,r)},d(n){n&&b(e)}}}function Ls(t){let e,r,n,a;return{c(){e=O("button"),r=G("Check"),this.h()},l(s){e=C(s,"BUTTON",{type:!0,class:!0});var i=T(e);r=W(i,"Check"),i.forEach(b),this.h()},h(){E(e,"type","button"),E(e,"class","btn btn-warning mt-3")},m(s,i){L(s,e,i),P(e,r),n||(a=ce(e,"click",t[1]),n=!0)},p:rr,d(s){s&&b(e),n=!1,a()}}}function zd(t){let e,r,n,a,s,i,o,l,c,u,d,m,_,g,$,v,f,y,j,F,M,z,ue,x,te,de,ke,ne,Te,we,Ne,$e,Ie,xe,be,U,N,V,I,h,w,R,K,q,re,ie,Ee,Se,Y,oe,pe,ye,et,tt,rt,ft,Qe,nt,Ze,St,Re,bt,vt,Pt,Be,ot,dt,qt,_t,We=t[18]&&Os(t),at=t[19]&&Cs(),He=t[6]&&Ts(t),Ae=t[13]&&Ds(t);return{c(){e=O("h2"),r=G("Old schema"),n=J(),a=O("div"),s=O("div"),i=O("div"),o=O("div"),l=O("button"),c=G("Load example"),u=J(),d=O("div"),m=O("input"),_=J(),g=O("label"),$=G("Legacy"),v=J(),f=O("div"),y=G("Changes the set of ignored properties (v1 or v2)"),j=J(),F=O("div"),M=O("div"),z=O("label"),ue=G("JSON Schema"),x=J(),te=O("textarea"),de=J(),ke=O("span"),ne=G(t[10]),Te=J(),we=O("div"),Ne=O("div"),$e=O("label"),Ie=G("Initial JSON data"),xe=J(),be=O("textarea"),U=J(),N=O("span"),V=G(t[11]),I=J(),h=O("div"),w=O("div"),We&&We.c(),R=J(),at&&at.c(),K=J(),q=O("button"),re=G("Validate"),ie=J(),Ee=O("div"),He&&He.c(),Se=J(),Y=O("hr"),oe=J(),pe=O("h2"),ye=G("New schema"),et=J(),tt=O("div"),rt=O("div"),ft=O("div"),Qe=O("div"),nt=O("label"),Ze=G("JSON Schema"),St=J(),Re=O("textarea"),bt=J(),vt=O("span"),Pt=G(t[15]),Be=J(),ot=O("div"),Ae&&Ae.c(),this.h()},l(ee){e=C(ee,"H2",{});var Oe=T(e);r=W(Oe,"Old schema"),Oe.forEach(b),n=B(ee),a=C(ee,"DIV",{class:!0});var dr=T(a);s=C(dr,"DIV",{class:!0});var At=T(s);i=C(At,"DIV",{class:!0});var Gr=T(i);o=C(Gr,"DIV",{class:!0});var Qt=T(o);l=C(Qt,"BUTTON",{class:!0});var Lt=T(l);c=W(Lt,"Load example"),Lt.forEach(b),u=B(Qt),d=C(Qt,"DIV",{class:!0});var hr=T(d);m=C(hr,"INPUT",{class:!0,type:!0,role:!0,id:!0}),_=B(hr),g=C(hr,"LABEL",{class:!0,for:!0});var Ir=T(g);$=W(Ir,"Legacy"),Ir.forEach(b),hr.forEach(b),v=B(Qt),f=C(Qt,"DIV",{class:!0});var Wr=T(f);y=W(Wr,"Changes the set of ignored properties (v1 or v2)"),Wr.forEach(b),Qt.forEach(b),Gr.forEach(b),j=B(At),F=C(At,"DIV",{class:!0});var mr=T(F);M=C(mr,"DIV",{class:!0});var zt=T(M);z=C(zt,"LABEL",{for:!0});var Xr=T(z);ue=W(Xr,"JSON Schema"),Xr.forEach(b),x=B(zt),te=C(zt,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(te).forEach(b),de=B(zt),ke=C(zt,"SPAN",{class:!0});var Or=T(ke);ne=W(Or,t[10]),Or.forEach(b),zt.forEach(b),mr.forEach(b),Te=B(At),we=C(At,"DIV",{class:!0});var Qr=T(we);Ne=C(Qr,"DIV",{class:!0});var Kt=T(Ne);$e=C(Kt,"LABEL",{for:!0});var S=T($e);Ie=W(S,"Initial JSON data"),S.forEach(b),xe=B(Kt),be=C(Kt,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(be).forEach(b),U=B(Kt),N=C(Kt,"SPAN",{class:!0});var p=T(N);V=W(p,t[11]),p.forEach(b),Kt.forEach(b),Qr.forEach(b),I=B(At),h=C(At,"DIV",{class:!0});var k=T(h);w=C(k,"DIV",{class:!0});var D=T(w);We&&We.l(D),R=B(D),at&&at.l(D),K=B(D),q=C(D,"BUTTON",{class:!0});var A=T(q);re=W(A,"Validate"),A.forEach(b),D.forEach(b),k.forEach(b),At.forEach(b),ie=B(dr),Ee=C(dr,"DIV",{class:!0});var X=T(Ee);He&&He.l(X),X.forEach(b),dr.forEach(b),Se=B(ee),Y=C(ee,"HR",{}),oe=B(ee),pe=C(ee,"H2",{class:!0});var Z=T(pe);ye=W(Z,"New schema"),Z.forEach(b),et=B(ee),tt=C(ee,"DIV",{class:!0});var ve=T(tt);rt=C(ve,"DIV",{class:!0});var De=T(rt);ft=C(De,"DIV",{class:!0});var Me=T(ft);Qe=C(Me,"DIV",{class:!0});var fe=T(Qe);nt=C(fe,"LABEL",{for:!0});var Ce=T(nt);Ze=W(Ce,"JSON Schema"),Ce.forEach(b),St=B(fe),Re=C(fe,"TEXTAREA",{id:!0,class:!0,rows:!0}),T(Re).forEach(b),bt=B(fe),vt=C(fe,"SPAN",{class:!0});var Fe=T(vt);Pt=W(Fe,t[15]),Fe.forEach(b),fe.forEach(b),Me.forEach(b),De.forEach(b),Be=B(ve),ot=C(ve,"DIV",{class:!0});var ae=T(ot);Ae&&Ae.l(ae),ae.forEach(b),ve.forEach(b),this.h()},h(){E(l,"class","btn btn-outline-primary float-end"),E(m,"class","form-check-input"),E(m,"type","checkbox"),E(m,"role","switch"),E(m,"id","legacy"),E(g,"class","form-check-label"),E(g,"for","legacy"),E(d,"class","form-check form-switch"),E(f,"class","form-text"),E(o,"class","col"),E(i,"class","row"),E(z,"for","jschema-old"),E(te,"id","jschema-old"),E(te,"class","form-control"),E(te,"rows","10"),Pe(te,"is-invalid",t[10]),E(ke,"class","invalid-feedback"),E(M,"class","col"),E(F,"class","row has-validation mt-3 mb-2"),E($e,"for","jdata-old"),E(be,"id","jdata-old"),E(be,"class","form-control"),E(be,"rows","10"),Pe(be,"is-invalid",t[11]),E(N,"class","invalid-feedback"),E(Ne,"class","col"),E(we,"class","row has-validation mt-3 mb-2"),E(q,"class","btn btn-primary"),E(w,"class","col"),E(h,"class","row mt-3 mb-2"),E(s,"class","col-lg-6 mt-3"),E(Ee,"class","col-lg-6 mt-3"),E(a,"class","row"),E(pe,"class","mt-2"),E(nt,"for","jschema-new"),E(Re,"id","jschema-new"),E(Re,"class","form-control"),E(Re,"rows","10"),Pe(Re,"is-invalid",t[15]),E(vt,"class","invalid-feedback"),E(Qe,"class","col"),E(ft,"class","row has-validation mb-2"),E(rt,"class","col-lg-6 mt-3"),E(ot,"class","col-lg-6"),E(tt,"class","row")},m(ee,Oe){L(ee,e,Oe),P(e,r),L(ee,n,Oe),L(ee,a,Oe),P(a,s),P(s,i),P(i,o),P(o,l),P(l,c),P(o,u),P(o,d),P(d,m),m.checked=t[2],P(d,_),P(d,g),P(g,$),P(o,v),P(o,f),P(f,y),P(s,j),P(s,F),P(F,M),P(M,z),P(z,ue),P(M,x),P(M,te),lt(te,t[8]),P(M,de),P(M,ke),P(ke,ne),P(s,Te),P(s,we),P(we,Ne),P(Ne,$e),P($e,Ie),P(Ne,xe),P(Ne,be),lt(be,t[9]),P(Ne,U),P(Ne,N),P(N,V),P(s,I),P(s,h),P(h,w),We&&We.m(w,null),P(w,R),at&&at.m(w,null),P(w,K),P(w,q),P(q,re),P(a,ie),P(a,Ee),He&&He.m(Ee,null),L(ee,Se,Oe),L(ee,Y,Oe),L(ee,oe,Oe),L(ee,pe,Oe),P(pe,ye),L(ee,et,Oe),L(ee,tt,Oe),P(tt,rt),P(rt,ft),P(ft,Qe),P(Qe,nt),P(nt,Ze),P(Qe,St),P(Qe,Re),lt(Re,t[14]),P(Qe,bt),P(Qe,vt),P(vt,Pt),P(tt,Be),P(tt,ot),Ae&&Ae.m(ot,null),dt=!0,qt||(_t=[ce(l,"click",t[30]),ce(m,"change",t[38]),ce(m,"change",t[25]),ce(te,"input",t[39]),ce(te,"input",t[23]),ce(be,"input",t[40]),ce(be,"input",t[24]),ce(q,"click",t[27]),ce(Re,"input",t[42]),ce(Re,"input",t[26])],qt=!0)},p(ee,Oe){Oe[0]&4&&(m.checked=ee[2]),Oe[0]&256&&lt(te,ee[8]),(!dt||Oe[0]&1024)&&Pe(te,"is-invalid",ee[10]),(!dt||Oe[0]&1024)&&Xe(ne,ee[10]),Oe[0]&512&&lt(be,ee[9]),(!dt||Oe[0]&2048)&&Pe(be,"is-invalid",ee[11]),(!dt||Oe[0]&2048)&&Xe(V,ee[11]),ee[18]?We?We.p(ee,Oe):(We=Os(ee),We.c(),We.m(w,R)):We&&(We.d(1),We=null),ee[19]?at||(at=Cs(),at.c(),at.m(w,K)):at&&(at.d(1),at=null),ee[6]?He?(He.p(ee,Oe),Oe[0]&64&&le(He,1)):(He=Ts(ee),He.c(),le(He,1),He.m(Ee,null)):He&&(Gt(),me(He,1,1,()=>{He=null}),Wt()),Oe[0]&16384&&lt(Re,ee[14]),(!dt||Oe[0]&32768)&&Pe(Re,"is-invalid",ee[15]),(!dt||Oe[0]&32768)&&Xe(Pt,ee[15]),ee[13]?Ae?Ae.p(ee,Oe):(Ae=Ds(ee),Ae.c(),Ae.m(ot,null)):Ae&&(Ae.d(1),Ae=null)},i(ee){dt||(le(He),dt=!0)},o(ee){me(He),dt=!1},d(ee){ee&&b(e),ee&&b(n),ee&&b(a),We&&We.d(),at&&at.d(),He&&He.d(),ee&&b(Se),ee&&b(Y),ee&&b(oe),ee&&b(pe),ee&&b(et),ee&&b(tt),Ae&&Ae.d(),qt=!1,Xt(_t)}}}function Kd(t,e,r){let n,a,s,i="",o="",l="",c="",u=!1,d,m,_="",g="",$,v;async function f(){if(r(10,l=""),i===""){r(6,a=void 0);return}try{r(6,a=JSON.parse(i)),x()}catch{r(6,a=void 0),r(10,l="Invalid JSON")}new qr().loadSchema(a)||(r(6,a=void 0),r(10,l="Invalid JSON Schema"))}function y(){r(11,c=""),r(11,c="");try{r(7,s=JSON.parse(o))}catch{r(7,s=void 0),r(11,c="Invalid JSON")}}function j(){f(),y()}function F(){if(r(16,$=void 0),r(17,v=void 0),r(15,g=""),_===""){r(13,m=void 0);return}try{r(13,m=JSON.parse(_))}catch{r(13,m=void 0),r(15,g="Invalid JSON")}new qr().loadSchema(m)||(r(13,m=void 0),r(15,g="Invalid JSON Schema"))}let M,z=!1;async function ue(){try{r(18,M=""),r(19,z=!1),r(7,s=JSON.parse(o)),await sn(),d==null||d.validateArguments(),r(19,z=!0)}catch(Y){r(18,M=Gs(Y)),r(16,$=void 0),r(17,v=void 0)}}async function x(){if(await sn(),!d)return;const Y=cr(d.getArguments()),oe=JSON.stringify(zn(Y),null,2);oe!==o&&r(9,o=oe)}async function te(){r(20,$e=!1),z||await ue(),z&&(de(),await sn(),I())}function de(){r(16,$={id:1,args_parallel:cr(s),task_type:"parallel",is_legacy_task:u}),r(17,v={args_schema_parallel:m})}function ke(){const Y={title:"Test",type:"object",properties:{foo:{title:"foo",type:"string"}},required:["foo"]},oe=cr(Y);oe.properties.bar={title:"bar",type:"string"},oe.required.push("bar"),r(8,i=JSON.stringify(Y,null,2)),r(9,o=JSON.stringify({foo:"something"},null,2)),r(14,_=JSON.stringify(oe,null,2)),j(),F()}let{parallel:ne}=e,{canBeUpdated:Te=!1}=e,{argsChanged:we=!1}=e,Ne="",$e=!1,Ie="",xe=!0,be=null;function U(){r(4,Ie=""),r(5,be=null)}function N(){r(4,Ie=Ne),V()}function V(){if(!Ie)return;r(21,xe=!0);let Y;try{Y=JSON.parse(Ie)}catch{r(21,xe=!1);return}w(Y)}function I(){const Y=$.args_parallel||{};r(3,Ne=JSON.stringify(Y,null,2)),w(Y)}function h(){Ie!==""?JSON.parse(Ie):$.args_parallel}function w(Y){const oe=v.args_schema_parallel,pe=new qr(!0);"properties"in oe&&Qs(oe,Cn(u));const ye=cr(oe);if(!pe.loadSchema(ye))throw new Error("Invalid JSON schema");pe.isValid(Y)?r(5,be=null):(r(4,Ie=JSON.stringify(Y,null,2)),r(20,$e=!0),r(5,be=pe.getErrors()))}function R(){return((be==null?void 0:be.length)||0)>0}function K(){u=this.checked,r(2,u)}function q(){i=this.value,r(8,i)}function re(){o=this.value,r(9,o)}function ie(Y){Sr[Y?"unshift":"push"](()=>{d=Y,r(12,d)})}function Ee(){_=this.value,r(14,_)}function Se(){Ie=this.value,r(4,Ie)}return t.$$set=Y=>{"parallel"in Y&&r(0,ne=Y.parallel),"canBeUpdated"in Y&&r(31,Te=Y.canBeUpdated),"argsChanged"in Y&&r(32,we=Y.argsChanged)},t.$$.update=()=>{t.$$.dirty[0]&56&&(r(31,Te=be===null||be.length===0),r(32,we=Ie!==Ne)),t.$$.dirty[0]&4&&r(22,n=Cn(u))},[ne,V,u,Ne,Ie,be,a,s,i,o,l,c,d,m,_,g,$,v,M,z,$e,xe,n,f,y,j,F,ue,x,te,ke,Te,we,U,N,I,h,R,K,q,re,ie,Ee,Se]}class Jd extends yt{constructor(e){super(),$t(this,e,Kd,zd,pt,{parallel:0,canBeUpdated:31,argsChanged:32,reset:33,cancel:34,check:1,checkArgumentsWithNewSchema:35,getNewArgs:36,hasValidationErrors:37},null,[-1,-1])}get reset(){return this.$$.ctx[33]}get cancel(){return this.$$.ctx[34]}get check(){return this.$$.ctx[1]}get checkArgumentsWithNewSchema(){return this.$$.ctx[35]}get getNewArgs(){return this.$$.ctx[36]}get hasValidationErrors(){return this.$$.ctx[37]}}function Bd(t){let e,r;return e=new Jd({}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function Hd(t){let e,r;return e=new Ud({}),{c(){Le(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ke(e,n,a),r=!0},i(n){r||(le(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function Gd(t){let e,r,n,a,s,i,o,l,c,u,d,m,_,g,$,v,f,y,j,F;const M=[Hd,Bd],z=[];function ue(x,te){return x[0]==="jschema"?0:x[0]==="version-update"?1:-1}return~(v=ue(t))&&(f=z[v]=M[v](t)),{c(){e=O("nav"),r=O("div"),n=O("a"),a=G("Documentation"),s=J(),i=O("ul"),o=O("li"),l=O("a"),c=G("JSON Schema"),u=J(),d=O("li"),m=O("a"),_=G("Version update"),g=J(),$=O("div"),f&&f.c(),this.h()},l(x){e=C(x,"NAV",{class:!0});var te=T(e);r=C(te,"DIV",{class:!0});var de=T(r);n=C(de,"A",{class:!0,href:!0});var ke=T(n);a=W(ke,"Documentation"),ke.forEach(b),s=B(de),i=C(de,"UL",{class:!0});var ne=T(i);o=C(ne,"LI",{class:!0});var Te=T(o);l=C(Te,"A",{class:!0,href:!0});var we=T(l);c=W(we,"JSON Schema"),we.forEach(b),Te.forEach(b),u=B(ne),d=C(ne,"LI",{class:!0});var Ne=T(d);m=C(Ne,"A",{class:!0,href:!0});var $e=T(m);_=W($e,"Version update"),$e.forEach(b),Ne.forEach(b),ne.forEach(b),de.forEach(b),te.forEach(b),g=B(x),$=C(x,"DIV",{class:!0});var Ie=T($);f&&f.l(Ie),Ie.forEach(b),this.h()},h(){E(n,"class","navbar-brand"),E(n,"href","https://fractal-analytics-platform.github.io/fractal-web/"),E(l,"class","nav-link"),E(l,"href","#jschema"),Pe(l,"active",t[0]==="jschema"),E(o,"class","nav-item"),E(m,"class","nav-link"),E(m,"href","#version-update"),Pe(m,"active",t[0]==="version-update"),E(d,"class","nav-item"),E(i,"class","navbar-nav me-auto"),E(r,"class","container"),E(e,"class","navbar navbar-expand-lg bg-light mb-3 border-bottom"),E($,"class","container")},m(x,te){L(x,e,te),P(e,r),P(r,n),P(n,a),P(r,s),P(r,i),P(i,o),P(o,l),P(l,c),P(i,u),P(i,d),P(d,m),P(m,_),L(x,g,te),L(x,$,te),~v&&z[v].m($,null),y=!0,j||(F=[ce(l,"click",t[1]),ce(m,"click",t[2])],j=!0)},p(x,[te]){(!y||te&1)&&Pe(l,"active",x[0]==="jschema"),(!y||te&1)&&Pe(m,"active",x[0]==="version-update");let de=v;v=ue(x),v!==de&&(f&&(Gt(),me(z[de],1,1,()=>{z[de]=null}),Wt()),~v?(f=z[v],f||(f=z[v]=M[v](x),f.c()),le(f,1),f.m($,null)):f=null)},i(x){y||(le(f),y=!0)},o(x){me(f),y=!1},d(x){x&&b(e),x&&b(g),x&&b($),~v&&z[v].d(),j=!1,Xt(F)}}}function Wd(t,e,r){const n=["jschema","version-update"];let a="jschema";return wr(()=>{for(const o of n)if(`#${o}`===location.hash){r(0,a=o);break}}),[a,()=>r(0,a="jschema"),()=>r(0,a="version-update")]}class Zd extends yt{constructor(e){super(),$t(this,e,Wd,Gd,pt,{})}}export{Zd as component};
