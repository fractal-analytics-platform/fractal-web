var oo=Object.defineProperty;var lo=(t,e,r)=>e in t?oo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var et=(t,e,r)=>(lo(t,typeof e!="symbol"?e+"":e,r),r);import{S as gt,i as yt,s as ht,k as O,l as T,m as D,h as v,n as y,b as L,H as kt,o as wr,w as rr,a as B,y as Fe,c as H,z as ze,A as Ue,g as de,d as me,B as Le,q as Z,r as Q,G as E,u as He,C as co,J as $e,K as ue,D as uo,E as fo,F as ho,v as jt,L as ti,f as Rt,M as ri,N as La,O as It,P as ct,Q as ni,R as ai,T as dn,U as $n,V as si,e as ut,W as ii,t as jr,X as mo}from"../chunks/index.7d84d21f.js";function xt(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))}function hn(t){return t===void 0?null:t}function mn(t){return typeof t=="object"&&t!==null&&t!==void 0}function En(t){const e=oi(t);return li(e)}function oi(t){return Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=t[e].filter(r=>r!==null&&r!=="")),t[e]&&typeof t[e]=="object"?oi(t[e]):(t[e]===null||t[e]==="")&&delete t[e]}),t}function li(t){return Object.keys(t).forEach(e=>{t[e]&&typeof t[e]=="object"&&(li(t[e]),Object.keys(t[e]).length===0&&delete t[e])}),t}function Bn(t){return t instanceof so?JSON.stringify(t.errors.length===1?t.errors[0]:t.errors,null,2):(console.error(t),t.message)}function po(t){return"minimum"in t&&t.minimum!==void 0?Number(t.minimum):"exclusiveMinimum"in t&&t.exclusiveMinimum!==void 0?Number(t.exclusiveMinimum)+1:null}function _o(t){return"maximum"in t&&t.maximum!==void 0?Number(t.maximum):"exclusiveMaximum"in t&&t.exclusiveMaximum!==void 0?Number(t.exclusiveMaximum)-1:null}function ci(t){return"minItems"in t&&typeof t.minItems=="number"&&"maxItems"in t&&typeof t.maxItems=="number"&&t.minItems===t.maxItems}function ui(t,e){const r=t.properties||{};if(t.additionalProperties)for(const n of Object.keys(e))Object.keys(r).includes(n)||(r[n]=t.additionalProperties);return r}function vo(t,e){const r=t.properties||{};return!Object.keys(r).includes(e)}function pn(t){return t?["input_paths","output_path","metadata","component"]:["zarr_url","zarr_urls","init_args","zarr_dir"]}function go(t,e=void 0){return Ct(t,!0,e,e===void 0)}function yo(t,e,r){const n=t.required||[],a={};e==null&&(e={});const s=ui(t,e);for(const[i,o]of Object.entries(s)){const l=n.includes(i);a[i]=Ct(o,l,hn(e[i]),r)}return a}function Ct(t,e,r,n){if(!t)return null;if(n&&"default"in t)return Ct(t,e,t.default,!1);if(t.type===null)return null;switch(t.type){case"object":return yo(t,r,n);case"array":{const a=t;return ci(a)?$o(a,e,r,n):bo(a,e,r,n)}default:return hn(r)}}function bo(t,e,r,n){Array.isArray(r)||(r=[]);const a=t.items;let s=[];for(let i=0;i<r.length;i++)s.push(Ct(a,e,r[i],n));if(e&&typeof t.minItems=="number"&&s.length<t.minItems)for(let i=s.length;i<t.minItems;i++)s.push(Ct(a,e,null,n));return s}function $o(t,e,r,n){if(Array.isArray(r)||(r=[]),!e&&r.length===0)return r;let a=[];for(let i=0;i<r.length;i++)a.push(Ct(qa(t,i),e,r[i],n));const s=t.minItems;for(let i=a.length;i<s;i++)a.push(Ct(qa(t,i),!1,null,n));return a.length>s&&(console.warn("Tuple initial value has more items than allowed (%d)",s,r),a.splice(s,a.length)),a}function qa(t,e){return Array.isArray(t.items)?e<t.items.length?t.items[e]:(console.warn("Unable to retrieve tuple child on index %d",e),null):t.items}class wn{constructor(e){et(this,"manager");et(this,"id");et(this,"key");et(this,"type");et(this,"title");et(this,"description");et(this,"required");et(this,"removable");et(this,"property");this.manager=e.manager,this.id=e.id,this.key=e.key,this.type=e.type,this.title=e.title,this.required=e.required,this.description=e.description,this.removable=e.removable,this.property=e.property}notifyChange(){this.manager.notifyChange()}}class Lr extends wn{constructor(r){super(r);et(this,"value");this.value=r.value}}class Eo extends Lr{constructor(e){super(e)}}class wo extends Lr{constructor(e){super(e)}}class So extends Lr{constructor(r){super(r);et(this,"options");this.options=r.options}}class Ja extends Lr{constructor(r){super(r);et(this,"badInput",!1);this.min=r.min,this.max=r.max}}class ko extends wn{constructor(r){super(r);et(this,"children");et(this,"additionalProperties",!1);this.additionalProperties=r.additionalProperties,this.children=r.children,this.collapsed=!r.required}addChild(r){if(!this.additionalProperties)return;if(r==="")throw new Error("Schema property has no name");if(this.children.map(s=>s.key).includes(r))throw new Error("Schema property already has a property with the same name");const a=this.manager.createFormElement({key:r,property:this.additionalProperties,required:!1,removable:!0,value:Ct(this.additionalProperties,!1,this.additionalProperties.default,!1)});a.title=r,a.removable=!0,this.children=[...this.children,a],this.notifyChange()}removeChild(r){if(!this.additionalProperties){console.warn("Attempted to call remove child on element without additional properties");return}const n=this.children.filter(s=>s.key===r);if(n.length===0){console.warn("Attempted to remove not existing key %s",r);return}const[a]=n;if(!a.removable){console.warn("Attempted to remove not removable child");return}this.children=this.children.filter(s=>s.key!==r),this.notifyChange()}resetChild(r){const n=this.children[r],a=n.property.default;if(a===void 0)return;const s=this.manager.createFormElement({key:n.key,property:n.property,required:n.required,removable:n.removable,value:a});s.collapsed=n.collapsed,this.children[r]=s,this.notifyChange()}}class Po extends wn{constructor(r){super(r);et(this,"children");et(this,"items");et(this,"minItems");et(this,"maxItems");this.children=r.children,this.items=r.items,this.minItems=r.minItems,this.maxItems=r.maxItems,this.collapsed=!r.required}addChild(){if(typeof this.maxItems=="number"&&this.children.length===this.maxItems)return;const r=this.manager.createFormElement({key:null,property:this.items,required:!1,removable:!0,value:Ct(this.items,!1,void 0,!0)});this.children=[...this.children,r],this.notifyChange()}removeChild(r){this.children.splice(r,1),this.notifyChange()}moveChildUp(r){if(r>0){let n=[];for(let a=0;a<this.children.length;a++)a===r-1?n[a]=this.children[a+1]:a===r?n[a]=this.children[a-1]:n[a]=this.children[a];this.children=n,this.notifyChange()}}moveChildDown(r){if(r<this.children.length-1){let n=[];for(let a=0;a<this.children.length;a++)a===r?n[a]=this.children[a+1]:a===r+1?n[a]=this.children[a-1]:n[a]=this.children[a];this.children=n,this.notifyChange()}}}class No extends wn{constructor(r){super(r);et(this,"children");et(this,"items");et(this,"size");this.children=r.children,this.items=r.items,this.size=r.size,this.collapsed=!r.required}addTuple(){let r;if(Array.isArray(this.items))r=this.items.map((n,a)=>Ct(n,!1,Array.isArray(this.property.default)?this.property.default[a]:void 0,!1));else{const n=this.items;r=Array(this.size).map(a=>Ct(n,!1,Array.isArray(this.property.default)?this.property.default[a]:void 0,!1))}this.children=this.manager.createTupleChildren({items:this.items,size:this.size,value:r}),this.notifyChange()}removeTuple(){this.children=[],this.notifyChange()}}function fi(t,e=[]){let r=di(t,e);return r=on(r,r),r=jn(r),r}function di(t,e=[]){const r=xt(t);for(const n of Object.keys(r.properties))e.includes(n)&&delete r.properties[n];return r.required&&(r.required=r.required.filter(n=>!e.includes(n))),r}function on(t,e){if(Array.isArray(e)){const r=[];for(const n of e)r.push(on(t,n));return r}else if(mn(e)){const r={};for(const[n,a]of Object.entries(e))if(n==="$ref"&&typeof a=="string"){const s=Io(t,a);for(const[i,o]of Object.entries(s))r[i]=on(t,o)}else r[n]=on(t,a);return r}else return e}function Io(t,e){if(!e.startsWith("#/"))throw new Error(`Unsupported $ref field format: ${e}`);const r=e.substring(2).split("/");let n=t;for(const a of r){if(!(a in n))throw new Error(`Unable to resolve reference ${e}. Key ${a} not found.`);n=n[a]}return n}function jn(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(jn(r));return e}else if(mn(t)){const e={};for(const[r,n]of Object.entries(t))if(r==="allOf"&&Array.isArray(n))for(const a of n)for(const[s,i]of Object.entries(a))Oo(e,s,i);else e[r]=jn(n);return e}else return t}function Oo(t,e,r){e in t?Array.isArray(t[e])&&Array.isArray(r)?t[e]=[...t[e],...r]:mn(t)&&mn(r)&&(t[e]={...t[e],...r}):t[e]=r}var To=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rn={exports:{}},mi={},At={},$r={},qr={},Ee={},Ur={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(b){if(super(),!t.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((k,P)=>`${k}${P}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((k,P)=>(P instanceof r&&(k[P.str]=(k[P.str]||0)+1),k),{})}}t._Code=n,t.nil=new n("");function a(_,...b){const k=[_[0]];let P=0;for(;P<b.length;)o(k,b[P]),k.push(_[++P]);return new n(k)}t._=a;const s=new n("+");function i(_,...b){const k=[g(_[0])];let P=0;for(;P<b.length;)k.push(s),o(k,b[P]),k.push(s,g(_[++P]));return l(k),new n(k)}t.str=i;function o(_,b){b instanceof n?_.push(...b._items):b instanceof r?_.push(b):_.push(f(b))}t.addCodeArg=o;function l(_){let b=1;for(;b<_.length-1;){if(_[b]===s){const k=u(_[b-1],_[b+1]);if(k!==void 0){_.splice(b-1,3,k);continue}_[b++]="+"}b++}}function u(_,b){if(b==='""')return _;if(_==='""')return b;if(typeof _=="string")return b instanceof r||_[_.length-1]!=='"'?void 0:typeof b!="string"?`${_.slice(0,-1)}${b}"`:b[0]==='"'?_.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(_ instanceof r))return`"${_}${b.slice(1)}`}function c(_,b){return b.emptyStr()?_:_.emptyStr()?b:i`${_}${b}`}t.strConcat=c;function f(_){return typeof _=="number"||typeof _=="boolean"||_===null?_:g(Array.isArray(_)?_.join(","):_)}function h(_){return new n(g(_))}t.stringify=h;function g(_){return JSON.stringify(_).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=g;function d(_){return typeof _=="string"&&t.IDENTIFIER.test(_)?new n(`.${_}`):a`[${_}]`}t.getProperty=d;function $(_){if(typeof _=="string"&&t.IDENTIFIER.test(_))return new n(`${_}`);throw new Error(`CodeGen: invalid export name: ${_}, use explicit $id name mapping`)}t.getEsmExportName=$;function p(_){return new n(_.toString())}t.regexpCode=p})(Ur);var Vn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Ur;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class a{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=a;class s extends e.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(c)}[${f}]`}}t.ValueScopeName=s;const i=(0,e._)`\n`;class o extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?i:e.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:g}=h,d=(f=c.key)!==null&&f!==void 0?f:c.ref;let $=this._values[g];if($){const b=$.get(d);if(b)return b}else $=this._values[g]=new Map;$.set(d,h);const p=this._scope[g]||(this._scope[g]=[]),_=p.length;return p[_]=c.ref,h.setValue(c,{property:g,itemIndex:_}),h}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},c,f)}_reduceValues(u,c,f={},h){let g=e.nil;for(const d in u){const $=u[d];if(!$)continue;const p=f[d]=f[d]||new Map;$.forEach(_=>{if(p.has(_))return;p.set(_,n.Started);let b=c(_);if(b){const k=this.opts.es5?t.varKinds.var:t.varKinds.const;g=(0,e._)`${g}${k} ${_} = ${b};${this.opts._n}`}else if(b=h==null?void 0:h(_))g=(0,e._)`${g}${b}${this.opts._n}`;else throw new r(_);p.set(_,n.Completed)})}return g}}t.ValueScope=o})(Vn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Ur,r=Vn;var n=Ur;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Vn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(m,S){return this}}class i extends s{constructor(m,S,F){super(),this.varKind=m,this.name=S,this.rhs=F}render({es5:m,_n:S}){const F=m?r.varKinds.var:this.varKind,q=this.rhs===void 0?"":` = ${this.rhs}`;return`${F} ${this.name}${q};`+S}optimizeNames(m,S){if(m[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,m,S)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(m,S,F){super(),this.lhs=m,this.rhs=S,this.sideEffects=F}render({_n:m}){return`${this.lhs} = ${this.rhs};`+m}optimizeNames(m,S){if(!(this.lhs instanceof e.Name&&!m[this.lhs.str]&&!this.sideEffects))return this.rhs=W(this.rhs,m,S),this}get names(){const m=this.lhs instanceof e.Name?{}:{...this.lhs.names};return Y(m,this.rhs)}}class l extends o{constructor(m,S,F,q){super(m,F,q),this.op=S}render({_n:m}){return`${this.lhs} ${this.op}= ${this.rhs};`+m}}class u extends s{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`${this.label}:`+m}}class c extends s{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`break${this.label?` ${this.label}`:""};`+m}}class f extends s{constructor(m){super(),this.error=m}render({_n:m}){return`throw ${this.error};`+m}get names(){return this.error.names}}class h extends s{constructor(m){super(),this.code=m}render({_n:m}){return`${this.code};`+m}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(m,S){return this.code=W(this.code,m,S),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class g extends s{constructor(m=[]){super(),this.nodes=m}render(m){return this.nodes.reduce((S,F)=>S+F.render(m),"")}optimizeNodes(){const{nodes:m}=this;let S=m.length;for(;S--;){const F=m[S].optimizeNodes();Array.isArray(F)?m.splice(S,1,...F):F?m[S]=F:m.splice(S,1)}return m.length>0?this:void 0}optimizeNames(m,S){const{nodes:F}=this;let q=F.length;for(;q--;){const K=F[q];K.optimizeNames(m,S)||(ve(m,K.names),F.splice(q,1))}return F.length>0?this:void 0}get names(){return this.nodes.reduce((m,S)=>U(m,S.names),{})}}class d extends g{render(m){return"{"+m._n+super.render(m)+"}"+m._n}}class $ extends g{}class p extends d{}p.kind="else";class _ extends d{constructor(m,S){super(S),this.condition=m}render(m){let S=`if(${this.condition})`+super.render(m);return this.else&&(S+="else "+this.else.render(m)),S}optimizeNodes(){super.optimizeNodes();const m=this.condition;if(m===!0)return this.nodes;let S=this.else;if(S){const F=S.optimizeNodes();S=this.else=Array.isArray(F)?new p(F):F}if(S)return m===!1?S instanceof _?S:S.nodes:this.nodes.length?this:new _(se(m),S instanceof _?[S]:S.nodes);if(!(m===!1||!this.nodes.length))return this}optimizeNames(m,S){var F;if(this.else=(F=this.else)===null||F===void 0?void 0:F.optimizeNames(m,S),!!(super.optimizeNames(m,S)||this.else))return this.condition=W(this.condition,m,S),this}get names(){const m=super.names;return Y(m,this.condition),this.else&&U(m,this.else.names),m}}_.kind="if";class b extends d{}b.kind="for";class k extends b{constructor(m){super(),this.iteration=m}render(m){return`for(${this.iteration})`+super.render(m)}optimizeNames(m,S){if(super.optimizeNames(m,S))return this.iteration=W(this.iteration,m,S),this}get names(){return U(super.names,this.iteration.names)}}class P extends b{constructor(m,S,F,q){super(),this.varKind=m,this.name=S,this.from=F,this.to=q}render(m){const S=m.es5?r.varKinds.var:this.varKind,{name:F,from:q,to:K}=this;return`for(${S} ${F}=${q}; ${F}<${K}; ${F}++)`+super.render(m)}get names(){const m=Y(super.names,this.from);return Y(m,this.to)}}class j extends b{constructor(m,S,F,q){super(),this.loop=m,this.varKind=S,this.name=F,this.iterable=q}render(m){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(m)}optimizeNames(m,S){if(super.optimizeNames(m,S))return this.iterable=W(this.iterable,m,S),this}get names(){return U(super.names,this.iterable.names)}}class z extends d{constructor(m,S,F){super(),this.name=m,this.args=S,this.async=F}render(m){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(m)}}z.kind="func";class X extends g{render(m){return"return "+super.render(m)}}X.kind="return";class ee extends d{render(m){let S="try"+super.render(m);return this.catch&&(S+=this.catch.render(m)),this.finally&&(S+=this.finally.render(m)),S}optimizeNodes(){var m,S;return super.optimizeNodes(),(m=this.catch)===null||m===void 0||m.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(m,S){var F,q;return super.optimizeNames(m,S),(F=this.catch)===null||F===void 0||F.optimizeNames(m,S),(q=this.finally)===null||q===void 0||q.optimizeNames(m,S),this}get names(){const m=super.names;return this.catch&&U(m,this.catch.names),this.finally&&U(m,this.finally.names),m}}class oe extends d{constructor(m){super(),this.error=m}render(m){return`catch(${this.error})`+super.render(m)}}oe.kind="catch";class he extends d{render(m){return"finally"+super.render(m)}}he.kind="finally";class G{constructor(m,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=m,this._scope=new r.Scope({parent:m}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(m){return this._scope.name(m)}scopeName(m){return this._extScope.name(m)}scopeValue(m,S){const F=this._extScope.value(m,S);return(this._values[F.prefix]||(this._values[F.prefix]=new Set)).add(F),F}getScopeValue(m,S){return this._extScope.getValue(m,S)}scopeRefs(m){return this._extScope.scopeRefs(m,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(m,S,F,q){const K=this._scope.toName(S);return F!==void 0&&q&&(this._constants[K.str]=F),this._leafNode(new i(m,K,F)),K}const(m,S,F){return this._def(r.varKinds.const,m,S,F)}let(m,S,F){return this._def(r.varKinds.let,m,S,F)}var(m,S,F){return this._def(r.varKinds.var,m,S,F)}assign(m,S,F){return this._leafNode(new o(m,S,F))}add(m,S){return this._leafNode(new l(m,t.operators.ADD,S))}code(m){return typeof m=="function"?m():m!==e.nil&&this._leafNode(new h(m)),this}object(...m){const S=["{"];for(const[F,q]of m)S.length>1&&S.push(","),S.push(F),(F!==q||this.opts.es5)&&(S.push(":"),(0,e.addCodeArg)(S,q));return S.push("}"),new e._Code(S)}if(m,S,F){if(this._blockNode(new _(m)),S&&F)this.code(S).else().code(F).endIf();else if(S)this.code(S).endIf();else if(F)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(m){return this._elseNode(new _(m))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(_,p)}_for(m,S){return this._blockNode(m),S&&this.code(S).endFor(),this}for(m,S){return this._for(new k(m),S)}forRange(m,S,F,q,K=this.opts.es5?r.varKinds.var:r.varKinds.let){const x=this._scope.toName(m);return this._for(new P(K,x,S,F),()=>q(x))}forOf(m,S,F,q=r.varKinds.const){const K=this._scope.toName(m);if(this.opts.es5){const x=S instanceof e.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,e._)`${x}.length`,re=>{this.var(K,(0,e._)`${x}[${re}]`),F(K)})}return this._for(new j("of",q,K,S),()=>F(K))}forIn(m,S,F,q=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(m,(0,e._)`Object.keys(${S})`,F);const K=this._scope.toName(m);return this._for(new j("in",q,K,S),()=>F(K))}endFor(){return this._endBlockNode(b)}label(m){return this._leafNode(new u(m))}break(m){return this._leafNode(new c(m))}return(m){const S=new X;if(this._blockNode(S),this.code(m),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(X)}try(m,S,F){if(!S&&!F)throw new Error('CodeGen: "try" without "catch" and "finally"');const q=new ee;if(this._blockNode(q),this.code(m),S){const K=this.name("e");this._currNode=q.catch=new oe(K),S(K)}return F&&(this._currNode=q.finally=new he,this.code(F)),this._endBlockNode(oe,he)}throw(m){return this._leafNode(new f(m))}block(m,S){return this._blockStarts.push(this._nodes.length),m&&this.code(m).endBlock(S),this}endBlock(m){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const F=this._nodes.length-S;if(F<0||m!==void 0&&F!==m)throw new Error(`CodeGen: wrong number of nodes: ${F} vs ${m} expected`);return this._nodes.length=S,this}func(m,S=e.nil,F,q){return this._blockNode(new z(m,S,F)),q&&this.code(q).endFunc(),this}endFunc(){return this._endBlockNode(z)}optimize(m=1){for(;m-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(m){return this._currNode.nodes.push(m),this}_blockNode(m){this._currNode.nodes.push(m),this._nodes.push(m)}_endBlockNode(m,S){const F=this._currNode;if(F instanceof m||S&&F instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${m.kind}/${S.kind}`:m.kind}"`)}_elseNode(m){const S=this._currNode;if(!(S instanceof _))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=m,this}get _root(){return this._nodes[0]}get _currNode(){const m=this._nodes;return m[m.length-1]}set _currNode(m){const S=this._nodes;S[S.length-1]=m}}t.CodeGen=G;function U(A,m){for(const S in m)A[S]=(A[S]||0)+(m[S]||0);return A}function Y(A,m){return m instanceof e._CodeOrName?U(A,m.names):A}function W(A,m,S){if(A instanceof e.Name)return F(A);if(!q(A))return A;return new e._Code(A._items.reduce((K,x)=>(x instanceof e.Name&&(x=F(x)),x instanceof e._Code?K.push(...x._items):K.push(x),K),[]));function F(K){const x=S[K.str];return x===void 0||m[K.str]!==1?K:(delete m[K.str],x)}function q(K){return K instanceof e._Code&&K._items.some(x=>x instanceof e.Name&&m[x.str]===1&&S[x.str]!==void 0)}}function ve(A,m){for(const S in m)A[S]=(A[S]||0)-(m[S]||0)}function se(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,e._)`!${R(A)}`}t.not=se;const Te=C(t.operators.AND);function Pe(...A){return A.reduce(Te)}t.and=Pe;const we=C(t.operators.OR);function J(...A){return A.reduce(we)}t.or=J;function C(A){return(m,S)=>m===e.nil?S:S===e.nil?m:(0,e._)`${R(m)} ${A} ${R(S)}`}function R(A){return A instanceof e.Name?A:(0,e._)`(${A})`}})(Ee);var te={};Object.defineProperty(te,"__esModule",{value:!0});te.checkStrictMode=te.getErrorPath=te.Type=te.useFunc=te.setEvaluated=te.evaluatedPropsToName=te.mergeEvaluated=te.eachItem=te.unescapeJsonPointer=te.escapeJsonPointer=te.escapeFragment=te.unescapeFragment=te.schemaRefOrVal=te.schemaHasRulesButRef=te.schemaHasRules=te.checkUnknownRules=te.alwaysValidSchema=te.toHash=void 0;const Me=Ee,Do=Ur;function Ao(t){const e={};for(const r of t)e[r]=!0;return e}te.toHash=Ao;function Co(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(pi(t,e),!_i(e,t.self.RULES.all))}te.alwaysValidSchema=Co;function pi(t,e=t.schema){const{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;const a=n.RULES.keywords;for(const s in e)a[s]||yi(t,`unknown keyword: "${s}"`)}te.checkUnknownRules=pi;function _i(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(e[r])return!0;return!1}te.schemaHasRules=_i;function jo(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}te.schemaHasRulesButRef=jo;function Ro({topSchemaRef:t,schemaPath:e},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Me._)`${r}`}return(0,Me._)`${t}${e}${(0,Me.getProperty)(n)}`}te.schemaRefOrVal=Ro;function Vo(t){return vi(decodeURIComponent(t))}te.unescapeFragment=Vo;function Mo(t){return encodeURIComponent(Hn(t))}te.escapeFragment=Mo;function Hn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}te.escapeJsonPointer=Hn;function vi(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}te.unescapeJsonPointer=vi;function Fo(t,e){if(Array.isArray(t))for(const r of t)e(r);else e(t)}te.eachItem=Fo;function Ka({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(a,s,i,o)=>{const l=i===void 0?s:i instanceof Me.Name?(s instanceof Me.Name?t(a,s,i):e(a,s,i),i):s instanceof Me.Name?(e(a,i,s),s):r(s,i);return o===Me.Name&&!(l instanceof Me.Name)?n(a,l):l}}te.mergeEvaluated={props:Ka({mergeNames:(t,e,r)=>t.if((0,Me._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Me._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Me._)`${r} || {}`).code((0,Me._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Me._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Me._)`${r} || {}`),Gn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:gi}),items:Ka({mergeNames:(t,e,r)=>t.if((0,Me._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Me._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Me._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Me._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function gi(t,e){if(e===!0)return t.var("props",!0);const r=t.var("props",(0,Me._)`{}`);return e!==void 0&&Gn(t,r,e),r}te.evaluatedPropsToName=gi;function Gn(t,e,r){Object.keys(r).forEach(n=>t.assign((0,Me._)`${e}${(0,Me.getProperty)(n)}`,!0))}te.setEvaluated=Gn;const Ba={};function zo(t,e){return t.scopeValue("func",{ref:e,code:Ba[e.code]||(Ba[e.code]=new Do._Code(e.code))})}te.useFunc=zo;var Mn;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Mn||(te.Type=Mn={}));function Uo(t,e,r){if(t instanceof Me.Name){const n=e===Mn.Num;return r?n?(0,Me._)`"[" + ${t} + "]"`:(0,Me._)`"['" + ${t} + "']"`:n?(0,Me._)`"/" + ${t}`:(0,Me._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Me.getProperty)(t).toString():"/"+Hn(t)}te.getErrorPath=Uo;function yi(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}te.checkStrictMode=yi;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});const bt=Ee,Lo={data:new bt.Name("data"),valCxt:new bt.Name("valCxt"),instancePath:new bt.Name("instancePath"),parentData:new bt.Name("parentData"),parentDataProperty:new bt.Name("parentDataProperty"),rootData:new bt.Name("rootData"),dynamicAnchors:new bt.Name("dynamicAnchors"),vErrors:new bt.Name("vErrors"),errors:new bt.Name("errors"),this:new bt.Name("this"),self:new bt.Name("self"),scope:new bt.Name("scope"),json:new bt.Name("json"),jsonPos:new bt.Name("jsonPos"),jsonLen:new bt.Name("jsonLen"),jsonPart:new bt.Name("jsonPart")};Lt.default=Lo;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Ee,r=te,n=Lt;t.keywordError={message:({keyword:p})=>(0,e.str)`must pass "${p}" keyword validation`},t.keyword$DataError={message:({keyword:p,schemaType:_})=>_?(0,e.str)`"${p}" keyword must be ${_} ($data)`:(0,e.str)`"${p}" keyword is invalid ($data)`};function a(p,_=t.keywordError,b,k){const{it:P}=p,{gen:j,compositeRule:z,allErrors:X}=P,ee=f(p,_,b);k??(z||X)?l(j,ee):u(P,(0,e._)`[${ee}]`)}t.reportError=a;function s(p,_=t.keywordError,b){const{it:k}=p,{gen:P,compositeRule:j,allErrors:z}=k,X=f(p,_,b);l(P,X),j||z||u(k,n.default.vErrors)}t.reportExtraError=s;function i(p,_){p.assign(n.default.errors,_),p.if((0,e._)`${n.default.vErrors} !== null`,()=>p.if(_,()=>p.assign((0,e._)`${n.default.vErrors}.length`,_),()=>p.assign(n.default.vErrors,null)))}t.resetErrorsCount=i;function o({gen:p,keyword:_,schemaValue:b,data:k,errsCount:P,it:j}){if(P===void 0)throw new Error("ajv implementation error");const z=p.name("err");p.forRange("i",P,n.default.errors,X=>{p.const(z,(0,e._)`${n.default.vErrors}[${X}]`),p.if((0,e._)`${z}.instancePath === undefined`,()=>p.assign((0,e._)`${z}.instancePath`,(0,e.strConcat)(n.default.instancePath,j.errorPath))),p.assign((0,e._)`${z}.schemaPath`,(0,e.str)`${j.errSchemaPath}/${_}`),j.opts.verbose&&(p.assign((0,e._)`${z}.schema`,b),p.assign((0,e._)`${z}.data`,k))})}t.extendErrors=o;function l(p,_){const b=p.const("err",_);p.if((0,e._)`${n.default.vErrors} === null`,()=>p.assign(n.default.vErrors,(0,e._)`[${b}]`),(0,e._)`${n.default.vErrors}.push(${b})`),p.code((0,e._)`${n.default.errors}++`)}function u(p,_){const{gen:b,validateName:k,schemaEnv:P}=p;P.$async?b.throw((0,e._)`new ${p.ValidationError}(${_})`):(b.assign((0,e._)`${k}.errors`,_),b.return(!1))}const c={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(p,_,b){const{createErrors:k}=p.it;return k===!1?(0,e._)`{}`:h(p,_,b)}function h(p,_,b={}){const{gen:k,it:P}=p,j=[g(P,b),d(p,b)];return $(p,_,j),k.object(...j)}function g({errorPath:p},{instancePath:_}){const b=_?(0,e.str)`${p}${(0,r.getErrorPath)(_,r.Type.Str)}`:p;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,b)]}function d({keyword:p,it:{errSchemaPath:_}},{schemaPath:b,parentSchema:k}){let P=k?_:(0,e.str)`${_}/${p}`;return b&&(P=(0,e.str)`${P}${(0,r.getErrorPath)(b,r.Type.Str)}`),[c.schemaPath,P]}function $(p,{params:_,message:b},k){const{keyword:P,data:j,schemaValue:z,it:X}=p,{opts:ee,propertyName:oe,topSchemaRef:he,schemaPath:G}=X;k.push([c.keyword,P],[c.params,typeof _=="function"?_(p):_||(0,e._)`{}`]),ee.messages&&k.push([c.message,typeof b=="function"?b(p):b]),ee.verbose&&k.push([c.schema,z],[c.parentSchema,(0,e._)`${he}${G}`],[n.default.data,j]),oe&&k.push([c.propertyName,oe])}})(qr);Object.defineProperty($r,"__esModule",{value:!0});$r.boolOrEmptySchema=$r.topBoolOrEmptySchema=void 0;const qo=qr,Jo=Ee,Ko=Lt,Bo={message:"boolean schema is false"};function Ho(t){const{gen:e,schema:r,validateName:n}=t;r===!1?bi(t,!1):typeof r=="object"&&r.$async===!0?e.return(Ko.default.data):(e.assign((0,Jo._)`${n}.errors`,null),e.return(!0))}$r.topBoolOrEmptySchema=Ho;function Go(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),bi(t)):r.var(e,!0)}$r.boolOrEmptySchema=Go;function bi(t,e){const{gen:r,data:n}=t,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,qo.reportError)(a,Bo,void 0,e)}var dt={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.getRules=cr.isJSONType=void 0;const Wo=["string","number","integer","boolean","null","object","array"],Xo=new Set(Wo);function Zo(t){return typeof t=="string"&&Xo.has(t)}cr.isJSONType=Zo;function Qo(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}cr.getRules=Qo;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.shouldUseRule=Ht.shouldUseGroup=Ht.schemaHasRulesForType=void 0;function Yo({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&$i(t,n)}Ht.schemaHasRulesForType=Yo;function $i(t,e){return e.rules.some(r=>Ei(t,r))}Ht.shouldUseGroup=$i;function Ei(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Ht.shouldUseRule=Ei;Object.defineProperty(dt,"__esModule",{value:!0});dt.reportTypeError=dt.checkDataTypes=dt.checkDataType=dt.coerceAndCheckDataType=dt.getJSONTypes=dt.getSchemaTypes=dt.DataType=void 0;const xo=cr,el=Ht,tl=qr,ye=Ee,wi=te;var gr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(gr||(dt.DataType=gr={}));function rl(t){const e=Si(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}dt.getSchemaTypes=rl;function Si(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(xo.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}dt.getJSONTypes=Si;function nl(t,e){const{gen:r,data:n,opts:a}=t,s=al(e,a.coerceTypes),i=e.length>0&&!(s.length===0&&e.length===1&&(0,el.schemaHasRulesForType)(t,e[0]));if(i){const o=Wn(e,n,a.strictNumbers,gr.Wrong);r.if(o,()=>{s.length?sl(t,e,s):Xn(t)})}return i}dt.coerceAndCheckDataType=nl;const ki=new Set(["string","number","integer","boolean","null"]);function al(t,e){return e?t.filter(r=>ki.has(r)||e==="array"&&r==="array"):[]}function sl(t,e,r){const{gen:n,data:a,opts:s}=t,i=n.let("dataType",(0,ye._)`typeof ${a}`),o=n.let("coerced",(0,ye._)`undefined`);s.coerceTypes==="array"&&n.if((0,ye._)`${i} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,ye._)`${a}[0]`).assign(i,(0,ye._)`typeof ${a}`).if(Wn(e,a,s.strictNumbers),()=>n.assign(o,a))),n.if((0,ye._)`${o} !== undefined`);for(const u of r)(ki.has(u)||u==="array"&&s.coerceTypes==="array")&&l(u);n.else(),Xn(t),n.endIf(),n.if((0,ye._)`${o} !== undefined`,()=>{n.assign(a,o),il(t,o)});function l(u){switch(u){case"string":n.elseIf((0,ye._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,ye._)`"" + ${a}`).elseIf((0,ye._)`${a} === null`).assign(o,(0,ye._)`""`);return;case"number":n.elseIf((0,ye._)`${i} == "boolean" || ${a} === null
              || (${i} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,ye._)`+${a}`);return;case"integer":n.elseIf((0,ye._)`${i} === "boolean" || ${a} === null
              || (${i} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,ye._)`+${a}`);return;case"boolean":n.elseIf((0,ye._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,ye._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,ye._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,ye._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${a} === null`).assign(o,(0,ye._)`[${a}]`)}}}function il({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,ye._)`${e} !== undefined`,()=>t.assign((0,ye._)`${e}[${r}]`,n))}function Fn(t,e,r,n=gr.Correct){const a=n===gr.Correct?ye.operators.EQ:ye.operators.NEQ;let s;switch(t){case"null":return(0,ye._)`${e} ${a} null`;case"array":s=(0,ye._)`Array.isArray(${e})`;break;case"object":s=(0,ye._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=i((0,ye._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=i();break;default:return(0,ye._)`typeof ${e} ${a} ${t}`}return n===gr.Correct?s:(0,ye.not)(s);function i(o=ye.nil){return(0,ye.and)((0,ye._)`typeof ${e} == "number"`,o,r?(0,ye._)`isFinite(${e})`:ye.nil)}}dt.checkDataType=Fn;function Wn(t,e,r,n){if(t.length===1)return Fn(t[0],e,r,n);let a;const s=(0,wi.toHash)(t);if(s.array&&s.object){const i=(0,ye._)`typeof ${e} != "object"`;a=s.null?i:(0,ye._)`!${e} || ${i}`,delete s.null,delete s.array,delete s.object}else a=ye.nil;s.number&&delete s.integer;for(const i in s)a=(0,ye.and)(a,Fn(i,e,r,n));return a}dt.checkDataTypes=Wn;const ol={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,ye._)`{type: ${t}}`:(0,ye._)`{type: ${e}}`};function Xn(t){const e=ll(t);(0,tl.reportError)(e,ol)}dt.reportTypeError=Xn;function ll(t){const{gen:e,data:r,schema:n}=t,a=(0,wi.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:t}}var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.assignDefaults=void 0;const pr=Ee,cl=te;function ul(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const a in r)Ha(t,a,r[a].default);else e==="array"&&Array.isArray(n)&&n.forEach((a,s)=>Ha(t,s,a.default))}Sn.assignDefaults=ul;function Ha(t,e,r){const{gen:n,compositeRule:a,data:s,opts:i}=t;if(r===void 0)return;const o=(0,pr._)`${s}${(0,pr.getProperty)(e)}`;if(a){(0,cl.checkStrictMode)(t,`default is ignored for: ${o}`);return}let l=(0,pr._)`${o} === undefined`;i.useDefaults==="empty"&&(l=(0,pr._)`${l} || ${o} === null || ${o} === ""`),n.if(l,(0,pr._)`${o} = ${(0,pr.stringify)(r)}`)}var Ut={},Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.validateUnion=Se.validateArray=Se.usePattern=Se.callValidateCode=Se.schemaProperties=Se.allSchemaProperties=Se.noPropertyInData=Se.propertyInData=Se.isOwnProperty=Se.hasPropFunc=Se.reportMissingProp=Se.checkMissingProp=Se.checkReportMissingProp=void 0;const We=Ee,Zn=te,Qt=Lt,fl=te;function dl(t,e){const{gen:r,data:n,it:a}=t;r.if(Yn(r,n,e,a.opts.ownProperties),()=>{t.setParams({missingProperty:(0,We._)`${e}`},!0),t.error()})}Se.checkReportMissingProp=dl;function hl({gen:t,data:e,it:{opts:r}},n,a){return(0,We.or)(...n.map(s=>(0,We.and)(Yn(t,e,s,r.ownProperties),(0,We._)`${a} = ${s}`)))}Se.checkMissingProp=hl;function ml(t,e){t.setParams({missingProperty:e},!0),t.error()}Se.reportMissingProp=ml;function Pi(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,We._)`Object.prototype.hasOwnProperty`})}Se.hasPropFunc=Pi;function Qn(t,e,r){return(0,We._)`${Pi(t)}.call(${e}, ${r})`}Se.isOwnProperty=Qn;function pl(t,e,r,n){const a=(0,We._)`${e}${(0,We.getProperty)(r)} !== undefined`;return n?(0,We._)`${a} && ${Qn(t,e,r)}`:a}Se.propertyInData=pl;function Yn(t,e,r,n){const a=(0,We._)`${e}${(0,We.getProperty)(r)} === undefined`;return n?(0,We.or)(a,(0,We.not)(Qn(t,e,r))):a}Se.noPropertyInData=Yn;function Ni(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Se.allSchemaProperties=Ni;function _l(t,e){return Ni(e).filter(r=>!(0,Zn.alwaysValidSchema)(t,e[r]))}Se.schemaProperties=_l;function vl({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:s},it:i},o,l,u){const c=u?(0,We._)`${t}, ${e}, ${n}${a}`:e,f=[[Qt.default.instancePath,(0,We.strConcat)(Qt.default.instancePath,s)],[Qt.default.parentData,i.parentData],[Qt.default.parentDataProperty,i.parentDataProperty],[Qt.default.rootData,Qt.default.rootData]];i.opts.dynamicRef&&f.push([Qt.default.dynamicAnchors,Qt.default.dynamicAnchors]);const h=(0,We._)`${c}, ${r.object(...f)}`;return l!==We.nil?(0,We._)`${o}.call(${l}, ${h})`:(0,We._)`${o}(${h})`}Se.callValidateCode=vl;const gl=(0,We._)`new RegExp`;function yl({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:a}=e.code,s=a(r,n);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,We._)`${a.code==="new RegExp"?gl:(0,fl.useFunc)(t,a)}(${r}, ${n})`})}Se.usePattern=yl;function bl(t){const{gen:e,data:r,keyword:n,it:a}=t,s=e.name("valid");if(a.allErrors){const o=e.let("valid",!0);return i(()=>e.assign(o,!1)),o}return e.var(s,!0),i(()=>e.break()),s;function i(o){const l=e.const("len",(0,We._)`${r}.length`);e.forRange("i",0,l,u=>{t.subschema({keyword:n,dataProp:u,dataPropType:Zn.Type.Num},s),e.if((0,We.not)(s),o)})}}Se.validateArray=bl;function $l(t){const{gen:e,schema:r,keyword:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Zn.alwaysValidSchema)(a,l))&&!a.opts.unevaluated)return;const i=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((l,u)=>{const c=t.subschema({keyword:n,schemaProp:u,compositeRule:!0},o);e.assign(i,(0,We._)`${i} || ${o}`),t.mergeValidEvaluated(c,o)||e.if((0,We.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}Se.validateUnion=$l;Object.defineProperty(Ut,"__esModule",{value:!0});Ut.validateKeywordUsage=Ut.validSchemaType=Ut.funcKeywordCode=Ut.macroKeywordCode=void 0;const $t=Ee,ir=Lt,El=Se,wl=qr;function Sl(t,e){const{gen:r,keyword:n,schema:a,parentSchema:s,it:i}=t,o=e.macro.call(i.self,a,s,i),l=Ii(r,n,o);i.opts.validateSchema!==!1&&i.self.validateSchema(o,!0);const u=r.name("valid");t.subschema({schema:o,schemaPath:$t.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}Ut.macroKeywordCode=Sl;function kl(t,e){var r;const{gen:n,keyword:a,schema:s,parentSchema:i,$data:o,it:l}=t;Nl(l,e);const u=!o&&e.compile?e.compile.call(l.self,s,i,l):e.validate,c=Ii(n,a,u),f=n.let("valid");t.block$data(f,h),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function h(){if(e.errors===!1)$(),e.modifying&&Ga(t),p(()=>t.error());else{const _=e.async?g():d();e.modifying&&Ga(t),p(()=>Pl(t,_))}}function g(){const _=n.let("ruleErrs",null);return n.try(()=>$((0,$t._)`await `),b=>n.assign(f,!1).if((0,$t._)`${b} instanceof ${l.ValidationError}`,()=>n.assign(_,(0,$t._)`${b}.errors`),()=>n.throw(b))),_}function d(){const _=(0,$t._)`${c}.errors`;return n.assign(_,null),$($t.nil),_}function $(_=e.async?(0,$t._)`await `:$t.nil){const b=l.opts.passContext?ir.default.this:ir.default.self,k=!("compile"in e&&!o||e.schema===!1);n.assign(f,(0,$t._)`${_}${(0,El.callValidateCode)(t,c,b,k)}`,e.modifying)}function p(_){var b;n.if((0,$t.not)((b=e.valid)!==null&&b!==void 0?b:f),_)}}Ut.funcKeywordCode=kl;function Ga(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,$t._)`${n.parentData}[${n.parentDataProperty}]`))}function Pl(t,e){const{gen:r}=t;r.if((0,$t._)`Array.isArray(${e})`,()=>{r.assign(ir.default.vErrors,(0,$t._)`${ir.default.vErrors} === null ? ${e} : ${ir.default.vErrors}.concat(${e})`).assign(ir.default.errors,(0,$t._)`${ir.default.vErrors}.length`),(0,wl.extendErrors)(t)},()=>t.error())}function Nl({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Ii(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,$t.stringify)(r)})}function Il(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Ut.validSchemaType=Il;function Ol({schema:t,opts:e,self:r,errSchemaPath:n},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const i=a.dependencies;if(i!=null&&i.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(a.validateSchema&&!a.validateSchema(t[s])){const l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ut.validateKeywordUsage=Ol;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.extendSubschemaMode=tr.extendSubschemaData=tr.getSubschema=void 0;const zt=Ee,Oi=te;function Tl(t,{keyword:e,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:s,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,zt._)`${t.schemaPath}${(0,zt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,zt._)`${t.schemaPath}${(0,zt.getProperty)(e)}${(0,zt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Oi.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}tr.getSubschema=Tl;function Dl(t,e,{dataProp:r,dataPropType:n,data:a,dataTypes:s,propertyName:i}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:u,dataPathArr:c,opts:f}=e,h=o.let("data",(0,zt._)`${e.data}${(0,zt.getProperty)(r)}`,!0);l(h),t.errorPath=(0,zt.str)`${u}${(0,Oi.getErrorPath)(r,n,f.jsPropertySyntax)}`,t.parentDataProperty=(0,zt._)`${r}`,t.dataPathArr=[...c,t.parentDataProperty]}if(a!==void 0){const u=a instanceof zt.Name?a:o.let("data",a,!0);l(u),i!==void 0&&(t.propertyName=i)}s&&(t.dataTypes=s);function l(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}tr.extendSubschemaData=Dl;function Al(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:s}){n!==void 0&&(t.compositeRule=n),a!==void 0&&(t.createErrors=a),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}tr.extendSubschemaMode=Al;var vt={},Ti=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var i=s[a];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r},Di={exports:{}},er=Di.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};ln(e,n,a,t,"",t)};er.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};er.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};er.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};er.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ln(t,e,r,n,a,s,i,o,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,a,s,i,o,l,u);for(var c in n){var f=n[c];if(Array.isArray(f)){if(c in er.arrayKeywords)for(var h=0;h<f.length;h++)ln(t,e,r,f[h],a+"/"+c+"/"+h,s,a,c,n,h)}else if(c in er.propsKeywords){if(f&&typeof f=="object")for(var g in f)ln(t,e,r,f[g],a+"/"+c+"/"+Cl(g),s,a,c,n,g)}else(c in er.keywords||t.allKeys&&!(c in er.skipKeywords))&&ln(t,e,r,f,a+"/"+c,s,a,c,n)}r(n,a,s,i,o,l,u)}}function Cl(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var jl=Di.exports;Object.defineProperty(vt,"__esModule",{value:!0});vt.getSchemaRefs=vt.resolveUrl=vt.normalizeId=vt._getFullPath=vt.getFullPath=vt.inlineRef=void 0;const Rl=te,Vl=Ti,Ml=jl,Fl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function zl(t,e=!0){return typeof t=="boolean"?!0:e===!0?!zn(t):e?Ai(t)<=e:!1}vt.inlineRef=zl;const Ul=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function zn(t){for(const e in t){if(Ul.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(zn)||typeof r=="object"&&zn(r))return!0}return!1}function Ai(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Fl.has(r)&&(typeof t[r]=="object"&&(0,Rl.eachItem)(t[r],n=>e+=Ai(n)),e===1/0))return 1/0}return e}function Ci(t,e="",r){r!==!1&&(e=yr(e));const n=t.parse(e);return ji(t,n)}vt.getFullPath=Ci;function ji(t,e){return t.serialize(e).split("#")[0]+"#"}vt._getFullPath=ji;const Ll=/#\/?$/;function yr(t){return t?t.replace(Ll,""):""}vt.normalizeId=yr;function ql(t,e,r){return r=yr(r),t.resolve(e,r)}vt.resolveUrl=ql;const Jl=/^[a-z_][-a-z0-9._]*$/i;function Kl(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=yr(t[r]||e),s={"":a},i=Ci(n,a,!1),o={},l=new Set;return Ml(t,{allKeys:!0},(f,h,g,d)=>{if(d===void 0)return;const $=i+h;let p=s[d];typeof f[r]=="string"&&(p=_.call(this,f[r])),b.call(this,f.$anchor),b.call(this,f.$dynamicAnchor),s[h]=p;function _(k){const P=this.opts.uriResolver.resolve;if(k=yr(p?P(p,k):k),l.has(k))throw c(k);l.add(k);let j=this.refs[k];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?u(f,j.schema,k):k!==yr($)&&(k[0]==="#"?(u(f,o[k],k),o[k]=f):this.refs[k]=$),k}function b(k){if(typeof k=="string"){if(!Jl.test(k))throw new Error(`invalid anchor "${k}"`);_.call(this,`#${k}`)}}}),o;function u(f,h,g){if(h!==void 0&&!Vl(f,h))throw c(g)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}vt.getSchemaRefs=Kl;Object.defineProperty(At,"__esModule",{value:!0});At.getData=At.KeywordCxt=At.validateFunctionCode=void 0;const Ri=$r,Wa=dt,xn=Ht,_n=dt,Bl=Sn,Rr=Ut,On=tr,le=Ee,_e=Lt,Hl=vt,Gt=te,Dr=qr;function Gl(t){if(Fi(t)&&(zi(t),Mi(t))){Zl(t);return}Vi(t,()=>(0,Ri.topBoolOrEmptySchema)(t))}At.validateFunctionCode=Gl;function Vi({gen:t,validateName:e,schema:r,schemaEnv:n,opts:a},s){a.code.es5?t.func(e,(0,le._)`${_e.default.data}, ${_e.default.valCxt}`,n.$async,()=>{t.code((0,le._)`"use strict"; ${Xa(r,a)}`),Xl(t,a),t.code(s)}):t.func(e,(0,le._)`${_e.default.data}, ${Wl(a)}`,n.$async,()=>t.code(Xa(r,a)).code(s))}function Wl(t){return(0,le._)`{${_e.default.instancePath}="", ${_e.default.parentData}, ${_e.default.parentDataProperty}, ${_e.default.rootData}=${_e.default.data}${t.dynamicRef?(0,le._)`, ${_e.default.dynamicAnchors}={}`:le.nil}}={}`}function Xl(t,e){t.if(_e.default.valCxt,()=>{t.var(_e.default.instancePath,(0,le._)`${_e.default.valCxt}.${_e.default.instancePath}`),t.var(_e.default.parentData,(0,le._)`${_e.default.valCxt}.${_e.default.parentData}`),t.var(_e.default.parentDataProperty,(0,le._)`${_e.default.valCxt}.${_e.default.parentDataProperty}`),t.var(_e.default.rootData,(0,le._)`${_e.default.valCxt}.${_e.default.rootData}`),e.dynamicRef&&t.var(_e.default.dynamicAnchors,(0,le._)`${_e.default.valCxt}.${_e.default.dynamicAnchors}`)},()=>{t.var(_e.default.instancePath,(0,le._)`""`),t.var(_e.default.parentData,(0,le._)`undefined`),t.var(_e.default.parentDataProperty,(0,le._)`undefined`),t.var(_e.default.rootData,_e.default.data),e.dynamicRef&&t.var(_e.default.dynamicAnchors,(0,le._)`{}`)})}function Zl(t){const{schema:e,opts:r,gen:n}=t;Vi(t,()=>{r.$comment&&e.$comment&&Li(t),tc(t),n.let(_e.default.vErrors,null),n.let(_e.default.errors,0),r.unevaluated&&Ql(t),Ui(t),ac(t)})}function Ql(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,le._)`${r}.evaluated`),e.if((0,le._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,le._)`${t.evaluated}.props`,(0,le._)`undefined`)),e.if((0,le._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,le._)`${t.evaluated}.items`,(0,le._)`undefined`))}function Xa(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,le._)`/*# sourceURL=${r} */`:le.nil}function Yl(t,e){if(Fi(t)&&(zi(t),Mi(t))){xl(t,e);return}(0,Ri.boolOrEmptySchema)(t,e)}function Mi({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Fi(t){return typeof t.schema!="boolean"}function xl(t,e){const{schema:r,gen:n,opts:a}=t;a.$comment&&r.$comment&&Li(t),rc(t),nc(t);const s=n.const("_errs",_e.default.errors);Ui(t,s),n.var(e,(0,le._)`${s} === ${_e.default.errors}`)}function zi(t){(0,Gt.checkUnknownRules)(t),ec(t)}function Ui(t,e){if(t.opts.jtd)return Za(t,[],!1,e);const r=(0,Wa.getSchemaTypes)(t.schema),n=(0,Wa.coerceAndCheckDataType)(t,r);Za(t,r,!n,e)}function ec(t){const{schema:e,errSchemaPath:r,opts:n,self:a}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Gt.schemaHasRulesButRef)(e,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function tc(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Gt.checkStrictMode)(t,"default is ignored in the schema root")}function rc(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Hl.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function nc(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Li({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:a}){const s=r.$comment;if(a.$comment===!0)t.code((0,le._)`${_e.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const i=(0,le.str)`${n}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,le._)`${_e.default.self}.opts.$comment(${s}, ${i}, ${o}.schema)`)}}function ac(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:a,opts:s}=t;r.$async?e.if((0,le._)`${_e.default.errors} === 0`,()=>e.return(_e.default.data),()=>e.throw((0,le._)`new ${a}(${_e.default.vErrors})`)):(e.assign((0,le._)`${n}.errors`,_e.default.vErrors),s.unevaluated&&sc(t),e.return((0,le._)`${_e.default.errors} === 0`))}function sc({gen:t,evaluated:e,props:r,items:n}){r instanceof le.Name&&t.assign((0,le._)`${e}.props`,r),n instanceof le.Name&&t.assign((0,le._)`${e}.items`,n)}function Za(t,e,r,n){const{gen:a,schema:s,data:i,allErrors:o,opts:l,self:u}=t,{RULES:c}=u;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Gt.schemaHasRulesButRef)(s,c))){a.block(()=>Ki(t,"$ref",c.all.$ref.definition));return}l.jtd||ic(t,e),a.block(()=>{for(const h of c.rules)f(h);f(c.post)});function f(h){(0,xn.shouldUseGroup)(s,h)&&(h.type?(a.if((0,_n.checkDataType)(h.type,i,l.strictNumbers)),Qa(t,h),e.length===1&&e[0]===h.type&&r&&(a.else(),(0,_n.reportTypeError)(t)),a.endIf()):Qa(t,h),o||a.if((0,le._)`${_e.default.errors} === ${n||0}`))}}function Qa(t,e){const{gen:r,schema:n,opts:{useDefaults:a}}=t;a&&(0,Bl.assignDefaults)(t,e.type),r.block(()=>{for(const s of e.rules)(0,xn.shouldUseRule)(n,s)&&Ki(t,s.keyword,s.definition,e.type)})}function ic(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(oc(t,e),t.opts.allowUnionTypes||lc(t,e),cc(t,t.dataTypes))}function oc(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{qi(t.dataTypes,r)||ea(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),fc(t,e)}}function lc(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ea(t,"use allowUnionTypes to allow union type keyword")}function cc(t,e){const r=t.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,xn.shouldUseRule)(t.schema,a)){const{type:s}=a.definition;s.length&&!s.some(i=>uc(e,i))&&ea(t,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function uc(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function qi(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function fc(t,e){const r=[];for(const n of t.dataTypes)qi(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function ea(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Gt.checkStrictMode)(t,e,t.opts.strictTypes)}class Ji{constructor(e,r,n){if((0,Rr.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Gt.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Bi(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Rr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",_e.default.errors))}result(e,r,n){this.failResult((0,le.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,le.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,le._)`${r} !== undefined && (${(0,le.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Dr.reportExtraError:Dr.reportError)(this,this.def.error,r)}$dataError(){(0,Dr.reportError)(this,this.def.$dataError||Dr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Dr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=le.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=le.nil,r=le.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:s,def:i}=this;n.if((0,le.or)((0,le._)`${a} === undefined`,r)),e!==le.nil&&n.assign(e,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==le.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:a,it:s}=this;return(0,le.or)(i(),o());function i(){if(n.length){if(!(r instanceof le.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,le._)`${(0,_n.checkDataTypes)(l,r,s.opts.strictNumbers,_n.DataType.Wrong)}`}return le.nil}function o(){if(a.validateSchema){const l=e.scopeValue("validate$data",{ref:a.validateSchema});return(0,le._)`!${l}(${r})`}return le.nil}}subschema(e,r){const n=(0,On.getSubschema)(this.it,e);(0,On.extendSubschemaData)(n,this.it,e),(0,On.extendSubschemaMode)(n,e);const a={...this.it,...n,items:void 0,props:void 0};return Yl(a,r),a}mergeEvaluated(e,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Gt.mergeEvaluated.props(a,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Gt.mergeEvaluated.items(a,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(e,le.Name)),!0}}At.KeywordCxt=Ji;function Ki(t,e,r,n){const a=new Ji(t,r,e);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Rr.funcKeywordCode)(a,r):"macro"in r?(0,Rr.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Rr.funcKeywordCode)(a,r)}const dc=/^\/(?:[^~]|~0|~1)*$/,hc=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Bi(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let a,s;if(t==="")return _e.default.rootData;if(t[0]==="/"){if(!dc.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);a=t,s=_e.default.rootData}else{const u=hc.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);const c=+u[1];if(a=u[2],a==="#"){if(c>=e)throw new Error(l("property/index",c));return n[e-c]}if(c>e)throw new Error(l("data",c));if(s=r[e-c],!a)return s}let i=s;const o=a.split("/");for(const u of o)u&&(s=(0,le._)`${s}${(0,le.getProperty)((0,Gt.unescapeJsonPointer)(u))}`,i=(0,le._)`${i} && ${s}`);return i;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${e}`}}At.getData=Bi;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});class mc extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Jr.default=mc;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const Tn=vt;class pc extends Error{constructor(e,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Tn.resolveUrl)(e,r,n),this.missingSchema=(0,Tn.normalizeId)((0,Tn.getFullPath)(e,this.missingRef))}}Sr.default=pc;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.resolveSchema=wt.getCompilingSchema=wt.resolveRef=wt.compileSchema=wt.SchemaEnv=void 0;const Ot=Ee,_c=Jr,sr=Lt,Dt=vt,Ya=te,vc=At;class kn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Dt.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}wt.SchemaEnv=kn;function ta(t){const e=Hi.call(this,t);if(e)return e;const r=(0,Dt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,i=new Ot.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let o;t.$async&&(o=i.scopeValue("Error",{ref:_c.default,code:(0,Ot._)`require("ajv/dist/runtime/validation_error").default`}));const l=i.scopeName("validate");t.validateName=l;const u={gen:i,allErrors:this.opts.allErrors,data:sr.default.data,parentData:sr.default.parentData,parentDataProperty:sr.default.parentDataProperty,dataNames:[sr.default.data],dataPathArr:[Ot.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Ot.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Ot.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ot._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(t),(0,vc.validateFunctionCode)(u),i.optimize(this.opts.code.optimize);const f=i.toString();c=`${i.scopeRefs(sr.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,t));const g=new Function(`${sr.default.self}`,`${sr.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:g}),g.errors=null,g.schema=t.schema,g.schemaEnv=t,t.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:l,validateCode:f,scopeValues:i._values}),this.opts.unevaluated){const{props:d,items:$}=u;g.evaluated={props:d instanceof Ot.Name?void 0:d,items:$ instanceof Ot.Name?void 0:$,dynamicProps:d instanceof Ot.Name,dynamicItems:$ instanceof Ot.Name},g.source&&(g.source.evaluated=(0,Ot.stringify)(g.evaluated))}return t.validate=g,t}catch(f){throw delete t.validate,delete t.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(t)}}wt.compileSchema=ta;function gc(t,e,r){var n;r=(0,Dt.resolveUrl)(this.opts.uriResolver,e,r);const a=t.refs[r];if(a)return a;let s=$c.call(this,t,r);if(s===void 0){const i=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;i&&(s=new kn({schema:i,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=yc.call(this,s)}wt.resolveRef=gc;function yc(t){return(0,Dt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ta.call(this,t)}function Hi(t){for(const e of this._compilations)if(bc(e,t))return e}wt.getCompilingSchema=Hi;function bc(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function $c(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Pn.call(this,t,e)}function Pn(t,e){const r=this.opts.uriResolver.parse(e),n=(0,Dt._getFullPath)(this.opts.uriResolver,r);let a=(0,Dt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===a)return Dn.call(this,r,t);const s=(0,Dt.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=Pn.call(this,t,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Dn.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||ta.call(this,i),s===(0,Dt.normalizeId)(e)){const{schema:o}=i,{schemaId:l}=this.opts,u=o[l];return u&&(a=(0,Dt.resolveUrl)(this.opts.uriResolver,a,u)),new kn({schema:o,schemaId:l,root:t,baseId:a})}return Dn.call(this,r,i)}}wt.resolveSchema=Pn;const Ec=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Dn(t,{baseId:e,schema:r,root:n}){var a;if(((a=t.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Ya.unescapeFragment)(o)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!Ec.has(o)&&u&&(e=(0,Dt.resolveUrl)(this.opts.uriResolver,e,u))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Ya.schemaHasRulesButRef)(r,this.RULES)){const o=(0,Dt.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=Pn.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new kn({schema:r,schemaId:i,root:n,baseId:e}),s.schema!==s.root.schema)return s}const wc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Sc="Meta-schema for $data reference (JSON AnySchema extension proposal)",kc="object",Pc=["$data"],Nc={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Ic=!1,Oc={$id:wc,description:Sc,type:kc,required:Pc,properties:Nc,additionalProperties:Ic};var ra={},Un={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(To,function(r){function n(){for(var N=arguments.length,w=Array(N),I=0;I<N;I++)w[I]=arguments[I];if(w.length>1){w[0]=w[0].slice(0,-1);for(var V=w.length-1,M=1;M<V;++M)w[M]=w[M].slice(1,-1);return w[V]=w[V].slice(1),w.join("")}else return w[0]}function a(N){return"(?:"+N+")"}function s(N){return N===void 0?"undefined":N===null?"null":Object.prototype.toString.call(N).split(" ").pop().split("]").shift().toLowerCase()}function i(N){return N.toUpperCase()}function o(N){return N!=null?N instanceof Array?N:typeof N.length!="number"||N.split||N.setInterval||N.call?[N]:Array.prototype.slice.call(N):[]}function l(N,w){var I=N;if(w)for(var V in w)I[V]=w[V];return I}function u(N){var w="[A-Za-z]",I="[0-9]",V=n(I,"[A-Fa-f]"),M=a(a("%[EFef]"+V+"%"+V+V+"%"+V+V)+"|"+a("%[89A-Fa-f]"+V+"%"+V+V)+"|"+a("%"+V+V)),ie="[\\:\\/\\?\\#\\[\\]\\@]",ae="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ke=n(ie,ae),Ve=N?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Qe=N?"[\\uE000-\\uF8FF]":"[]",Oe=n(w,I,"[\\-\\.\\_\\~]",Ve);a(w+n(w,I,"[\\+\\-\\.]")+"*"),a(a(M+"|"+n(Oe,ae,"[\\:]"))+"*");var Be=a(a("25[0-5]")+"|"+a("2[0-4]"+I)+"|"+a("1"+I+I)+"|"+a("0?[1-9]"+I)+"|0?0?"+I),st=a(Be+"\\."+Be+"\\."+Be+"\\."+Be),ge=a(V+"{1,4}"),Ye=a(a(ge+"\\:"+ge)+"|"+st),lt=a(a(ge+"\\:")+"{6}"+Ye),xe=a("\\:\\:"+a(ge+"\\:")+"{5}"+Ye),Zt=a(a(ge)+"?\\:\\:"+a(ge+"\\:")+"{4}"+Ye),Vt=a(a(a(ge+"\\:")+"{0,1}"+ge)+"?\\:\\:"+a(ge+"\\:")+"{3}"+Ye),Mt=a(a(a(ge+"\\:")+"{0,2}"+ge)+"?\\:\\:"+a(ge+"\\:")+"{2}"+Ye),mr=a(a(a(ge+"\\:")+"{0,3}"+ge)+"?\\:\\:"+ge+"\\:"+Ye),nr=a(a(a(ge+"\\:")+"{0,4}"+ge)+"?\\:\\:"+Ye),Pt=a(a(a(ge+"\\:")+"{0,5}"+ge)+"?\\:\\:"+ge),Ft=a(a(a(ge+"\\:")+"{0,6}"+ge)+"?\\:\\:"),ar=a([lt,xe,Zt,Vt,Mt,mr,nr,Pt,Ft].join("|")),Bt=a(a(Oe+"|"+M)+"+");a("[vV]"+V+"+\\."+n(Oe,ae,"[\\:]")+"+"),a(a(M+"|"+n(Oe,ae))+"*");var Or=a(M+"|"+n(Oe,ae,"[\\:\\@]"));return a(a(M+"|"+n(Oe,ae,"[\\@]"))+"+"),a(a(Or+"|"+n("[\\/\\?]",Qe))+"*"),{NOT_SCHEME:new RegExp(n("[^]",w,I,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Oe,ae),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Oe,ae),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Oe,ae),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Oe,ae),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Oe,ae,"[\\:\\@\\/\\?]",Qe),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Oe,ae,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Oe,ae),"g"),UNRESERVED:new RegExp(Oe,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Oe,ke),"g"),PCT_ENCODED:new RegExp(M,"g"),IPV4ADDRESS:new RegExp("^("+st+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ar+")"+a(a("\\%25|\\%(?!"+V+"{2})")+"("+Bt+")")+"?\\]?$")}}var c=u(!1),f=u(!0),h=function(){function N(w,I){var V=[],M=!0,ie=!1,ae=void 0;try{for(var ke=w[Symbol.iterator](),Ve;!(M=(Ve=ke.next()).done)&&(V.push(Ve.value),!(I&&V.length===I));M=!0);}catch(Qe){ie=!0,ae=Qe}finally{try{!M&&ke.return&&ke.return()}finally{if(ie)throw ae}}return V}return function(w,I){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return N(w,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(N){if(Array.isArray(N)){for(var w=0,I=Array(N.length);w<N.length;w++)I[w]=N[w];return I}else return Array.from(N)},d=2147483647,$=36,p=1,_=26,b=38,k=700,P=72,j=128,z="-",X=/^xn--/,ee=/[^\0-\x7E]/,oe=/[\x2E\u3002\uFF0E\uFF61]/g,he={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=$-p,U=Math.floor,Y=String.fromCharCode;function W(N){throw new RangeError(he[N])}function ve(N,w){for(var I=[],V=N.length;V--;)I[V]=w(N[V]);return I}function se(N,w){var I=N.split("@"),V="";I.length>1&&(V=I[0]+"@",N=I[1]),N=N.replace(oe,".");var M=N.split("."),ie=ve(M,w).join(".");return V+ie}function Te(N){for(var w=[],I=0,V=N.length;I<V;){var M=N.charCodeAt(I++);if(M>=55296&&M<=56319&&I<V){var ie=N.charCodeAt(I++);(ie&64512)==56320?w.push(((M&1023)<<10)+(ie&1023)+65536):(w.push(M),I--)}else w.push(M)}return w}var Pe=function(w){return String.fromCodePoint.apply(String,g(w))},we=function(w){return w-48<10?w-22:w-65<26?w-65:w-97<26?w-97:$},J=function(w,I){return w+22+75*(w<26)-((I!=0)<<5)},C=function(w,I,V){var M=0;for(w=V?U(w/k):w>>1,w+=U(w/I);w>G*_>>1;M+=$)w=U(w/G);return U(M+(G+1)*w/(w+b))},R=function(w){var I=[],V=w.length,M=0,ie=j,ae=P,ke=w.lastIndexOf(z);ke<0&&(ke=0);for(var Ve=0;Ve<ke;++Ve)w.charCodeAt(Ve)>=128&&W("not-basic"),I.push(w.charCodeAt(Ve));for(var Qe=ke>0?ke+1:0;Qe<V;){for(var Oe=M,Be=1,st=$;;st+=$){Qe>=V&&W("invalid-input");var ge=we(w.charCodeAt(Qe++));(ge>=$||ge>U((d-M)/Be))&&W("overflow"),M+=ge*Be;var Ye=st<=ae?p:st>=ae+_?_:st-ae;if(ge<Ye)break;var lt=$-Ye;Be>U(d/lt)&&W("overflow"),Be*=lt}var xe=I.length+1;ae=C(M-Oe,xe,Oe==0),U(M/xe)>d-ie&&W("overflow"),ie+=U(M/xe),M%=xe,I.splice(M++,0,ie)}return String.fromCodePoint.apply(String,I)},A=function(w){var I=[];w=Te(w);var V=w.length,M=j,ie=0,ae=P,ke=!0,Ve=!1,Qe=void 0;try{for(var Oe=w[Symbol.iterator](),Be;!(ke=(Be=Oe.next()).done);ke=!0){var st=Be.value;st<128&&I.push(Y(st))}}catch(Tr){Ve=!0,Qe=Tr}finally{try{!ke&&Oe.return&&Oe.return()}finally{if(Ve)throw Qe}}var ge=I.length,Ye=ge;for(ge&&I.push(z);Ye<V;){var lt=d,xe=!0,Zt=!1,Vt=void 0;try{for(var Mt=w[Symbol.iterator](),mr;!(xe=(mr=Mt.next()).done);xe=!0){var nr=mr.value;nr>=M&&nr<lt&&(lt=nr)}}catch(Tr){Zt=!0,Vt=Tr}finally{try{!xe&&Mt.return&&Mt.return()}finally{if(Zt)throw Vt}}var Pt=Ye+1;lt-M>U((d-ie)/Pt)&&W("overflow"),ie+=(lt-M)*Pt,M=lt;var Ft=!0,ar=!1,Bt=void 0;try{for(var Or=w[Symbol.iterator](),Ma;!(Ft=(Ma=Or.next()).done);Ft=!0){var Fa=Ma.value;if(Fa<M&&++ie>d&&W("overflow"),Fa==M){for(var Yr=ie,xr=$;;xr+=$){var en=xr<=ae?p:xr>=ae+_?_:xr-ae;if(Yr<en)break;var za=Yr-en,Ua=$-en;I.push(Y(J(en+za%Ua,0))),Yr=U(za/Ua)}I.push(Y(J(Yr,0))),ae=C(ie,Pt,Ye==ge),ie=0,++Ye}}}catch(Tr){ar=!0,Bt=Tr}finally{try{!Ft&&Or.return&&Or.return()}finally{if(ar)throw Bt}}++ie,++M}return I.join("")},m=function(w){return se(w,function(I){return X.test(I)?R(I.slice(4).toLowerCase()):I})},S=function(w){return se(w,function(I){return ee.test(I)?"xn--"+A(I):I})},F={version:"2.1.0",ucs2:{decode:Te,encode:Pe},decode:R,encode:A,toASCII:S,toUnicode:m},q={};function K(N){var w=N.charCodeAt(0),I=void 0;return w<16?I="%0"+w.toString(16).toUpperCase():w<128?I="%"+w.toString(16).toUpperCase():w<2048?I="%"+(w>>6|192).toString(16).toUpperCase()+"%"+(w&63|128).toString(16).toUpperCase():I="%"+(w>>12|224).toString(16).toUpperCase()+"%"+(w>>6&63|128).toString(16).toUpperCase()+"%"+(w&63|128).toString(16).toUpperCase(),I}function x(N){for(var w="",I=0,V=N.length;I<V;){var M=parseInt(N.substr(I+1,2),16);if(M<128)w+=String.fromCharCode(M),I+=3;else if(M>=194&&M<224){if(V-I>=6){var ie=parseInt(N.substr(I+4,2),16);w+=String.fromCharCode((M&31)<<6|ie&63)}else w+=N.substr(I,6);I+=6}else if(M>=224){if(V-I>=9){var ae=parseInt(N.substr(I+4,2),16),ke=parseInt(N.substr(I+7,2),16);w+=String.fromCharCode((M&15)<<12|(ae&63)<<6|ke&63)}else w+=N.substr(I,9);I+=9}else w+=N.substr(I,3),I+=3}return w}function re(N,w){function I(V){var M=x(V);return M.match(w.UNRESERVED)?M:V}return N.scheme&&(N.scheme=String(N.scheme).replace(w.PCT_ENCODED,I).toLowerCase().replace(w.NOT_SCHEME,"")),N.userinfo!==void 0&&(N.userinfo=String(N.userinfo).replace(w.PCT_ENCODED,I).replace(w.NOT_USERINFO,K).replace(w.PCT_ENCODED,i)),N.host!==void 0&&(N.host=String(N.host).replace(w.PCT_ENCODED,I).toLowerCase().replace(w.NOT_HOST,K).replace(w.PCT_ENCODED,i)),N.path!==void 0&&(N.path=String(N.path).replace(w.PCT_ENCODED,I).replace(N.scheme?w.NOT_PATH:w.NOT_PATH_NOSCHEME,K).replace(w.PCT_ENCODED,i)),N.query!==void 0&&(N.query=String(N.query).replace(w.PCT_ENCODED,I).replace(w.NOT_QUERY,K).replace(w.PCT_ENCODED,i)),N.fragment!==void 0&&(N.fragment=String(N.fragment).replace(w.PCT_ENCODED,I).replace(w.NOT_FRAGMENT,K).replace(w.PCT_ENCODED,i)),N}function fe(N){return N.replace(/^0*(.*)/,"$1")||"0"}function ce(N,w){var I=N.match(w.IPV4ADDRESS)||[],V=h(I,2),M=V[1];return M?M.split(".").map(fe).join("."):N}function De(N,w){var I=N.match(w.IPV6ADDRESS)||[],V=h(I,3),M=V[1],ie=V[2];if(M){for(var ae=M.toLowerCase().split("::").reverse(),ke=h(ae,2),Ve=ke[0],Qe=ke[1],Oe=Qe?Qe.split(":").map(fe):[],Be=Ve.split(":").map(fe),st=w.IPV4ADDRESS.test(Be[Be.length-1]),ge=st?7:8,Ye=Be.length-ge,lt=Array(ge),xe=0;xe<ge;++xe)lt[xe]=Oe[xe]||Be[Ye+xe]||"";st&&(lt[ge-1]=ce(lt[ge-1],w));var Zt=lt.reduce(function(Pt,Ft,ar){if(!Ft||Ft==="0"){var Bt=Pt[Pt.length-1];Bt&&Bt.index+Bt.length===ar?Bt.length++:Pt.push({index:ar,length:1})}return Pt},[]),Vt=Zt.sort(function(Pt,Ft){return Ft.length-Pt.length})[0],Mt=void 0;if(Vt&&Vt.length>1){var mr=lt.slice(0,Vt.index),nr=lt.slice(Vt.index+Vt.length);Mt=mr.join(":")+"::"+nr.join(":")}else Mt=lt.join(":");return ie&&(Mt+="%"+ie),Mt}else return N}var je=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ne="".match(/(){0}/)[1]===void 0;function Ce(N){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I={},V=w.iri!==!1?f:c;w.reference==="suffix"&&(N=(w.scheme?w.scheme+":":"")+"//"+N);var M=N.match(je);if(M){Ne?(I.scheme=M[1],I.userinfo=M[3],I.host=M[4],I.port=parseInt(M[5],10),I.path=M[6]||"",I.query=M[7],I.fragment=M[8],isNaN(I.port)&&(I.port=M[5])):(I.scheme=M[1]||void 0,I.userinfo=N.indexOf("@")!==-1?M[3]:void 0,I.host=N.indexOf("//")!==-1?M[4]:void 0,I.port=parseInt(M[5],10),I.path=M[6]||"",I.query=N.indexOf("?")!==-1?M[7]:void 0,I.fragment=N.indexOf("#")!==-1?M[8]:void 0,isNaN(I.port)&&(I.port=N.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?M[4]:void 0)),I.host&&(I.host=De(ce(I.host,V),V)),I.scheme===void 0&&I.userinfo===void 0&&I.host===void 0&&I.port===void 0&&!I.path&&I.query===void 0?I.reference="same-document":I.scheme===void 0?I.reference="relative":I.fragment===void 0?I.reference="absolute":I.reference="uri",w.reference&&w.reference!=="suffix"&&w.reference!==I.reference&&(I.error=I.error||"URI is not a "+w.reference+" reference.");var ie=q[(w.scheme||I.scheme||"").toLowerCase()];if(!w.unicodeSupport&&(!ie||!ie.unicodeSupport)){if(I.host&&(w.domainHost||ie&&ie.domainHost))try{I.host=F.toASCII(I.host.replace(V.PCT_ENCODED,x).toLowerCase())}catch(ae){I.error=I.error||"Host's domain name can not be converted to ASCII via punycode: "+ae}re(I,c)}else re(I,V);ie&&ie.parse&&ie.parse(I,w)}else I.error=I.error||"URI can not be parsed.";return I}function pe(N,w){var I=w.iri!==!1?f:c,V=[];return N.userinfo!==void 0&&(V.push(N.userinfo),V.push("@")),N.host!==void 0&&V.push(De(ce(String(N.host),I),I).replace(I.IPV6ADDRESS,function(M,ie,ae){return"["+ie+(ae?"%25"+ae:"")+"]"})),(typeof N.port=="number"||typeof N.port=="string")&&(V.push(":"),V.push(String(N.port))),V.length?V.join(""):void 0}var be=/^\.\.?\//,qe=/^\/\.(\/|$)/,mt=/^\/\.\.(\/|$)/,ft=/^\/?(?:.|\n)*?(?=\/|$)/;function Ae(N){for(var w=[];N.length;)if(N.match(be))N=N.replace(be,"");else if(N.match(qe))N=N.replace(qe,"/");else if(N.match(mt))N=N.replace(mt,"/"),w.pop();else if(N==="."||N==="..")N="";else{var I=N.match(ft);if(I){var V=I[0];N=N.slice(V.length),w.push(V)}else throw new Error("Unexpected dot segment condition")}return w.join("")}function Xe(N){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=w.iri?f:c,V=[],M=q[(w.scheme||N.scheme||"").toLowerCase()];if(M&&M.serialize&&M.serialize(N,w),N.host&&!I.IPV6ADDRESS.test(N.host)){if(w.domainHost||M&&M.domainHost)try{N.host=w.iri?F.toUnicode(N.host):F.toASCII(N.host.replace(I.PCT_ENCODED,x).toLowerCase())}catch(ke){N.error=N.error||"Host's domain name can not be converted to "+(w.iri?"Unicode":"ASCII")+" via punycode: "+ke}}re(N,I),w.reference!=="suffix"&&N.scheme&&(V.push(N.scheme),V.push(":"));var ie=pe(N,w);if(ie!==void 0&&(w.reference!=="suffix"&&V.push("//"),V.push(ie),N.path&&N.path.charAt(0)!=="/"&&V.push("/")),N.path!==void 0){var ae=N.path;!w.absolutePath&&(!M||!M.absolutePath)&&(ae=Ae(ae)),ie===void 0&&(ae=ae.replace(/^\/\//,"/%2F")),V.push(ae)}return N.query!==void 0&&(V.push("?"),V.push(N.query)),N.fragment!==void 0&&(V.push("#"),V.push(N.fragment)),V.join("")}function tt(N,w){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},V=arguments[3],M={};return V||(N=Ce(Xe(N,I),I),w=Ce(Xe(w,I),I)),I=I||{},!I.tolerant&&w.scheme?(M.scheme=w.scheme,M.userinfo=w.userinfo,M.host=w.host,M.port=w.port,M.path=Ae(w.path||""),M.query=w.query):(w.userinfo!==void 0||w.host!==void 0||w.port!==void 0?(M.userinfo=w.userinfo,M.host=w.host,M.port=w.port,M.path=Ae(w.path||""),M.query=w.query):(w.path?(w.path.charAt(0)==="/"?M.path=Ae(w.path):((N.userinfo!==void 0||N.host!==void 0||N.port!==void 0)&&!N.path?M.path="/"+w.path:N.path?M.path=N.path.slice(0,N.path.lastIndexOf("/")+1)+w.path:M.path=w.path,M.path=Ae(M.path)),M.query=w.query):(M.path=N.path,w.query!==void 0?M.query=w.query:M.query=N.query),M.userinfo=N.userinfo,M.host=N.host,M.port=N.port),M.scheme=N.scheme),M.fragment=w.fragment,M}function Ze(N,w,I){var V=l({scheme:"null"},I);return Xe(tt(Ce(N,V),Ce(w,V),V,!0),V)}function pt(N,w){return typeof N=="string"?N=Xe(Ce(N,w),w):s(N)==="object"&&(N=Ce(Xe(N,w),w)),N}function rt(N,w,I){return typeof N=="string"?N=Xe(Ce(N,I),I):s(N)==="object"&&(N=Xe(N,I)),typeof w=="string"?w=Xe(Ce(w,I),I):s(w)==="object"&&(w=Xe(w,I)),N===w}function nt(N,w){return N&&N.toString().replace(!w||!w.iri?c.ESCAPE:f.ESCAPE,K)}function Je(N,w){return N&&N.toString().replace(!w||!w.iri?c.PCT_ENCODED:f.PCT_ENCODED,x)}var ot={scheme:"http",domainHost:!0,parse:function(w,I){return w.host||(w.error=w.error||"HTTP URIs must have a host."),w},serialize:function(w,I){var V=String(w.scheme).toLowerCase()==="https";return(w.port===(V?443:80)||w.port==="")&&(w.port=void 0),w.path||(w.path="/"),w}},Ge={scheme:"https",domainHost:ot.domainHost,parse:ot.parse,serialize:ot.serialize};function at(N){return typeof N.secure=="boolean"?N.secure:String(N.scheme).toLowerCase()==="wss"}var Re={scheme:"ws",domainHost:!0,parse:function(w,I){var V=w;return V.secure=at(V),V.resourceName=(V.path||"/")+(V.query?"?"+V.query:""),V.path=void 0,V.query=void 0,V},serialize:function(w,I){if((w.port===(at(w)?443:80)||w.port==="")&&(w.port=void 0),typeof w.secure=="boolean"&&(w.scheme=w.secure?"wss":"ws",w.secure=void 0),w.resourceName){var V=w.resourceName.split("?"),M=h(V,2),ie=M[0],ae=M[1];w.path=ie&&ie!=="/"?ie:void 0,w.query=ae,w.resourceName=void 0}return w.fragment=void 0,w}},Ke={scheme:"wss",domainHost:Re.domainHost,parse:Re.parse,serialize:Re.serialize},ne={},Ie="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",St="[0-9A-Fa-f]",Hr=a(a("%[EFef]"+St+"%"+St+St+"%"+St+St)+"|"+a("%[89A-Fa-f]"+St+"%"+St+St)+"|"+a("%"+St+St)),fr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Gr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Wr=n(Gr,'[\\"\\\\]'),dr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Wt=new RegExp(Ie,"g"),qt=new RegExp(Hr,"g"),Xt=new RegExp(n("[^]",fr,"[\\.]",'[\\"]',Wr),"g"),Nr=new RegExp(n("[^]",Ie,dr),"g"),Xr=Nr;function hr(N){var w=x(N);return w.match(Wt)?w:N}var Jt={scheme:"mailto",parse:function(w,I){var V=w,M=V.to=V.path?V.path.split(","):[];if(V.path=void 0,V.query){for(var ie=!1,ae={},ke=V.query.split("&"),Ve=0,Qe=ke.length;Ve<Qe;++Ve){var Oe=ke[Ve].split("=");switch(Oe[0]){case"to":for(var Be=Oe[1].split(","),st=0,ge=Be.length;st<ge;++st)M.push(Be[st]);break;case"subject":V.subject=Je(Oe[1],I);break;case"body":V.body=Je(Oe[1],I);break;default:ie=!0,ae[Je(Oe[0],I)]=Je(Oe[1],I);break}}ie&&(V.headers=ae)}V.query=void 0;for(var Ye=0,lt=M.length;Ye<lt;++Ye){var xe=M[Ye].split("@");if(xe[0]=Je(xe[0]),I.unicodeSupport)xe[1]=Je(xe[1],I).toLowerCase();else try{xe[1]=F.toASCII(Je(xe[1],I).toLowerCase())}catch(Zt){V.error=V.error||"Email address's domain name can not be converted to ASCII via punycode: "+Zt}M[Ye]=xe.join("@")}return V},serialize:function(w,I){var V=w,M=o(w.to);if(M){for(var ie=0,ae=M.length;ie<ae;++ie){var ke=String(M[ie]),Ve=ke.lastIndexOf("@"),Qe=ke.slice(0,Ve).replace(qt,hr).replace(qt,i).replace(Xt,K),Oe=ke.slice(Ve+1);try{Oe=I.iri?F.toUnicode(Oe):F.toASCII(Je(Oe,I).toLowerCase())}catch(Ye){V.error=V.error||"Email address's domain name can not be converted to "+(I.iri?"Unicode":"ASCII")+" via punycode: "+Ye}M[ie]=Qe+"@"+Oe}V.path=M.join(",")}var Be=w.headers=w.headers||{};w.subject&&(Be.subject=w.subject),w.body&&(Be.body=w.body);var st=[];for(var ge in Be)Be[ge]!==ne[ge]&&st.push(ge.replace(qt,hr).replace(qt,i).replace(Nr,K)+"="+Be[ge].replace(qt,hr).replace(qt,i).replace(Xr,K));return st.length&&(V.query=st.join("&")),V}},Zr=/^([^\:]+)\:(.*)/,Ir={scheme:"urn",parse:function(w,I){var V=w.path&&w.path.match(Zr),M=w;if(V){var ie=I.scheme||M.scheme||"urn",ae=V[1].toLowerCase(),ke=V[2],Ve=ie+":"+(I.nid||ae),Qe=q[Ve];M.nid=ae,M.nss=ke,M.path=void 0,Qe&&(M=Qe.parse(M,I))}else M.error=M.error||"URN can not be parsed.";return M},serialize:function(w,I){var V=I.scheme||w.scheme||"urn",M=w.nid,ie=V+":"+(I.nid||M),ae=q[ie];ae&&(w=ae.serialize(w,I));var ke=w,Ve=w.nss;return ke.path=(M||I.nid)+":"+Ve,ke}},Qr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Kt={scheme:"urn:uuid",parse:function(w,I){var V=w;return V.uuid=V.nss,V.nss=void 0,!I.tolerant&&(!V.uuid||!V.uuid.match(Qr))&&(V.error=V.error||"UUID is not valid."),V},serialize:function(w,I){var V=w;return V.nss=(w.uuid||"").toLowerCase(),V}};q[ot.scheme]=ot,q[Ge.scheme]=Ge,q[Re.scheme]=Re,q[Ke.scheme]=Ke,q[Jt.scheme]=Jt,q[Ir.scheme]=Ir,q[Kt.scheme]=Kt,r.SCHEMES=q,r.pctEncChar=K,r.pctDecChars=x,r.parse=Ce,r.removeDotSegments=Ae,r.serialize=Xe,r.resolveComponents=tt,r.resolve=Ze,r.normalize=pt,r.equal=rt,r.escapeComponent=nt,r.unescapeComponent=Je,Object.defineProperty(r,"__esModule",{value:!0})})})(Un,Un.exports);var Tc=Un.exports;Object.defineProperty(ra,"__esModule",{value:!0});const Gi=Tc;Gi.code='require("ajv/dist/runtime/uri").default';ra.default=Gi;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=At;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Ee;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Jr,a=Sr,s=cr,i=wt,o=Ee,l=vt,u=dt,c=te,f=Oc,h=ra,g=(J,C)=>new RegExp(J,C);g.code="new RegExp";const d=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},_={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function k(J){var C,R,A,m,S,F,q,K,x,re,fe,ce,De,je,Ne,Ce,pe,be,qe,mt,ft,Ae,Xe,tt,Ze;const pt=J.strict,rt=(C=J.code)===null||C===void 0?void 0:C.optimize,nt=rt===!0||rt===void 0?1:rt||0,Je=(A=(R=J.code)===null||R===void 0?void 0:R.regExp)!==null&&A!==void 0?A:g,ot=(m=J.uriResolver)!==null&&m!==void 0?m:h.default;return{strictSchema:(F=(S=J.strictSchema)!==null&&S!==void 0?S:pt)!==null&&F!==void 0?F:!0,strictNumbers:(K=(q=J.strictNumbers)!==null&&q!==void 0?q:pt)!==null&&K!==void 0?K:!0,strictTypes:(re=(x=J.strictTypes)!==null&&x!==void 0?x:pt)!==null&&re!==void 0?re:"log",strictTuples:(ce=(fe=J.strictTuples)!==null&&fe!==void 0?fe:pt)!==null&&ce!==void 0?ce:"log",strictRequired:(je=(De=J.strictRequired)!==null&&De!==void 0?De:pt)!==null&&je!==void 0?je:!1,code:J.code?{...J.code,optimize:nt,regExp:Je}:{optimize:nt,regExp:Je},loopRequired:(Ne=J.loopRequired)!==null&&Ne!==void 0?Ne:b,loopEnum:(Ce=J.loopEnum)!==null&&Ce!==void 0?Ce:b,meta:(pe=J.meta)!==null&&pe!==void 0?pe:!0,messages:(be=J.messages)!==null&&be!==void 0?be:!0,inlineRefs:(qe=J.inlineRefs)!==null&&qe!==void 0?qe:!0,schemaId:(mt=J.schemaId)!==null&&mt!==void 0?mt:"$id",addUsedSchema:(ft=J.addUsedSchema)!==null&&ft!==void 0?ft:!0,validateSchema:(Ae=J.validateSchema)!==null&&Ae!==void 0?Ae:!0,validateFormats:(Xe=J.validateFormats)!==null&&Xe!==void 0?Xe:!0,unicodeRegExp:(tt=J.unicodeRegExp)!==null&&tt!==void 0?tt:!0,int32range:(Ze=J.int32range)!==null&&Ze!==void 0?Ze:!0,uriResolver:ot}}class P{constructor(C={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,C=this.opts={...C,...k(C)};const{es5:R,lines:A}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:$,es5:R,lines:A}),this.logger=U(C.logger);const m=C.validateFormats;C.validateFormats=!1,this.RULES=(0,s.getRules)(),j.call(this,p,C,"NOT SUPPORTED"),j.call(this,_,C,"DEPRECATED","warn"),this._metaOpts=he.call(this),C.formats&&ee.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),C.keywords&&oe.call(this,C.keywords),typeof C.meta=="object"&&this.addMetaSchema(C.meta),X.call(this),C.validateFormats=m}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:C,meta:R,schemaId:A}=this.opts;let m=f;A==="id"&&(m={...f},m.id=m.$id,delete m.$id),R&&C&&this.addMetaSchema(m,m[A],!1)}defaultMeta(){const{meta:C,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof C=="object"?C[R]||C:void 0}validate(C,R){let A;if(typeof C=="string"){if(A=this.getSchema(C),!A)throw new Error(`no schema with key or ref "${C}"`)}else A=this.compile(C);const m=A(R);return"$async"in A||(this.errors=A.errors),m}compile(C,R){const A=this._addSchema(C,R);return A.validate||this._compileSchemaEnv(A)}compileAsync(C,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:A}=this.opts;return m.call(this,C,R);async function m(re,fe){await S.call(this,re.$schema);const ce=this._addSchema(re,fe);return ce.validate||F.call(this,ce)}async function S(re){re&&!this.getSchema(re)&&await m.call(this,{$ref:re},!0)}async function F(re){try{return this._compileSchemaEnv(re)}catch(fe){if(!(fe instanceof a.default))throw fe;return q.call(this,fe),await K.call(this,fe.missingSchema),F.call(this,re)}}function q({missingSchema:re,missingRef:fe}){if(this.refs[re])throw new Error(`AnySchema ${re} is loaded but ${fe} cannot be resolved`)}async function K(re){const fe=await x.call(this,re);this.refs[re]||await S.call(this,fe.$schema),this.refs[re]||this.addSchema(fe,re,R)}async function x(re){const fe=this._loading[re];if(fe)return fe;try{return await(this._loading[re]=A(re))}finally{delete this._loading[re]}}}addSchema(C,R,A,m=this.opts.validateSchema){if(Array.isArray(C)){for(const F of C)this.addSchema(F,void 0,A,m);return this}let S;if(typeof C=="object"){const{schemaId:F}=this.opts;if(S=C[F],S!==void 0&&typeof S!="string")throw new Error(`schema ${F} must be string`)}return R=(0,l.normalizeId)(R||S),this._checkUnique(R),this.schemas[R]=this._addSchema(C,A,R,m,!0),this}addMetaSchema(C,R,A=this.opts.validateSchema){return this.addSchema(C,R,!0,A),this}validateSchema(C,R){if(typeof C=="boolean")return!0;let A;if(A=C.$schema,A!==void 0&&typeof A!="string")throw new Error("$schema must be a string");if(A=A||this.opts.defaultMeta||this.defaultMeta(),!A)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const m=this.validate(A,C);if(!m&&R){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return m}getSchema(C){let R;for(;typeof(R=z.call(this,C))=="string";)C=R;if(R===void 0){const{schemaId:A}=this.opts,m=new i.SchemaEnv({schema:{},schemaId:A});if(R=i.resolveSchema.call(this,m,C),!R)return;this.refs[C]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(C){if(C instanceof RegExp)return this._removeAllSchemas(this.schemas,C),this._removeAllSchemas(this.refs,C),this;switch(typeof C){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=z.call(this,C);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[C],delete this.refs[C],this}case"object":{const R=C;this._cache.delete(R);let A=C[this.opts.schemaId];return A&&(A=(0,l.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(C){for(const R of C)this.addKeyword(R);return this}addKeyword(C,R){let A;if(typeof C=="string")A=C,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=A);else if(typeof C=="object"&&R===void 0){if(R=C,A=R.keyword,Array.isArray(A)&&!A.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(W.call(this,A,R),!R)return(0,c.eachItem)(A,S=>ve.call(this,S)),this;Te.call(this,R);const m={...R,type:(0,u.getJSONTypes)(R.type),schemaType:(0,u.getJSONTypes)(R.schemaType)};return(0,c.eachItem)(A,m.type.length===0?S=>ve.call(this,S,m):S=>m.type.forEach(F=>ve.call(this,S,m,F))),this}getKeyword(C){const R=this.RULES.all[C];return typeof R=="object"?R.definition:!!R}removeKeyword(C){const{RULES:R}=this;delete R.keywords[C],delete R.all[C];for(const A of R.rules){const m=A.rules.findIndex(S=>S.keyword===C);m>=0&&A.rules.splice(m,1)}return this}addFormat(C,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[C]=R,this}errorsText(C=this.errors,{separator:R=", ",dataVar:A="data"}={}){return!C||C.length===0?"No errors":C.map(m=>`${A}${m.instancePath} ${m.message}`).reduce((m,S)=>m+R+S)}$dataMetaSchema(C,R){const A=this.RULES.all;C=JSON.parse(JSON.stringify(C));for(const m of R){const S=m.split("/").slice(1);let F=C;for(const q of S)F=F[q];for(const q in A){const K=A[q];if(typeof K!="object")continue;const{$data:x}=K.definition,re=F[q];x&&re&&(F[q]=we(re))}}return C}_removeAllSchemas(C,R){for(const A in C){const m=C[A];(!R||R.test(A))&&(typeof m=="string"?delete C[A]:m&&!m.meta&&(this._cache.delete(m.schema),delete C[A]))}}_addSchema(C,R,A,m=this.opts.validateSchema,S=this.opts.addUsedSchema){let F;const{schemaId:q}=this.opts;if(typeof C=="object")F=C[q];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof C!="boolean")throw new Error("schema must be object or boolean")}let K=this._cache.get(C);if(K!==void 0)return K;A=(0,l.normalizeId)(F||A);const x=l.getSchemaRefs.call(this,C,A);return K=new i.SchemaEnv({schema:C,schemaId:q,meta:R,baseId:A,localRefs:x}),this._cache.set(K.schema,K),S&&!A.startsWith("#")&&(A&&this._checkUnique(A),this.refs[A]=K),m&&this.validateSchema(C,!0),K}_checkUnique(C){if(this.schemas[C]||this.refs[C])throw new Error(`schema with key or id "${C}" already exists`)}_compileSchemaEnv(C){if(C.meta?this._compileMetaSchema(C):i.compileSchema.call(this,C),!C.validate)throw new Error("ajv implementation error");return C.validate}_compileMetaSchema(C){const R=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,C)}finally{this.opts=R}}}P.ValidationError=n.default,P.MissingRefError=a.default,t.default=P;function j(J,C,R,A="error"){for(const m in J){const S=m;S in C&&this.logger[A](`${R}: option ${m}. ${J[S]}`)}}function z(J){return J=(0,l.normalizeId)(J),this.schemas[J]||this.refs[J]}function X(){const J=this.opts.schemas;if(J)if(Array.isArray(J))this.addSchema(J);else for(const C in J)this.addSchema(J[C],C)}function ee(){for(const J in this.opts.formats){const C=this.opts.formats[J];C&&this.addFormat(J,C)}}function oe(J){if(Array.isArray(J)){this.addVocabulary(J);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const C in J){const R=J[C];R.keyword||(R.keyword=C),this.addKeyword(R)}}function he(){const J={...this.opts};for(const C of d)delete J[C];return J}const G={log(){},warn(){},error(){}};function U(J){if(J===!1)return G;if(J===void 0)return console;if(J.log&&J.warn&&J.error)return J;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function W(J,C){const{RULES:R}=this;if((0,c.eachItem)(J,A=>{if(R.keywords[A])throw new Error(`Keyword ${A} is already defined`);if(!Y.test(A))throw new Error(`Keyword ${A} has invalid name`)}),!!C&&C.$data&&!("code"in C||"validate"in C))throw new Error('$data keyword must have "code" or "validate" function')}function ve(J,C,R){var A;const m=C==null?void 0:C.post;if(R&&m)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let F=m?S.post:S.rules.find(({type:K})=>K===R);if(F||(F={type:R,rules:[]},S.rules.push(F)),S.keywords[J]=!0,!C)return;const q={keyword:J,definition:{...C,type:(0,u.getJSONTypes)(C.type),schemaType:(0,u.getJSONTypes)(C.schemaType)}};C.before?se.call(this,F,q,C.before):F.rules.push(q),S.all[J]=q,(A=C.implements)===null||A===void 0||A.forEach(K=>this.addKeyword(K))}function se(J,C,R){const A=J.rules.findIndex(m=>m.keyword===R);A>=0?J.rules.splice(A,0,C):(J.rules.push(C),this.logger.warn(`rule ${R} is not defined`))}function Te(J){let{metaSchema:C}=J;C!==void 0&&(J.$data&&this.opts.$data&&(C=we(C)),J.validateSchema=this.compile(C,!0))}const Pe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function we(J){return{anyOf:[J,Pe]}}})(mi);var na={},aa={},sa={};Object.defineProperty(sa,"__esModule",{value:!0});const Dc={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};sa.default=Dc;var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.callRef=ur.getValidate=void 0;const Ac=Sr,xa=Se,Et=Ee,_r=Lt,es=wt,tn=te,Cc={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:a,schemaEnv:s,validateName:i,opts:o,self:l}=n,{root:u}=s;if((r==="#"||r==="#/")&&a===u.baseId)return f();const c=es.resolveRef.call(l,u,a,r);if(c===void 0)throw new Ac.default(n.opts.uriResolver,a,r);if(c instanceof es.SchemaEnv)return h(c);return g(c);function f(){if(s===u)return cn(t,i,s,s.$async);const d=e.scopeValue("root",{ref:u});return cn(t,(0,Et._)`${d}.validate`,u,u.$async)}function h(d){const $=Wi(t,d);cn(t,$,d,d.$async)}function g(d){const $=e.scopeValue("schema",o.code.source===!0?{ref:d,code:(0,Et.stringify)(d)}:{ref:d}),p=e.name("valid"),_=t.subschema({schema:d,dataTypes:[],schemaPath:Et.nil,topSchemaRef:$,errSchemaPath:r},p);t.mergeEvaluated(_),t.ok(p)}}};function Wi(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Et._)`${r.scopeValue("wrapper",{ref:e})}.validate`}ur.getValidate=Wi;function cn(t,e,r,n){const{gen:a,it:s}=t,{allErrors:i,schemaEnv:o,opts:l}=s,u=l.passContext?_r.default.this:Et.nil;n?c():f();function c(){if(!o.$async)throw new Error("async schema referenced by sync schema");const d=a.let("valid");a.try(()=>{a.code((0,Et._)`await ${(0,xa.callValidateCode)(t,e,u)}`),g(e),i||a.assign(d,!0)},$=>{a.if((0,Et._)`!(${$} instanceof ${s.ValidationError})`,()=>a.throw($)),h($),i||a.assign(d,!1)}),t.ok(d)}function f(){t.result((0,xa.callValidateCode)(t,e,u),()=>g(e),()=>h(e))}function h(d){const $=(0,Et._)`${d}.errors`;a.assign(_r.default.vErrors,(0,Et._)`${_r.default.vErrors} === null ? ${$} : ${_r.default.vErrors}.concat(${$})`),a.assign(_r.default.errors,(0,Et._)`${_r.default.vErrors}.length`)}function g(d){var $;if(!s.opts.unevaluated)return;const p=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(s.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(s.props=tn.mergeEvaluated.props(a,p.props,s.props));else{const _=a.var("props",(0,Et._)`${d}.evaluated.props`);s.props=tn.mergeEvaluated.props(a,_,s.props,Et.Name)}if(s.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(s.items=tn.mergeEvaluated.items(a,p.items,s.items));else{const _=a.var("items",(0,Et._)`${d}.evaluated.items`);s.items=tn.mergeEvaluated.items(a,_,s.items,Et.Name)}}}ur.callRef=cn;ur.default=Cc;Object.defineProperty(aa,"__esModule",{value:!0});const jc=sa,Rc=ur,Vc=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",jc.default,Rc.default];aa.default=Vc;var ia={},oa={};Object.defineProperty(oa,"__esModule",{value:!0});const vn=Ee,Yt=vn.operators,gn={maximum:{okStr:"<=",ok:Yt.LTE,fail:Yt.GT},minimum:{okStr:">=",ok:Yt.GTE,fail:Yt.LT},exclusiveMaximum:{okStr:"<",ok:Yt.LT,fail:Yt.GTE},exclusiveMinimum:{okStr:">",ok:Yt.GT,fail:Yt.LTE}},Mc={message:({keyword:t,schemaCode:e})=>(0,vn.str)`must be ${gn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,vn._)`{comparison: ${gn[t].okStr}, limit: ${e}}`},Fc={keyword:Object.keys(gn),type:"number",schemaType:"number",$data:!0,error:Mc,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,vn._)`${r} ${gn[e].fail} ${n} || isNaN(${r})`)}};oa.default=Fc;var la={};Object.defineProperty(la,"__esModule",{value:!0});const Vr=Ee,zc={message:({schemaCode:t})=>(0,Vr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Vr._)`{multipleOf: ${t}}`},Uc={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:zc,code(t){const{gen:e,data:r,schemaCode:n,it:a}=t,s=a.opts.multipleOfPrecision,i=e.let("res"),o=s?(0,Vr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,Vr._)`${i} !== parseInt(${i})`;t.fail$data((0,Vr._)`(${n} === 0 || (${i} = ${r}/${n}, ${o}))`)}};la.default=Uc;var ca={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});function Xi(t){const e=t.length;let r=0,n=0,a;for(;n<e;)r++,a=t.charCodeAt(n++),a>=55296&&a<=56319&&n<e&&(a=t.charCodeAt(n),(a&64512)===56320&&n++);return r}ua.default=Xi;Xi.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ca,"__esModule",{value:!0});const or=Ee,Lc=te,qc=ua,Jc={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,or.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,or._)`{limit: ${t}}`},Kc={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Jc,code(t){const{keyword:e,data:r,schemaCode:n,it:a}=t,s=e==="maxLength"?or.operators.GT:or.operators.LT,i=a.opts.unicode===!1?(0,or._)`${r}.length`:(0,or._)`${(0,Lc.useFunc)(t.gen,qc.default)}(${r})`;t.fail$data((0,or._)`${i} ${s} ${n}`)}};ca.default=Kc;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});const Bc=Se,yn=Ee,Hc={message:({schemaCode:t})=>(0,yn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,yn._)`{pattern: ${t}}`},Gc={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Hc,code(t){const{data:e,$data:r,schema:n,schemaCode:a,it:s}=t,i=s.opts.unicodeRegExp?"u":"",o=r?(0,yn._)`(new RegExp(${a}, ${i}))`:(0,Bc.usePattern)(t,n);t.fail$data((0,yn._)`!${o}.test(${e})`)}};fa.default=Gc;var da={};Object.defineProperty(da,"__esModule",{value:!0});const Mr=Ee,Wc={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Mr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Mr._)`{limit: ${t}}`},Xc={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Wc,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxProperties"?Mr.operators.GT:Mr.operators.LT;t.fail$data((0,Mr._)`Object.keys(${r}).length ${a} ${n}`)}};da.default=Xc;var ha={};Object.defineProperty(ha,"__esModule",{value:!0});const Ar=Se,Fr=Ee,Zc=te,Qc={message:({params:{missingProperty:t}})=>(0,Fr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Fr._)`{missingProperty: ${t}}`},Yc={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Qc,code(t){const{gen:e,schema:r,schemaCode:n,data:a,$data:s,it:i}=t,{opts:o}=i;if(!s&&r.length===0)return;const l=r.length>=o.loopRequired;if(i.allErrors?u():c(),o.strictRequired){const g=t.parentSchema.properties,{definedProperties:d}=t.it;for(const $ of r)if((g==null?void 0:g[$])===void 0&&!d.has($)){const p=i.schemaEnv.baseId+i.errSchemaPath,_=`required property "${$}" is not defined at "${p}" (strictRequired)`;(0,Zc.checkStrictMode)(i,_,i.opts.strictRequired)}}function u(){if(l||s)t.block$data(Fr.nil,f);else for(const g of r)(0,Ar.checkReportMissingProp)(t,g)}function c(){const g=e.let("missing");if(l||s){const d=e.let("valid",!0);t.block$data(d,()=>h(g,d)),t.ok(d)}else e.if((0,Ar.checkMissingProp)(t,r,g)),(0,Ar.reportMissingProp)(t,g),e.else()}function f(){e.forOf("prop",n,g=>{t.setParams({missingProperty:g}),e.if((0,Ar.noPropertyInData)(e,a,g,o.ownProperties),()=>t.error())})}function h(g,d){t.setParams({missingProperty:g}),e.forOf(g,n,()=>{e.assign(d,(0,Ar.propertyInData)(e,a,g,o.ownProperties)),e.if((0,Fr.not)(d),()=>{t.error(),e.break()})},Fr.nil)}}};ha.default=Yc;var ma={};Object.defineProperty(ma,"__esModule",{value:!0});const zr=Ee,xc={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,zr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,zr._)`{limit: ${t}}`},eu={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:xc,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxItems"?zr.operators.GT:zr.operators.LT;t.fail$data((0,zr._)`${r}.length ${a} ${n}`)}};ma.default=eu;var pa={},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const Zi=Ti;Zi.code='require("ajv/dist/runtime/equal").default';Kr.default=Zi;Object.defineProperty(pa,"__esModule",{value:!0});const An=dt,_t=Ee,tu=te,ru=Kr,nu={message:({params:{i:t,j:e}})=>(0,_t.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,_t._)`{i: ${t}, j: ${e}}`},au={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:nu,code(t){const{gen:e,data:r,$data:n,schema:a,parentSchema:s,schemaCode:i,it:o}=t;if(!n&&!a)return;const l=e.let("valid"),u=s.items?(0,An.getSchemaTypes)(s.items):[];t.block$data(l,c,(0,_t._)`${i} === false`),t.ok(l);function c(){const d=e.let("i",(0,_t._)`${r}.length`),$=e.let("j");t.setParams({i:d,j:$}),e.assign(l,!0),e.if((0,_t._)`${d} > 1`,()=>(f()?h:g)(d,$))}function f(){return u.length>0&&!u.some(d=>d==="object"||d==="array")}function h(d,$){const p=e.name("item"),_=(0,An.checkDataTypes)(u,p,o.opts.strictNumbers,An.DataType.Wrong),b=e.const("indices",(0,_t._)`{}`);e.for((0,_t._)`;${d}--;`,()=>{e.let(p,(0,_t._)`${r}[${d}]`),e.if(_,(0,_t._)`continue`),u.length>1&&e.if((0,_t._)`typeof ${p} == "string"`,(0,_t._)`${p} += "_"`),e.if((0,_t._)`typeof ${b}[${p}] == "number"`,()=>{e.assign($,(0,_t._)`${b}[${p}]`),t.error(),e.assign(l,!1).break()}).code((0,_t._)`${b}[${p}] = ${d}`)})}function g(d,$){const p=(0,tu.useFunc)(e,ru.default),_=e.name("outer");e.label(_).for((0,_t._)`;${d}--;`,()=>e.for((0,_t._)`${$} = ${d}; ${$}--;`,()=>e.if((0,_t._)`${p}(${r}[${d}], ${r}[${$}])`,()=>{t.error(),e.assign(l,!1).break(_)})))}}};pa.default=au;var _a={};Object.defineProperty(_a,"__esModule",{value:!0});const Ln=Ee,su=te,iu=Kr,ou={message:"must be equal to constant",params:({schemaCode:t})=>(0,Ln._)`{allowedValue: ${t}}`},lu={keyword:"const",$data:!0,error:ou,code(t){const{gen:e,data:r,$data:n,schemaCode:a,schema:s}=t;n||s&&typeof s=="object"?t.fail$data((0,Ln._)`!${(0,su.useFunc)(e,iu.default)}(${r}, ${a})`):t.fail((0,Ln._)`${s} !== ${r}`)}};_a.default=lu;var va={};Object.defineProperty(va,"__esModule",{value:!0});const Cr=Ee,cu=te,uu=Kr,fu={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Cr._)`{allowedValues: ${t}}`},du={keyword:"enum",schemaType:"array",$data:!0,error:fu,code(t){const{gen:e,data:r,$data:n,schema:a,schemaCode:s,it:i}=t;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=i.opts.loopEnum;let l;const u=()=>l??(l=(0,cu.useFunc)(e,uu.default));let c;if(o||n)c=e.let("valid"),t.block$data(c,f);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const g=e.const("vSchema",s);c=(0,Cr.or)(...a.map((d,$)=>h(g,$)))}t.pass(c);function f(){e.assign(c,!1),e.forOf("v",s,g=>e.if((0,Cr._)`${u()}(${r}, ${g})`,()=>e.assign(c,!0).break()))}function h(g,d){const $=a[d];return typeof $=="object"&&$!==null?(0,Cr._)`${u()}(${r}, ${g}[${d}])`:(0,Cr._)`${r} === ${$}`}}};va.default=du;Object.defineProperty(ia,"__esModule",{value:!0});const hu=oa,mu=la,pu=ca,_u=fa,vu=da,gu=ha,yu=ma,bu=pa,$u=_a,Eu=va,wu=[hu.default,mu.default,pu.default,_u.default,vu.default,gu.default,yu.default,bu.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},$u.default,Eu.default];ia.default=wu;var ga={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.validateAdditionalItems=void 0;const lr=Ee,qn=te,Su={message:({params:{len:t}})=>(0,lr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,lr._)`{limit: ${t}}`},ku={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Su,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,qn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Qi(t,n)}};function Qi(t,e){const{gen:r,schema:n,data:a,keyword:s,it:i}=t;i.items=!0;const o=r.const("len",(0,lr._)`${a}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,lr._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,qn.alwaysValidSchema)(i,n)){const u=r.var("valid",(0,lr._)`${o} <= ${e.length}`);r.if((0,lr.not)(u),()=>l(u)),t.ok(u)}function l(u){r.forRange("i",e.length,o,c=>{t.subschema({keyword:s,dataProp:c,dataPropType:qn.Type.Num},u),i.allErrors||r.if((0,lr.not)(u),()=>r.break())})}}kr.validateAdditionalItems=Qi;kr.default=ku;var ya={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.validateTuple=void 0;const ts=Ee,un=te,Pu=Se,Nu={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Yi(t,"additionalItems",e);r.items=!0,!(0,un.alwaysValidSchema)(r,e)&&t.ok((0,Pu.validateArray)(t))}};function Yi(t,e,r=t.schema){const{gen:n,parentSchema:a,data:s,keyword:i,it:o}=t;c(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=un.mergeEvaluated.items(n,r.length,o.items));const l=n.name("valid"),u=n.const("len",(0,ts._)`${s}.length`);r.forEach((f,h)=>{(0,un.alwaysValidSchema)(o,f)||(n.if((0,ts._)`${u} > ${h}`,()=>t.subschema({keyword:i,schemaProp:h,dataProp:h},l)),t.ok(l))});function c(f){const{opts:h,errSchemaPath:g}=o,d=r.length,$=d===f.minItems&&(d===f.maxItems||f[e]===!1);if(h.strictTuples&&!$){const p=`"${i}" is ${d}-tuple, but minItems or maxItems/${e} are not specified or different at path "${g}"`;(0,un.checkStrictMode)(o,p,h.strictTuples)}}}Pr.validateTuple=Yi;Pr.default=Nu;Object.defineProperty(ya,"__esModule",{value:!0});const Iu=Pr,Ou={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Iu.validateTuple)(t,"items")};ya.default=Ou;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});const rs=Ee,Tu=te,Du=Se,Au=kr,Cu={message:({params:{len:t}})=>(0,rs.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,rs._)`{limit: ${t}}`},ju={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Cu,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:a}=r;n.items=!0,!(0,Tu.alwaysValidSchema)(n,e)&&(a?(0,Au.validateAdditionalItems)(t,a):t.ok((0,Du.validateArray)(t)))}};ba.default=ju;var $a={};Object.defineProperty($a,"__esModule",{value:!0});const Nt=Ee,rn=te,Ru={message:({params:{min:t,max:e}})=>e===void 0?(0,Nt.str)`must contain at least ${t} valid item(s)`:(0,Nt.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Nt._)`{minContains: ${t}}`:(0,Nt._)`{minContains: ${t}, maxContains: ${e}}`},Vu={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Ru,code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:s}=t;let i,o;const{minContains:l,maxContains:u}=n;s.opts.next?(i=l===void 0?1:l,o=u):i=1;const c=e.const("len",(0,Nt._)`${a}.length`);if(t.setParams({min:i,max:o}),o===void 0&&i===0){(0,rn.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,rn.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,rn.alwaysValidSchema)(s,r)){let $=(0,Nt._)`${c} >= ${i}`;o!==void 0&&($=(0,Nt._)`${$} && ${c} <= ${o}`),t.pass($);return}s.items=!0;const f=e.name("valid");o===void 0&&i===1?g(f,()=>e.if(f,()=>e.break())):i===0?(e.let(f,!0),o!==void 0&&e.if((0,Nt._)`${a}.length > 0`,h)):(e.let(f,!1),h()),t.result(f,()=>t.reset());function h(){const $=e.name("_valid"),p=e.let("count",0);g($,()=>e.if($,()=>d(p)))}function g($,p){e.forRange("i",0,c,_=>{t.subschema({keyword:"contains",dataProp:_,dataPropType:rn.Type.Num,compositeRule:!0},$),p()})}function d($){e.code((0,Nt._)`${$}++`),o===void 0?e.if((0,Nt._)`${$} >= ${i}`,()=>e.assign(f,!0).break()):(e.if((0,Nt._)`${$} > ${o}`,()=>e.assign(f,!1).break()),i===1?e.assign(f,!0):e.if((0,Nt._)`${$} >= ${i}`,()=>e.assign(f,!0)))}}};$a.default=Vu;var xi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Ee,r=te,n=Se;t.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,e.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[u,c]=s(l);i(l,u),o(l,c)}};function s({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const h=Array.isArray(l[f])?u:c;h[f]=l[f]}return[u,c]}function i(l,u=l.schema){const{gen:c,data:f,it:h}=l;if(Object.keys(u).length===0)return;const g=c.let("missing");for(const d in u){const $=u[d];if($.length===0)continue;const p=(0,n.propertyInData)(c,f,d,h.opts.ownProperties);l.setParams({property:d,depsCount:$.length,deps:$.join(", ")}),h.allErrors?c.if(p,()=>{for(const _ of $)(0,n.checkReportMissingProp)(l,_)}):(c.if((0,e._)`${p} && (${(0,n.checkMissingProp)(l,$,g)})`),(0,n.reportMissingProp)(l,g),c.else())}}t.validatePropertyDeps=i;function o(l,u=l.schema){const{gen:c,data:f,keyword:h,it:g}=l,d=c.name("valid");for(const $ in u)(0,r.alwaysValidSchema)(g,u[$])||(c.if((0,n.propertyInData)(c,f,$,g.opts.ownProperties),()=>{const p=l.subschema({keyword:h,schemaProp:$},d);l.mergeValidEvaluated(p,d)},()=>c.var(d,!0)),l.ok(d))}t.validateSchemaDeps=o,t.default=a})(xi);var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});const eo=Ee,Mu=te,Fu={message:"property name must be valid",params:({params:t})=>(0,eo._)`{propertyName: ${t.propertyName}}`},zu={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Fu,code(t){const{gen:e,schema:r,data:n,it:a}=t;if((0,Mu.alwaysValidSchema)(a,r))return;const s=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),e.if((0,eo.not)(s),()=>{t.error(!0),a.allErrors||e.break()})}),t.ok(s)}};Ea.default=zu;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const nn=Se,Tt=Ee,Uu=Lt,an=te,Lu={message:"must NOT have additional properties",params:({params:t})=>(0,Tt._)`{additionalProperty: ${t.additionalProperty}}`},qu={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Lu,code(t){const{gen:e,schema:r,parentSchema:n,data:a,errsCount:s,it:i}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=i;if(i.props=!0,l.removeAdditional!=="all"&&(0,an.alwaysValidSchema)(i,r))return;const u=(0,nn.allSchemaProperties)(n.properties),c=(0,nn.allSchemaProperties)(n.patternProperties);f(),t.ok((0,Tt._)`${s} === ${Uu.default.errors}`);function f(){e.forIn("key",a,p=>{!u.length&&!c.length?d(p):e.if(h(p),()=>d(p))})}function h(p){let _;if(u.length>8){const b=(0,an.schemaRefOrVal)(i,n.properties,"properties");_=(0,nn.isOwnProperty)(e,b,p)}else u.length?_=(0,Tt.or)(...u.map(b=>(0,Tt._)`${p} === ${b}`)):_=Tt.nil;return c.length&&(_=(0,Tt.or)(_,...c.map(b=>(0,Tt._)`${(0,nn.usePattern)(t,b)}.test(${p})`))),(0,Tt.not)(_)}function g(p){e.code((0,Tt._)`delete ${a}[${p}]`)}function d(p){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){g(p);return}if(r===!1){t.setParams({additionalProperty:p}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,an.alwaysValidSchema)(i,r)){const _=e.name("valid");l.removeAdditional==="failing"?($(p,_,!1),e.if((0,Tt.not)(_),()=>{t.reset(),g(p)})):($(p,_),o||e.if((0,Tt.not)(_),()=>e.break()))}}function $(p,_,b){const k={keyword:"additionalProperties",dataProp:p,dataPropType:an.Type.Str};b===!1&&Object.assign(k,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(k,_)}}};Nn.default=qu;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});const Ju=At,ns=Se,Cn=te,as=Nn,Ku={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:s}=t;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&as.default.code(new Ju.KeywordCxt(s,as.default,"additionalProperties"));const i=(0,ns.allSchemaProperties)(r);for(const f of i)s.definedProperties.add(f);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=Cn.mergeEvaluated.props(e,(0,Cn.toHash)(i),s.props));const o=i.filter(f=>!(0,Cn.alwaysValidSchema)(s,r[f]));if(o.length===0)return;const l=e.name("valid");for(const f of o)u(f)?c(f):(e.if((0,ns.propertyInData)(e,a,f,s.opts.ownProperties)),c(f),s.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(l);function u(f){return s.opts.useDefaults&&!s.compositeRule&&r[f].default!==void 0}function c(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};wa.default=Ku;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});const ss=Se,sn=Ee,is=te,os=te,Bu={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:a,it:s}=t,{opts:i}=s,o=(0,ss.allSchemaProperties)(r),l=o.filter($=>(0,is.alwaysValidSchema)(s,r[$]));if(o.length===0||l.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const u=i.strictSchema&&!i.allowMatchingProperties&&a.properties,c=e.name("valid");s.props!==!0&&!(s.props instanceof sn.Name)&&(s.props=(0,os.evaluatedPropsToName)(e,s.props));const{props:f}=s;h();function h(){for(const $ of o)u&&g($),s.allErrors?d($):(e.var(c,!0),d($),e.if(c))}function g($){for(const p in u)new RegExp($).test(p)&&(0,is.checkStrictMode)(s,`property ${p} matches pattern ${$} (use allowMatchingProperties)`)}function d($){e.forIn("key",n,p=>{e.if((0,sn._)`${(0,ss.usePattern)(t,$)}.test(${p})`,()=>{const _=l.includes($);_||t.subschema({keyword:"patternProperties",schemaProp:$,dataProp:p,dataPropType:os.Type.Str},c),s.opts.unevaluated&&f!==!0?e.assign((0,sn._)`${f}[${p}]`,!0):!_&&!s.allErrors&&e.if((0,sn.not)(c),()=>e.break())})})}}};Sa.default=Bu;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});const Hu=te,Gu={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,Hu.alwaysValidSchema)(n,r)){t.fail();return}const a=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),t.failResult(a,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};ka.default=Gu;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});const Wu=Se,Xu={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Wu.validateUnion,error:{message:"must match a schema in anyOf"}};Pa.default=Xu;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});const fn=Ee,Zu=te,Qu={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,fn._)`{passingSchemas: ${t.passing}}`},Yu={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Qu,code(t){const{gen:e,schema:r,parentSchema:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,i=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(u),t.result(i,()=>t.reset(),()=>t.error(!0));function u(){s.forEach((c,f)=>{let h;(0,Zu.alwaysValidSchema)(a,c)?e.var(l,!0):h=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&e.if((0,fn._)`${l} && ${i}`).assign(i,!1).assign(o,(0,fn._)`[${o}, ${f}]`).else(),e.if(l,()=>{e.assign(i,!0),e.assign(o,f),h&&t.mergeEvaluated(h,fn.Name)})})}}};Na.default=Yu;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});const xu=te,ef={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=e.name("valid");r.forEach((s,i)=>{if((0,xu.alwaysValidSchema)(n,s))return;const o=t.subschema({keyword:"allOf",schemaProp:i},a);t.ok(a),t.mergeEvaluated(o)})}};Ia.default=ef;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});const bn=Ee,to=te,tf={message:({params:t})=>(0,bn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,bn._)`{failingKeyword: ${t.ifClause}}`},rf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:tf,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,to.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=ls(n,"then"),s=ls(n,"else");if(!a&&!s)return;const i=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),a&&s){const c=e.let("ifClause");t.setParams({ifClause:c}),e.if(o,u("then",c),u("else",c))}else a?e.if(o,u("then")):e.if((0,bn.not)(o),u("else"));t.pass(i,()=>t.error(!0));function l(){const c=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(c)}function u(c,f){return()=>{const h=t.subschema({keyword:c},o);e.assign(i,o),t.mergeValidEvaluated(h,i),f?e.assign(f,(0,bn._)`${c}`):t.setParams({ifClause:c})}}}};function ls(t,e){const r=t.schema[e];return r!==void 0&&!(0,to.alwaysValidSchema)(t,r)}Oa.default=rf;var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});const nf=te,af={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,nf.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Ta.default=af;Object.defineProperty(ga,"__esModule",{value:!0});const sf=kr,of=ya,lf=Pr,cf=ba,uf=$a,ff=xi,df=Ea,hf=Nn,mf=wa,pf=Sa,_f=ka,vf=Pa,gf=Na,yf=Ia,bf=Oa,$f=Ta;function Ef(t=!1){const e=[_f.default,vf.default,gf.default,yf.default,bf.default,$f.default,df.default,hf.default,ff.default,mf.default,pf.default];return t?e.push(of.default,cf.default):e.push(sf.default,lf.default),e.push(uf.default),e}ga.default=Ef;var Da={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});const it=Ee,wf={message:({schemaCode:t})=>(0,it.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,it._)`{format: ${t}}`},Sf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:wf,code(t,e){const{gen:r,data:n,$data:a,schema:s,schemaCode:i,it:o}=t,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=o;if(!l.validateFormats)return;a?h():g();function h(){const d=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),$=r.const("fDef",(0,it._)`${d}[${i}]`),p=r.let("fType"),_=r.let("format");r.if((0,it._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(p,(0,it._)`${$}.type || "string"`).assign(_,(0,it._)`${$}.validate`),()=>r.assign(p,(0,it._)`"string"`).assign(_,$)),t.fail$data((0,it.or)(b(),k()));function b(){return l.strictSchema===!1?it.nil:(0,it._)`${i} && !${_}`}function k(){const P=c.$async?(0,it._)`(${$}.async ? await ${_}(${n}) : ${_}(${n}))`:(0,it._)`${_}(${n})`,j=(0,it._)`(typeof ${_} == "function" ? ${P} : ${_}.test(${n}))`;return(0,it._)`${_} && ${_} !== true && ${p} === ${e} && !${j}`}}function g(){const d=f.formats[s];if(!d){b();return}if(d===!0)return;const[$,p,_]=k(d);$===e&&t.pass(P());function b(){if(l.strictSchema===!1){f.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function k(j){const z=j instanceof RegExp?(0,it.regexpCode)(j):l.code.formats?(0,it._)`${l.code.formats}${(0,it.getProperty)(s)}`:void 0,X=r.scopeValue("formats",{key:s,ref:j,code:z});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,it._)`${X}.validate`]:["string",j,X]}function P(){if(typeof d=="object"&&!(d instanceof RegExp)&&d.async){if(!c.$async)throw new Error("async format in sync schema");return(0,it._)`await ${_}(${n})`}return typeof p=="function"?(0,it._)`${_}(${n})`:(0,it._)`${_}.test(${n})`}}}};Aa.default=Sf;Object.defineProperty(Da,"__esModule",{value:!0});const kf=Aa,Pf=[kf.default];Da.default=Pf;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.contentVocabulary=Er.metadataVocabulary=void 0;Er.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Er.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(na,"__esModule",{value:!0});const Nf=aa,If=ia,Of=ga,Tf=Da,cs=Er,Df=[Nf.default,If.default,(0,Of.default)(),Tf.default,cs.metadataVocabulary,cs.contentVocabulary];na.default=Df;var Ca={},In={};Object.defineProperty(In,"__esModule",{value:!0});In.DiscrError=void 0;var us;(function(t){t.Tag="tag",t.Mapping="mapping"})(us||(In.DiscrError=us={}));Object.defineProperty(Ca,"__esModule",{value:!0});const vr=Ee,Jn=In,fs=wt,Af=Sr,Cf=te,jf={message:({params:{discrError:t,tagName:e}})=>t===Jn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,vr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Rf={keyword:"discriminator",type:"object",schemaType:"object",error:jf,code(t){const{gen:e,data:r,schema:n,parentSchema:a,it:s}=t,{oneOf:i}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),u=e.const("tag",(0,vr._)`${r}${(0,vr.getProperty)(o)}`);e.if((0,vr._)`typeof ${u} == "string"`,()=>c(),()=>t.error(!1,{discrError:Jn.DiscrError.Tag,tag:u,tagName:o})),t.ok(l);function c(){const g=h();e.if(!1);for(const d in g)e.elseIf((0,vr._)`${u} === ${d}`),e.assign(l,f(g[d]));e.else(),t.error(!1,{discrError:Jn.DiscrError.Mapping,tag:u,tagName:o}),e.endIf()}function f(g){const d=e.name("valid"),$=t.subschema({keyword:"oneOf",schemaProp:g},d);return t.mergeEvaluated($,vr.Name),d}function h(){var g;const d={},$=_(a);let p=!0;for(let P=0;P<i.length;P++){let j=i[P];if(j!=null&&j.$ref&&!(0,Cf.schemaHasRulesButRef)(j,s.self.RULES)){const X=j.$ref;if(j=fs.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,X),j instanceof fs.SchemaEnv&&(j=j.schema),j===void 0)throw new Af.default(s.opts.uriResolver,s.baseId,X)}const z=(g=j==null?void 0:j.properties)===null||g===void 0?void 0:g[o];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);p=p&&($||_(j)),b(z,P)}if(!p)throw new Error(`discriminator: "${o}" must be required`);return d;function _({required:P}){return Array.isArray(P)&&P.includes(o)}function b(P,j){if(P.const)k(P.const,j);else if(P.enum)for(const z of P.enum)k(z,j);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function k(P,j){if(typeof P!="string"||P in d)throw new Error(`discriminator: "${o}" values must be unique strings`);d[P]=j}}}};Ca.default=Rf;const Vf="http://json-schema.org/draft-07/schema#",Mf="http://json-schema.org/draft-07/schema#",Ff="Core schema meta-schema",zf={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Uf=["object","boolean"],Lf={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},qf={$schema:Vf,$id:Mf,title:Ff,definitions:zf,type:Uf,properties:Lf,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=mi,n=na,a=Ca,s=qf,i=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(d=>this.addVocabulary(d)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const d=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(d,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=At;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=Ee;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=Jr;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=Sr;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Rn,Rn.exports);var ro=Rn.exports;const Jf=hi(ro);var Kn={exports:{}},no={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(G,U){return{validate:G,compare:U}}t.fullFormats={date:e(s,i),time:e(l(!0),u),"date-time":e(h(!0),g),"iso-time":e(l(),c),"iso-date-time":e(h(),d),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:he,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:k,int32:{type:"number",validate:z},int64:{type:"number",validate:X},float:{type:"number",validate:ee},double:{type:"number",validate:ee},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,g),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(G){return G%4===0&&(G%100!==0||G%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(G){const U=n.exec(G);if(!U)return!1;const Y=+U[1],W=+U[2],ve=+U[3];return W>=1&&W<=12&&ve>=1&&ve<=(W===2&&r(Y)?29:a[W])}function i(G,U){if(G&&U)return G>U?1:G<U?-1:0}const o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(G){return function(Y){const W=o.exec(Y);if(!W)return!1;const ve=+W[1],se=+W[2],Te=+W[3],Pe=W[4],we=W[5]==="-"?-1:1,J=+(W[6]||0),C=+(W[7]||0);if(J>23||C>59||G&&!Pe)return!1;if(ve<=23&&se<=59&&Te<60)return!0;const R=se-C*we,A=ve-J*we-(R<0?1:0);return(A===23||A===-1)&&(R===59||R===-1)&&Te<61}}function u(G,U){if(!(G&&U))return;const Y=new Date("2020-01-01T"+G).valueOf(),W=new Date("2020-01-01T"+U).valueOf();if(Y&&W)return Y-W}function c(G,U){if(!(G&&U))return;const Y=o.exec(G),W=o.exec(U);if(Y&&W)return G=Y[1]+Y[2]+Y[3],U=W[1]+W[2]+W[3],G>U?1:G<U?-1:0}const f=/t|\s/i;function h(G){const U=l(G);return function(W){const ve=W.split(f);return ve.length===2&&s(ve[0])&&U(ve[1])}}function g(G,U){if(!(G&&U))return;const Y=new Date(G).valueOf(),W=new Date(U).valueOf();if(Y&&W)return Y-W}function d(G,U){if(!(G&&U))return;const[Y,W]=G.split(f),[ve,se]=U.split(f),Te=i(Y,ve);if(Te!==void 0)return Te||u(W,se)}const $=/\/|:/,p=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(G){return $.test(G)&&p.test(G)}const b=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function k(G){return b.lastIndex=0,b.test(G)}const P=-(2**31),j=2**31-1;function z(G){return Number.isInteger(G)&&G<=j&&G>=P}function X(G){return Number.isInteger(G)}function ee(){return!0}const oe=/[^\\]\\Z/;function he(G){if(oe.test(G))return!1;try{return new RegExp(G),!0}catch{return!1}}})(no);var ao={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=ro,r=Ee,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:o,schemaCode:l})=>(0,r.str)`should be ${a[o].okStr} ${l}`,params:({keyword:o,schemaCode:l})=>(0,r._)`{comparison: ${a[o].okStr}, limit: ${l}}`};t.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:l,data:u,schemaCode:c,keyword:f,it:h}=o,{opts:g,self:d}=h;if(!g.validateFormats)return;const $=new e.KeywordCxt(h,d.RULES.all.format.definition,"format");$.$data?p():_();function p(){const k=l.scopeValue("formats",{ref:d.formats,code:g.code.formats}),P=l.const("fmt",(0,r._)`${k}[${$.schemaCode}]`);o.fail$data((0,r.or)((0,r._)`typeof ${P} != "object"`,(0,r._)`${P} instanceof RegExp`,(0,r._)`typeof ${P}.compare != "function"`,b(P)))}function _(){const k=$.schema,P=d.formats[k];if(!P||P===!0)return;if(typeof P!="object"||P instanceof RegExp||typeof P.compare!="function")throw new Error(`"${f}": format "${k}" does not define "compare" function`);const j=l.scopeValue("formats",{key:k,ref:P,code:g.code.formats?(0,r._)`${g.code.formats}${(0,r.getProperty)(k)}`:void 0});o.fail$data(b(j))}function b(k){return(0,r._)`${k}.compare(${u}, ${c}) ${a[f].fail} 0`}},dependencies:["format"]};const i=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=i})(ao);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=no,n=ao,a=Ee,s=new a.Name("fullFormats"),i=new a.Name("fastFormats"),o=(u,c={keywords:!0})=>{if(Array.isArray(c))return l(u,c,r.fullFormats,s),u;const[f,h]=c.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,s],g=c.formats||r.formatNames;return l(u,g,f,h),c.keywords&&(0,n.default)(u),u};o.get=(u,c="full")=>{const h=(c==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,c,f,h){var g,d;(g=(d=u.opts.code).formats)!==null&&g!==void 0||(d.formats=(0,a._)`require("ajv-formats/dist/formats").${h}`);for(const $ of c)u.addFormat($,f[$])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(Kn,Kn.exports);var Kf=Kn.exports;const Bf=hi(Kf);class br{constructor(e=!1){this.ajv=new Jf({allErrors:e}),Bf(this.ajv),this.canValidate=!1}loadSchema(e){try{return this.validator=this.ajv.compile(e),this.canValidate=!0}catch(r){return console.error("SchemaValidator: error compiling schema",r),!1}}isValid(e){if(this.validator)return this.canValidate?this.validator(e):null}getErrors(){return!this.validator||!this.canValidate?null:this.validator.errors||null}}class Hf{constructor(e,r,n=[],a=void 0){et(this,"root");et(this,"ids",[]);if(this.jsonSchema=fi(e,n),this.validator=new br,!this.validator.loadSchema(this.jsonSchema))throw new Error("Invalid JSON Schema");const i=go(this.jsonSchema,a);this.dispatch=r,this.notifyChange=()=>{const o=this.getFormData();this.dispatch("change",{value:o})},this.root=this.createObjectElement({key:null,property:this.jsonSchema,required:!0,removable:!1,value:i})}createFormElement(e){const{property:r}=e;if("enum"in r)return this.createEnumElement(e);switch(r.type){case"object":{const n=r;return this.createObjectElement({...e,property:n})}case"array":{const n=r;return ci(n)?this.createTupleElement({...e,property:n}):this.createArrayElement({...e,property:n})}case"number":case"integer":{const n=r;return this.createNumberElement({...e,property:n})}case"boolean":{const n=r;return this.createBooleanElement({...e,property:n})}default:{const n=r;return this.createStringElement({...e,property:n})}}}createStringElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new Eo({...i,value:s||null})}createBooleanElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new wo({...i,value:hn(s)})}createNumberElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new Ja({...i,type:"number",value:hn(s),min:po(r),max:_o(r)})}createEnumElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new So({...i,type:"enum",value:s||null,options:r.enum})}createObjectElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.required||[],l=[],u=Object.entries(ui(r,s));for(const[f,h]of u){const g=o.includes(f),d=this.createFormElement({key:f,property:h,required:g,removable:vo(r,f),value:s[f]});l.push(d)}return new ko({...i,children:l,additionalProperties:r.additionalProperties||!1})}createArrayElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.items,l=s.map(c=>this.createFormElement({key:null,property:o,required:!1,removable:!0,value:c}));return new Po({...i,children:l,items:o,minItems:r.minItems,maxItems:r.maxItems})}createTupleElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.minItems;return new No({...i,type:"tuple",items:r.items,size:o,children:n||Array.isArray(s)&&s.length>0?this.createTupleChildren({items:r.items,size:o,value:s}):[]})}createTupleChildren({items:e,size:r,value:n}){const a={key:null,required:!1,removable:!1};return Array.isArray(e)?e.map((s,i)=>this.createFormElement({...a,property:s,value:n[i]})):Array(r).map((s,i)=>this.createFormElement({...a,property:e,value:n[i]}))}getBaseElementFields({key:e,property:r,required:n,removable:a}){return{key:e,required:n,removable:a,manager:this,id:this.getUniqueId(),type:r.type||null,title:r.title||e||"",description:r.description||"",property:xt(r),notifyChange:this.notifyChange}}getUniqueId(){let e;do if(e=Math.random().toString(36).substring(7),!this.ids.includes(e)){this.ids.push(e);break}while(!0);return e}getFormData(){return this.getDataFromObjectElement(this.root)}getDataFromObjectElement(e){const r={};for(const n of e.children){let a=this.getDataFromElement(n);r[n.key]=a}return r}validate(){const e=En(this.getFormData());if(!this.validator.isValid(e)){const n=this.validator.getErrors();throw new so(n)}}getDataFromElement(e){switch(e.type){case"object":return this.getDataFromObjectElement(e);case"array":case"tuple":return this.getDataFromArrayElement(e);default:if(e instanceof Lr)return e instanceof Ja&&e.badInput?"invalid":e.value;throw new Error(`Unsupported type ${e.type}`)}}getDataFromArrayElement(e){return e.children.map(r=>this.getDataFromElement(r))}}class so extends Error{constructor(e){super("Invalid JSON Schema data"),this.errors=e}}function ds(t){let e;return{c(){e=O("span"),this.h()},l(r){e=T(r,"SPAN",{tabindex:!0,role:!0,"data-bs-trigger":!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0,"data-bs-html":!0,"data-bs-content":!0}),D(e).forEach(v),this.h()},h(){y(e,"tabindex","0"),y(e,"role","button"),y(e,"data-bs-trigger","focus"),y(e,"class","bi bi-info-circle text-primary"),y(e,"data-bs-toggle","collapse"),y(e,"data-bs-target",""),y(e,"data-bs-html",t[1]),y(e,"data-bs-content",t[0])},m(r,n){L(r,e,n),t[3](e)},p(r,n){n&2&&y(e,"data-bs-html",r[1]),n&1&&y(e,"data-bs-content",r[0])},d(r){r&&v(e),t[3](null)}}}function Gf(t){let e,r=t[0]&&ds(t);return{c(){e=O("span"),r&&r.c(),this.h()},l(n){e=T(n,"SPAN",{class:!0});var a=D(e);r&&r.l(a),a.forEach(v),this.h()},h(){y(e,"class","ms-2 property-description")},m(n,a){L(n,e,a),r&&r.m(e,null)},p(n,[a]){n[0]?r?r.p(n,a):(r=ds(n),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:kt,o:kt,d(n){n&&v(e),r&&r.d()}}}function Wf(t,e,r){let{description:n=void 0}=e,{html:a=!1}=e,s,i,o;wr(()=>{s&&s.addEventListener("click",function(){i=bootstrap.Popover.getOrCreateInstance(s,{trigger:"manual"}),i.toggle(),o||(o=function(u){const c=u.composedPath();c.length>0&&c[0]instanceof HTMLElement&&c[0]!==s&&(c[0].closest(".popover")||(i==null||i.hide(),i=void 0,window.removeEventListener("click",o),o=void 0))},window.addEventListener("click",o))})});function l(u){rr[u?"unshift":"push"](()=>{s=u,r(2,s)})}return t.$$set=u=>{"description"in u&&r(0,n=u.description),"html"in u&&r(1,a=u.html)},[n,a,s,l]}class Xf extends gt{constructor(e){super(),yt(this,e,Wf,Gf,ht,{description:0,html:1})}}function Zf(t){let e;function r(s,i){if(s[0].title)return xf;if(s[2])return Yf}let n=r(t),a=n&&n(t);return{c(){e=O("span"),a&&a.c(),this.h()},l(s){e=T(s,"SPAN",{class:!0});var i=D(e);a&&a.l(i),i.forEach(v),this.h()},h(){y(e,"class",t[3])},m(s,i){L(s,e,i),a&&a.m(e,null)},p(s,i){n===(n=r(s))&&a?a.p(s,i):(a&&a.d(1),a=n&&n(s),a&&(a.c(),a.m(e,null))),i&8&&y(e,"class",s[3])},d(s){s&&v(e),a&&a.d()}}}function Qf(t){let e,r;function n(i,o){if(i[0].title)return td;if(i[2])return ed}let a=n(t),s=a&&a(t);return{c(){e=O("label"),s&&s.c(),this.h()},l(i){e=T(i,"LABEL",{class:!0,for:!0});var o=D(e);s&&s.l(o),o.forEach(v),this.h()},h(){y(e,"class",t[3]),y(e,"for",r=t[1]==="label"?`property-${t[0].id}`:void 0)},m(i,o){L(i,e,o),s&&s.m(e,null)},p(i,o){a===(a=n(i))&&s?s.p(i,o):(s&&s.d(1),s=a&&a(i),s&&(s.c(),s.m(e,null))),o&8&&y(e,"class",i[3]),o&3&&r!==(r=i[1]==="label"?`property-${i[0].id}`:void 0)&&y(e,"for",r)},d(i){i&&v(e),s&&s.d()}}}function Yf(t){let e,r;return{c(){e=O("span"),r=Z(t[2]),this.h()},l(n){e=T(n,"SPAN",{class:!0});var a=D(e);r=Q(a,t[2]),a.forEach(v),this.h()},h(){y(e,"class","visually-hidden")},m(n,a){L(n,e,a),E(e,r)},p(n,a){a&4&&He(r,n[2])},d(n){n&&v(e)}}}function xf(t){let e=t[0].title+"",r;return{c(){r=Z(e)},l(n){r=Q(n,e)},m(n,a){L(n,r,a)},p(n,a){a&1&&e!==(e=n[0].title+"")&&He(r,e)},d(n){n&&v(r)}}}function ed(t){let e,r;return{c(){e=O("span"),r=Z(t[2]),this.h()},l(n){e=T(n,"SPAN",{class:!0});var a=D(e);r=Q(a,t[2]),a.forEach(v),this.h()},h(){y(e,"class","visually-hidden")},m(n,a){L(n,e,a),E(e,r)},p(n,a){a&4&&He(r,n[2])},d(n){n&&v(e)}}}function td(t){let e=t[0].title+"",r;return{c(){r=Z(e)},l(n){r=Q(n,e)},m(n,a){L(n,r,a)},p(n,a){a&1&&e!==(e=n[0].title+"")&&He(r,e)},d(n){n&&v(r)}}}function rd(t){let e,r,n;function a(o,l){return o[1]==="label"?Qf:Zf}let s=a(t),i=s(t);return r=new Xf({props:{description:t[0].description}}),{c(){i.c(),e=B(),Fe(r.$$.fragment)},l(o){i.l(o),e=H(o),ze(r.$$.fragment,o)},m(o,l){i.m(o,l),L(o,e,l),Ue(r,o,l),n=!0},p(o,[l]){s===(s=a(o))&&i?i.p(o,l):(i.d(1),i=s(o),i&&(i.c(),i.m(e.parentNode,e)));const u={};l&1&&(u.description=o[0].description),r.$set(u)},i(o){n||(de(r.$$.fragment,o),n=!0)},o(o){me(r.$$.fragment,o),n=!1},d(o){i.d(o),o&&v(e),Le(r,o)}}}function nd(t,e,r){let n,{formElement:a}=e,{tag:s="label"}=e,{defaultTitle:i=""}=e;return t.$$set=o=>{"formElement"in o&&r(0,a=o.formElement),"tag"in o&&r(1,s=o.tag),"defaultTitle"in o&&r(2,i=o.defaultTitle)},t.$$.update=()=>{t.$$.dirty&1&&r(3,n=a.required?"fw-bold":!("value"in a)||a.value!==null&&a.value!==void 0&&a.value!==""?"":"text-secondary fw-light")},[a,s,i,n]}class Br extends gt{constructor(e){super(),yt(this,e,nd,rd,ht,{formElement:0,tag:1,defaultTitle:2})}}function hs(t){let e,r,n,a;return{c(){e=O("button"),r=Z("Reset"),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var i=D(e);r=Q(i,"Reset"),i.forEach(v),this.h()},h(){y(e,"class","btn btn-warning me-3")},m(s,i){L(s,e,i),E(e,r),n||(a=ue(e,"click",t[3]),n=!0)},p:kt,d(s){s&&v(e),n=!1,a()}}}function ad(t){let e,r,n,a,s,i,o,l,u,c,f,h,g,d,$,p,_,b;l=new Br({props:{formElement:t[0],tag:"span"}});let k=t[1]!==null&&t[0].property.default!==void 0&&hs(t);const P=t[5].default,j=co(P,t,t[4],null);return{c(){e=O("div"),r=O("div"),n=O("div"),a=O("div"),s=O("div"),i=O("button"),o=O("div"),Fe(l.$$.fragment),u=B(),c=O("div"),k&&k.c(),f=B(),h=O("div"),g=O("div"),j&&j.c(),this.h()},l(z){e=T(z,"DIV",{class:!0});var X=D(e);r=T(X,"DIV",{class:!0});var ee=D(r);n=T(ee,"DIV",{class:!0,id:!0});var oe=D(n);a=T(oe,"DIV",{class:!0});var he=D(a);s=T(he,"DIV",{class:!0});var G=D(s);i=T(G,"BUTTON",{class:!0,type:!0});var U=D(i);o=T(U,"DIV",{class:!0});var Y=D(o);ze(l.$$.fragment,Y),Y.forEach(v),u=H(U),c=T(U,"DIV",{});var W=D(c);k&&k.l(W),W.forEach(v),U.forEach(v),G.forEach(v),f=H(he),h=T(he,"DIV",{id:!0,class:!0});var ve=D(h);g=T(ve,"DIV",{class:!0});var se=D(g);j&&j.l(se),se.forEach(v),ve.forEach(v),he.forEach(v),oe.forEach(v),ee.forEach(v),X.forEach(v),this.h()},h(){y(o,"class","flex-fill"),y(i,"class","accordion-button"),y(i,"type","button"),$e(i,"collapsed",t[0].collapsed),y(s,"class","accordion-header"),y(g,"class","accordion-body p-1"),y(h,"id",d="collapse-"+t[0].id),y(h,"class","accordion-collapse jschema-collapsing"),$e(h,"collapse",t[0].collapsed),$e(h,"show",!t[0].collapsed),y(a,"class","accordion-item"),y(n,"class","accordion"),y(n,"id",$="accordion-"+t[0].id),y(r,"class","my-2"),y(e,"class","d-flex flex-column p-2")},m(z,X){L(z,e,X),E(e,r),E(r,n),E(n,a),E(a,s),E(s,i),E(i,o),Ue(l,o,null),E(i,u),E(i,c),k&&k.m(c,null),E(a,f),E(a,h),E(h,g),j&&j.m(g,null),p=!0,_||(b=ue(i,"click",t[6]),_=!0)},p(z,[X]){const ee={};X&1&&(ee.formElement=z[0]),l.$set(ee),z[1]!==null&&z[0].property.default!==void 0?k?k.p(z,X):(k=hs(z),k.c(),k.m(c,null)):k&&(k.d(1),k=null),(!p||X&1)&&$e(i,"collapsed",z[0].collapsed),j&&j.p&&(!p||X&16)&&uo(j,P,z,z[4],p?ho(P,z[4],X,null):fo(z[4]),null),(!p||X&1&&d!==(d="collapse-"+z[0].id))&&y(h,"id",d),(!p||X&1)&&$e(h,"collapse",z[0].collapsed),(!p||X&1)&&$e(h,"show",!z[0].collapsed),(!p||X&1&&$!==($="accordion-"+z[0].id))&&y(n,"id",$)},i(z){p||(de(l.$$.fragment,z),de(j,z),p=!0)},o(z){me(l.$$.fragment,z),me(j,z),p=!1},d(z){z&&v(e),Le(l),k&&k.d(),j&&j.d(z),_=!1,b()}}}function sd(t,e,r){let{$$slots:n={},$$scope:a}=e,{formElement:s}=e,{reset:i=null}=e;function o(c){c.target instanceof HTMLElement&&c.target.classList.contains("bi-info-circle")||r(0,s.collapsed=!s.collapsed,s)}function l(c){c.preventDefault(),c.stopPropagation(),i&&i()}const u=c=>o(c);return t.$$set=c=>{"formElement"in c&&r(0,s=c.formElement),"reset"in c&&r(1,i=c.reset),"$$scope"in c&&r(4,a=c.$$scope)},[s,i,o,l,a,n,u]}class ja extends gt{constructor(e){super(),yt(this,e,sd,ad,ht,{formElement:0,reset:1})}}function ms(t,e,r){const n=t.slice();return n[13]=e[r],n[15]=r,n}function ps(t){let e,r,n,a;function s(){return t[10](t[15])}return{c(){e=O("button"),r=Z("Remove"),this.h()},l(i){e=T(i,"BUTTON",{class:!0,type:!0});var o=D(e);r=Q(o,"Remove"),o.forEach(v),this.h()},h(){y(e,"class","btn btn-warning"),y(e,"type","button")},m(i,o){L(i,e,o),E(e,r),n||(a=ue(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&v(e),n=!1,a()}}}function _s(t){let e,r,n,a,s,i,o,l,u;function c(){return t[11](t[15])}function f(){return t[12](t[15])}return{c(){e=O("button"),r=O("i"),a=B(),s=O("button"),i=O("i"),this.h()},l(h){e=T(h,"BUTTON",{class:!0,"aria-label":!0});var g=D(e);r=T(g,"I",{class:!0}),D(r).forEach(v),g.forEach(v),a=H(h),s=T(h,"BUTTON",{class:!0,"aria-label":!0});var d=D(s);i=T(d,"I",{class:!0}),D(i).forEach(v),d.forEach(v),this.h()},h(){y(r,"class","bi-arrow-up"),y(e,"class","btn btn-light"),y(e,"aria-label","Move item up"),e.disabled=n=t[15]===0,y(i,"class","bi-arrow-down"),y(s,"class","btn btn-light"),y(s,"aria-label","Move item down"),s.disabled=o=t[15]===t[0].length-1},m(h,g){L(h,e,g),E(e,r),L(h,a,g),L(h,s,g),E(s,i),l||(u=[ue(e,"click",La(c)),ue(s,"click",La(f))],l=!0)},p(h,g){t=h,g&1&&n!==(n=t[15]===0)&&(e.disabled=n),g&1&&o!==(o=t[15]===t[0].length-1)&&(s.disabled=o)},d(h){h&&v(e),h&&v(a),h&&v(s),l=!1,It(u)}}}function vs(t,e){let r,n,a,s,i,o,l,u,c,f=e[3]&&ps(e);i=new Ra({props:{formElement:e[13]}});let h=e[0].length>1&&_s(e);return{key:t,first:null,c(){r=O("div"),n=O("div"),f&&f.c(),a=B(),s=O("div"),Fe(i.$$.fragment),o=B(),l=O("div"),h&&h.c(),u=B(),this.h()},l(g){r=T(g,"DIV",{class:!0});var d=D(r);n=T(d,"DIV",{class:!0});var $=D(n);f&&f.l($),$.forEach(v),a=H(d),s=T(d,"DIV",{class:!0});var p=D(s);ze(i.$$.fragment,p),p.forEach(v),o=H(d),l=T(d,"DIV",{class:!0});var _=D(l);h&&h.l(_),_.forEach(v),u=H(d),d.forEach(v),this.h()},h(){y(n,"class","align-self-center m-2"),y(s,"class","flex-fill"),y(l,"class","align-self-right mt-2 me-2"),y(r,"class","d-flex"),this.first=r},m(g,d){L(g,r,d),E(r,n),f&&f.m(n,null),E(r,a),E(r,s),Ue(i,s,null),E(r,o),E(r,l),h&&h.m(l,null),E(r,u),c=!0},p(g,d){e=g,e[3]?f?f.p(e,d):(f=ps(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null);const $={};d&1&&($.formElement=e[13]),i.$set($),e[0].length>1?h?h.p(e,d):(h=_s(e),h.c(),h.m(l,null)):h&&(h.d(1),h=null)},i(g){c||(de(i.$$.fragment,g),c=!0)},o(g){me(i.$$.fragment,g),c=!1},d(g){g&&v(r),f&&f.d(),Le(i),h&&h.d()}}}function id(t){let e,r,n,a,s,i,o=[],l=new Map,u,c,f,h=t[0];const g=d=>d[13].id;for(let d=0;d<h.length;d+=1){let $=ms(t,h,d),p=g($);l.set(p,o[d]=vs(p,$))}return{c(){e=O("div"),r=O("button"),n=Z("Add argument to list"),s=B(),i=O("div");for(let d=0;d<o.length;d+=1)o[d].c();this.h()},l(d){e=T(d,"DIV",{class:!0});var $=D(e);r=T($,"BUTTON",{class:!0,type:!0});var p=D(r);n=Q(p,"Add argument to list"),p.forEach(v),$.forEach(v),s=H(d),i=T(d,"DIV",{});var _=D(i);for(let b=0;b<o.length;b+=1)o[b].l(_);_.forEach(v),this.h()},h(){y(r,"class","btn btn-primary"),y(r,"type","button"),r.disabled=a=!t[4],y(e,"class","d-flex justify-content-center p-2")},m(d,$){L(d,e,$),E(e,r),E(r,n),L(d,s,$),L(d,i,$);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(i,null);u=!0,c||(f=ue(r,"click",t[9]),c=!0)},p(d,$){(!u||$&16&&a!==(a=!d[4]))&&(r.disabled=a),$&457&&(h=d[0],jt(),o=ti(o,$,g,1,d,h,l,i,ri,vs,null,ms),Rt())},i(d){if(!u){for(let $=0;$<h.length;$+=1)de(o[$]);u=!0}},o(d){for(let $=0;$<o.length;$+=1)me(o[$]);u=!1},d(d){d&&v(e),d&&v(s),d&&v(i);for(let $=0;$<o.length;$+=1)o[$].d();c=!1,f()}}}function od(t){let e,r;return e=new ja({props:{formElement:t[1],reset:t[2],$$slots:{default:[id]},$$scope:{ctx:t}}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,[a]){const s={};a&2&&(s.formElement=n[1]),a&4&&(s.reset=n[2]),a&65561&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function ld(t,e,r){let n,a,{formElement:s}=e,{children:i=[]}=e,{reset:o=null}=e;wr(()=>{r(0,i=s.children)});function l(){s.addChild(),r(0,i=s.children)}function u(p){s.removeChild(p),r(0,i=s.children)}function c(p){s.moveChildUp(p),r(0,i=s.children)}function f(p){s.moveChildDown(p),r(0,i=s.children)}const h=()=>l(),g=p=>u(p),d=p=>c(p),$=p=>f(p);return t.$$set=p=>{"formElement"in p&&r(1,s=p.formElement),"children"in p&&r(0,i=p.children),"reset"in p&&r(2,o=p.reset)},t.$$.update=()=>{t.$$.dirty&3&&r(4,n=typeof s.maxItems!="number"||i.length<s.maxItems),t.$$.dirty&3&&r(3,a=!(s.required&&typeof s.minItems=="number"&&i.length<=s.minItems))},[i,s,o,a,n,l,u,c,f,h,g,d,$]}class cd extends gt{constructor(e){super(),yt(this,e,ld,od,ht,{formElement:1,children:0,reset:2})}}function ud(t){let e,r,n,a,s,i,o,l,u,c,f,h,g;return n=new Br({props:{formElement:t[0],defaultTitle:"String argument"}}),{c(){e=O("div"),r=O("div"),Fe(n.$$.fragment),a=B(),s=O("div"),i=O("input"),l=B(),u=O("span"),c=Z(t[2]),this.h()},l(d){e=T(d,"DIV",{class:!0});var $=D(e);r=T($,"DIV",{class:!0});var p=D(r);ze(n.$$.fragment,p),p.forEach(v),a=H($),s=T($,"DIV",{class:!0});var _=D(s);i=T(_,"INPUT",{type:!0,class:!0,id:!0}),l=H(_),u=T(_,"SPAN",{class:!0});var b=D(u);c=Q(b,t[2]),b.forEach(v),_.forEach(v),$.forEach(v),this.h()},h(){y(r,"class","property-metadata d-flex flex-row align-self-center w-50"),y(i,"type","text"),y(i,"class","form-control"),y(i,"id",o="property-"+t[0].id),$e(i,"is-invalid",t[2]),y(u,"class","invalid-feedback"),y(s,"class","property-input ms-auto w-50 has-validation"),y(e,"class","d-flex align-items-center p-2")},m(d,$){L(d,e,$),E(e,r),Ue(n,r,null),E(e,a),E(e,s),E(s,i),t[4](i),ct(i,t[0].value),E(s,l),E(s,u),E(u,c),f=!0,h||(g=[ue(i,"input",t[5]),ue(i,"input",t[3])],h=!0)},p(d,[$]){const p={};$&1&&(p.formElement=d[0]),n.$set(p),(!f||$&1&&o!==(o="property-"+d[0].id))&&y(i,"id",o),$&1&&i.value!==d[0].value&&ct(i,d[0].value),(!f||$&4)&&$e(i,"is-invalid",d[2]),(!f||$&4)&&He(c,d[2])},i(d){f||(de(n.$$.fragment,d),f=!0)},o(d){me(n.$$.fragment,d),f=!1},d(d){d&&v(e),Le(n),t[4](null),h=!1,It(g)}}}function fd(t,e,r){let{formElement:n}=e,a,s="";function i(){n.notifyChange(),r(2,s=""),n.required&&a.value===""&&r(2,s="Field is required")}function o(u){rr[u?"unshift":"push"](()=>{a=u,r(1,a)})}function l(){n.value=this.value,r(0,n)}return t.$$set=u=>{"formElement"in u&&r(0,n=u.formElement)},[n,a,s,i,o,l]}class dd extends gt{constructor(e){super(),yt(this,e,fd,ud,ht,{formElement:0})}}function hd(t){let e,r,n,a,s,i,o,l,u,c,f;return n=new Br({props:{formElement:t[0],defaultTitle:"Boolean argument",tag:"span"}}),{c(){e=O("div"),r=O("div"),Fe(n.$$.fragment),a=B(),s=O("div"),i=O("div"),o=O("input"),this.h()},l(h){e=T(h,"DIV",{class:!0});var g=D(e);r=T(g,"DIV",{class:!0});var d=D(r);ze(n.$$.fragment,d),d.forEach(v),a=H(g),s=T(g,"DIV",{class:!0});var $=D(s);i=T($,"DIV",{class:!0});var p=D(i);o=T(p,"INPUT",{id:!0,class:!0,type:!0,role:!0}),p.forEach(v),$.forEach(v),g.forEach(v),this.h()},h(){y(r,"class","property-metadata d-flex flex-row align-self-center w-50"),y(o,"id",l="property-"+t[0].id),y(o,"class","form-check-input"),y(o,"type","checkbox"),y(o,"role","switch"),y(i,"class","form-check form-switch"),y(s,"class","property-input ms-auto w-25"),y(e,"class","d-flex align-items-center p-2")},m(h,g){L(h,e,g),E(e,r),Ue(n,r,null),E(e,a),E(e,s),E(s,i),E(i,o),o.checked=t[0].value,u=!0,c||(f=[ue(o,"change",t[2]),ue(o,"change",t[1])],c=!0)},p(h,[g]){const d={};g&1&&(d.formElement=h[0]),n.$set(d),(!u||g&1&&l!==(l="property-"+h[0].id))&&y(o,"id",l),g&1&&(o.checked=h[0].value)},i(h){u||(de(n.$$.fragment,h),u=!0)},o(h){me(n.$$.fragment,h),u=!1},d(h){h&&v(e),Le(n),c=!1,It(f)}}}function md(t,e,r){let{formElement:n}=e;function a(){n.notifyChange()}function s(){n.value=this.checked,r(0,n)}return t.$$set=i=>{"formElement"in i&&r(0,n=i.formElement)},[n,a,s]}class pd extends gt{constructor(e){super(),yt(this,e,md,hd,ht,{formElement:0})}}function _d(t){let e,r,n,a,s,i,o,l,u,c,f,h,g,d,$;return n=new Br({props:{formElement:t[0],defaultTitle:"Number argument"}}),{c(){e=O("div"),r=O("div"),Fe(n.$$.fragment),a=B(),s=O("div"),i=O("input"),c=B(),f=O("span"),h=Z(t[2]),this.h()},l(p){e=T(p,"DIV",{class:!0});var _=D(e);r=T(_,"DIV",{class:!0});var b=D(r);ze(n.$$.fragment,b),b.forEach(v),a=H(_),s=T(_,"DIV",{class:!0});var k=D(s);i=T(k,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),c=H(k),f=T(k,"SPAN",{class:!0});var P=D(f);h=Q(P,t[2]),P.forEach(v),k.forEach(v),_.forEach(v),this.h()},h(){y(r,"class","property-metadata d-flex flex-row align-self-center w-50"),y(i,"type","number"),y(i,"min",o=t[0].min),y(i,"max",l=t[0].max),y(i,"class","form-control"),y(i,"id",u="property-"+t[0].id),$e(i,"is-invalid",t[2]),y(f,"class","invalid-feedback"),y(s,"class","property-input ms-auto w-50 has-validation"),y(e,"class","d-flex align-items-center p-2")},m(p,_){L(p,e,_),E(e,r),Ue(n,r,null),E(e,a),E(e,s),E(s,i),t[4](i),ct(i,t[0].value),E(s,c),E(s,f),E(f,h),g=!0,d||($=[ue(i,"input",t[5]),ue(i,"input",t[3])],d=!0)},p(p,[_]){const b={};_&1&&(b.formElement=p[0]),n.$set(b),(!g||_&1&&o!==(o=p[0].min))&&y(i,"min",o),(!g||_&1&&l!==(l=p[0].max))&&y(i,"max",l),(!g||_&1&&u!==(u="property-"+p[0].id))&&y(i,"id",u),_&1&&ni(i.value)!==p[0].value&&ct(i,p[0].value),(!g||_&4)&&$e(i,"is-invalid",p[2]),(!g||_&4)&&He(h,p[2])},i(p){g||(de(n.$$.fragment,p),g=!0)},o(p){me(n.$$.fragment,p),g=!1},d(p){p&&v(e),Le(n),t[4](null),d=!1,It($)}}}function vd(t,e,r){let{formElement:n}=e,a,s="";function i(){o(),n.notifyChange()}function o(){if(r(2,s=""),r(0,n.badInput=a.validity.badInput,n),n.badInput){r(2,s="Should be a number");return}if(a.value===""){n.required?r(2,s="Field is required"):r(2,s="");return}const c=parseInt(a.value),f=n.min,h=n.max;if(f!==null&&c<f){r(2,s="Should be greater or equal than "+f);return}if(h!==null&&c>h){r(2,s="Should be lower or equal than "+h);return}r(2,s="")}function l(c){rr[c?"unshift":"push"](()=>{a=c,r(1,a)})}function u(){n.value=ni(this.value),r(0,n)}return t.$$set=c=>{"formElement"in c&&r(0,n=c.formElement)},[n,a,s,i,l,u]}class gd extends gt{constructor(e){super(),yt(this,e,vd,_d,ht,{formElement:0})}}function gs(t,e,r){const n=t.slice();return n[6]=e[r],n}function ys(t){let e,r=t[6]+"",n,a;return{c(){e=O("option"),n=Z(r),this.h()},l(s){e=T(s,"OPTION",{});var i=D(e);n=Q(i,r),i.forEach(v),this.h()},h(){e.__value=a=t[6],e.value=e.__value},m(s,i){L(s,e,i),E(e,n)},p(s,i){i&1&&r!==(r=s[6]+"")&&He(n,r),i&1&&a!==(a=s[6])&&(e.__value=a,e.value=e.__value)},d(s){s&&v(e)}}}function yd(t){let e,r,n,a,s,i,o,l,u,c,f,h,g,d,$;n=new Br({props:{formElement:t[0],defaultTitle:"Enum argument"}});let p=t[0].options,_=[];for(let b=0;b<p.length;b+=1)_[b]=ys(gs(t,p,b));return{c(){e=O("div"),r=O("div"),Fe(n.$$.fragment),a=B(),s=O("div"),i=O("select"),o=O("option"),l=Z("Select...");for(let b=0;b<_.length;b+=1)_[b].c();c=B(),f=O("span"),h=Z(t[2]),this.h()},l(b){e=T(b,"DIV",{class:!0});var k=D(e);r=T(k,"DIV",{class:!0});var P=D(r);ze(n.$$.fragment,P),P.forEach(v),a=H(k),s=T(k,"DIV",{class:!0});var j=D(s);i=T(j,"SELECT",{class:!0,id:!0});var z=D(i);o=T(z,"OPTION",{});var X=D(o);l=Q(X,"Select..."),X.forEach(v);for(let oe=0;oe<_.length;oe+=1)_[oe].l(z);z.forEach(v),c=H(j),f=T(j,"SPAN",{class:!0});var ee=D(f);h=Q(ee,t[2]),ee.forEach(v),j.forEach(v),k.forEach(v),this.h()},h(){y(r,"class","property-metadata d-flex flex-row align-self-center w-50"),o.__value=null,o.value=o.__value,y(i,"class","form-control"),y(i,"id",u="property-"+t[0].id),t[0].value===void 0&&ai(()=>t[5].call(i)),$e(i,"is-invalid",t[2]),y(f,"class","invalid-feedback"),y(s,"class","property-input ms-auto w-50 has-validation"),y(e,"class","d-flex align-items-center p-2")},m(b,k){L(b,e,k),E(e,r),Ue(n,r,null),E(e,a),E(e,s),E(s,i),E(i,o),E(o,l);for(let P=0;P<_.length;P+=1)_[P]&&_[P].m(i,null);t[4](i),dn(i,t[0].value,!0),E(s,c),E(s,f),E(f,h),g=!0,d||($=[ue(i,"change",t[5]),ue(i,"change",t[3]),ue(i,"input",t[3])],d=!0)},p(b,[k]){const P={};if(k&1&&(P.formElement=b[0]),n.$set(P),k&1){p=b[0].options;let j;for(j=0;j<p.length;j+=1){const z=gs(b,p,j);_[j]?_[j].p(z,k):(_[j]=ys(z),_[j].c(),_[j].m(i,null))}for(;j<_.length;j+=1)_[j].d(1);_.length=p.length}(!g||k&1&&u!==(u="property-"+b[0].id))&&y(i,"id",u),k&1&&dn(i,b[0].value),(!g||k&4)&&$e(i,"is-invalid",b[2]),(!g||k&4)&&He(h,b[2])},i(b){g||(de(n.$$.fragment,b),g=!0)},o(b){me(n.$$.fragment,b),g=!1},d(b){b&&v(e),Le(n),$n(_,b),t[4](null),d=!1,It($)}}}function bd(t,e,r){let{formElement:n}=e,a,s="";function i(){n.notifyChange(),r(2,s=""),n.required&&a.value==="null"&&r(2,s="Field is required")}function o(u){rr[u?"unshift":"push"](()=>{a=u,r(1,a)})}function l(){n.value=si(this),r(0,n)}return t.$$set=u=>{"formElement"in u&&r(0,n=u.formElement)},[n,a,s,i,o,l]}class $d extends gt{constructor(e){super(),yt(this,e,bd,yd,ht,{formElement:0})}}function bs(t,e,r){const n=t.slice();return n[5]=e[r],n[7]=r,n}function $s(t){let e;function r(s,i){return s[0].length>0?wd:Ed}let n=r(t),a=n(t);return{c(){a.c(),e=ut()},l(s){a.l(s),e=ut()},m(s,i){a.m(s,i),L(s,e,i)},p(s,i){n===(n=r(s))&&a?a.p(s,i):(a.d(1),a=n(s),a&&(a.c(),a.m(e.parentNode,e)))},d(s){a.d(s),s&&v(e)}}}function Ed(t){let e,r,n,a;return{c(){e=O("button"),r=Z("Add tuple"),this.h()},l(s){e=T(s,"BUTTON",{class:!0,type:!0});var i=D(e);r=Q(i,"Add tuple"),i.forEach(v),this.h()},h(){y(e,"class","btn btn-primary"),y(e,"type","button")},m(s,i){L(s,e,i),E(e,r),n||(a=ue(e,"click",t[3]),n=!0)},p:kt,d(s){s&&v(e),n=!1,a()}}}function wd(t){let e,r,n,a;return{c(){e=O("button"),r=Z("Remove tuple"),this.h()},l(s){e=T(s,"BUTTON",{class:!0,type:!0});var i=D(e);r=Q(i,"Remove tuple"),i.forEach(v),this.h()},h(){y(e,"class","btn btn-primary"),y(e,"type","button")},m(s,i){L(s,e,i),E(e,r),n||(a=ue(e,"click",t[4]),n=!0)},p:kt,d(s){s&&v(e),n=!1,a()}}}function Es(t,e){let r,n,a,s,i;return a=new Ra({props:{formElement:e[5]}}),{key:t,first:null,c(){r=O("div"),n=O("div"),Fe(a.$$.fragment),s=B(),this.h()},l(o){r=T(o,"DIV",{class:!0});var l=D(r);n=T(l,"DIV",{class:!0});var u=D(n);ze(a.$$.fragment,u),u.forEach(v),s=H(l),l.forEach(v),this.h()},h(){y(n,"class","flex-fill"),y(r,"class","d-flex"),this.first=r},m(o,l){L(o,r,l),E(r,n),Ue(a,n,null),E(r,s),i=!0},p(o,l){e=o;const u={};l&1&&(u.formElement=e[5]),a.$set(u)},i(o){i||(de(a.$$.fragment,o),i=!0)},o(o){me(a.$$.fragment,o),i=!1},d(o){o&&v(r),Le(a)}}}function Sd(t){let e,r,n,a=[],s=new Map,i,o=!t[1].required&&$s(t),l=t[0];const u=c=>c[5].id;for(let c=0;c<l.length;c+=1){let f=bs(t,l,c),h=u(f);s.set(h,a[c]=Es(h,f))}return{c(){e=O("div"),o&&o.c(),r=B(),n=O("div");for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){e=T(c,"DIV",{class:!0});var f=D(e);o&&o.l(f),f.forEach(v),r=H(c),n=T(c,"DIV",{});var h=D(n);for(let g=0;g<a.length;g+=1)a[g].l(h);h.forEach(v),this.h()},h(){y(e,"class","d-flex justify-content-center p-2")},m(c,f){L(c,e,f),o&&o.m(e,null),L(c,r,f),L(c,n,f);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(n,null);i=!0},p(c,f){c[1].required?o&&(o.d(1),o=null):o?o.p(c,f):(o=$s(c),o.c(),o.m(e,null)),f&1&&(l=c[0],jt(),a=ti(a,f,u,1,c,l,s,n,ri,Es,null,bs),Rt())},i(c){if(!i){for(let f=0;f<l.length;f+=1)de(a[f]);i=!0}},o(c){for(let f=0;f<a.length;f+=1)me(a[f]);i=!1},d(c){c&&v(e),o&&o.d(),c&&v(r),c&&v(n);for(let f=0;f<a.length;f+=1)a[f].d()}}}function kd(t){let e,r;return e=new ja({props:{formElement:t[1],reset:t[2],$$slots:{default:[Sd]},$$scope:{ctx:t}}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,[a]){const s={};a&2&&(s.formElement=n[1]),a&4&&(s.reset=n[2]),a&259&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function Pd(t,e,r){let{formElement:n}=e,{children:a=[]}=e,{reset:s=null}=e;wr(()=>{r(0,a=n.children)});function i(){n.addTuple(),r(0,a=n.children)}function o(){n.removeTuple(),r(0,a=n.children)}return t.$$set=l=>{"formElement"in l&&r(1,n=l.formElement),"children"in l&&r(0,a=l.children),"reset"in l&&r(2,s=l.reset)},[a,n,s,i,o]}class Nd extends gt{constructor(e){super(),yt(this,e,Pd,kd,ht,{formElement:1,children:0,reset:2})}}function Id(t){let e,r,n=t[0].type+"",a;return{c(){e=O("p"),r=Z("Unsupported property type "),a=Z(n)},l(s){e=T(s,"P",{});var i=D(e);r=Q(i,"Unsupported property type "),a=Q(i,n),i.forEach(v)},m(s,i){L(s,e,i),E(e,r),E(e,a)},p(s,i){i&1&&n!==(n=s[0].type+"")&&He(a,n)},i:kt,o:kt,d(s){s&&v(e)}}}function Od(t){let e,r;return e=new Nd({props:{formElement:t[0],reset:t[1]}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&2&&(s.reset=n[1]),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function Td(t){let e,r;return e=new cd({props:{formElement:t[0],reset:t[1]}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&2&&(s.reset=n[1]),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function Dd(t){let e,r;return e=new ja({props:{formElement:t[0],reset:t[1],$$slots:{default:[Vd]},$$scope:{ctx:t}}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&2&&(s.reset=n[1]),a&5&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function Ad(t){let e,r;return e=new $d({props:{formElement:t[0]}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function Cd(t){let e,r;return e=new pd({props:{formElement:t[0]}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function jd(t){let e,r;return e=new gd({props:{formElement:t[0]}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function Rd(t){let e,r;return e=new dd({props:{formElement:t[0]}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function Vd(t){let e,r;return e=new io({props:{formElement:t[0]}}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function Md(t){let e,r,n,a;const s=[Rd,jd,Cd,Ad,Dd,Td,Od,Id],i=[];function o(l,u){return l[0].type==="string"?0:l[0].type==="number"?1:l[0].type==="boolean"?2:l[0].type==="enum"?3:l[0].type==="object"?4:l[0].type==="array"?5:l[0].type==="tuple"?6:7}return e=o(t),r=i[e]=s[e](t),{c(){r.c(),n=ut()},l(l){r.l(l),n=ut()},m(l,u){i[e].m(l,u),L(l,n,u),a=!0},p(l,[u]){let c=e;e=o(l),e===c?i[e].p(l,u):(jt(),me(i[c],1,1,()=>{i[c]=null}),Rt(),r=i[e],r?r.p(l,u):(r=i[e]=s[e](l),r.c()),de(r,1),r.m(n.parentNode,n))},i(l){a||(de(r),a=!0)},o(l){me(r),a=!1},d(l){i[e].d(l),l&&v(n)}}}function Fd(t,e,r){let{formElement:n}=e,{reset:a=null}=e;return t.$$set=s=>{"formElement"in s&&r(0,n=s.formElement),"reset"in s&&r(1,a=s.reset)},[n,a]}class Ra extends gt{constructor(e){super(),yt(this,e,Fd,Md,ht,{formElement:0,reset:1})}}function ws(t,e,r){const n=t.slice();return n[11]=e[r],n[13]=r,n}function Ss(t){let e,r,n,a,s,i,o,l,u,c,f,h=t[4]&&ks(t);return{c(){e=O("div"),r=O("form"),n=O("div"),a=O("div"),s=O("input"),i=B(),o=O("button"),l=Z("Add property"),u=B(),h&&h.c(),this.h()},l(g){e=T(g,"DIV",{class:!0});var d=D(e);r=T(d,"FORM",{class:!0});var $=D(r);n=T($,"DIV",{class:!0});var p=D(n);a=T(p,"DIV",{class:!0});var _=D(a);s=T(_,"INPUT",{type:!0,placeholder:!0,class:!0}),i=H(_),o=T(_,"BUTTON",{class:!0,type:!0});var b=D(o);l=Q(b,"Add property"),b.forEach(v),u=H(_),h&&h.l(_),_.forEach(v),p.forEach(v),$.forEach(v),d.forEach(v),this.h()},h(){y(s,"type","text"),y(s,"placeholder","Key"),y(s,"class","form-control"),$e(s,"is-invalid",t[4]),y(o,"class","btn btn-primary"),y(o,"type","button"),y(a,"class","input-group"),$e(a,"has-validation",t[4]),y(n,"class","col-lg-6 offset-lg-3 mb-1"),y(r,"class","row row-cols-auto g-3 align-items-center p-2 flex-grow-1"),y(e,"class","d-flex justify-content-center")},m(g,d){L(g,e,d),E(e,r),E(r,n),E(n,a),E(a,s),ct(s,t[3]),E(a,i),E(a,o),E(o,l),E(a,u),h&&h.m(a,null),c||(f=[ue(s,"input",t[8]),ue(o,"click",t[5])],c=!0)},p(g,d){d&8&&s.value!==g[3]&&ct(s,g[3]),d&16&&$e(s,"is-invalid",g[4]),g[4]?h?h.p(g,d):(h=ks(g),h.c(),h.m(a,null)):h&&(h.d(1),h=null),d&16&&$e(a,"has-validation",g[4])},d(g){g&&v(e),h&&h.d(),c=!1,It(f)}}}function ks(t){let e,r;return{c(){e=O("div"),r=Z(t[4]),this.h()},l(n){e=T(n,"DIV",{class:!0});var a=D(e);r=Q(a,t[4]),a.forEach(v),this.h()},h(){y(e,"class","invalid-feedback")},m(n,a){L(n,e,a),E(e,r)},p(n,a){a&16&&He(r,n[4])},d(n){n&&v(e)}}}function Ps(t){let e,r,n,a;function s(){return t[9](t[11])}return{c(){e=O("button"),r=Z("Remove Property Block"),this.h()},l(i){e=T(i,"BUTTON",{class:!0,type:!0});var o=D(e);r=Q(o,"Remove Property Block"),o.forEach(v),this.h()},h(){y(e,"class","btn btn-danger w-100"),y(e,"type","button")},m(i,o){L(i,e,o),E(e,r),n||(a=ue(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&v(e),n=!1,a()}}}function Ns(t){let e,r,n,a,s,i,o,l=t[11].removable&&Ps(t);function u(){return t[10](t[13])}return a=new Ra({props:{formElement:t[11],reset:t[1]?u:null}}),{c(){e=O("div"),l&&l.c(),r=B(),n=O("div"),Fe(a.$$.fragment),i=B(),this.h()},l(c){e=T(c,"DIV",{class:!0});var f=D(e);l&&l.l(f),r=H(f),n=T(f,"DIV",{class:!0,id:!0});var h=D(n);ze(a.$$.fragment,h),h.forEach(v),i=H(f),f.forEach(v),this.h()},h(){y(n,"class","d-flex flex-column properties-block"),y(n,"id",s=t[11].id+"-wrapper"),y(e,"class","property-block svelte-en10qk")},m(c,f){L(c,e,f),l&&l.m(e,null),E(e,r),E(e,n),Ue(a,n,null),E(e,i),o=!0},p(c,f){t=c,t[11].removable?l?l.p(t,f):(l=Ps(t),l.c(),l.m(e,r)):l&&(l.d(1),l=null);const h={};f&4&&(h.formElement=t[11]),f&2&&(h.reset=t[1]?u:null),a.$set(h),(!o||f&4&&s!==(s=t[11].id+"-wrapper"))&&y(n,"id",s)},i(c){o||(de(a.$$.fragment,c),o=!0)},o(c){me(a.$$.fragment,c),o=!1},d(c){c&&v(e),l&&l.d(),Le(a)}}}function Is(t){let e,r,n=t[2],a=[];for(let i=0;i<n.length;i+=1)a[i]=Ns(ws(t,n,i));const s=i=>me(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=ut()},l(i){for(let o=0;o<a.length;o+=1)a[o].l(i);e=ut()},m(i,o){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(i,o);L(i,e,o),r=!0},p(i,o){if(o&198){n=i[2];let l;for(l=0;l<n.length;l+=1){const u=ws(i,n,l);a[l]?(a[l].p(u,o),de(a[l],1)):(a[l]=Ns(u),a[l].c(),de(a[l],1),a[l].m(e.parentNode,e))}for(jt(),l=n.length;l<a.length;l+=1)s(l);Rt()}},i(i){if(!r){for(let o=0;o<n.length;o+=1)de(a[o]);r=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)me(a[o]);r=!1},d(i){$n(a,i),i&&v(e)}}}function zd(t){let e,r=t[2],n,a,s=t[0].additionalProperties&&Ss(t),i=Is(t);return{c(){s&&s.c(),e=B(),i.c(),n=ut()},l(o){s&&s.l(o),e=H(o),i.l(o),n=ut()},m(o,l){s&&s.m(o,l),L(o,e,l),i.m(o,l),L(o,n,l),a=!0},p(o,[l]){o[0].additionalProperties?s?s.p(o,l):(s=Ss(o),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),l&4&&ht(r,r=o[2])?(jt(),me(i,1,1,kt),Rt(),i=Is(o),i.c(),de(i,1),i.m(n.parentNode,n)):i.p(o,l)},i(o){a||(de(i),a=!0)},o(o){me(i),a=!1},d(o){s&&s.d(o),o&&v(e),o&&v(n),i.d(o)}}}function Ud(t,e,r){let{formElement:n}=e,{isRoot:a=!1}=e,s=[];wr(()=>{r(2,s=n.children)});let i="",o="";function l(){try{r(4,o=""),n.addChild(i.trim()),r(2,s=n.children),r(3,i="")}catch(d){r(4,o=d.message)}}function u(d){n.removeChild(d),r(2,s=n.children)}function c(d){n.resetChild(d),r(2,s=n.children)}function f(){i=this.value,r(3,i)}const h=d=>u(d.key),g=d=>c(d);return t.$$set=d=>{"formElement"in d&&r(0,n=d.formElement),"isRoot"in d&&r(1,a=d.isRoot)},[n,a,s,i,o,l,u,c,f,h,g]}class io extends gt{constructor(e){super(),yt(this,e,Ud,zd,ht,{formElement:0,isRoot:1})}}function Os(t){let e=t[1],r,n,a=Ts(t);return{c(){a.c(),r=ut()},l(s){a.l(s),r=ut()},m(s,i){a.m(s,i),L(s,r,i),n=!0},p(s,i){i&2&&ht(e,e=s[1])?(jt(),me(a,1,1,kt),Rt(),a=Ts(s),a.c(),de(a,1),a.m(r.parentNode,r)):a.p(s,i)},i(s){n||(de(a),n=!0)},o(s){me(a),n=!1},d(s){s&&v(r),a.d(s)}}}function Ts(t){let e,r,n;return r=new io({props:{formElement:t[1].root,isRoot:!0}}),{c(){e=O("div"),Fe(r.$$.fragment),this.h()},l(a){e=T(a,"DIV",{id:!0});var s=D(e);ze(r.$$.fragment,s),s.forEach(v),this.h()},h(){y(e,"id",t[0])},m(a,s){L(a,e,s),Ue(r,e,null),n=!0},p(a,s){const i={};s&2&&(i.formElement=a[1].root),r.$set(i),(!n||s&1)&&y(e,"id",a[0])},i(a){n||(de(r.$$.fragment,a),n=!0)},o(a){me(r.$$.fragment,a),n=!1},d(a){a&&v(e),Le(r)}}}function Ld(t){let e,r,n=t[1]&&Os(t);return{c(){n&&n.c(),e=ut()},l(a){n&&n.l(a),e=ut()},m(a,s){n&&n.m(a,s),L(a,e,s),r=!0},p(a,[s]){a[1]?n?(n.p(a,s),s&2&&de(n,1)):(n=Os(a),n.c(),de(n,1),n.m(e.parentNode,e)):n&&(jt(),me(n,1,1,()=>{n=null}),Rt())},i(a){r||(de(n),r=!0)},o(a){me(n),r=!1},d(a){n&&n.d(a),a&&v(e)}}}function qd(t,e,r){const n=ii();let{schema:a}=e,{schemaData:s}=e,{propertiesToIgnore:i=[]}=e,{componentId:o}=e,l;wr(()=>{f()});function u(){return l==null?void 0:l.getFormData()}function c(){for(const h of document.querySelectorAll(`#${o} input, #${o} select`))h.dispatchEvent(new Event("input"));l==null||l.validate()}function f(){if(a)try{r(1,l=new Hf(a,n,i,s))}catch(h){console.error(h),r(1,l=void 0)}else r(1,l=void 0)}return t.$$set=h=>{"schema"in h&&r(2,a=h.schema),"schemaData"in h&&r(3,s=h.schemaData),"propertiesToIgnore"in h&&r(4,i=h.propertiesToIgnore),"componentId"in h&&r(0,o=h.componentId)},t.$$.update=()=>{t.$$.dirty&28&&(a||s||i)&&f()},[o,l,a,s,i,u,c]}class Va extends gt{constructor(e){super(),yt(this,e,qd,Ld,ht,{schema:2,schemaData:3,propertiesToIgnore:4,componentId:0,getArguments:5,validateArguments:6})}get getArguments(){return this.$$.ctx[5]}get validateArguments(){return this.$$.ctx[6]}}const Jd="CellvoyagerToOmeZarrInit",Kd="object",Bd={zarr_urls:{title:"Zarr Urls",type:"array",items:{type:"string"},description:"List of paths or urls to the individual OME-Zarr image to be processed. Not used by the converter task. (standard argument for Fractal tasks, managed by Fractal server)."},zarr_dir:{title:"Zarr Dir",type:"string",description:"path of the directory where the new OME-Zarrs will be created. (standard argument for Fractal tasks, managed by Fractal server)."},image_dirs:{title:"Image Dirs",type:"array",items:{type:"string"},description:"list of paths to the folders that contains the Cellvoyager image files. Each entry is a path to a folder that contains the image files themselves for a multiwell plate and the MeasurementData & MeasurementDetail metadata files."},allowed_channels:{title:"Allowed Channels",type:"array",items:{$ref:"#/definitions/OmeroChannel"},description:"A list of `OmeroChannel` s, where each channel must include the `wavelength_id` attribute and where the `wavelength_id` values must be unique across the list."},image_glob_patterns:{title:"Image Glob Patterns",type:"array",items:{type:"string"},description:'If specified, only parse images with filenames that match with all these patterns. Patterns must be defined as in https://docs.python.org/3/library/fnmatch.html, Example: `image_glob_pattern=["*_B03_*"]` => only process well B03 `image_glob_pattern=["*_C09_*", "*F016*", "*Z[0-5][0-9]C*"]` => only process well C09, field of view 16 and Z planes 0-59.'},num_levels:{title:"Num Levels",default:5,type:"integer",description:"Number of resolution-pyramid levels. If set to `5`, there will be the full-resolution level and 4 levels of downsampled images."},coarsening_xy:{title:"Coarsening Xy",default:2,type:"integer",description:"Linear coarsening factor between subsequent levels. If set to `2`, level 1 is 2x downsampled, level 2 is 4x downsampled etc."},image_extension:{title:"Image Extension",default:"tif",type:"string",description:'Filename extension of images (e.g. `"tif"` or `"png"`)'},metadata_table_file:{title:"Metadata Table File",type:"string",description:"If `None`, parse Yokogawa metadata from mrf/mlf files in the input_path folder; else, the full path to a csv file containing the parsed metadata table."},overwrite:{title:"Overwrite",default:!1,type:"boolean",description:"If `True`, overwrite the task output."}},Hd=["zarr_urls","zarr_dir","image_dirs","allowed_channels"],Gd=!1,Wd={Window:{title:"Window",description:"Custom class for Omero-channel window, based on OME-NGFF v0.4.",type:"object",properties:{min:{title:"Min",type:"integer",description:"Do not change. It will be set to `0` by default."},max:{title:"Max",type:"integer",description:"Do not change. It will be set according to bit-depth of the images by default (e.g. 65535 for 16 bit images)."},start:{title:"Start",type:"integer",description:"Lower-bound rescaling value for visualization."},end:{title:"End",type:"integer",description:"Upper-bound rescaling value for visualization."}},required:["start","end"]},OmeroChannel:{title:"OmeroChannel",description:"Custom class for Omero channels, based on OME-NGFF v0.4.",type:"object",properties:{wavelength_id:{title:"Wavelength Id",type:"string",description:"Unique ID for the channel wavelength, e.g. `A01_C01`."},index:{title:"Index",type:"integer",description:"Do not change. For internal use only."},label:{title:"Label",type:"string",description:"Name of the channel."},window:{$ref:"#/definitions/Window",title:"Window",description:"Optional `Window` object to set default display settings for napari."},color:{title:"Color",type:"string",description:"Optional hex colormap to display the channel in napari (it must be of length 6, e.g. `00FFFF`)."},active:{title:"Active",default:!0,type:"boolean",description:"Should this channel be shown in the viewer?"},coefficient:{title:"Coefficient",default:1,type:"integer",description:"Do not change. Omero-channel attribute."},inverted:{title:"Inverted",default:!1,type:"boolean",description:"Do not change. Omero-channel attribute."}},required:["wavelength_id"]}},Xd={title:Jd,type:Kd,properties:Bd,required:Hd,additionalProperties:Gd,definitions:Wd};function Ds(t){let e,r,n;return{c(){e=O("div"),r=O("pre"),n=Z(t[7]),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=D(e);r=T(s,"PRE",{});var i=D(r);n=Q(i,t[7]),i.forEach(v),s.forEach(v),this.h()},h(){y(e,"class","alert alert-danger")},m(a,s){L(a,e,s),E(e,r),E(r,n)},p(a,s){s&128&&He(n,a[7])},d(a){a&&v(e)}}}function As(t){let e,r;return{c(){e=O("div"),r=Z("Data is valid"),this.h()},l(n){e=T(n,"DIV",{class:!0});var a=D(e);r=Q(a,"Data is valid"),a.forEach(v),this.h()},h(){y(e,"class","alert alert-success")},m(n,a){L(n,e,a),E(e,r)},d(n){n&&v(e)}}}function Cs(t){let e,r,n={componentId:"json-schema-sandbox",schema:t[0],schemaData:t[1],propertiesToIgnore:t[9]};return e=new Va({props:n}),t[17](e),e.$on("change",t[14]),{c(){Fe(e.$$.fragment)},l(a){ze(e.$$.fragment,a)},m(a,s){Ue(e,a,s),r=!0},p(a,s){const i={};s&1&&(i.schema=a[0]),s&2&&(i.schemaData=a[1]),s&512&&(i.propertiesToIgnore=a[9]),e.$set(i)},i(a){r||(de(e.$$.fragment,a),r=!0)},o(a){me(e.$$.fragment,a),r=!1},d(a){t[17](null),Le(e,a)}}}function Zd(t){let e,r,n,a,s,i,o,l,u,c,f,h,g,d,$,p,_,b,k,P,j,z,X,ee,oe,he,G,U,Y,W,ve,se,Te,Pe,we,J,C,R,A,m,S,F,q,K,x=t[7]&&Ds(t),re=t[8]&&As(),fe=t[0]&&Cs(t);return{c(){e=O("h1"),r=Z("Sandbox page for JSON Schema"),n=B(),a=O("p"),s=Z("This is a test page for the JSON Schema component"),i=B(),o=O("div"),l=O("div"),u=O("div"),c=O("div"),f=O("button"),h=Z("Load example"),g=B(),d=O("div"),$=O("div"),p=O("label"),_=Z("JSON Schema"),b=B(),k=O("textarea"),P=B(),j=O("span"),z=Z(t[4]),X=B(),ee=O("div"),oe=O("div"),he=O("label"),G=Z("Initial JSON data"),U=B(),Y=O("textarea"),W=B(),ve=O("span"),se=Z(t[5]),Te=B(),Pe=O("div"),we=O("div"),x&&x.c(),J=B(),re&&re.c(),C=B(),R=O("button"),A=Z("Validate"),m=B(),S=O("div"),fe&&fe.c(),this.h()},l(ce){e=T(ce,"H1",{class:!0});var De=D(e);r=Q(De,"Sandbox page for JSON Schema"),De.forEach(v),n=H(ce),a=T(ce,"P",{});var je=D(a);s=Q(je,"This is a test page for the JSON Schema component"),je.forEach(v),i=H(ce),o=T(ce,"DIV",{class:!0});var Ne=D(o);l=T(Ne,"DIV",{class:!0});var Ce=D(l);u=T(Ce,"DIV",{class:!0});var pe=D(u);c=T(pe,"DIV",{class:!0});var be=D(c);f=T(be,"BUTTON",{class:!0});var qe=D(f);h=Q(qe,"Load example"),qe.forEach(v),be.forEach(v),pe.forEach(v),g=H(Ce),d=T(Ce,"DIV",{class:!0});var mt=D(d);$=T(mt,"DIV",{class:!0});var ft=D($);p=T(ft,"LABEL",{for:!0});var Ae=D(p);_=Q(Ae,"JSON Schema"),Ae.forEach(v),b=H(ft),k=T(ft,"TEXTAREA",{id:!0,class:!0,rows:!0}),D(k).forEach(v),P=H(ft),j=T(ft,"SPAN",{class:!0});var Xe=D(j);z=Q(Xe,t[4]),Xe.forEach(v),ft.forEach(v),mt.forEach(v),X=H(Ce),ee=T(Ce,"DIV",{class:!0});var tt=D(ee);oe=T(tt,"DIV",{class:!0});var Ze=D(oe);he=T(Ze,"LABEL",{for:!0});var pt=D(he);G=Q(pt,"Initial JSON data"),pt.forEach(v),U=H(Ze),Y=T(Ze,"TEXTAREA",{id:!0,class:!0,rows:!0}),D(Y).forEach(v),W=H(Ze),ve=T(Ze,"SPAN",{class:!0});var rt=D(ve);se=Q(rt,t[5]),rt.forEach(v),Ze.forEach(v),tt.forEach(v),Te=H(Ce),Pe=T(Ce,"DIV",{class:!0});var nt=D(Pe);we=T(nt,"DIV",{class:!0});var Je=D(we);x&&x.l(Je),J=H(Je),re&&re.l(Je),C=H(Je),R=T(Je,"BUTTON",{class:!0});var ot=D(R);A=Q(ot,"Validate"),ot.forEach(v),Je.forEach(v),nt.forEach(v),Ce.forEach(v),m=H(Ne),S=T(Ne,"DIV",{class:!0});var Ge=D(S);fe&&fe.l(Ge),Ge.forEach(v),Ne.forEach(v),this.h()},h(){y(e,"class","fw-light"),y(f,"class","btn btn-outline-primary float-end"),y(c,"class","col"),y(u,"class","row"),y(p,"for","json-schema"),y(k,"id","json-schema"),y(k,"class","form-control"),y(k,"rows","10"),$e(k,"is-invalid",t[4]),y(j,"class","invalid-feedback"),y($,"class","col"),y(d,"class","row has-validation mt-2 mb-2"),y(he,"for","jdata"),y(Y,"id","jdata"),y(Y,"class","form-control"),y(Y,"rows","10"),$e(Y,"is-invalid",t[5]),y(ve,"class","invalid-feedback"),y(oe,"class","col"),y(ee,"class","row has-validation mt-3 mb-2"),y(R,"class","btn btn-primary"),y(we,"class","col"),y(Pe,"class","row mt-3 mb-2"),y(l,"class","col-lg-6 mt-3"),y(S,"class","col-lg-6"),y(o,"class","row")},m(ce,De){L(ce,e,De),E(e,r),L(ce,n,De),L(ce,a,De),E(a,s),L(ce,i,De),L(ce,o,De),E(o,l),E(l,u),E(u,c),E(c,f),E(f,h),E(l,g),E(l,d),E(d,$),E($,p),E(p,_),E($,b),E($,k),ct(k,t[2]),E($,P),E($,j),E(j,z),E(l,X),E(l,ee),E(ee,oe),E(oe,he),E(he,G),E(oe,U),E(oe,Y),ct(Y,t[3]),E(oe,W),E(oe,ve),E(ve,se),E(l,Te),E(l,Pe),E(Pe,we),x&&x.m(we,null),E(we,J),re&&re.m(we,null),E(we,C),E(we,R),E(R,A),E(o,m),E(o,S),fe&&fe.m(S,null),F=!0,q||(K=[ue(f,"click",t[13]),ue(k,"input",t[15]),ue(k,"input",t[10]),ue(Y,"input",t[16]),ue(Y,"input",t[11]),ue(R,"click",t[12])],q=!0)},p(ce,[De]){De&4&&ct(k,ce[2]),(!F||De&16)&&$e(k,"is-invalid",ce[4]),(!F||De&16)&&He(z,ce[4]),De&8&&ct(Y,ce[3]),(!F||De&32)&&$e(Y,"is-invalid",ce[5]),(!F||De&32)&&He(se,ce[5]),ce[7]?x?x.p(ce,De):(x=Ds(ce),x.c(),x.m(we,J)):x&&(x.d(1),x=null),ce[8]?re||(re=As(),re.c(),re.m(we,C)):re&&(re.d(1),re=null),ce[0]?fe?(fe.p(ce,De),De&1&&de(fe,1)):(fe=Cs(ce),fe.c(),de(fe,1),fe.m(S,null)):fe&&(jt(),me(fe,1,1,()=>{fe=null}),Rt())},i(ce){F||(de(fe),F=!0)},o(ce){me(fe),F=!1},d(ce){ce&&v(e),ce&&v(n),ce&&v(a),ce&&v(i),ce&&v(o),x&&x.d(),re&&re.d(),fe&&fe.d(),q=!1,It(K)}}}function Qd(t,e,r){let n,a,s,i="",o="",l="",u="",c;function f(){if(r(7,g=""),r(4,l=""),i===""){r(0,a=void 0);return}try{r(0,a=JSON.parse(i)),_()}catch{r(0,a=void 0),r(4,l="Invalid JSON");return}new br().loadSchema(a)||(r(0,a=void 0),r(4,l="Invalid JSON Schema"))}function h(){r(7,g=""),r(5,u="");try{r(1,s=JSON.parse(o))}catch{r(1,s=void 0),r(5,u="Invalid JSON")}}let g="",d=!1;function $(){try{r(7,g=""),r(8,d=!1),c==null||c.validateArguments(),r(8,d=!0)}catch(X){r(7,g=Bn(X))}}function p(){r(2,i=JSON.stringify(Xd,null,2)),f()}async function _(){await jr(),c&&k(c.getArguments())}function b({detail:X}){k(X.value)}function k(X){const ee=xt(X),oe=JSON.stringify(En(ee),null,2);oe!==o&&r(3,o=oe)}function P(){i=this.value,r(2,i)}function j(){o=this.value,r(3,o)}function z(X){rr[X?"unshift":"push"](()=>{c=X,r(6,c)})}return r(9,n=pn(!1)),[a,s,i,o,l,u,c,g,d,n,f,h,$,p,b,P,j,z]}class Yd extends gt{constructor(e){super(),yt(this,e,Qd,Zd,ht,{})}}function js(t,e,r){const n=t.slice();return n[42]=e[r],n[44]=r,n}function Rs(t){let e,r,n;return{c(){e=O("div"),r=O("pre"),n=Z(t[16]),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=D(e);r=T(s,"PRE",{});var i=D(r);n=Q(i,t[16]),i.forEach(v),s.forEach(v),this.h()},h(){y(e,"class","alert alert-danger")},m(a,s){L(a,e,s),E(e,r),E(r,n)},p(a,s){s[0]&65536&&He(n,a[16])},d(a){a&&v(e)}}}function Vs(t){let e,r;return{c(){e=O("div"),r=Z("Data is valid"),this.h()},l(n){e=T(n,"DIV",{class:!0});var a=D(e);r=Q(a,"Data is valid"),a.forEach(v),this.h()},h(){y(e,"class","alert alert-success")},m(n,a){L(n,e,a),E(e,r)},d(n){n&&v(e)}}}function Ms(t){let e,r,n={componentId:"json-schema-version-update-sandbox",schema:t[4],schemaData:t[5],propertiesToIgnore:t[20]};return e=new Va({props:n}),t[35](e),e.$on("change",t[25]),{c(){Fe(e.$$.fragment)},l(a){ze(e.$$.fragment,a)},m(a,s){Ue(e,a,s),r=!0},p(a,s){const i={};s[0]&16&&(i.schema=a[4]),s[0]&32&&(i.schemaData=a[5]),s[0]&1048576&&(i.propertiesToIgnore=a[20]),e.$set(i)},i(a){r||(de(e.$$.fragment,a),r=!0)},o(a){me(e.$$.fragment,a),r=!1},d(a){t[35](null),Le(e,a)}}}function Fs(t){let e,r,n,a,s,i,o=t[14]&&t[15]&&zs(t);return{c(){e=O("button"),r=Z("Try version update"),n=B(),o&&o.c(),a=ut(),this.h()},l(l){e=T(l,"BUTTON",{class:!0});var u=D(e);r=Q(u,"Try version update"),u.forEach(v),n=H(l),o&&o.l(l),a=ut(),this.h()},h(){y(e,"class","btn btn-primary mt-4 mb-2")},m(l,u){L(l,e,u),E(e,r),L(l,n,u),o&&o.m(l,u),L(l,a,u),s||(i=ue(e,"click",t[26]),s=!0)},p(l,u){l[14]&&l[15]?o?o.p(l,u):(o=zs(l),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(l){l&&v(e),l&&v(n),o&&o.d(l),l&&v(a),s=!1,i()}}}function zs(t){let e,r,n,a=t[3]&&Us(t),s=t[1]&&Js(t),i=t[18]&&Gs(t);return{c(){a&&a.c(),e=B(),s&&s.c(),r=B(),i&&i.c(),n=ut()},l(o){a&&a.l(o),e=H(o),s&&s.l(o),r=H(o),i&&i.l(o),n=ut()},m(o,l){a&&a.m(o,l),L(o,e,l),s&&s.m(o,l),L(o,r,l),i&&i.m(o,l),L(o,n,l)},p(o,l){o[3]?a?a.p(o,l):(a=Us(o),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),o[1]?s?s.p(o,l):(s=Js(o),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),o[18]?i?i.p(o,l):(i=Gs(o),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(o){a&&a.d(o),o&&v(e),s&&s.d(o),o&&v(r),i&&i.d(o),o&&v(n)}}}function Us(t){let e,r,n,a,s,i=t[3],o=[];for(let l=0;l<i.length;l+=1)o[l]=qs(js(t,i,l));return{c(){e=O("div"),r=O("p"),n=Z("Following errors must be fixed before performing the update:"),a=B(),s=O("ul");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=T(l,"DIV",{class:!0});var u=D(e);r=T(u,"P",{});var c=D(r);n=Q(c,"Following errors must be fixed before performing the update:"),c.forEach(v),a=H(u),s=T(u,"UL",{id:!0});var f=D(s);for(let h=0;h<o.length;h+=1)o[h].l(f);f.forEach(v),u.forEach(v),this.h()},h(){y(s,"id","validation-errors"),y(e,"class","alert alert-danger mt-3")},m(l,u){L(l,e,u),E(e,r),E(r,n),E(e,a),E(e,s);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(s,null)},p(l,u){if(u[0]&8){i=l[3];let c;for(c=0;c<i.length;c+=1){const f=js(l,i,c);o[c]?o[c].p(f,u):(o[c]=qs(f),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},d(l){l&&v(e),$n(o,l)}}}function Ls(t){let e=t[42].instancePath+"",r,n;return{c(){r=Z(e),n=Z(":")},l(a){r=Q(a,e),n=Q(a,":")},m(a,s){L(a,r,s),L(a,n,s)},p(a,s){s[0]&8&&e!==(e=a[42].instancePath+"")&&He(r,e)},d(a){a&&v(r),a&&v(n)}}}function xd(t){let e=t[42].message+"",r;return{c(){r=Z(e)},l(n){r=Q(n,e)},m(n,a){L(n,r,a)},p(n,a){a[0]&8&&e!==(e=n[42].message+"")&&He(r,e)},d(n){n&&v(r)}}}function eh(t){let e,r=t[42].params.additionalProperty+"",n,a;return{c(){e=Z("must NOT have additional property '"),n=Z(r),a=Z("'")},l(s){e=Q(s,"must NOT have additional property '"),n=Q(s,r),a=Q(s,"'")},m(s,i){L(s,e,i),L(s,n,i),L(s,a,i)},p(s,i){i[0]&8&&r!==(r=s[42].params.additionalProperty+"")&&He(n,r)},d(s){s&&v(e),s&&v(n),s&&v(a)}}}function qs(t){let e,r,n,a,s,i,o,l,u,c=JSON.stringify(t[42],null,2)+"",f,h,g=t[42].instancePath&&Ls(t);function d(_,b){return _[42].keyword==="additionalProperties"?eh:xd}let $=d(t),p=$(t);return{c(){e=O("li"),g&&g.c(),r=B(),p.c(),n=B(),a=O("small"),s=Z("more"),i=B(),o=O("div"),l=O("div"),u=O("pre"),f=Z(c),h=B(),this.h()},l(_){e=T(_,"LI",{});var b=D(e);g&&g.l(b),r=H(b),p.l(b),n=H(b),a=T(b,"SMALL",{"data-bs-toggle":!0,"data-bs-target":!0,"aria-expanded":!0,"aria-controls":!0,class:!0,role:!0});var k=D(a);s=Q(k,"more"),k.forEach(v),i=H(b),o=T(b,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var P=D(o);l=T(P,"DIV",{class:!0});var j=D(l);u=T(j,"PRE",{class:!0});var z=D(u);f=Q(z,c),z.forEach(v),j.forEach(v),P.forEach(v),h=H(b),b.forEach(v),this.h()},h(){y(a,"data-bs-toggle","collapse"),y(a,"data-bs-target","#collapse-"+t[44]),y(a,"aria-expanded","true"),y(a,"aria-controls","collapse-"+t[44]),y(a,"class","text-primary"),y(a,"role","button"),y(u,"class","alert alert-warning mt-1"),y(l,"class","accordion-body"),y(o,"id","collapse-"+t[44]),y(o,"class","accordion-collapse collapse"),y(o,"data-bs-parent","#validation-errors")},m(_,b){L(_,e,b),g&&g.m(e,null),E(e,r),p.m(e,null),E(e,n),E(e,a),E(a,s),E(e,i),E(e,o),E(o,l),E(l,u),E(u,f),E(e,h)},p(_,b){_[42].instancePath?g?g.p(_,b):(g=Ls(_),g.c(),g.m(e,r)):g&&(g.d(1),g=null),$===($=d(_))&&p?p.p(_,b):(p.d(1),p=$(_),p&&(p.c(),p.m(e,n))),b[0]&8&&c!==(c=JSON.stringify(_[42],null,2)+"")&&He(f,c)},d(_){_&&v(e),g&&g.d(),p.d()}}}function Js(t){let e,r,n,a=!t[3]&&Ks(),s=t[18]&&Bs(t),i=!t[19]&&Hs();return{c(){a&&a.c(),e=B(),s&&s.c(),r=B(),i&&i.c(),n=ut()},l(o){a&&a.l(o),e=H(o),s&&s.l(o),r=H(o),i&&i.l(o),n=ut()},m(o,l){a&&a.m(o,l),L(o,e,l),s&&s.m(o,l),L(o,r,l),i&&i.m(o,l),L(o,n,l)},p(o,l){o[3]?a&&(a.d(1),a=null):a||(a=Ks(),a.c(),a.m(e.parentNode,e)),o[18]?s?s.p(o,l):(s=Bs(o),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),o[19]?i&&(i.d(1),i=null):i||(i=Hs(),i.c(),i.m(n.parentNode,n))},d(o){a&&a.d(o),o&&v(e),s&&s.d(o),o&&v(r),i&&i.d(o),o&&v(n)}}}function Ks(t){let e,r;return{c(){e=O("div"),r=Z("The arguments are valid"),this.h()},l(n){e=T(n,"DIV",{class:!0});var a=D(e);r=Q(a,"The arguments are valid"),a.forEach(v),this.h()},h(){y(e,"class","alert alert-success mt-3")},m(n,a){L(n,e,a),E(e,r)},d(n){n&&v(e)}}}function Bs(t){let e,r,n,a,s,i;return{c(){e=O("label"),r=Z("Fix the arguments:"),n=B(),a=O("textarea"),this.h()},l(o){e=T(o,"LABEL",{class:!0,for:!0});var l=D(e);r=Q(l,"Fix the arguments:"),l.forEach(v),n=H(o),a=T(o,"TEXTAREA",{class:!0,id:!0,rows:!0}),D(a).forEach(v),this.h()},h(){y(e,"class","form-label"),y(e,"for","fix-arguments"),y(a,"class","form-control"),y(a,"id","fix-arguments"),y(a,"rows","20"),$e(a,"is-invalid",!t[19])},m(o,l){L(o,e,l),E(e,r),L(o,n,l),L(o,a,l),ct(a,t[2]),s||(i=ue(a,"input",t[37]),s=!0)},p(o,l){l[0]&4&&ct(a,o[2]),l[0]&524288&&$e(a,"is-invalid",!o[19])},d(o){o&&v(e),o&&v(n),o&&v(a),s=!1,i()}}}function Hs(t){let e,r;return{c(){e=O("div"),r=Z("Invalid JSON"),this.h()},l(n){e=T(n,"DIV",{class:!0});var a=D(e);r=Q(a,"Invalid JSON"),a.forEach(v),this.h()},h(){y(e,"class","invalid-feedback")},m(n,a){L(n,e,a),E(e,r)},d(n){n&&v(e)}}}function Gs(t){let e,r,n,a;return{c(){e=O("button"),r=Z("Check"),this.h()},l(s){e=T(s,"BUTTON",{type:!0,class:!0});var i=D(e);r=Q(i,"Check"),i.forEach(v),this.h()},h(){y(e,"type","button"),y(e,"class","btn btn-warning mt-3")},m(s,i){L(s,e,i),E(e,r),n||(a=ue(e,"click",t[0]),n=!0)},p:kt,d(s){s&&v(e),n=!1,a()}}}function th(t){let e,r,n,a,s,i,o,l,u,c,f,h,g,d,$,p,_,b,k,P,j,z,X,ee,oe,he,G,U,Y,W,ve,se,Te,Pe,we,J,C,R,A,m,S,F,q,K,x,re,fe,ce,De,je,Ne,Ce,pe,be,qe,mt,ft,Ae,Xe,tt,Ze,pt,rt,nt,Je,ot,Ge=t[16]&&Rs(t),at=t[17]&&Vs(),Re=t[4]&&Ms(t),Ke=t[11]&&Fs(t);return{c(){e=O("h1"),r=Z("Sandbox page for task version update"),n=B(),a=O("p"),s=Z("This is a test page for the task version update"),i=B(),o=O("div"),l=O("div"),u=O("button"),c=Z("Load example"),f=B(),h=O("h2"),g=Z("Old schema"),d=B(),$=O("div"),p=O("div"),_=O("div"),b=O("div"),k=O("label"),P=Z("JSON Schema"),j=B(),z=O("textarea"),X=B(),ee=O("span"),oe=Z(t[8]),he=B(),G=O("div"),U=O("div"),Y=O("label"),W=Z("Initial JSON data"),ve=B(),se=O("textarea"),Te=B(),Pe=O("span"),we=Z(t[9]),J=B(),C=O("div"),R=O("div"),Ge&&Ge.c(),A=B(),at&&at.c(),m=B(),S=O("button"),F=Z("Validate"),q=B(),K=O("div"),Re&&Re.c(),x=B(),re=O("hr"),fe=B(),ce=O("h2"),De=Z("New schema"),je=B(),Ne=O("div"),Ce=O("div"),pe=O("div"),be=O("div"),qe=O("label"),mt=Z("JSON Schema"),ft=B(),Ae=O("textarea"),Xe=B(),tt=O("span"),Ze=Z(t[13]),pt=B(),rt=O("div"),Ke&&Ke.c(),this.h()},l(ne){e=T(ne,"H1",{class:!0});var Ie=D(e);r=Q(Ie,"Sandbox page for task version update"),Ie.forEach(v),n=H(ne),a=T(ne,"P",{});var St=D(a);s=Q(St,"This is a test page for the task version update"),St.forEach(v),i=H(ne),o=T(ne,"DIV",{class:!0});var Hr=D(o);l=T(Hr,"DIV",{class:!0});var fr=D(l);u=T(fr,"BUTTON",{class:!0});var Gr=D(u);c=Q(Gr,"Load example"),Gr.forEach(v),f=H(fr),h=T(fr,"H2",{});var Wr=D(h);g=Q(Wr,"Old schema"),Wr.forEach(v),fr.forEach(v),Hr.forEach(v),d=H(ne),$=T(ne,"DIV",{class:!0});var dr=D($);p=T(dr,"DIV",{class:!0});var Wt=D(p);_=T(Wt,"DIV",{class:!0});var qt=D(_);b=T(qt,"DIV",{class:!0});var Xt=D(b);k=T(Xt,"LABEL",{for:!0});var Nr=D(k);P=Q(Nr,"JSON Schema"),Nr.forEach(v),j=H(Xt),z=T(Xt,"TEXTAREA",{id:!0,class:!0,rows:!0}),D(z).forEach(v),X=H(Xt),ee=T(Xt,"SPAN",{class:!0});var Xr=D(ee);oe=Q(Xr,t[8]),Xr.forEach(v),Xt.forEach(v),qt.forEach(v),he=H(Wt),G=T(Wt,"DIV",{class:!0});var hr=D(G);U=T(hr,"DIV",{class:!0});var Jt=D(U);Y=T(Jt,"LABEL",{for:!0});var Zr=D(Y);W=Q(Zr,"Initial JSON data"),Zr.forEach(v),ve=H(Jt),se=T(Jt,"TEXTAREA",{id:!0,class:!0,rows:!0}),D(se).forEach(v),Te=H(Jt),Pe=T(Jt,"SPAN",{class:!0});var Ir=D(Pe);we=Q(Ir,t[9]),Ir.forEach(v),Jt.forEach(v),hr.forEach(v),J=H(Wt),C=T(Wt,"DIV",{class:!0});var Qr=D(C);R=T(Qr,"DIV",{class:!0});var Kt=D(R);Ge&&Ge.l(Kt),A=H(Kt),at&&at.l(Kt),m=H(Kt),S=T(Kt,"BUTTON",{class:!0});var N=D(S);F=Q(N,"Validate"),N.forEach(v),Kt.forEach(v),Qr.forEach(v),Wt.forEach(v),q=H(dr),K=T(dr,"DIV",{class:!0});var w=D(K);Re&&Re.l(w),w.forEach(v),dr.forEach(v),x=H(ne),re=T(ne,"HR",{}),fe=H(ne),ce=T(ne,"H2",{class:!0});var I=D(ce);De=Q(I,"New schema"),I.forEach(v),je=H(ne),Ne=T(ne,"DIV",{class:!0});var V=D(Ne);Ce=T(V,"DIV",{class:!0});var M=D(Ce);pe=T(M,"DIV",{class:!0});var ie=D(pe);be=T(ie,"DIV",{class:!0});var ae=D(be);qe=T(ae,"LABEL",{for:!0});var ke=D(qe);mt=Q(ke,"JSON Schema"),ke.forEach(v),ft=H(ae),Ae=T(ae,"TEXTAREA",{id:!0,class:!0,rows:!0}),D(Ae).forEach(v),Xe=H(ae),tt=T(ae,"SPAN",{class:!0});var Ve=D(tt);Ze=Q(Ve,t[13]),Ve.forEach(v),ae.forEach(v),ie.forEach(v),M.forEach(v),pt=H(V),rt=T(V,"DIV",{class:!0});var Qe=D(rt);Ke&&Ke.l(Qe),Qe.forEach(v),V.forEach(v),this.h()},h(){y(e,"class","fw-light"),y(u,"class","btn btn-outline-primary float-end"),y(l,"class","col-lg-6 mt-3"),y(o,"class","row"),y(k,"for","jschema-old"),y(z,"id","jschema-old"),y(z,"class","form-control"),y(z,"rows","10"),$e(z,"is-invalid",t[8]),y(ee,"class","invalid-feedback"),y(b,"class","col"),y(_,"class","row has-validation mb-2"),y(Y,"for","jdata-old"),y(se,"id","jdata-old"),y(se,"class","form-control"),y(se,"rows","10"),$e(se,"is-invalid",t[9]),y(Pe,"class","invalid-feedback"),y(U,"class","col"),y(G,"class","row has-validation mt-3 mb-2"),y(S,"class","btn btn-primary"),y(R,"class","col"),y(C,"class","row mt-3 mb-2"),y(p,"class","col-lg-6 mt-3"),y(K,"class","col-lg-6 mt-3"),y($,"class","row"),y(ce,"class","mt-2"),y(qe,"for","jschema-new"),y(Ae,"id","jschema-new"),y(Ae,"class","form-control"),y(Ae,"rows","10"),$e(Ae,"is-invalid",t[13]),y(tt,"class","invalid-feedback"),y(be,"class","col"),y(pe,"class","row has-validation mb-2"),y(Ce,"class","col-lg-6 mt-3"),y(rt,"class","col-lg-6"),y(Ne,"class","row")},m(ne,Ie){L(ne,e,Ie),E(e,r),L(ne,n,Ie),L(ne,a,Ie),E(a,s),L(ne,i,Ie),L(ne,o,Ie),E(o,l),E(l,u),E(u,c),E(l,f),E(l,h),E(h,g),L(ne,d,Ie),L(ne,$,Ie),E($,p),E(p,_),E(_,b),E(b,k),E(k,P),E(b,j),E(b,z),ct(z,t[6]),E(b,X),E(b,ee),E(ee,oe),E(p,he),E(p,G),E(G,U),E(U,Y),E(Y,W),E(U,ve),E(U,se),ct(se,t[7]),E(U,Te),E(U,Pe),E(Pe,we),E(p,J),E(p,C),E(C,R),Ge&&Ge.m(R,null),E(R,A),at&&at.m(R,null),E(R,m),E(R,S),E(S,F),E($,q),E($,K),Re&&Re.m(K,null),L(ne,x,Ie),L(ne,re,Ie),L(ne,fe,Ie),L(ne,ce,Ie),E(ce,De),L(ne,je,Ie),L(ne,Ne,Ie),E(Ne,Ce),E(Ce,pe),E(pe,be),E(be,qe),E(qe,mt),E(be,ft),E(be,Ae),ct(Ae,t[12]),E(be,Xe),E(be,tt),E(tt,Ze),E(Ne,pt),E(Ne,rt),Ke&&Ke.m(rt,null),nt=!0,Je||(ot=[ue(u,"click",t[27]),ue(z,"input",t[33]),ue(z,"input",t[21]),ue(se,"input",t[34]),ue(se,"input",t[22]),ue(S,"click",t[24]),ue(Ae,"input",t[36]),ue(Ae,"input",t[23])],Je=!0)},p(ne,Ie){Ie[0]&64&&ct(z,ne[6]),(!nt||Ie[0]&256)&&$e(z,"is-invalid",ne[8]),(!nt||Ie[0]&256)&&He(oe,ne[8]),Ie[0]&128&&ct(se,ne[7]),(!nt||Ie[0]&512)&&$e(se,"is-invalid",ne[9]),(!nt||Ie[0]&512)&&He(we,ne[9]),ne[16]?Ge?Ge.p(ne,Ie):(Ge=Rs(ne),Ge.c(),Ge.m(R,A)):Ge&&(Ge.d(1),Ge=null),ne[17]?at||(at=Vs(),at.c(),at.m(R,m)):at&&(at.d(1),at=null),ne[4]?Re?(Re.p(ne,Ie),Ie[0]&16&&de(Re,1)):(Re=Ms(ne),Re.c(),de(Re,1),Re.m(K,null)):Re&&(jt(),me(Re,1,1,()=>{Re=null}),Rt()),Ie[0]&4096&&ct(Ae,ne[12]),(!nt||Ie[0]&8192)&&$e(Ae,"is-invalid",ne[13]),(!nt||Ie[0]&8192)&&He(Ze,ne[13]),ne[11]?Ke?Ke.p(ne,Ie):(Ke=Fs(ne),Ke.c(),Ke.m(rt,null)):Ke&&(Ke.d(1),Ke=null)},i(ne){nt||(de(Re),nt=!0)},o(ne){me(Re),nt=!1},d(ne){ne&&v(e),ne&&v(n),ne&&v(a),ne&&v(i),ne&&v(o),ne&&v(d),ne&&v($),Ge&&Ge.d(),at&&at.d(),Re&&Re.d(),ne&&v(x),ne&&v(re),ne&&v(fe),ne&&v(ce),ne&&v(je),ne&&v(Ne),Ke&&Ke.d(),Je=!1,It(ot)}}}function rh(t,e,r){let n,a,s,i="",o="",l="",u="",c,f,h="",g="",d,$;async function p(){if(r(8,l=""),i===""){r(4,a=void 0);return}try{r(4,a=JSON.parse(i)),z()}catch{r(4,a=void 0),r(8,l="Invalid JSON")}new br().loadSchema(a)||(r(4,a=void 0),r(8,l="Invalid JSON Schema"))}function _(){r(9,u=""),r(9,u="");try{r(5,s=JSON.parse(o))}catch{r(5,s=void 0),r(9,u="Invalid JSON")}}function b(){if(r(14,d=void 0),r(15,$=void 0),r(13,g=""),h===""){r(11,f=void 0);return}try{r(11,f=JSON.parse(h))}catch{r(11,f=void 0),r(13,g="Invalid JSON")}new br().loadSchema(f)||(r(11,f=void 0),r(13,g="Invalid JSON Schema"))}let k,P=!1;async function j(){try{r(16,k=""),r(17,P=!1),r(5,s=JSON.parse(o)),await jr(),c==null||c.validateArguments(),r(17,P=!0)}catch(q){r(16,k=Bn(q)),r(14,d=void 0),r(15,$=void 0)}}async function z(){if(await jr(),!c)return;const q=xt(c.getArguments()),K=JSON.stringify(En(q),null,2);K!==o&&r(7,o=K)}async function X(){r(18,G=!1),P||await j(),P&&(ee(),await jr(),Pe())}function ee(){r(14,d={id:1,args_parallel:xt(s),task_type:"parallel",is_legacy_task:!1}),r(15,$={args_schema_parallel:f})}function oe(){const q={title:"Test",type:"object",properties:{foo:{title:"foo",type:"string"}},required:["foo"]},K=xt(q);K.properties.bar={title:"bar",type:"string"},K.required.push("bar"),r(6,i=JSON.stringify(q,null,2)),r(7,o=JSON.stringify({foo:"something"},null,2)),r(12,h=JSON.stringify(K,null,2)),p(),_(),b()}let he="",G=!1,U="",Y=!0,W=null;function ve(){r(2,U=""),r(3,W=null)}function se(){r(2,U=he),Te()}function Te(){if(!U)return;r(19,Y=!0);let q;try{q=JSON.parse(U)}catch{r(19,Y=!1);return}J(q)}function Pe(){const q=d.args_parallel||{};r(1,he=JSON.stringify(q,null,2)),J(q)}function we(){U!==""?JSON.parse(U):d.args_parallel}function J(q){const K=$.args_schema_parallel,x=new br(!0);"properties"in K&&di(K,pn(!1));const re=xt(K);if(!x.loadSchema(re))throw new Error("Invalid JSON schema");x.isValid(q)?r(3,W=null):(r(2,U=JSON.stringify(q,null,2)),r(18,G=!0),r(3,W=x.getErrors()))}function C(){return((W==null?void 0:W.length)||0)>0}function R(){i=this.value,r(6,i)}function A(){o=this.value,r(7,o)}function m(q){rr[q?"unshift":"push"](()=>{c=q,r(10,c)})}function S(){h=this.value,r(12,h)}function F(){U=this.value,r(2,U)}return t.$$.update=()=>{t.$$.dirty[0]&14&&(W===null||W.length)},r(20,n=pn(!1)),[Te,he,U,W,a,s,i,o,l,u,c,f,h,g,d,$,k,P,G,Y,n,p,_,b,j,z,X,oe,ve,se,Pe,we,C,R,A,m,S,F]}class nh extends gt{constructor(e){super(),yt(this,e,rh,th,ht,{reset:28,cancel:29,check:0,checkArgumentsWithNewSchema:30,getNewArgs:31,hasValidationErrors:32},null,[-1,-1])}get reset(){return this.$$.ctx[28]}get cancel(){return this.$$.ctx[29]}get check(){return this.$$.ctx[0]}get checkArgumentsWithNewSchema(){return this.$$.ctx[30]}get getNewArgs(){return this.$$.ctx[31]}get hasValidationErrors(){return this.$$.ctx[32]}}const ah="ManifestV2",sh=`Packages containing tasks are required to include a special file
\`__FRACTAL_MANIFEST__.json\` in order to be discovered and used by Fractal.

This model class and the model classes it depends on provide the base
schema to read, write and validate manifests.

Attributes:
    manifest_version:
        A version string that provides indication for compatibility between
        manifests as the schema evolves. This is for instance used by
        Fractal to determine which subclass of the present base class needs
        be used to read and validate the input.
    task_list : list[TaskManifestType]
        The list of tasks, represented as specified by subclasses of the
        _TaskManifestBase (a.k.a. TaskManifestType)
    has_args_schemas:
        \`True\` if the manifest incldues JSON Schemas for the arguments of
        each task.
    args_schema_version:
        Label of how \`args_schema\`s were generated (e.g. \`pydantic_v1\`).`,ih="object",oh={manifest_version:{title:"Manifest Version",type:"string"},task_list:{title:"Task List",type:"array",items:{$ref:"#/definitions/TaskManifestV2"}},has_args_schemas:{title:"Has Args Schemas",default:!1,type:"boolean"},args_schema_version:{title:"Args Schema Version",type:"string"}},lh=["manifest_version","task_list"],ch={TaskManifestV2:{title:"TaskManifestV2",description:`Represents a task within a V2 manifest.

Attributes:
    name:
        The task name
    executable:
        Path to the executable relative to the package root

        Note: by package root we mean "as it will be installed". If a
        package \`Pkg\` installs in the folder \`pkg\` the executable
        \`pkg/executable.py\`, this attribute must contain only
        \`executable.py\`.
    input_type:
        The input type accepted by the task
    output_type:
        The output type returned by the task
    meta:
        Additional information about the package, such as hash of the
        executable, specific runtime requirements (e.g., need_gpu=True),
        etc.
    args_schema:
        JSON Schema for task arguments
    docs_info:
        Additional information about the Task, coming from the docstring.
    docs_link:
        Link to Task docs.`,type:"object",properties:{name:{title:"Name",type:"string"},executable_non_parallel:{title:"Executable Non Parallel",type:"string"},executable_parallel:{title:"Executable Parallel",type:"string"},input_types:{title:"Input Types",type:"object",additionalProperties:{type:"boolean"}},output_types:{title:"Output Types",type:"object",additionalProperties:{type:"boolean"}},meta_non_parallel:{title:"Meta Non Parallel",type:"object"},meta_parallel:{title:"Meta Parallel",type:"object"},args_schema_non_parallel:{title:"Args Schema Non Parallel",type:"object"},args_schema_parallel:{title:"Args Schema Parallel",type:"object"},docs_info:{title:"Docs Info",type:"string"},docs_link:{title:"Docs Link",minLength:1,maxLength:2083,format:"uri",type:"string"}},required:["name"]}},uh={title:ah,description:sh,type:ih,properties:oh,required:lh,definitions:ch};function Ws(t){let e,r,n,a;return{c(){e=O("button"),r=Z("Clear"),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var i=D(e);r=Q(i,"Clear"),i.forEach(v),this.h()},h(){y(e,"class","btn btn-outline-secondary")},m(s,i){L(s,e,i),E(e,r),n||(a=ue(e,"click",t[8]),n=!0)},p:kt,d(s){s&&v(e),n=!1,a()}}}function fh(t){let e,r,n,a,s,i,o,l,u,c,f,h,g,d,$,p,_,b=t[3]&&t[3].length>0&&Ws(t);return{c(){e=O("div"),r=O("div"),n=O("div"),a=O("label"),s=Z(t[1]),i=B(),o=O("input"),l=B(),b&&b.c(),u=B(),c=O("span"),f=Z(t[5]),h=B(),g=O("p"),d=O("i"),$=Z(" or drag file here"),this.h()},l(k){e=T(k,"DIV",{class:!0});var P=D(e);r=T(P,"DIV",{class:!0});var j=D(r);n=T(j,"DIV",{class:!0});var z=D(n);a=T(z,"LABEL",{for:!0,class:!0});var X=D(a);s=Q(X,t[1]),X.forEach(v),i=H(z),o=T(z,"INPUT",{class:!0,accept:!0,type:!0,name:!0,id:!0}),l=H(z),b&&b.l(z),u=H(z),c=T(z,"SPAN",{class:!0});var ee=D(c);f=Q(ee,t[5]),ee.forEach(v),z.forEach(v),j.forEach(v),h=H(P),g=T(P,"P",{class:!0});var oe=D(g);d=T(oe,"I",{class:!0}),D(d).forEach(v),$=Q(oe," or drag file here"),oe.forEach(v),P.forEach(v),this.h()},h(){y(a,"for",t[0]),y(a,"class","input-group-text"),y(o,"class","form-control"),y(o,"accept",t[2]),y(o,"type","file"),y(o,"name",t[0]),y(o,"id",t[0]),$e(o,"is-invalid",t[5]),y(c,"class","invalid-feedback"),y(n,"class","input-group has-validation"),y(r,"class","m-1"),y(d,"class","bi bi-file-earmark-arrow-up"),y(g,"class","text-center mt-1 mb-1"),y(e,"class","dropZone bg-light svelte-1n1vpyg"),$e(e,"dragOver",t[6])},m(k,P){L(k,e,P),E(e,r),E(r,n),E(n,a),E(a,s),E(n,i),E(n,o),t[13](o),E(n,l),b&&b.m(n,null),E(n,u),E(n,c),E(c,f),E(e,h),E(e,g),E(g,d),E(g,$),p||(_=[ue(o,"change",t[14]),ue(o,"change",t[7]),ue(e,"drop",t[9]),ue(e,"dragover",t[10]),ue(e,"dragleave",t[11])],p=!0)},p(k,[P]){P&2&&He(s,k[1]),P&1&&y(a,"for",k[0]),P&4&&y(o,"accept",k[2]),P&1&&y(o,"name",k[0]),P&1&&y(o,"id",k[0]),P&32&&$e(o,"is-invalid",k[5]),k[3]&&k[3].length>0?b?b.p(k,P):(b=Ws(k),b.c(),b.m(n,u)):b&&(b.d(1),b=null),P&32&&He(f,k[5]),P&64&&$e(e,"dragOver",k[6])},i:kt,o:kt,d(k){k&&v(e),t[13](null),b&&b.d(),p=!1,It(_)}}}function dh(t,e,r){let{id:n}=e,{description:a}=e,{accept:s}=e,{validateFile:i}=e;const o=ii();let l=null,u,c="";async function f(){if(r(5,c=""),!l||l.length===0){o("change",{value:null});return}const P=l[0];await d(P)}function h(){r(5,c=""),r(3,l=null),u&&r(4,u.value="",u),o("change",{value:null})}async function g(P){P.preventDefault(),r(6,$=!1),P.dataTransfer&&P.dataTransfer.files.length>0&&(r(3,l=P.dataTransfer.files),r(4,u.files=l,u),await d(l[0]))}async function d(P){r(5,c="");let j=await P.text();try{const z=i(j);o("change",{value:z})}catch(z){r(5,c=z.message),o("change",{value:null})}}let $=!1;function p(P){P.preventDefault(),r(6,$=!0)}function _(){r(6,$=!1)}function b(P){rr[P?"unshift":"push"](()=>{u=P,r(4,u)})}function k(){l=this.files,r(3,l)}return t.$$set=P=>{"id"in P&&r(0,n=P.id),"description"in P&&r(1,a=P.description),"accept"in P&&r(2,s=P.accept),"validateFile"in P&&r(12,i=P.validateFile)},[n,a,s,l,u,c,$,f,h,g,p,_,i,b,k]}class hh extends gt{constructor(e){super(),yt(this,e,dh,fh,ht,{id:0,description:1,accept:2,validateFile:12})}}function Xs(t,e,r){const n=t.slice();return n[36]=e[r],n}function Zs(t){let e,r,n,a,s,i,o,l,u,c=t[0],f=[];for(let h=0;h<c.length;h+=1)f[h]=Qs(Xs(t,c,h));return{c(){e=O("div"),r=O("label"),n=Z("Task"),a=B(),s=O("select"),i=O("option"),o=Z("Select...");for(let h=0;h<f.length;h+=1)f[h].c();this.h()},l(h){e=T(h,"DIV",{class:!0});var g=D(e);r=T(g,"LABEL",{for:!0,class:!0});var d=D(r);n=Q(d,"Task"),d.forEach(v),a=H(g),s=T(g,"SELECT",{class:!0,name:!0,id:!0});var $=D(s);i=T($,"OPTION",{});var p=D(i);o=Q(p,"Select..."),p.forEach(v);for(let _=0;_<f.length;_+=1)f[_].l($);$.forEach(v),g.forEach(v),this.h()},h(){y(r,"for","selectedTask"),y(r,"class","input-group-text"),i.__value="",i.value=i.__value,y(s,"class","form-control"),y(s,"name","selectedTask"),y(s,"id","selectedTask"),t[1]===void 0&&ai(()=>t[20].call(s)),y(e,"class","input-group")},m(h,g){L(h,e,g),E(e,r),E(r,n),E(e,a),E(e,s),E(s,i),E(i,o);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(s,null);dn(s,t[1],!0),l||(u=[ue(s,"change",t[20]),ue(s,"change",t[21])],l=!0)},p(h,g){if(g[0]&1){c=h[0];let d;for(d=0;d<c.length;d+=1){const $=Xs(h,c,d);f[d]?f[d].p($,g):(f[d]=Qs($),f[d].c(),f[d].m(s,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=c.length}g[0]&3&&dn(s,h[1])},d(h){h&&v(e),$n(f,h),l=!1,It(u)}}}function Qs(t){let e,r=t[36]+"",n,a;return{c(){e=O("option"),n=Z(r),this.h()},l(s){e=T(s,"OPTION",{});var i=D(e);n=Q(i,r),i.forEach(v),this.h()},h(){e.__value=a=t[36],e.value=e.__value},m(s,i){L(s,e,i),E(e,n)},p(s,i){i[0]&1&&r!==(r=s[36]+"")&&He(n,r),i[0]&1&&a!==(a=s[36])&&(e.__value=a,e.value=e.__value)},d(s){s&&v(e)}}}function Ys(t){let e,r,n,a,s,i,o,l,u,c,f,h,g,d,$,p,_,b,k,P,j,z,X,ee,oe,he,G,U,Y,W,ve,se,Te,Pe,we,J,C,R,A,m,S,F,q,K,x,re,fe,ce,De,je=t[10]&&xs(t),Ne=t[11]&&ei(),Ce={componentId:"json-schema-task-manifest-sandbox",schema:t[2],schemaData:t[5],propertiesToIgnore:t[13]};return x=new Va({props:Ce}),t[28](x),x.$on("change",t[19]),fe=mo(t[23][0]),{c(){e=O("div"),r=O("div"),n=O("div"),a=O("input"),i=B(),o=O("label"),l=Z("non parallel"),u=B(),c=O("div"),f=O("input"),g=B(),d=O("label"),$=Z("parallel"),p=B(),_=O("div"),b=O("div"),k=O("div"),P=O("div"),j=O("label"),z=Z("JSON Schema"),X=B(),ee=O("textarea"),he=B(),G=O("div"),U=O("div"),Y=O("label"),W=Z("Initial JSON data"),ve=B(),se=O("textarea"),Te=B(),Pe=O("span"),we=Z(t[7]),J=B(),C=O("div"),R=O("div"),je&&je.c(),A=B(),Ne&&Ne.c(),m=B(),S=O("button"),F=Z("Validate"),q=B(),K=O("div"),Fe(x.$$.fragment),this.h()},l(pe){e=T(pe,"DIV",{class:!0});var be=D(e);r=T(be,"DIV",{class:!0});var qe=D(r);n=T(qe,"DIV",{class:!0});var mt=D(n);a=T(mt,"INPUT",{class:!0,type:!0,name:!0,id:!0}),i=H(mt),o=T(mt,"LABEL",{class:!0,for:!0});var ft=D(o);l=Q(ft,"non parallel"),ft.forEach(v),mt.forEach(v),u=H(qe),c=T(qe,"DIV",{class:!0});var Ae=D(c);f=T(Ae,"INPUT",{class:!0,type:!0,name:!0,id:!0}),g=H(Ae),d=T(Ae,"LABEL",{class:!0,for:!0});var Xe=D(d);$=Q(Xe,"parallel"),Xe.forEach(v),Ae.forEach(v),qe.forEach(v),be.forEach(v),p=H(pe),_=T(pe,"DIV",{class:!0});var tt=D(_);b=T(tt,"DIV",{class:!0});var Ze=D(b);k=T(Ze,"DIV",{class:!0});var pt=D(k);P=T(pt,"DIV",{class:!0});var rt=D(P);j=T(rt,"LABEL",{for:!0});var nt=D(j);z=Q(nt,"JSON Schema"),nt.forEach(v),X=H(rt),ee=T(rt,"TEXTAREA",{id:!0,class:!0,rows:!0}),D(ee).forEach(v),rt.forEach(v),pt.forEach(v),he=H(Ze),G=T(Ze,"DIV",{class:!0});var Je=D(G);U=T(Je,"DIV",{class:!0});var ot=D(U);Y=T(ot,"LABEL",{for:!0});var Ge=D(Y);W=Q(Ge,"Initial JSON data"),Ge.forEach(v),ve=H(ot),se=T(ot,"TEXTAREA",{id:!0,class:!0,rows:!0}),D(se).forEach(v),Te=H(ot),Pe=T(ot,"SPAN",{class:!0});var at=D(Pe);we=Q(at,t[7]),at.forEach(v),ot.forEach(v),Je.forEach(v),J=H(Ze),C=T(Ze,"DIV",{class:!0});var Re=D(C);R=T(Re,"DIV",{class:!0});var Ke=D(R);je&&je.l(Ke),A=H(Ke),Ne&&Ne.l(Ke),m=H(Ke),S=T(Ke,"BUTTON",{class:!0});var ne=D(S);F=Q(ne,"Validate"),ne.forEach(v),Ke.forEach(v),Re.forEach(v),Ze.forEach(v),q=H(tt),K=T(tt,"DIV",{class:!0});var Ie=D(K);ze(x.$$.fragment,Ie),Ie.forEach(v),tt.forEach(v),this.h()},h(){y(a,"class","form-check-input"),y(a,"type","radio"),y(a,"name","schemaTypeSelector"),y(a,"id","schemaNonParallelSelector"),a.__value="non_parallel",a.value=a.__value,a.disabled=s=!t[8],y(o,"class","form-check-label"),y(o,"for","schemaNonParallelSelector"),y(n,"class","form-check form-check-inline"),y(f,"class","form-check-input"),y(f,"type","radio"),y(f,"name","schemaTypeSelector"),y(f,"id","schemaParallelSelector"),f.__value="parallel",f.value=f.__value,f.disabled=h=!t[9],y(d,"class","form-check-label"),y(d,"for","schemaParallelSelector"),y(c,"class","form-check form-check-inline"),y(r,"class","col-md-6"),y(e,"class","row mt-3"),y(j,"for","jschema"),y(ee,"id","jschema"),y(ee,"class","form-control"),ee.value=oe=JSON.stringify(t[2],null,2),y(ee,"rows","10"),ee.disabled=!0,y(P,"class","col"),y(k,"class","row"),y(Y,"for","jdata"),y(se,"id","jdata"),y(se,"class","form-control"),y(se,"rows","10"),$e(se,"is-invalid",t[7]),y(Pe,"class","invalid-feedback"),y(U,"class","col"),y(G,"class","row has-validation mt-3 mb-2"),y(S,"class","btn btn-primary"),y(R,"class","col"),y(C,"class","row mt-3 mb-2"),y(b,"class","col-lg-6"),y(K,"class","col-lg-6"),y(_,"class","row mt-2 mb-3"),fe.p(a,f)},m(pe,be){L(pe,e,be),E(e,r),E(r,n),E(n,a),a.checked=a.__value===t[3],E(n,i),E(n,o),E(o,l),E(r,u),E(r,c),E(c,f),f.checked=f.__value===t[3],E(c,g),E(c,d),E(d,$),L(pe,p,be),L(pe,_,be),E(_,b),E(b,k),E(k,P),E(P,j),E(j,z),E(P,X),E(P,ee),E(b,he),E(b,G),E(G,U),E(U,Y),E(Y,W),E(U,ve),E(U,se),ct(se,t[6]),E(U,Te),E(U,Pe),E(Pe,we),E(b,J),E(b,C),E(C,R),je&&je.m(R,null),E(R,A),Ne&&Ne.m(R,null),E(R,m),E(R,S),E(S,F),E(_,q),E(_,K),Ue(x,K,null),re=!0,ce||(De=[ue(a,"change",t[22]),ue(a,"change",t[24]),ue(f,"change",t[25]),ue(f,"change",t[26]),ue(se,"input",t[27]),ue(se,"input",t[18]),ue(S,"click",t[14])],ce=!0)},p(pe,be){(!re||be[0]&256&&s!==(s=!pe[8]))&&(a.disabled=s),be[0]&8&&(a.checked=a.__value===pe[3]),(!re||be[0]&512&&h!==(h=!pe[9]))&&(f.disabled=h),be[0]&8&&(f.checked=f.__value===pe[3]),(!re||be[0]&4&&oe!==(oe=JSON.stringify(pe[2],null,2)))&&(ee.value=oe),be[0]&64&&ct(se,pe[6]),(!re||be[0]&128)&&$e(se,"is-invalid",pe[7]),(!re||be[0]&128)&&He(we,pe[7]),pe[10]?je?je.p(pe,be):(je=xs(pe),je.c(),je.m(R,A)):je&&(je.d(1),je=null),pe[11]?Ne||(Ne=ei(),Ne.c(),Ne.m(R,m)):Ne&&(Ne.d(1),Ne=null);const qe={};be[0]&4&&(qe.schema=pe[2]),be[0]&32&&(qe.schemaData=pe[5]),be[0]&8192&&(qe.propertiesToIgnore=pe[13]),x.$set(qe)},i(pe){re||(de(x.$$.fragment,pe),re=!0)},o(pe){me(x.$$.fragment,pe),re=!1},d(pe){pe&&v(e),pe&&v(p),pe&&v(_),je&&je.d(),Ne&&Ne.d(),t[28](null),Le(x),fe.r(),ce=!1,It(De)}}}function xs(t){let e,r,n;return{c(){e=O("div"),r=O("pre"),n=Z(t[10]),this.h()},l(a){e=T(a,"DIV",{class:!0});var s=D(e);r=T(s,"PRE",{});var i=D(r);n=Q(i,t[10]),i.forEach(v),s.forEach(v),this.h()},h(){y(e,"class","alert alert-danger")},m(a,s){L(a,e,s),E(e,r),E(r,n)},p(a,s){s[0]&1024&&He(n,a[10])},d(a){a&&v(e)}}}function ei(t){let e,r;return{c(){e=O("div"),r=Z("Data is valid"),this.h()},l(n){e=T(n,"DIV",{class:!0});var a=D(e);r=Q(a,"Data is valid"),a.forEach(v),this.h()},h(){y(e,"class","alert alert-success")},m(n,a){L(n,e,a),E(e,r)},d(n){n&&v(e)}}}function mh(t){let e,r,n,a,s,i,o,l,u,c,f,h,g,d,$,p,_;u=new hh({props:{description:"Upload manifest file",accept:"application/json",id:"manifestFileUpload",validateFile:t[15]}}),u.$on("change",t[16]);let b=t[0].length>0&&Zs(t),k=t[2]&&t[4]&&Ys(t);return{c(){e=O("h1"),r=Z("Sandbox page for task package manifest"),n=B(),a=O("p"),s=Z("This is a test page for the JSON Schema form of a whole task package manifest"),i=B(),o=O("div"),l=O("div"),Fe(u.$$.fragment),c=B(),f=O("div"),h=Z("An entire task package manifest"),g=B(),d=O("div"),b&&b.c(),$=B(),k&&k.c(),p=ut(),this.h()},l(P){e=T(P,"H1",{class:!0});var j=D(e);r=Q(j,"Sandbox page for task package manifest"),j.forEach(v),n=H(P),a=T(P,"P",{});var z=D(a);s=Q(z,"This is a test page for the JSON Schema form of a whole task package manifest"),z.forEach(v),i=H(P),o=T(P,"DIV",{class:!0});var X=D(o);l=T(X,"DIV",{class:!0});var ee=D(l);ze(u.$$.fragment,ee),c=H(ee),f=T(ee,"DIV",{class:!0});var oe=D(f);h=Q(oe,"An entire task package manifest"),oe.forEach(v),ee.forEach(v),g=H(X),d=T(X,"DIV",{class:!0});var he=D(d);b&&b.l(he),he.forEach(v),X.forEach(v),$=H(P),k&&k.l(P),p=ut(),this.h()},h(){y(e,"class","fw-light"),y(f,"class","form-text"),y(l,"class","col-lg-7"),y(d,"class","col-lg-5"),y(o,"class","row")},m(P,j){L(P,e,j),E(e,r),L(P,n,j),L(P,a,j),E(a,s),L(P,i,j),L(P,o,j),E(o,l),Ue(u,l,null),E(l,c),E(l,f),E(f,h),E(o,g),E(o,d),b&&b.m(d,null),L(P,$,j),k&&k.m(P,j),L(P,p,j),_=!0},p(P,j){P[0].length>0?b?b.p(P,j):(b=Zs(P),b.c(),b.m(d,null)):b&&(b.d(1),b=null),P[2]&&P[4]?k?(k.p(P,j),j[0]&20&&de(k,1)):(k=Ys(P),k.c(),de(k,1),k.m(p.parentNode,p)):k&&(jt(),me(k,1,1,()=>{k=null}),Rt())},i(P){_||(de(u.$$.fragment,P),de(k),_=!0)},o(P){me(u.$$.fragment,P),me(k),_=!1},d(P){P&&v(e),P&&v(n),P&&v(a),P&&v(i),P&&v(o),Le(u),b&&b.d(),P&&v($),k&&k.d(P),P&&v(p)}}}function ph(t,e,r){let n,a=null,s=[],i="",o,l="non_parallel",u,c,f="",h="",g=!1,d=!1,$="",p=!1;function _(){a=null,r(11,p=!1),r(10,$=""),r(0,s=[]),r(1,i=""),r(2,o=null),r(4,u=null),r(7,h="")}function b(){try{r(10,$=""),r(11,p=!1),k==null||k.validateArguments(),r(11,p=!0)}catch(A){r(10,$=Bn(A))}}let k;function P(A){let m;try{m=JSON.parse(A)}catch{throw new Error("File doesn't contain valid JSON")}if(z(m)){if(m.manifest_version!=="2")throw new Error("Unsupported manifest version");if(m.args_schema_version!=="pydantic_v1")throw new Error("Unsupported manifest args schema version");return m}else throw new Error("Invalid manifest format")}function j({detail:A}){A.value===null?_():X(A.value)}function z(A){const m=new br;return m.loadSchema(uh),m.isValid(A)}function X(A){a=A,r(0,s=a.task_list.map(m=>m.name))}async function ee(A=void 0){if(r(7,h=""),r(10,$=""),r(11,p=!1),!i){r(2,o=null),r(4,u=null);return}r(4,u=a.task_list.filter(m=>m.name===i)[0]),r(8,g=oe(u.args_schema_non_parallel)),r(9,d=oe(u.args_schema_parallel)),A?r(3,l=A):g?r(3,l="non_parallel"):r(3,l="parallel"),l==="non_parallel"?r(2,o=u.args_schema_non_parallel):r(2,o=u.args_schema_parallel),await G()}function oe(A){if(!A)return!1;const m=fi(A,n);return Object.keys(m.properties).length>0}function he(){r(10,$=""),r(7,h="");try{r(5,c=JSON.parse(f))}catch{r(5,c=void 0),r(7,h="Invalid JSON")}}async function G(){await jr(),k&&Y(k.getArguments())}function U({detail:A}){Y(A.value)}function Y(A){const m=xt(A),S=JSON.stringify(En(m),null,2);S!==f&&r(6,f=S)}const W=[[]];function ve(){i=si(this),r(1,i),r(0,s)}const se=()=>ee();function Te(){l=this.__value,r(3,l)}const Pe=()=>ee("non_parallel");function we(){l=this.__value,r(3,l)}const J=()=>ee("parallel");function C(){f=this.value,r(6,f)}function R(A){rr[A?"unshift":"push"](()=>{k=A,r(12,k)})}return r(13,n=pn(!1)),[s,i,o,l,u,c,f,h,g,d,$,p,k,n,b,P,j,ee,he,U,ve,se,Te,W,Pe,we,J,C,R]}class _h extends gt{constructor(e){super(),yt(this,e,ph,mh,ht,{},null,[-1,-1])}}function vh(t){let e,r;return e=new _h({}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function gh(t){let e,r;return e=new nh({}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function yh(t){let e,r;return e=new Yd({}),{c(){Fe(e.$$.fragment)},l(n){ze(e.$$.fragment,n)},m(n,a){Ue(e,n,a),r=!0},i(n){r||(de(e.$$.fragment,n),r=!0)},o(n){me(e.$$.fragment,n),r=!1},d(n){Le(e,n)}}}function bh(t){let e,r,n,a,s,i,o,l,u,c,f,h,g,d,$,p,_,b,k,P,j,z,X,ee;const oe=[yh,gh,vh],he=[];function G(U,Y){return U[0]==="jschema"?0:U[0]==="version-update"?1:U[0]==="task-manifest"?2:-1}return~(P=G(t))&&(j=he[P]=oe[P](t)),{c(){e=O("nav"),r=O("div"),n=O("a"),a=Z("Documentation"),s=B(),i=O("ul"),o=O("li"),l=O("a"),u=Z("JSON Schema"),c=B(),f=O("li"),h=O("a"),g=Z("Version update"),d=B(),$=O("li"),p=O("a"),_=Z("Task manifest"),b=B(),k=O("div"),j&&j.c(),this.h()},l(U){e=T(U,"NAV",{class:!0});var Y=D(e);r=T(Y,"DIV",{class:!0});var W=D(r);n=T(W,"A",{class:!0,href:!0});var ve=D(n);a=Q(ve,"Documentation"),ve.forEach(v),s=H(W),i=T(W,"UL",{class:!0});var se=D(i);o=T(se,"LI",{class:!0});var Te=D(o);l=T(Te,"A",{class:!0,href:!0});var Pe=D(l);u=Q(Pe,"JSON Schema"),Pe.forEach(v),Te.forEach(v),c=H(se),f=T(se,"LI",{class:!0});var we=D(f);h=T(we,"A",{class:!0,href:!0});var J=D(h);g=Q(J,"Version update"),J.forEach(v),we.forEach(v),d=H(se),$=T(se,"LI",{class:!0});var C=D($);p=T(C,"A",{class:!0,href:!0});var R=D(p);_=Q(R,"Task manifest"),R.forEach(v),C.forEach(v),se.forEach(v),W.forEach(v),Y.forEach(v),b=H(U),k=T(U,"DIV",{class:!0});var A=D(k);j&&j.l(A),A.forEach(v),this.h()},h(){y(n,"class","navbar-brand"),y(n,"href","https://fractal-analytics-platform.github.io/fractal-web/"),y(l,"class","nav-link"),y(l,"href","#jschema"),$e(l,"active",t[0]==="jschema"),y(o,"class","nav-item"),y(h,"class","nav-link"),y(h,"href","#version-update"),$e(h,"active",t[0]==="version-update"),y(f,"class","nav-item"),y(p,"class","nav-link"),y(p,"href","#task-manifest"),$e(p,"active",t[0]==="task-manifest"),y($,"class","nav-item"),y(i,"class","navbar-nav me-auto"),y(r,"class","container"),y(e,"class","navbar navbar-expand-lg bg-light mb-3 border-bottom"),y(k,"class","container")},m(U,Y){L(U,e,Y),E(e,r),E(r,n),E(n,a),E(r,s),E(r,i),E(i,o),E(o,l),E(l,u),E(i,c),E(i,f),E(f,h),E(h,g),E(i,d),E(i,$),E($,p),E(p,_),L(U,b,Y),L(U,k,Y),~P&&he[P].m(k,null),z=!0,X||(ee=[ue(l,"click",t[1]),ue(h,"click",t[2]),ue(p,"click",t[3])],X=!0)},p(U,[Y]){(!z||Y&1)&&$e(l,"active",U[0]==="jschema"),(!z||Y&1)&&$e(h,"active",U[0]==="version-update"),(!z||Y&1)&&$e(p,"active",U[0]==="task-manifest");let W=P;P=G(U),P!==W&&(j&&(jt(),me(he[W],1,1,()=>{he[W]=null}),Rt()),~P?(j=he[P],j||(j=he[P]=oe[P](U),j.c()),de(j,1),j.m(k,null)):j=null)},i(U){z||(de(j),z=!0)},o(U){me(j),z=!1},d(U){U&&v(e),U&&v(b),U&&v(k),~P&&he[P].d(),X=!1,It(ee)}}}function $h(t,e,r){const n=["jschema","version-update","task-manifest"];let a="jschema";return wr(()=>{for(const l of n)if(`#${l}`===location.hash){r(0,a=l);break}}),[a,()=>r(0,a="jschema"),()=>r(0,a="version-update"),()=>r(0,a="task-manifest")]}class Sh extends gt{constructor(e){super(),yt(this,e,$h,bh,ht,{})}}export{Sh as component};
