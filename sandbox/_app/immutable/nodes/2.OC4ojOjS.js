import{A as ft,s as Je,e as P,d as I,f as A,i as w,v as y,k as M,n as $t,r as _s,y as qt,b as z,j as U,t as be,h as $e,l as S,m as Re,c as ol,O as ve,P as Y,u as ll,g as cl,a as dl,Q as ie,R as wa,S as Ee,T as Xi,G as Wi,U as cn,V as Vs,W as Zi,p as Be,X as Yi,Y as dn,x as Cs}from"../chunks/DlELp2_D.js";import{a as oe,t as te,S as Ye,i as Qe,b as Ne,d as Ce,m as Te,e as Ae,g as wt,c as St}from"../chunks/qJzLGatB.js";function vt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ul(t,e){oe(t,1,1,()=>{e.delete(t.key)})}function fl(t,e,s,n,r,a,i,o,c,u,h,p){let g=t.length,E=a.length,v=g;const b={};for(;v--;)b[t[v].key]=v;const l=[],d=new Map,f=new Map,m=[];for(v=E;v--;){const D=p(r,a,v),F=s(D);let q=i.get(F);q?m.push(()=>q.p(D,e)):(q=u(F,D),q.c()),d.set(F,l[v]=q),F in b&&f.set(F,Math.abs(v-b[F]))}const $=new Set,O=new Set;function N(D){te(D,1),D.m(o,h),i.set(D.key,D),h=D.first,E--}for(;g&&E;){const D=l[E-1],F=t[g-1],q=D.key,W=F.key;D===F?(h=D.first,g--,E--):d.has(W)?!i.has(q)||$.has(q)?N(D):O.has(W)?g--:f.get(q)>f.get(W)?(O.add(q),N(D)):($.add(W),g--):(c(F,i),g--)}for(;g--;){const D=t[g];d.has(D.key)||c(D,i)}for(;E;)N(l[E-1]);return ft(m),l}function Mt(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))}function un(t){return t===void 0?null:t}function fn(t){return typeof t=="object"&&t!==null&&t!==void 0}function yn(t){const e=Qi(t);return xi(e)}function Qi(t){return Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=t[e].filter(s=>s!==null&&s!=="")),t[e]&&typeof t[e]=="object"?Qi(t[e]):(t[e]===null||t[e]==="")&&delete t[e]}),t}function xi(t){return Object.keys(t).forEach(e=>{t[e]&&typeof t[e]=="object"&&(xi(t[e]),Object.keys(t[e]).length===0&&delete t[e])}),t}function ar(t){return t instanceof rl?JSON.stringify(t.errors.length===1?t.errors[0]:t.errors,null,2):(console.error(t),t.message)}function hl(t){return"minimum"in t&&t.minimum!==void 0?Number(t.minimum):"exclusiveMinimum"in t&&t.exclusiveMinimum!==void 0?Number(t.exclusiveMinimum)+1:null}function ml(t){return"maximum"in t&&t.maximum!==void 0?Number(t.maximum):"exclusiveMaximum"in t&&t.exclusiveMaximum!==void 0?Number(t.exclusiveMaximum)-1:null}function eo(t){return"minItems"in t&&typeof t.minItems=="number"&&"maxItems"in t&&typeof t.maxItems=="number"&&t.minItems===t.maxItems}function to(t,e){const s=t.properties||{};if(t.additionalProperties)for(const n of Object.keys(e))Object.keys(s).includes(n)||(s[n]=t.additionalProperties);return s}function pl(t,e){const s=t.properties||{};return!Object.keys(s).includes(e)}function hn(t){return t?["input_paths","output_path","metadata","component"]:["zarr_url","zarr_urls","init_args","zarr_dir"]}function vl(t,e,s=void 0){const n=s==null||Object.keys(s).length===0;return Et(t,e,!0,s,n)}function gl(t,e,s,n){const r=t.required||[],a={};s==null&&(s={});const i=to(t,s);for(const[o,c]of Object.entries(i)){const u=r.includes(o);a[o]=Et(c,e,u,un(s[o]),n)}return a}function Et(t,e,s,n,r){if(!t)return null;if(r&&"default"in t)return Et(t,e,s,t.default,!1);if(t.type===null)return null;switch(t.type){case"object":return gl(t,e,n,r);case"array":{const a=t;return eo(a)?yl(a,e,s,n,r):_l(a,e,s,n,r)}default:return un(n)}}function _l(t,e,s,n,r){Array.isArray(n)||(n=[]);const a=t.items;let i=[];for(let o=0;o<n.length;o++)i.push(Et(a,e,s,n[o],r));if(s&&typeof t.minItems=="number"&&i.length<t.minItems)for(let o=i.length;o<t.minItems;o++)i.push(Et(a,e,s,null,r));return i}function yl(t,e,s,n,r){if(Array.isArray(n)||(n=[]),!s&&n.length===0)return n;let a=[];for(let o=0;o<n.length;o++)a.push(Et(Sa(t,e,o),e,s,n[o],r));const i=t.minItems;for(let o=a.length;o<i;o++)a.push(Et(Sa(t,e,o),e,!1,null,r));return a.length>i&&(console.warn("Tuple initial value has more items than allowed (%d)",i,n),a.splice(i,a.length)),a}function Sa(t,e,s){const n=e==="pydantic_v1"?t.items:t.prefixItems;return Array.isArray(n)?s<n.length?n[s]:(console.warn("Unable to retrieve tuple child on index %d",s),null):n}class bn{constructor(e){this.manager=e.manager,this.id=e.id,this.key=e.key,this.type=e.type,this.title=e.title,this.required=e.required,this.description=e.description,this.removable=e.removable,this.property=e.property}notifyChange(){this.manager.notifyChange()}}class Ms extends bn{constructor(e){super(e),this.value=e.value}}class bl extends Ms{constructor(e){super(e)}}class $l extends Ms{constructor(e){super(e)}}class El extends Ms{constructor(e){super(e),this.options=e.options}}class ka extends Ms{constructor(e){super(e),this.min=e.min,this.max=e.max,this.badInput=!1}}class wl extends bn{constructor(e){super(e),this.additionalProperties=e.additionalProperties,this.children=e.children,this.collapsed=!e.required}addChild(e){if(!this.additionalProperties)return;if(e==="")throw new Error("Schema property has no name");if(this.children.map(r=>r.key).includes(e))throw new Error("Schema property already has a property with the same name");const n=this.manager.createFormElement({key:e,property:this.additionalProperties,required:!1,removable:!0,value:Et(this.additionalProperties,this.manager.schemaVersion,!1,this.additionalProperties.default,!1)});n.title=e,n.removable=!0,this.children=[...this.children,n],this.notifyChange()}removeChild(e){if(!this.additionalProperties){console.warn("Attempted to call remove child on element without additional properties");return}const s=this.children.filter(r=>r.key===e);if(s.length===0){console.warn("Attempted to remove not existing key %s",e);return}const[n]=s;if(!n.removable){console.warn("Attempted to remove not removable child");return}this.children=this.children.filter(r=>r.key!==e),this.notifyChange()}resetChild(e){const s=this.children[e],n=s.property.default;if(n===void 0)return;const r=this.manager.createFormElement({key:s.key,property:s.property,required:s.required,removable:s.removable,value:n});r.collapsed=s.collapsed,this.children[e]=r,this.notifyChange()}}class Sl extends bn{constructor(e){super(e),this.children=e.children,this.items=e.items,this.minItems=e.minItems,this.maxItems=e.maxItems,this.collapsed=!e.required}addChild(){if(typeof this.maxItems=="number"&&this.children.length===this.maxItems)return;const e=this.manager.createFormElement({key:null,property:this.items,required:!1,removable:!0,value:Et(this.items,this.manager.schemaVersion,!1,void 0,!0)});this.children=[...this.children,e],this.notifyChange()}removeChild(e){this.children.splice(e,1),this.notifyChange()}moveChildUp(e){if(e>0){let s=[];for(let n=0;n<this.children.length;n++)n===e-1?s[n]=this.children[n+1]:n===e?s[n]=this.children[n-1]:s[n]=this.children[n];this.children=s,this.notifyChange()}}moveChildDown(e){if(e<this.children.length-1){let s=[];for(let n=0;n<this.children.length;n++)n===e?s[n]=this.children[n+1]:n===e+1?s[n]=this.children[n-1]:s[n]=this.children[n];this.children=s,this.notifyChange()}}}class kl extends bn{constructor(e){super(e),this.children=e.children,this.items=e.items,this.size=e.size,this.collapsed=!e.required}addTuple(){let e;if(Array.isArray(this.items))e=this.items.map((s,n)=>Et(s,this.manager.schemaVersion,!1,Array.isArray(this.property.default)?this.property.default[n]:void 0,!1));else{const s=this.items;e=Array(this.size).map(n=>Et(s,this.manager.schemaVersion,!1,Array.isArray(this.property.default)?this.property.default[n]:void 0,!1))}this.children=this.manager.createTupleChildren({items:this.items,size:this.size,value:e}),this.notifyChange()}removeTuple(){this.children=[],this.notifyChange()}}function so(t,e=[]){let s=no(t,e);return s=sn(s,s),s=Jn(s),s}function no(t,e=[]){const s=Mt(t);for(const n of Object.keys(s.properties||{}))e.includes(n)&&delete s.properties[n];return s.required&&(s.required=s.required.filter(n=>!e.includes(n))),s}function sn(t,e){if(Array.isArray(e)){const s=[];for(const n of e)s.push(sn(t,n));return s}else if(fn(e)){const s={};for(const[n,r]of Object.entries(e))if(n==="$ref"&&typeof r=="string"){const a=Ol(t,r);for(const[i,o]of Object.entries(a))s[i]=sn(t,o)}else s[n]=sn(t,r);return s}else return e}function Ol(t,e){if(!e.startsWith("#/"))throw new Error(`Unsupported $ref field format: ${e}`);const s=e.substring(2).split("/");let n=t;for(const r of s){if(!(r in n))throw new Error(`Unable to resolve reference ${e}. Key ${r} not found.`);n=n[r]}return n}function Jn(t){if(Array.isArray(t)){const e=[];for(const s of t)e.push(Jn(s));return e}else if(fn(t)){const e={};for(const[s,n]of Object.entries(t))if(s==="allOf"&&Array.isArray(n))for(const r of n)for(const[a,i]of Object.entries(r))Pl(e,a,i);else e[s]=Jn(n);return e}else return t}function Pl(t,e,s){e in t?Array.isArray(t[e])&&Array.isArray(s)?t[e]=[...t[e],...s]:fn(t)&&fn(s)&&(t[e]={...t[e],...s}):t[e]=s}var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ir(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kn={exports:{}},or={},pt={},gs={},Fs={},ue={},Ls={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends e{constructor(f){if(super(),!t.IDENTIFIER.test(f))throw new Error("CodeGen: name must be a valid identifier");this.str=f}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=s;class n extends e{constructor(f){super(),this._items=typeof f=="string"?[f]:f}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const f=this._items[0];return f===""||f==='""'}get str(){var f;return(f=this._str)!==null&&f!==void 0?f:this._str=this._items.reduce((m,$)=>`${m}${$}`,"")}get names(){var f;return(f=this._names)!==null&&f!==void 0?f:this._names=this._items.reduce((m,$)=>($ instanceof s&&(m[$.str]=(m[$.str]||0)+1),m),{})}}t._Code=n,t.nil=new n("");function r(d,...f){const m=[d[0]];let $=0;for(;$<f.length;)o(m,f[$]),m.push(d[++$]);return new n(m)}t._=r;const a=new n("+");function i(d,...f){const m=[E(d[0])];let $=0;for(;$<f.length;)m.push(a),o(m,f[$]),m.push(a,E(d[++$]));return c(m),new n(m)}t.str=i;function o(d,f){f instanceof n?d.push(...f._items):f instanceof s?d.push(f):d.push(p(f))}t.addCodeArg=o;function c(d){let f=1;for(;f<d.length-1;){if(d[f]===a){const m=u(d[f-1],d[f+1]);if(m!==void 0){d.splice(f-1,3,m);continue}d[f++]="+"}f++}}function u(d,f){if(f==='""')return d;if(d==='""')return f;if(typeof d=="string")return f instanceof s||d[d.length-1]!=='"'?void 0:typeof f!="string"?`${d.slice(0,-1)}${f}"`:f[0]==='"'?d.slice(0,-1)+f.slice(1):void 0;if(typeof f=="string"&&f[0]==='"'&&!(d instanceof s))return`"${d}${f.slice(1)}`}function h(d,f){return f.emptyStr()?d:d.emptyStr()?f:i`${d}${f}`}t.strConcat=h;function p(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:E(Array.isArray(d)?d.join(","):d)}function g(d){return new n(E(d))}t.stringify=g;function E(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=E;function v(d){return typeof d=="string"&&t.IDENTIFIER.test(d)?new n(`.${d}`):r`[${d}]`}t.getProperty=v;function b(d){if(typeof d=="string"&&t.IDENTIFIER.test(d))return new n(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}t.getEsmExportName=b;function l(d){return new n(d.toString())}t.regexpCode=l})(Ls);var Xn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Ls;class s extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class r{constructor({prefixes:u,parent:h}={}){this._names={},this._prefixes=u,this._parent=h}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const h=this._names[u]||this._nameGroup(u);return`${u}${h.index++}`}_nameGroup(u){var h,p;if(!((p=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||p===void 0)&&p.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=r;class a extends e.Name{constructor(u,h){super(h),this.prefix=u}setValue(u,{property:h,itemIndex:p}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(h)}[${p}]`}}t.ValueScopeName=a;const i=(0,e._)`\n`;class o extends r{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?i:e.nil}}get(){return this._scope}name(u){return new a(u,this._newName(u))}value(u,h){var p;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(u),{prefix:E}=g,v=(p=h.key)!==null&&p!==void 0?p:h.ref;let b=this._values[E];if(b){const f=b.get(v);if(f)return f}else b=this._values[E]=new Map;b.set(v,g);const l=this._scope[E]||(this._scope[E]=[]),d=l.length;return l[d]=h.ref,g.setValue(h,{property:E,itemIndex:d}),g}getValue(u,h){const p=this._values[u];if(p)return p.get(h)}scopeRefs(u,h=this._values){return this._reduceValues(h,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,e._)`${u}${p.scopePath}`})}scopeCode(u=this._values,h,p){return this._reduceValues(u,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},h,p)}_reduceValues(u,h,p={},g){let E=e.nil;for(const v in u){const b=u[v];if(!b)continue;const l=p[v]=p[v]||new Map;b.forEach(d=>{if(l.has(d))return;l.set(d,n.Started);let f=h(d);if(f){const m=this.opts.es5?t.varKinds.var:t.varKinds.const;E=(0,e._)`${E}${m} ${d} = ${f};${this.opts._n}`}else if(f=g==null?void 0:g(d))E=(0,e._)`${E}${f}${this.opts._n}`;else throw new s(d);l.set(d,n.Completed)})}return E}}t.ValueScope=o})(Xn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Ls,s=Xn;var n=Ls;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var r=Xn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return r.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return r.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return r.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return r.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(_,k){return this}}class i extends a{constructor(_,k,R){super(),this.varKind=_,this.name=k,this.rhs=R}render({es5:_,_n:k}){const R=_?s.varKinds.var:this.varKind,J=this.rhs===void 0?"":` = ${this.rhs}`;return`${R} ${this.name}${J};`+k}optimizeNames(_,k){if(_[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,_,k)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends a{constructor(_,k,R){super(),this.lhs=_,this.rhs=k,this.sideEffects=R}render({_n:_}){return`${this.lhs} = ${this.rhs};`+_}optimizeNames(_,k){if(!(this.lhs instanceof e.Name&&!_[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,_,k),this}get names(){const _=this.lhs instanceof e.Name?{}:{...this.lhs.names};return G(_,this.rhs)}}class c extends o{constructor(_,k,R,J){super(_,R,J),this.op=k}render({_n:_}){return`${this.lhs} ${this.op}= ${this.rhs};`+_}}class u extends a{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`${this.label}:`+_}}class h extends a{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`break${this.label?` ${this.label}`:""};`+_}}class p extends a{constructor(_){super(),this.error=_}render({_n:_}){return`throw ${this.error};`+_}get names(){return this.error.names}}class g extends a{constructor(_){super(),this.code=_}render({_n:_}){return`${this.code};`+_}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(_,k){return this.code=H(this.code,_,k),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class E extends a{constructor(_=[]){super(),this.nodes=_}render(_){return this.nodes.reduce((k,R)=>k+R.render(_),"")}optimizeNodes(){const{nodes:_}=this;let k=_.length;for(;k--;){const R=_[k].optimizeNodes();Array.isArray(R)?_.splice(k,1,...R):R?_[k]=R:_.splice(k,1)}return _.length>0?this:void 0}optimizeNames(_,k){const{nodes:R}=this;let J=R.length;for(;J--;){const X=R[J];X.optimizeNames(_,k)||(Z(_,X.names),R.splice(J,1))}return R.length>0?this:void 0}get names(){return this.nodes.reduce((_,k)=>L(_,k.names),{})}}class v extends E{render(_){return"{"+_._n+super.render(_)+"}"+_._n}}class b extends E{}class l extends v{}l.kind="else";class d extends v{constructor(_,k){super(k),this.condition=_}render(_){let k=`if(${this.condition})`+super.render(_);return this.else&&(k+="else "+this.else.render(_)),k}optimizeNodes(){super.optimizeNodes();const _=this.condition;if(_===!0)return this.nodes;let k=this.else;if(k){const R=k.optimizeNodes();k=this.else=Array.isArray(R)?new l(R):R}if(k)return _===!1?k instanceof d?k:k.nodes:this.nodes.length?this:new d(se(_),k instanceof d?[k]:k.nodes);if(!(_===!1||!this.nodes.length))return this}optimizeNames(_,k){var R;if(this.else=(R=this.else)===null||R===void 0?void 0:R.optimizeNames(_,k),!!(super.optimizeNames(_,k)||this.else))return this.condition=H(this.condition,_,k),this}get names(){const _=super.names;return G(_,this.condition),this.else&&L(_,this.else.names),_}}d.kind="if";class f extends v{}f.kind="for";class m extends f{constructor(_){super(),this.iteration=_}render(_){return`for(${this.iteration})`+super.render(_)}optimizeNames(_,k){if(super.optimizeNames(_,k))return this.iteration=H(this.iteration,_,k),this}get names(){return L(super.names,this.iteration.names)}}class $ extends f{constructor(_,k,R,J){super(),this.varKind=_,this.name=k,this.from=R,this.to=J}render(_){const k=_.es5?s.varKinds.var:this.varKind,{name:R,from:J,to:X}=this;return`for(${k} ${R}=${J}; ${R}<${X}; ${R}++)`+super.render(_)}get names(){const _=G(super.names,this.from);return G(_,this.to)}}class O extends f{constructor(_,k,R,J){super(),this.loop=_,this.varKind=k,this.name=R,this.iterable=J}render(_){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(_)}optimizeNames(_,k){if(super.optimizeNames(_,k))return this.iterable=H(this.iterable,_,k),this}get names(){return L(super.names,this.iterable.names)}}class N extends v{constructor(_,k,R){super(),this.name=_,this.args=k,this.async=R}render(_){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(_)}}N.kind="func";class D extends E{render(_){return"return "+super.render(_)}}D.kind="return";class F extends v{render(_){let k="try"+super.render(_);return this.catch&&(k+=this.catch.render(_)),this.finally&&(k+=this.finally.render(_)),k}optimizeNodes(){var _,k;return super.optimizeNodes(),(_=this.catch)===null||_===void 0||_.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(_,k){var R,J;return super.optimizeNames(_,k),(R=this.catch)===null||R===void 0||R.optimizeNames(_,k),(J=this.finally)===null||J===void 0||J.optimizeNames(_,k),this}get names(){const _=super.names;return this.catch&&L(_,this.catch.names),this.finally&&L(_,this.finally.names),_}}class q extends v{constructor(_){super(),this.error=_}render(_){return`catch(${this.error})`+super.render(_)}}q.kind="catch";class W extends v{render(_){return"finally"+super.render(_)}}W.kind="finally";class V{constructor(_,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=_,this._scope=new s.Scope({parent:_}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(_){return this._scope.name(_)}scopeName(_){return this._extScope.name(_)}scopeValue(_,k){const R=this._extScope.value(_,k);return(this._values[R.prefix]||(this._values[R.prefix]=new Set)).add(R),R}getScopeValue(_,k){return this._extScope.getValue(_,k)}scopeRefs(_){return this._extScope.scopeRefs(_,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(_,k,R,J){const X=this._scope.toName(k);return R!==void 0&&J&&(this._constants[X.str]=R),this._leafNode(new i(_,X,R)),X}const(_,k,R){return this._def(s.varKinds.const,_,k,R)}let(_,k,R){return this._def(s.varKinds.let,_,k,R)}var(_,k,R){return this._def(s.varKinds.var,_,k,R)}assign(_,k,R){return this._leafNode(new o(_,k,R))}add(_,k){return this._leafNode(new c(_,t.operators.ADD,k))}code(_){return typeof _=="function"?_():_!==e.nil&&this._leafNode(new g(_)),this}object(..._){const k=["{"];for(const[R,J]of _)k.length>1&&k.push(","),k.push(R),(R!==J||this.opts.es5)&&(k.push(":"),(0,e.addCodeArg)(k,J));return k.push("}"),new e._Code(k)}if(_,k,R){if(this._blockNode(new d(_)),k&&R)this.code(k).else().code(R).endIf();else if(k)this.code(k).endIf();else if(R)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(_){return this._elseNode(new d(_))}else(){return this._elseNode(new l)}endIf(){return this._endBlockNode(d,l)}_for(_,k){return this._blockNode(_),k&&this.code(k).endFor(),this}for(_,k){return this._for(new m(_),k)}forRange(_,k,R,J,X=this.opts.es5?s.varKinds.var:s.varKinds.let){const x=this._scope.toName(_);return this._for(new $(X,x,k,R),()=>J(x))}forOf(_,k,R,J=s.varKinds.const){const X=this._scope.toName(_);if(this.opts.es5){const x=k instanceof e.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,e._)`${x}.length`,re=>{this.var(X,(0,e._)`${x}[${re}]`),R(X)})}return this._for(new O("of",J,X,k),()=>R(X))}forIn(_,k,R,J=this.opts.es5?s.varKinds.var:s.varKinds.const){if(this.opts.ownProperties)return this.forOf(_,(0,e._)`Object.keys(${k})`,R);const X=this._scope.toName(_);return this._for(new O("in",J,X,k),()=>R(X))}endFor(){return this._endBlockNode(f)}label(_){return this._leafNode(new u(_))}break(_){return this._leafNode(new h(_))}return(_){const k=new D;if(this._blockNode(k),this.code(_),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(D)}try(_,k,R){if(!k&&!R)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new F;if(this._blockNode(J),this.code(_),k){const X=this.name("e");this._currNode=J.catch=new q(X),k(X)}return R&&(this._currNode=J.finally=new W,this.code(R)),this._endBlockNode(q,W)}throw(_){return this._leafNode(new p(_))}block(_,k){return this._blockStarts.push(this._nodes.length),_&&this.code(_).endBlock(k),this}endBlock(_){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const R=this._nodes.length-k;if(R<0||_!==void 0&&R!==_)throw new Error(`CodeGen: wrong number of nodes: ${R} vs ${_} expected`);return this._nodes.length=k,this}func(_,k=e.nil,R,J){return this._blockNode(new N(_,k,R)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(N)}optimize(_=1){for(;_-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(_){return this._currNode.nodes.push(_),this}_blockNode(_){this._currNode.nodes.push(_),this._nodes.push(_)}_endBlockNode(_,k){const R=this._currNode;if(R instanceof _||k&&R instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${_.kind}/${k.kind}`:_.kind}"`)}_elseNode(_){const k=this._currNode;if(!(k instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=_,this}get _root(){return this._nodes[0]}get _currNode(){const _=this._nodes;return _[_.length-1]}set _currNode(_){const k=this._nodes;k[k.length-1]=_}}t.CodeGen=V;function L(T,_){for(const k in _)T[k]=(T[k]||0)+(_[k]||0);return T}function G(T,_){return _ instanceof e._CodeOrName?L(T,_.names):T}function H(T,_,k){if(T instanceof e.Name)return R(T);if(!J(T))return T;return new e._Code(T._items.reduce((X,x)=>(x instanceof e.Name&&(x=R(x)),x instanceof e._Code?X.push(...x._items):X.push(x),X),[]));function R(X){const x=k[X.str];return x===void 0||_[X.str]!==1?X:(delete _[X.str],x)}function J(X){return X instanceof e._Code&&X._items.some(x=>x instanceof e.Name&&_[x.str]===1&&k[x.str]!==void 0)}}function Z(T,_){for(const k in _)T[k]=(T[k]||0)-(_[k]||0)}function se(T){return typeof T=="boolean"||typeof T=="number"||T===null?!T:(0,e._)`!${j(T)}`}t.not=se;const ke=C(t.operators.AND);function Pe(...T){return T.reduce(ke)}t.and=Pe;const ge=C(t.operators.OR);function B(...T){return T.reduce(ge)}t.or=B;function C(T){return(_,k)=>_===e.nil?k:k===e.nil?_:(0,e._)`${j(_)} ${T} ${j(k)}`}function j(T){return T instanceof e.Name?T:(0,e._)`(${T})`}})(ue);var K={};Object.defineProperty(K,"__esModule",{value:!0});K.checkStrictMode=K.getErrorPath=K.Type=K.useFunc=K.setEvaluated=K.evaluatedPropsToName=K.mergeEvaluated=K.eachItem=K.unescapeJsonPointer=K.escapeJsonPointer=K.escapeFragment=K.unescapeFragment=K.schemaRefOrVal=K.schemaHasRulesButRef=K.schemaHasRules=K.checkUnknownRules=K.alwaysValidSchema=K.toHash=void 0;const Ie=ue,Nl=Ls;function Cl(t){const e={};for(const s of t)e[s]=!0;return e}K.toHash=Cl;function Tl(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(ro(t,e),!ao(e,t.self.RULES.all))}K.alwaysValidSchema=Tl;function ro(t,e=t.schema){const{opts:s,self:n}=t;if(!s.strictSchema||typeof e=="boolean")return;const r=n.RULES.keywords;for(const a in e)r[a]||lo(t,`unknown keyword: "${a}"`)}K.checkUnknownRules=ro;function ao(t,e){if(typeof t=="boolean")return!t;for(const s in t)if(e[s])return!0;return!1}K.schemaHasRules=ao;function Al(t,e){if(typeof t=="boolean")return!t;for(const s in t)if(s!=="$ref"&&e.all[s])return!0;return!1}K.schemaHasRulesButRef=Al;function Dl({topSchemaRef:t,schemaPath:e},s,n,r){if(!r){if(typeof s=="number"||typeof s=="boolean")return s;if(typeof s=="string")return(0,Ie._)`${s}`}return(0,Ie._)`${t}${e}${(0,Ie.getProperty)(n)}`}K.schemaRefOrVal=Dl;function Rl(t){return io(decodeURIComponent(t))}K.unescapeFragment=Rl;function jl(t){return encodeURIComponent(lr(t))}K.escapeFragment=jl;function lr(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}K.escapeJsonPointer=lr;function io(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}K.unescapeJsonPointer=io;function Ll(t,e){if(Array.isArray(t))for(const s of t)e(s);else e(t)}K.eachItem=Ll;function Oa({mergeNames:t,mergeToName:e,mergeValues:s,resultToName:n}){return(r,a,i,o)=>{const c=i===void 0?a:i instanceof Ie.Name?(a instanceof Ie.Name?t(r,a,i):e(r,a,i),i):a instanceof Ie.Name?(e(r,i,a),a):s(a,i);return o===Ie.Name&&!(c instanceof Ie.Name)?n(r,c):c}}K.mergeEvaluated={props:Oa({mergeNames:(t,e,s)=>t.if((0,Ie._)`${s} !== true && ${e} !== undefined`,()=>{t.if((0,Ie._)`${e} === true`,()=>t.assign(s,!0),()=>t.assign(s,(0,Ie._)`${s} || {}`).code((0,Ie._)`Object.assign(${s}, ${e})`))}),mergeToName:(t,e,s)=>t.if((0,Ie._)`${s} !== true`,()=>{e===!0?t.assign(s,!0):(t.assign(s,(0,Ie._)`${s} || {}`),cr(t,s,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:oo}),items:Oa({mergeNames:(t,e,s)=>t.if((0,Ie._)`${s} !== true && ${e} !== undefined`,()=>t.assign(s,(0,Ie._)`${e} === true ? true : ${s} > ${e} ? ${s} : ${e}`)),mergeToName:(t,e,s)=>t.if((0,Ie._)`${s} !== true`,()=>t.assign(s,e===!0?!0:(0,Ie._)`${s} > ${e} ? ${s} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function oo(t,e){if(e===!0)return t.var("props",!0);const s=t.var("props",(0,Ie._)`{}`);return e!==void 0&&cr(t,s,e),s}K.evaluatedPropsToName=oo;function cr(t,e,s){Object.keys(s).forEach(n=>t.assign((0,Ie._)`${e}${(0,Ie.getProperty)(n)}`,!0))}K.setEvaluated=cr;const Pa={};function Vl(t,e){return t.scopeValue("func",{ref:e,code:Pa[e.code]||(Pa[e.code]=new Nl._Code(e.code))})}K.useFunc=Vl;var Wn;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Wn||(K.Type=Wn={}));function Ml(t,e,s){if(t instanceof Ie.Name){const n=e===Wn.Num;return s?n?(0,Ie._)`"[" + ${t} + "]"`:(0,Ie._)`"['" + ${t} + "']"`:n?(0,Ie._)`"/" + ${t}`:(0,Ie._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return s?(0,Ie.getProperty)(t).toString():"/"+lr(t)}K.getErrorPath=Ml;function lo(t,e,s=t.opts.strictSchema){if(s){if(e=`strict mode: ${e}`,s===!0)throw new Error(e);t.self.logger.warn(e)}}K.checkStrictMode=lo;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});const nt=ue,Fl={data:new nt.Name("data"),valCxt:new nt.Name("valCxt"),instancePath:new nt.Name("instancePath"),parentData:new nt.Name("parentData"),parentDataProperty:new nt.Name("parentDataProperty"),rootData:new nt.Name("rootData"),dynamicAnchors:new nt.Name("dynamicAnchors"),vErrors:new nt.Name("vErrors"),errors:new nt.Name("errors"),this:new nt.Name("this"),self:new nt.Name("self"),scope:new nt.Name("scope"),json:new nt.Name("json"),jsonPos:new nt.Name("jsonPos"),jsonLen:new nt.Name("jsonLen"),jsonPart:new nt.Name("jsonPart")};ht.default=Fl;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=ue,s=K,n=ht;t.keywordError={message:({keyword:l})=>(0,e.str)`must pass "${l}" keyword validation`},t.keyword$DataError={message:({keyword:l,schemaType:d})=>d?(0,e.str)`"${l}" keyword must be ${d} ($data)`:(0,e.str)`"${l}" keyword is invalid ($data)`};function r(l,d=t.keywordError,f,m){const{it:$}=l,{gen:O,compositeRule:N,allErrors:D}=$,F=p(l,d,f);m??(N||D)?c(O,F):u($,(0,e._)`[${F}]`)}t.reportError=r;function a(l,d=t.keywordError,f){const{it:m}=l,{gen:$,compositeRule:O,allErrors:N}=m,D=p(l,d,f);c($,D),O||N||u(m,n.default.vErrors)}t.reportExtraError=a;function i(l,d){l.assign(n.default.errors,d),l.if((0,e._)`${n.default.vErrors} !== null`,()=>l.if(d,()=>l.assign((0,e._)`${n.default.vErrors}.length`,d),()=>l.assign(n.default.vErrors,null)))}t.resetErrorsCount=i;function o({gen:l,keyword:d,schemaValue:f,data:m,errsCount:$,it:O}){if($===void 0)throw new Error("ajv implementation error");const N=l.name("err");l.forRange("i",$,n.default.errors,D=>{l.const(N,(0,e._)`${n.default.vErrors}[${D}]`),l.if((0,e._)`${N}.instancePath === undefined`,()=>l.assign((0,e._)`${N}.instancePath`,(0,e.strConcat)(n.default.instancePath,O.errorPath))),l.assign((0,e._)`${N}.schemaPath`,(0,e.str)`${O.errSchemaPath}/${d}`),O.opts.verbose&&(l.assign((0,e._)`${N}.schema`,f),l.assign((0,e._)`${N}.data`,m))})}t.extendErrors=o;function c(l,d){const f=l.const("err",d);l.if((0,e._)`${n.default.vErrors} === null`,()=>l.assign(n.default.vErrors,(0,e._)`[${f}]`),(0,e._)`${n.default.vErrors}.push(${f})`),l.code((0,e._)`${n.default.errors}++`)}function u(l,d){const{gen:f,validateName:m,schemaEnv:$}=l;$.$async?f.throw((0,e._)`new ${l.ValidationError}(${d})`):(f.assign((0,e._)`${m}.errors`,d),f.return(!1))}const h={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function p(l,d,f){const{createErrors:m}=l.it;return m===!1?(0,e._)`{}`:g(l,d,f)}function g(l,d,f={}){const{gen:m,it:$}=l,O=[E($,f),v(l,f)];return b(l,d,O),m.object(...O)}function E({errorPath:l},{instancePath:d}){const f=d?(0,e.str)`${l}${(0,s.getErrorPath)(d,s.Type.Str)}`:l;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,f)]}function v({keyword:l,it:{errSchemaPath:d}},{schemaPath:f,parentSchema:m}){let $=m?d:(0,e.str)`${d}/${l}`;return f&&($=(0,e.str)`${$}${(0,s.getErrorPath)(f,s.Type.Str)}`),[h.schemaPath,$]}function b(l,{params:d,message:f},m){const{keyword:$,data:O,schemaValue:N,it:D}=l,{opts:F,propertyName:q,topSchemaRef:W,schemaPath:V}=D;m.push([h.keyword,$],[h.params,typeof d=="function"?d(l):d||(0,e._)`{}`]),F.messages&&m.push([h.message,typeof f=="function"?f(l):f]),F.verbose&&m.push([h.schema,N],[h.parentSchema,(0,e._)`${W}${V}`],[n.default.data,O]),q&&m.push([h.propertyName,q])}})(Fs);Object.defineProperty(gs,"__esModule",{value:!0});gs.boolOrEmptySchema=gs.topBoolOrEmptySchema=void 0;const zl=Fs,Ul=ue,ql=ht,Bl={message:"boolean schema is false"};function Hl(t){const{gen:e,schema:s,validateName:n}=t;s===!1?co(t,!1):typeof s=="object"&&s.$async===!0?e.return(ql.default.data):(e.assign((0,Ul._)`${n}.errors`,null),e.return(!0))}gs.topBoolOrEmptySchema=Hl;function Gl(t,e){const{gen:s,schema:n}=t;n===!1?(s.var(e,!1),co(t)):s.var(e,!0)}gs.boolOrEmptySchema=Gl;function co(t,e){const{gen:s,data:n}=t,r={gen:s,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,zl.reportError)(r,Bl,void 0,e)}var Ge={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getRules=Zt.isJSONType=void 0;const Jl=["string","number","integer","boolean","null","object","array"],Kl=new Set(Jl);function Xl(t){return typeof t=="string"&&Kl.has(t)}Zt.isJSONType=Xl;function Wl(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Zt.getRules=Wl;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.shouldUseRule=Tt.shouldUseGroup=Tt.schemaHasRulesForType=void 0;function Zl({schema:t,self:e},s){const n=e.RULES.types[s];return n&&n!==!0&&uo(t,n)}Tt.schemaHasRulesForType=Zl;function uo(t,e){return e.rules.some(s=>fo(t,s))}Tt.shouldUseGroup=uo;function fo(t,e){var s;return t[e.keyword]!==void 0||((s=e.definition.implements)===null||s===void 0?void 0:s.some(n=>t[n]!==void 0))}Tt.shouldUseRule=fo;Object.defineProperty(Ge,"__esModule",{value:!0});Ge.reportTypeError=Ge.checkDataTypes=Ge.checkDataType=Ge.coerceAndCheckDataType=Ge.getJSONTypes=Ge.getSchemaTypes=Ge.DataType=void 0;const Yl=Zt,Ql=Tt,xl=Fs,pe=ue,ho=K;var ps;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(ps||(Ge.DataType=ps={}));function ec(t){const e=mo(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Ge.getSchemaTypes=ec;function mo(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(Yl.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Ge.getJSONTypes=mo;function tc(t,e){const{gen:s,data:n,opts:r}=t,a=sc(e,r.coerceTypes),i=e.length>0&&!(a.length===0&&e.length===1&&(0,Ql.schemaHasRulesForType)(t,e[0]));if(i){const o=dr(e,n,r.strictNumbers,ps.Wrong);s.if(o,()=>{a.length?nc(t,e,a):ur(t)})}return i}Ge.coerceAndCheckDataType=tc;const po=new Set(["string","number","integer","boolean","null"]);function sc(t,e){return e?t.filter(s=>po.has(s)||e==="array"&&s==="array"):[]}function nc(t,e,s){const{gen:n,data:r,opts:a}=t,i=n.let("dataType",(0,pe._)`typeof ${r}`),o=n.let("coerced",(0,pe._)`undefined`);a.coerceTypes==="array"&&n.if((0,pe._)`${i} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,()=>n.assign(r,(0,pe._)`${r}[0]`).assign(i,(0,pe._)`typeof ${r}`).if(dr(e,r,a.strictNumbers),()=>n.assign(o,r))),n.if((0,pe._)`${o} !== undefined`);for(const u of s)(po.has(u)||u==="array"&&a.coerceTypes==="array")&&c(u);n.else(),ur(t),n.endIf(),n.if((0,pe._)`${o} !== undefined`,()=>{n.assign(r,o),rc(t,o)});function c(u){switch(u){case"string":n.elseIf((0,pe._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,pe._)`"" + ${r}`).elseIf((0,pe._)`${r} === null`).assign(o,(0,pe._)`""`);return;case"number":n.elseIf((0,pe._)`${i} == "boolean" || ${r} === null
              || (${i} == "string" && ${r} && ${r} == +${r})`).assign(o,(0,pe._)`+${r}`);return;case"integer":n.elseIf((0,pe._)`${i} === "boolean" || ${r} === null
              || (${i} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(o,(0,pe._)`+${r}`);return;case"boolean":n.elseIf((0,pe._)`${r} === "false" || ${r} === 0 || ${r} === null`).assign(o,!1).elseIf((0,pe._)`${r} === "true" || ${r} === 1`).assign(o,!0);return;case"null":n.elseIf((0,pe._)`${r} === "" || ${r} === 0 || ${r} === false`),n.assign(o,null);return;case"array":n.elseIf((0,pe._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${r} === null`).assign(o,(0,pe._)`[${r}]`)}}}function rc({gen:t,parentData:e,parentDataProperty:s},n){t.if((0,pe._)`${e} !== undefined`,()=>t.assign((0,pe._)`${e}[${s}]`,n))}function Zn(t,e,s,n=ps.Correct){const r=n===ps.Correct?pe.operators.EQ:pe.operators.NEQ;let a;switch(t){case"null":return(0,pe._)`${e} ${r} null`;case"array":a=(0,pe._)`Array.isArray(${e})`;break;case"object":a=(0,pe._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":a=i((0,pe._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":a=i();break;default:return(0,pe._)`typeof ${e} ${r} ${t}`}return n===ps.Correct?a:(0,pe.not)(a);function i(o=pe.nil){return(0,pe.and)((0,pe._)`typeof ${e} == "number"`,o,s?(0,pe._)`isFinite(${e})`:pe.nil)}}Ge.checkDataType=Zn;function dr(t,e,s,n){if(t.length===1)return Zn(t[0],e,s,n);let r;const a=(0,ho.toHash)(t);if(a.array&&a.object){const i=(0,pe._)`typeof ${e} != "object"`;r=a.null?i:(0,pe._)`!${e} || ${i}`,delete a.null,delete a.array,delete a.object}else r=pe.nil;a.number&&delete a.integer;for(const i in a)r=(0,pe.and)(r,Zn(i,e,s,n));return r}Ge.checkDataTypes=dr;const ac={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,pe._)`{type: ${t}}`:(0,pe._)`{type: ${e}}`};function ur(t){const e=ic(t);(0,xl.reportError)(e,ac)}Ge.reportTypeError=ur;function ic(t){const{gen:e,data:s,schema:n}=t,r=(0,ho.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:s,schema:n.type,schemaCode:r,schemaValue:r,parentSchema:n,params:{},it:t}}var $n={};Object.defineProperty($n,"__esModule",{value:!0});$n.assignDefaults=void 0;const fs=ue,oc=K;function lc(t,e){const{properties:s,items:n}=t.schema;if(e==="object"&&s)for(const r in s)Ia(t,r,s[r].default);else e==="array"&&Array.isArray(n)&&n.forEach((r,a)=>Ia(t,a,r.default))}$n.assignDefaults=lc;function Ia(t,e,s){const{gen:n,compositeRule:r,data:a,opts:i}=t;if(s===void 0)return;const o=(0,fs._)`${a}${(0,fs.getProperty)(e)}`;if(r){(0,oc.checkStrictMode)(t,`default is ignored for: ${o}`);return}let c=(0,fs._)`${o} === undefined`;i.useDefaults==="empty"&&(c=(0,fs._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,fs._)`${o} = ${(0,fs.stringify)(s)}`)}var It={},_e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.validateUnion=_e.validateArray=_e.usePattern=_e.callValidateCode=_e.schemaProperties=_e.allSchemaProperties=_e.noPropertyInData=_e.propertyInData=_e.isOwnProperty=_e.hasPropFunc=_e.reportMissingProp=_e.checkMissingProp=_e.checkReportMissingProp=void 0;const Le=ue,fr=K,jt=ht,cc=K;function dc(t,e){const{gen:s,data:n,it:r}=t;s.if(mr(s,n,e,r.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Le._)`${e}`},!0),t.error()})}_e.checkReportMissingProp=dc;function uc({gen:t,data:e,it:{opts:s}},n,r){return(0,Le.or)(...n.map(a=>(0,Le.and)(mr(t,e,a,s.ownProperties),(0,Le._)`${r} = ${a}`)))}_e.checkMissingProp=uc;function fc(t,e){t.setParams({missingProperty:e},!0),t.error()}_e.reportMissingProp=fc;function vo(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Le._)`Object.prototype.hasOwnProperty`})}_e.hasPropFunc=vo;function hr(t,e,s){return(0,Le._)`${vo(t)}.call(${e}, ${s})`}_e.isOwnProperty=hr;function hc(t,e,s,n){const r=(0,Le._)`${e}${(0,Le.getProperty)(s)} !== undefined`;return n?(0,Le._)`${r} && ${hr(t,e,s)}`:r}_e.propertyInData=hc;function mr(t,e,s,n){const r=(0,Le._)`${e}${(0,Le.getProperty)(s)} === undefined`;return n?(0,Le.or)(r,(0,Le.not)(hr(t,e,s))):r}_e.noPropertyInData=mr;function go(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}_e.allSchemaProperties=go;function mc(t,e){return go(e).filter(s=>!(0,fr.alwaysValidSchema)(t,e[s]))}_e.schemaProperties=mc;function pc({schemaCode:t,data:e,it:{gen:s,topSchemaRef:n,schemaPath:r,errorPath:a},it:i},o,c,u){const h=u?(0,Le._)`${t}, ${e}, ${n}${r}`:e,p=[[jt.default.instancePath,(0,Le.strConcat)(jt.default.instancePath,a)],[jt.default.parentData,i.parentData],[jt.default.parentDataProperty,i.parentDataProperty],[jt.default.rootData,jt.default.rootData]];i.opts.dynamicRef&&p.push([jt.default.dynamicAnchors,jt.default.dynamicAnchors]);const g=(0,Le._)`${h}, ${s.object(...p)}`;return c!==Le.nil?(0,Le._)`${o}.call(${c}, ${g})`:(0,Le._)`${o}(${g})`}_e.callValidateCode=pc;const vc=(0,Le._)`new RegExp`;function gc({gen:t,it:{opts:e}},s){const n=e.unicodeRegExp?"u":"",{regExp:r}=e.code,a=r(s,n);return t.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,Le._)`${r.code==="new RegExp"?vc:(0,cc.useFunc)(t,r)}(${s}, ${n})`})}_e.usePattern=gc;function _c(t){const{gen:e,data:s,keyword:n,it:r}=t,a=e.name("valid");if(r.allErrors){const o=e.let("valid",!0);return i(()=>e.assign(o,!1)),o}return e.var(a,!0),i(()=>e.break()),a;function i(o){const c=e.const("len",(0,Le._)`${s}.length`);e.forRange("i",0,c,u=>{t.subschema({keyword:n,dataProp:u,dataPropType:fr.Type.Num},a),e.if((0,Le.not)(a),o)})}}_e.validateArray=_c;function yc(t){const{gen:e,schema:s,keyword:n,it:r}=t;if(!Array.isArray(s))throw new Error("ajv implementation error");if(s.some(c=>(0,fr.alwaysValidSchema)(r,c))&&!r.opts.unevaluated)return;const i=e.let("valid",!1),o=e.name("_valid");e.block(()=>s.forEach((c,u)=>{const h=t.subschema({keyword:n,schemaProp:u,compositeRule:!0},o);e.assign(i,(0,Le._)`${i} || ${o}`),t.mergeValidEvaluated(h,o)||e.if((0,Le.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}_e.validateUnion=yc;Object.defineProperty(It,"__esModule",{value:!0});It.validateKeywordUsage=It.validSchemaType=It.funcKeywordCode=It.macroKeywordCode=void 0;const lt=ue,Jt=ht,bc=_e,$c=Fs;function Ec(t,e){const{gen:s,keyword:n,schema:r,parentSchema:a,it:i}=t,o=e.macro.call(i.self,r,a,i),c=_o(s,n,o);i.opts.validateSchema!==!1&&i.self.validateSchema(o,!0);const u=s.name("valid");t.subschema({schema:o,schemaPath:lt.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}It.macroKeywordCode=Ec;function wc(t,e){var s;const{gen:n,keyword:r,schema:a,parentSchema:i,$data:o,it:c}=t;kc(c,e);const u=!o&&e.compile?e.compile.call(c.self,a,i,c):e.validate,h=_o(n,r,u),p=n.let("valid");t.block$data(p,g),t.ok((s=e.valid)!==null&&s!==void 0?s:p);function g(){if(e.errors===!1)b(),e.modifying&&Na(t),l(()=>t.error());else{const d=e.async?E():v();e.modifying&&Na(t),l(()=>Sc(t,d))}}function E(){const d=n.let("ruleErrs",null);return n.try(()=>b((0,lt._)`await `),f=>n.assign(p,!1).if((0,lt._)`${f} instanceof ${c.ValidationError}`,()=>n.assign(d,(0,lt._)`${f}.errors`),()=>n.throw(f))),d}function v(){const d=(0,lt._)`${h}.errors`;return n.assign(d,null),b(lt.nil),d}function b(d=e.async?(0,lt._)`await `:lt.nil){const f=c.opts.passContext?Jt.default.this:Jt.default.self,m=!("compile"in e&&!o||e.schema===!1);n.assign(p,(0,lt._)`${d}${(0,bc.callValidateCode)(t,h,f,m)}`,e.modifying)}function l(d){var f;n.if((0,lt.not)((f=e.valid)!==null&&f!==void 0?f:p),d)}}It.funcKeywordCode=wc;function Na(t){const{gen:e,data:s,it:n}=t;e.if(n.parentData,()=>e.assign(s,(0,lt._)`${n.parentData}[${n.parentDataProperty}]`))}function Sc(t,e){const{gen:s}=t;s.if((0,lt._)`Array.isArray(${e})`,()=>{s.assign(Jt.default.vErrors,(0,lt._)`${Jt.default.vErrors} === null ? ${e} : ${Jt.default.vErrors}.concat(${e})`).assign(Jt.default.errors,(0,lt._)`${Jt.default.vErrors}.length`),(0,$c.extendErrors)(t)},()=>t.error())}function kc({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function _o(t,e,s){if(s===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof s=="function"?{ref:s}:{ref:s,code:(0,lt.stringify)(s)})}function Oc(t,e,s=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||s&&typeof t>"u")}It.validSchemaType=Oc;function Pc({schema:t,opts:e,self:s,errSchemaPath:n},r,a){if(Array.isArray(r.keyword)?!r.keyword.includes(a):r.keyword!==a)throw new Error("ajv implementation error");const i=r.dependencies;if(i!=null&&i.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(r.validateSchema&&!r.validateSchema(t[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+s.errorsText(r.validateSchema.errors);if(e.validateSchema==="log")s.logger.error(c);else throw new Error(c)}}It.validateKeywordUsage=Pc;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.extendSubschemaMode=zt.extendSubschemaData=zt.getSubschema=void 0;const Pt=ue,yo=K;function Ic(t,{keyword:e,schemaProp:s,schema:n,schemaPath:r,errSchemaPath:a,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return s===void 0?{schema:o,schemaPath:(0,Pt._)`${t.schemaPath}${(0,Pt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[s],schemaPath:(0,Pt._)`${t.schemaPath}${(0,Pt.getProperty)(e)}${(0,Pt.getProperty)(s)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,yo.escapeFragment)(s)}`}}if(n!==void 0){if(r===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:r,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}zt.getSubschema=Ic;function Nc(t,e,{dataProp:s,dataPropType:n,data:r,dataTypes:a,propertyName:i}){if(r!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(s!==void 0){const{errorPath:u,dataPathArr:h,opts:p}=e,g=o.let("data",(0,Pt._)`${e.data}${(0,Pt.getProperty)(s)}`,!0);c(g),t.errorPath=(0,Pt.str)`${u}${(0,yo.getErrorPath)(s,n,p.jsPropertySyntax)}`,t.parentDataProperty=(0,Pt._)`${s}`,t.dataPathArr=[...h,t.parentDataProperty]}if(r!==void 0){const u=r instanceof Pt.Name?r:o.let("data",r,!0);c(u),i!==void 0&&(t.propertyName=i)}a&&(t.dataTypes=a);function c(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}zt.extendSubschemaData=Nc;function Cc(t,{jtdDiscriminator:e,jtdMetadata:s,compositeRule:n,createErrors:r,allErrors:a}){n!==void 0&&(t.compositeRule=n),r!==void 0&&(t.createErrors=r),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=s}zt.extendSubschemaMode=Cc;var Ze={},bo=function t(e,s){if(e===s)return!0;if(e&&s&&typeof e=="object"&&typeof s=="object"){if(e.constructor!==s.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=s.length)return!1;for(r=n;r--!==0;)if(!t(e[r],s[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(s,a[r]))return!1;for(r=n;r--!==0;){var i=a[r];if(!t(e[i],s[i]))return!1}return!0}return e!==e&&s!==s},$o={exports:{}},Ft=$o.exports=function(t,e,s){typeof e=="function"&&(s=e,e={}),s=e.cb||s;var n=typeof s=="function"?s:s.pre||function(){},r=s.post||function(){};nn(e,n,r,t,"",t)};Ft.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ft.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ft.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ft.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function nn(t,e,s,n,r,a,i,o,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,r,a,i,o,c,u);for(var h in n){var p=n[h];if(Array.isArray(p)){if(h in Ft.arrayKeywords)for(var g=0;g<p.length;g++)nn(t,e,s,p[g],r+"/"+h+"/"+g,a,r,h,n,g)}else if(h in Ft.propsKeywords){if(p&&typeof p=="object")for(var E in p)nn(t,e,s,p[E],r+"/"+h+"/"+Tc(E),a,r,h,n,E)}else(h in Ft.keywords||t.allKeys&&!(h in Ft.skipKeywords))&&nn(t,e,s,p,r+"/"+h,a,r,h,n)}s(n,r,a,i,o,c,u)}}function Tc(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var Ac=$o.exports;Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getSchemaRefs=Ze.resolveUrl=Ze.normalizeId=Ze._getFullPath=Ze.getFullPath=Ze.inlineRef=void 0;const Dc=K,Rc=bo,jc=Ac,Lc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Vc(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Yn(t):e?Eo(t)<=e:!1}Ze.inlineRef=Vc;const Mc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Yn(t){for(const e in t){if(Mc.has(e))return!0;const s=t[e];if(Array.isArray(s)&&s.some(Yn)||typeof s=="object"&&Yn(s))return!0}return!1}function Eo(t){let e=0;for(const s in t){if(s==="$ref")return 1/0;if(e++,!Lc.has(s)&&(typeof t[s]=="object"&&(0,Dc.eachItem)(t[s],n=>e+=Eo(n)),e===1/0))return 1/0}return e}function wo(t,e="",s){s!==!1&&(e=vs(e));const n=t.parse(e);return So(t,n)}Ze.getFullPath=wo;function So(t,e){return t.serialize(e).split("#")[0]+"#"}Ze._getFullPath=So;const Fc=/#\/?$/;function vs(t){return t?t.replace(Fc,""):""}Ze.normalizeId=vs;function zc(t,e,s){return s=vs(s),t.resolve(e,s)}Ze.resolveUrl=zc;const Uc=/^[a-z_][-a-z0-9._]*$/i;function qc(t,e){if(typeof t=="boolean")return{};const{schemaId:s,uriResolver:n}=this.opts,r=vs(t[s]||e),a={"":r},i=wo(n,r,!1),o={},c=new Set;return jc(t,{allKeys:!0},(p,g,E,v)=>{if(v===void 0)return;const b=i+g;let l=a[v];typeof p[s]=="string"&&(l=d.call(this,p[s])),f.call(this,p.$anchor),f.call(this,p.$dynamicAnchor),a[g]=l;function d(m){const $=this.opts.uriResolver.resolve;if(m=vs(l?$(l,m):m),c.has(m))throw h(m);c.add(m);let O=this.refs[m];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?u(p,O.schema,m):m!==vs(b)&&(m[0]==="#"?(u(p,o[m],m),o[m]=p):this.refs[m]=b),m}function f(m){if(typeof m=="string"){if(!Uc.test(m))throw new Error(`invalid anchor "${m}"`);d.call(this,`#${m}`)}}}),o;function u(p,g,E){if(g!==void 0&&!Rc(p,g))throw h(E)}function h(p){return new Error(`reference "${p}" resolves to more than one schema`)}}Ze.getSchemaRefs=qc;Object.defineProperty(pt,"__esModule",{value:!0});pt.getData=pt.KeywordCxt=pt.validateFunctionCode=void 0;const ko=gs,Ca=Ge,pr=Tt,mn=Ge,Bc=$n,Ts=It,Fn=zt,ee=ue,de=ht,Hc=Ze,At=K,Os=Fs;function Gc(t){if(Io(t)&&(No(t),Po(t))){Xc(t);return}Oo(t,()=>(0,ko.topBoolOrEmptySchema)(t))}pt.validateFunctionCode=Gc;function Oo({gen:t,validateName:e,schema:s,schemaEnv:n,opts:r},a){r.code.es5?t.func(e,(0,ee._)`${de.default.data}, ${de.default.valCxt}`,n.$async,()=>{t.code((0,ee._)`"use strict"; ${Ta(s,r)}`),Kc(t,r),t.code(a)}):t.func(e,(0,ee._)`${de.default.data}, ${Jc(r)}`,n.$async,()=>t.code(Ta(s,r)).code(a))}function Jc(t){return(0,ee._)`{${de.default.instancePath}="", ${de.default.parentData}, ${de.default.parentDataProperty}, ${de.default.rootData}=${de.default.data}${t.dynamicRef?(0,ee._)`, ${de.default.dynamicAnchors}={}`:ee.nil}}={}`}function Kc(t,e){t.if(de.default.valCxt,()=>{t.var(de.default.instancePath,(0,ee._)`${de.default.valCxt}.${de.default.instancePath}`),t.var(de.default.parentData,(0,ee._)`${de.default.valCxt}.${de.default.parentData}`),t.var(de.default.parentDataProperty,(0,ee._)`${de.default.valCxt}.${de.default.parentDataProperty}`),t.var(de.default.rootData,(0,ee._)`${de.default.valCxt}.${de.default.rootData}`),e.dynamicRef&&t.var(de.default.dynamicAnchors,(0,ee._)`${de.default.valCxt}.${de.default.dynamicAnchors}`)},()=>{t.var(de.default.instancePath,(0,ee._)`""`),t.var(de.default.parentData,(0,ee._)`undefined`),t.var(de.default.parentDataProperty,(0,ee._)`undefined`),t.var(de.default.rootData,de.default.data),e.dynamicRef&&t.var(de.default.dynamicAnchors,(0,ee._)`{}`)})}function Xc(t){const{schema:e,opts:s,gen:n}=t;Oo(t,()=>{s.$comment&&e.$comment&&To(t),xc(t),n.let(de.default.vErrors,null),n.let(de.default.errors,0),s.unevaluated&&Wc(t),Co(t),sd(t)})}function Wc(t){const{gen:e,validateName:s}=t;t.evaluated=e.const("evaluated",(0,ee._)`${s}.evaluated`),e.if((0,ee._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,ee._)`${t.evaluated}.props`,(0,ee._)`undefined`)),e.if((0,ee._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,ee._)`${t.evaluated}.items`,(0,ee._)`undefined`))}function Ta(t,e){const s=typeof t=="object"&&t[e.schemaId];return s&&(e.code.source||e.code.process)?(0,ee._)`/*# sourceURL=${s} */`:ee.nil}function Zc(t,e){if(Io(t)&&(No(t),Po(t))){Yc(t,e);return}(0,ko.boolOrEmptySchema)(t,e)}function Po({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const s in t)if(e.RULES.all[s])return!0;return!1}function Io(t){return typeof t.schema!="boolean"}function Yc(t,e){const{schema:s,gen:n,opts:r}=t;r.$comment&&s.$comment&&To(t),ed(t),td(t);const a=n.const("_errs",de.default.errors);Co(t,a),n.var(e,(0,ee._)`${a} === ${de.default.errors}`)}function No(t){(0,At.checkUnknownRules)(t),Qc(t)}function Co(t,e){if(t.opts.jtd)return Aa(t,[],!1,e);const s=(0,Ca.getSchemaTypes)(t.schema),n=(0,Ca.coerceAndCheckDataType)(t,s);Aa(t,s,!n,e)}function Qc(t){const{schema:e,errSchemaPath:s,opts:n,self:r}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,At.schemaHasRulesButRef)(e,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${s}"`)}function xc(t){const{schema:e,opts:s}=t;e.default!==void 0&&s.useDefaults&&s.strictSchema&&(0,At.checkStrictMode)(t,"default is ignored in the schema root")}function ed(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Hc.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function td(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function To({gen:t,schemaEnv:e,schema:s,errSchemaPath:n,opts:r}){const a=s.$comment;if(r.$comment===!0)t.code((0,ee._)`${de.default.self}.logger.log(${a})`);else if(typeof r.$comment=="function"){const i=(0,ee.str)`${n}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,ee._)`${de.default.self}.opts.$comment(${a}, ${i}, ${o}.schema)`)}}function sd(t){const{gen:e,schemaEnv:s,validateName:n,ValidationError:r,opts:a}=t;s.$async?e.if((0,ee._)`${de.default.errors} === 0`,()=>e.return(de.default.data),()=>e.throw((0,ee._)`new ${r}(${de.default.vErrors})`)):(e.assign((0,ee._)`${n}.errors`,de.default.vErrors),a.unevaluated&&nd(t),e.return((0,ee._)`${de.default.errors} === 0`))}function nd({gen:t,evaluated:e,props:s,items:n}){s instanceof ee.Name&&t.assign((0,ee._)`${e}.props`,s),n instanceof ee.Name&&t.assign((0,ee._)`${e}.items`,n)}function Aa(t,e,s,n){const{gen:r,schema:a,data:i,allErrors:o,opts:c,self:u}=t,{RULES:h}=u;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,At.schemaHasRulesButRef)(a,h))){r.block(()=>Ro(t,"$ref",h.all.$ref.definition));return}c.jtd||rd(t,e),r.block(()=>{for(const g of h.rules)p(g);p(h.post)});function p(g){(0,pr.shouldUseGroup)(a,g)&&(g.type?(r.if((0,mn.checkDataType)(g.type,i,c.strictNumbers)),Da(t,g),e.length===1&&e[0]===g.type&&s&&(r.else(),(0,mn.reportTypeError)(t)),r.endIf()):Da(t,g),o||r.if((0,ee._)`${de.default.errors} === ${n||0}`))}}function Da(t,e){const{gen:s,schema:n,opts:{useDefaults:r}}=t;r&&(0,Bc.assignDefaults)(t,e.type),s.block(()=>{for(const a of e.rules)(0,pr.shouldUseRule)(n,a)&&Ro(t,a.keyword,a.definition,e.type)})}function rd(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(ad(t,e),t.opts.allowUnionTypes||id(t,e),od(t,t.dataTypes))}function ad(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(s=>{Ao(t.dataTypes,s)||vr(t,`type "${s}" not allowed by context "${t.dataTypes.join(",")}"`)}),cd(t,e)}}function id(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&vr(t,"use allowUnionTypes to allow union type keyword")}function od(t,e){const s=t.self.RULES.all;for(const n in s){const r=s[n];if(typeof r=="object"&&(0,pr.shouldUseRule)(t.schema,r)){const{type:a}=r.definition;a.length&&!a.some(i=>ld(e,i))&&vr(t,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function ld(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Ao(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function cd(t,e){const s=[];for(const n of t.dataTypes)Ao(e,n)?s.push(n):e.includes("integer")&&n==="number"&&s.push("integer");t.dataTypes=s}function vr(t,e){const s=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${s}" (strictTypes)`,(0,At.checkStrictMode)(t,e,t.opts.strictTypes)}class Do{constructor(e,s,n){if((0,Ts.validateKeywordUsage)(e,s,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=s.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,At.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=s.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=s,this.$data)this.schemaCode=e.gen.const("vSchema",jo(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Ts.validSchemaType)(this.schema,s.schemaType,s.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(s.schemaType)}`);("code"in s?s.trackErrors:s.errors!==!1)&&(this.errsCount=e.gen.const("_errs",de.default.errors))}result(e,s,n){this.failResult((0,ee.not)(e),s,n)}failResult(e,s,n){this.gen.if(e),n?n():this.error(),s?(this.gen.else(),s(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,s){this.failResult((0,ee.not)(e),void 0,s)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:s}=this;this.fail((0,ee._)`${s} !== undefined && (${(0,ee.or)(this.invalid$data(),e)})`)}error(e,s,n){if(s){this.setParams(s),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,s){(e?Os.reportExtraError:Os.reportError)(this,this.def.error,s)}$dataError(){(0,Os.reportError)(this,this.def.$dataError||Os.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Os.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,s){s?Object.assign(this.params,e):this.params=e}block$data(e,s,n=ee.nil){this.gen.block(()=>{this.check$data(e,n),s()})}check$data(e=ee.nil,s=ee.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:a,def:i}=this;n.if((0,ee.or)((0,ee._)`${r} === undefined`,s)),e!==ee.nil&&n.assign(e,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==ee.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:s,schemaType:n,def:r,it:a}=this;return(0,ee.or)(i(),o());function i(){if(n.length){if(!(s instanceof ee.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,ee._)`${(0,mn.checkDataTypes)(c,s,a.opts.strictNumbers,mn.DataType.Wrong)}`}return ee.nil}function o(){if(r.validateSchema){const c=e.scopeValue("validate$data",{ref:r.validateSchema});return(0,ee._)`!${c}(${s})`}return ee.nil}}subschema(e,s){const n=(0,Fn.getSubschema)(this.it,e);(0,Fn.extendSubschemaData)(n,this.it,e),(0,Fn.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return Zc(r,s),r}mergeEvaluated(e,s){const{it:n,gen:r}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=At.mergeEvaluated.props(r,e.props,n.props,s)),n.items!==!0&&e.items!==void 0&&(n.items=At.mergeEvaluated.items(r,e.items,n.items,s)))}mergeValidEvaluated(e,s){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return r.if(s,()=>this.mergeEvaluated(e,ee.Name)),!0}}pt.KeywordCxt=Do;function Ro(t,e,s,n){const r=new Do(t,s,e);"code"in s?s.code(r,n):r.$data&&s.validate?(0,Ts.funcKeywordCode)(r,s):"macro"in s?(0,Ts.macroKeywordCode)(r,s):(s.compile||s.validate)&&(0,Ts.funcKeywordCode)(r,s)}const dd=/^\/(?:[^~]|~0|~1)*$/,ud=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function jo(t,{dataLevel:e,dataNames:s,dataPathArr:n}){let r,a;if(t==="")return de.default.rootData;if(t[0]==="/"){if(!dd.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);r=t,a=de.default.rootData}else{const u=ud.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);const h=+u[1];if(r=u[2],r==="#"){if(h>=e)throw new Error(c("property/index",h));return n[e-h]}if(h>e)throw new Error(c("data",h));if(a=s[e-h],!r)return a}let i=a;const o=r.split("/");for(const u of o)u&&(a=(0,ee._)`${a}${(0,ee.getProperty)((0,At.unescapeJsonPointer)(u))}`,i=(0,ee._)`${i} && ${a}`);return i;function c(u,h){return`Cannot access ${u} ${h} levels up, current level is ${e}`}}pt.getData=jo;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});class fd extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}ys.default=fd;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});const zn=Ze;class hd extends Error{constructor(e,s,n,r){super(r||`can't resolve reference ${n} from id ${s}`),this.missingRef=(0,zn.resolveUrl)(e,s,n),this.missingSchema=(0,zn.normalizeId)((0,zn.getFullPath)(e,this.missingRef))}}Qt.default=hd;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.resolveSchema=ct.getCompilingSchema=ct.resolveRef=ct.compileSchema=ct.SchemaEnv=void 0;const _t=ue,md=ys,Gt=ht,bt=Ze,Ra=K,pd=pt;class En{constructor(e){var s;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(s=e.baseId)!==null&&s!==void 0?s:(0,bt.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}ct.SchemaEnv=En;function gr(t){const e=Lo.call(this,t);if(e)return e;const s=(0,bt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:r}=this.opts.code,{ownProperties:a}=this.opts,i=new _t.CodeGen(this.scope,{es5:n,lines:r,ownProperties:a});let o;t.$async&&(o=i.scopeValue("Error",{ref:md.default,code:(0,_t._)`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");t.validateName=c;const u={gen:i,allErrors:this.opts.allErrors,data:Gt.default.data,parentData:Gt.default.parentData,parentDataProperty:Gt.default.parentDataProperty,dataNames:[Gt.default.data],dataPathArr:[_t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,_t.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:s,baseId:t.baseId||s,schemaPath:_t.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,_t._)`""`,opts:this.opts,self:this};let h;try{this._compilations.add(t),(0,pd.validateFunctionCode)(u),i.optimize(this.opts.code.optimize);const p=i.toString();h=`${i.scopeRefs(Gt.default.scope)}return ${p}`,this.opts.code.process&&(h=this.opts.code.process(h,t));const E=new Function(`${Gt.default.self}`,`${Gt.default.scope}`,h)(this,this.scope.get());if(this.scope.value(c,{ref:E}),E.errors=null,E.schema=t.schema,E.schemaEnv=t,t.$async&&(E.$async=!0),this.opts.code.source===!0&&(E.source={validateName:c,validateCode:p,scopeValues:i._values}),this.opts.unevaluated){const{props:v,items:b}=u;E.evaluated={props:v instanceof _t.Name?void 0:v,items:b instanceof _t.Name?void 0:b,dynamicProps:v instanceof _t.Name,dynamicItems:b instanceof _t.Name},E.source&&(E.source.evaluated=(0,_t.stringify)(E.evaluated))}return t.validate=E,t}catch(p){throw delete t.validate,delete t.validateName,h&&this.logger.error("Error compiling schema, function code:",h),p}finally{this._compilations.delete(t)}}ct.compileSchema=gr;function vd(t,e,s){var n;s=(0,bt.resolveUrl)(this.opts.uriResolver,e,s);const r=t.refs[s];if(r)return r;let a=yd.call(this,t,s);if(a===void 0){const i=(n=t.localRefs)===null||n===void 0?void 0:n[s],{schemaId:o}=this.opts;i&&(a=new En({schema:i,schemaId:o,root:t,baseId:e}))}if(a!==void 0)return t.refs[s]=gd.call(this,a)}ct.resolveRef=vd;function gd(t){return(0,bt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:gr.call(this,t)}function Lo(t){for(const e of this._compilations)if(_d(e,t))return e}ct.getCompilingSchema=Lo;function _d(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function yd(t,e){let s;for(;typeof(s=this.refs[e])=="string";)e=s;return s||this.schemas[e]||wn.call(this,t,e)}function wn(t,e){const s=this.opts.uriResolver.parse(e),n=(0,bt._getFullPath)(this.opts.uriResolver,s);let r=(0,bt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===r)return Un.call(this,s,t);const a=(0,bt.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const o=wn.call(this,t,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Un.call(this,s,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||gr.call(this,i),a===(0,bt.normalizeId)(e)){const{schema:o}=i,{schemaId:c}=this.opts,u=o[c];return u&&(r=(0,bt.resolveUrl)(this.opts.uriResolver,r,u)),new En({schema:o,schemaId:c,root:t,baseId:r})}return Un.call(this,s,i)}}ct.resolveSchema=wn;const bd=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Un(t,{baseId:e,schema:s,root:n}){var r;if(((r=t.fragment)===null||r===void 0?void 0:r[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof s=="boolean")return;const c=s[(0,Ra.unescapeFragment)(o)];if(c===void 0)return;s=c;const u=typeof s=="object"&&s[this.opts.schemaId];!bd.has(o)&&u&&(e=(0,bt.resolveUrl)(this.opts.uriResolver,e,u))}let a;if(typeof s!="boolean"&&s.$ref&&!(0,Ra.schemaHasRulesButRef)(s,this.RULES)){const o=(0,bt.resolveUrl)(this.opts.uriResolver,e,s.$ref);a=wn.call(this,n,o)}const{schemaId:i}=this.opts;if(a=a||new En({schema:s,schemaId:i,root:n,baseId:e}),a.schema!==a.root.schema)return a}const $d="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Ed="Meta-schema for $data reference (JSON AnySchema extension proposal)",wd="object",Sd=["$data"],kd={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Od=!1,Pd={$id:$d,description:Ed,type:wd,required:Sd,properties:kd,additionalProperties:Od};var _r={},Sn={exports:{}};const Id={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var Nd={HEX:Id};const{HEX:Cd}=Nd;function Vo(t){if(Fo(t,".")<3)return{host:t,isIPV4:!1};const e=t.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[s]=e;return s?{host:Ad(s,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function Qn(t,e=!1){let s="",n=!0;for(const r of t){if(Cd[r]===void 0)return;r!=="0"&&n===!0&&(n=!1),n||(s+=r)}return e&&s.length===0&&(s="0"),s}function Td(t){let e=0;const s={error:!1,address:"",zone:""},n=[],r=[];let a=!1,i=!1,o=!1;function c(){if(r.length){if(a===!1){const u=Qn(r);if(u!==void 0)n.push(u);else return s.error=!0,!1}r.length=0}return!0}for(let u=0;u<t.length;u++){const h=t[u];if(!(h==="["||h==="]"))if(h===":"){if(i===!0&&(o=!0),!c())break;if(e++,n.push(":"),e>7){s.error=!0;break}u-1>=0&&t[u-1]===":"&&(i=!0);continue}else if(h==="%"){if(!c())break;a=!0}else{r.push(h);continue}}return r.length&&(a?s.zone=r.join(""):o?n.push(r.join("")):n.push(Qn(r))),s.address=n.join(""),s}function Mo(t,e={}){if(Fo(t,":")<2)return{host:t,isIPV6:!1};const s=Td(t);if(s.error)return{host:t,isIPV6:!1};{let n=s.address,r=s.address;return s.zone&&(n+="%"+s.zone,r+="%25"+s.zone),{host:n,escapedHost:r,isIPV6:!0}}}function Ad(t,e){let s="",n=!0;const r=t.length;for(let a=0;a<r;a++){const i=t[a];i==="0"&&n?(a+1<=r&&t[a+1]===e||a+1===r)&&(s+=i,n=!1):(i===e?n=!0:n=!1,s+=i)}return s}function Fo(t,e){let s=0;for(let n=0;n<t.length;n++)t[n]===e&&s++;return s}const ja=/^\.\.?\//u,La=/^\/\.(?:\/|$)/u,Va=/^\/\.\.(?:\/|$)/u,Dd=/^\/?(?:.|\n)*?(?=\/|$)/u;function Rd(t){const e=[];for(;t.length;)if(t.match(ja))t=t.replace(ja,"");else if(t.match(La))t=t.replace(La,"/");else if(t.match(Va))t=t.replace(Va,"/"),e.pop();else if(t==="."||t==="..")t="";else{const s=t.match(Dd);if(s){const n=s[0];t=t.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function jd(t,e){const s=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=s(t.scheme)),t.userinfo!==void 0&&(t.userinfo=s(t.userinfo)),t.host!==void 0&&(t.host=s(t.host)),t.path!==void 0&&(t.path=s(t.path)),t.query!==void 0&&(t.query=s(t.query)),t.fragment!==void 0&&(t.fragment=s(t.fragment)),t}function Ld(t,e){const s=[];if(t.userinfo!==void 0&&(s.push(t.userinfo),s.push("@")),t.host!==void 0){let n=unescape(t.host);const r=Vo(n);if(r.isIPV4)n=r.host;else{const a=Mo(r.host,{isIPV4:!1});a.isIPV6===!0?n=`[${a.escapedHost}]`:n=t.host}s.push(n)}return(typeof t.port=="number"||typeof t.port=="string")&&(s.push(":"),s.push(String(t.port))),s.length?s.join(""):void 0}var Vd={recomposeAuthority:Ld,normalizeComponentEncoding:jd,removeDotSegments:Rd,normalizeIPv4:Vo,normalizeIPv6:Mo,stringArrayToHexStripped:Qn};const Md=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,Fd=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function zo(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function Uo(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function qo(t){const e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function zd(t){return t.secure=zo(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Ud(t){if((t.port===(zo(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[e,s]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=s,t.resourceName=void 0}return t.fragment=void 0,t}function qd(t,e){if(!t.path)return t.error="URN can not be parsed",t;const s=t.path.match(Fd);if(s){const n=e.scheme||t.scheme||"urn";t.nid=s[1].toLowerCase(),t.nss=s[2];const r=`${n}:${e.nid||t.nid}`,a=yr[r];t.path=void 0,a&&(t=a.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function Bd(t,e){const s=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),r=`${s}:${e.nid||n}`,a=yr[r];a&&(t=a.serialize(t,e));const i=t,o=t.nss;return i.path=`${n||e.nid}:${o}`,e.skipEscape=!0,i}function Hd(t,e){const s=t;return s.uuid=s.nss,s.nss=void 0,!e.tolerant&&(!s.uuid||!Md.test(s.uuid))&&(s.error=s.error||"UUID is not valid."),s}function Gd(t){const e=t;return e.nss=(t.uuid||"").toLowerCase(),e}const Bo={scheme:"http",domainHost:!0,parse:Uo,serialize:qo},Jd={scheme:"https",domainHost:Bo.domainHost,parse:Uo,serialize:qo},rn={scheme:"ws",domainHost:!0,parse:zd,serialize:Ud},Kd={scheme:"wss",domainHost:rn.domainHost,parse:rn.parse,serialize:rn.serialize},Xd={scheme:"urn",parse:qd,serialize:Bd,skipNormalize:!0},Wd={scheme:"urn:uuid",parse:Hd,serialize:Gd,skipNormalize:!0},yr={http:Bo,https:Jd,ws:rn,wss:Kd,urn:Xd,"urn:uuid":Wd};var Zd=yr;const{normalizeIPv6:Yd,normalizeIPv4:Qd,removeDotSegments:Is,recomposeAuthority:xd,normalizeComponentEncoding:Zs}=Vd,br=Zd;function eu(t,e){return typeof t=="string"?t=Nt(Dt(t,e),e):typeof t=="object"&&(t=Dt(Nt(t,e),e)),t}function tu(t,e,s){const n=Object.assign({scheme:"null"},s),r=Ho(Dt(t,n),Dt(e,n),n,!0);return Nt(r,{...n,skipEscape:!0})}function Ho(t,e,s,n){const r={};return n||(t=Dt(Nt(t,s),s),e=Dt(Nt(e,s),s)),s=s||{},!s.tolerant&&e.scheme?(r.scheme=e.scheme,r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=Is(e.path||""),r.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=Is(e.path||""),r.query=e.query):(e.path?(e.path.charAt(0)==="/"?r.path=Is(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?r.path="/"+e.path:t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:r.path=e.path,r.path=Is(r.path)),r.query=e.query):(r.path=t.path,e.query!==void 0?r.query=e.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=e.fragment,r}function su(t,e,s){return typeof t=="string"?(t=unescape(t),t=Nt(Zs(Dt(t,s),!0),{...s,skipEscape:!0})):typeof t=="object"&&(t=Nt(Zs(t,!0),{...s,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=Nt(Zs(Dt(e,s),!0),{...s,skipEscape:!0})):typeof e=="object"&&(e=Nt(Zs(e,!0),{...s,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function Nt(t,e){const s={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),r=[],a=br[(n.scheme||s.scheme||"").toLowerCase()];a&&a.serialize&&a.serialize(s,n),s.path!==void 0&&(n.skipEscape?s.path=unescape(s.path):(s.path=escape(s.path),s.scheme!==void 0&&(s.path=s.path.split("%3A").join(":")))),n.reference!=="suffix"&&s.scheme&&r.push(s.scheme,":");const i=xd(s,n);if(i!==void 0&&(n.reference!=="suffix"&&r.push("//"),r.push(i),s.path&&s.path.charAt(0)!=="/"&&r.push("/")),s.path!==void 0){let o=s.path;!n.absolutePath&&(!a||!a.absolutePath)&&(o=Is(o)),i===void 0&&(o=o.replace(/^\/\//u,"/%2F")),r.push(o)}return s.query!==void 0&&r.push("?",s.query),s.fragment!==void 0&&r.push("#",s.fragment),r.join("")}const nu=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function ru(t){let e=0;for(let s=0,n=t.length;s<n;++s)if(e=t.charCodeAt(s),e>126||nu[e])return!0;return!1}const au=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Dt(t,e){const s=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},r=t.indexOf("%")!==-1;let a=!1;s.reference==="suffix"&&(t=(s.scheme?s.scheme+":":"")+"//"+t);const i=t.match(au);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){const c=Qd(n.host);if(c.isIPV4===!1){const u=Yd(c.host,{isIPV4:!1});n.host=u.host.toLowerCase(),a=u.isIPV6}else n.host=c.host,a=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",s.reference&&s.reference!=="suffix"&&s.reference!==n.reference&&(n.error=n.error||"URI is not a "+s.reference+" reference.");const o=br[(s.scheme||n.scheme||"").toLowerCase()];if(!s.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(s.domainHost||o&&o.domainHost)&&a===!1&&ru(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!o||o&&!o.skipNormalize)&&(r&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),r&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,s)}else n.error=n.error||"URI can not be parsed.";return n}const $r={SCHEMES:br,normalize:eu,resolve:tu,resolveComponents:Ho,equal:su,serialize:Nt,parse:Dt};Sn.exports=$r;Sn.exports.default=$r;Sn.exports.fastUri=$r;var iu=Sn.exports;Object.defineProperty(_r,"__esModule",{value:!0});const Go=iu;Go.code='require("ajv/dist/runtime/uri").default';_r.default=Go;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=pt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var s=ue;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});const n=ys,r=Qt,a=Zt,i=ct,o=ue,c=Ze,u=Ge,h=K,p=Pd,g=_r,E=(B,C)=>new RegExp(B,C);E.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),l={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},f=200;function m(B){var C,j,T,_,k,R,J,X,x,re,fe,Ve,Xe,Q,ae,Ke,le,he,Me,xe,He,Oe,Se,we,ce;const me=B.strict,De=(C=B.code)===null||C===void 0?void 0:C.optimize,gt=De===!0||De===void 0?1:De||0,et=(T=(j=B.code)===null||j===void 0?void 0:j.regExp)!==null&&T!==void 0?T:E,Fe=(_=B.uriResolver)!==null&&_!==void 0?_:g.default;return{strictSchema:(R=(k=B.strictSchema)!==null&&k!==void 0?k:me)!==null&&R!==void 0?R:!0,strictNumbers:(X=(J=B.strictNumbers)!==null&&J!==void 0?J:me)!==null&&X!==void 0?X:!0,strictTypes:(re=(x=B.strictTypes)!==null&&x!==void 0?x:me)!==null&&re!==void 0?re:"log",strictTuples:(Ve=(fe=B.strictTuples)!==null&&fe!==void 0?fe:me)!==null&&Ve!==void 0?Ve:"log",strictRequired:(Q=(Xe=B.strictRequired)!==null&&Xe!==void 0?Xe:me)!==null&&Q!==void 0?Q:!1,code:B.code?{...B.code,optimize:gt,regExp:et}:{optimize:gt,regExp:et},loopRequired:(ae=B.loopRequired)!==null&&ae!==void 0?ae:f,loopEnum:(Ke=B.loopEnum)!==null&&Ke!==void 0?Ke:f,meta:(le=B.meta)!==null&&le!==void 0?le:!0,messages:(he=B.messages)!==null&&he!==void 0?he:!0,inlineRefs:(Me=B.inlineRefs)!==null&&Me!==void 0?Me:!0,schemaId:(xe=B.schemaId)!==null&&xe!==void 0?xe:"$id",addUsedSchema:(He=B.addUsedSchema)!==null&&He!==void 0?He:!0,validateSchema:(Oe=B.validateSchema)!==null&&Oe!==void 0?Oe:!0,validateFormats:(Se=B.validateFormats)!==null&&Se!==void 0?Se:!0,unicodeRegExp:(we=B.unicodeRegExp)!==null&&we!==void 0?we:!0,int32range:(ce=B.int32range)!==null&&ce!==void 0?ce:!0,uriResolver:Fe}}class ${constructor(C={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,C=this.opts={...C,...m(C)};const{es5:j,lines:T}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:b,es5:j,lines:T}),this.logger=L(C.logger);const _=C.validateFormats;C.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,l,C,"NOT SUPPORTED"),O.call(this,d,C,"DEPRECATED","warn"),this._metaOpts=W.call(this),C.formats&&F.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),C.keywords&&q.call(this,C.keywords),typeof C.meta=="object"&&this.addMetaSchema(C.meta),D.call(this),C.validateFormats=_}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:C,meta:j,schemaId:T}=this.opts;let _=p;T==="id"&&(_={...p},_.id=_.$id,delete _.$id),j&&C&&this.addMetaSchema(_,_[T],!1)}defaultMeta(){const{meta:C,schemaId:j}=this.opts;return this.opts.defaultMeta=typeof C=="object"?C[j]||C:void 0}validate(C,j){let T;if(typeof C=="string"){if(T=this.getSchema(C),!T)throw new Error(`no schema with key or ref "${C}"`)}else T=this.compile(C);const _=T(j);return"$async"in T||(this.errors=T.errors),_}compile(C,j){const T=this._addSchema(C,j);return T.validate||this._compileSchemaEnv(T)}compileAsync(C,j){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:T}=this.opts;return _.call(this,C,j);async function _(re,fe){await k.call(this,re.$schema);const Ve=this._addSchema(re,fe);return Ve.validate||R.call(this,Ve)}async function k(re){re&&!this.getSchema(re)&&await _.call(this,{$ref:re},!0)}async function R(re){try{return this._compileSchemaEnv(re)}catch(fe){if(!(fe instanceof r.default))throw fe;return J.call(this,fe),await X.call(this,fe.missingSchema),R.call(this,re)}}function J({missingSchema:re,missingRef:fe}){if(this.refs[re])throw new Error(`AnySchema ${re} is loaded but ${fe} cannot be resolved`)}async function X(re){const fe=await x.call(this,re);this.refs[re]||await k.call(this,fe.$schema),this.refs[re]||this.addSchema(fe,re,j)}async function x(re){const fe=this._loading[re];if(fe)return fe;try{return await(this._loading[re]=T(re))}finally{delete this._loading[re]}}}addSchema(C,j,T,_=this.opts.validateSchema){if(Array.isArray(C)){for(const R of C)this.addSchema(R,void 0,T,_);return this}let k;if(typeof C=="object"){const{schemaId:R}=this.opts;if(k=C[R],k!==void 0&&typeof k!="string")throw new Error(`schema ${R} must be string`)}return j=(0,c.normalizeId)(j||k),this._checkUnique(j),this.schemas[j]=this._addSchema(C,T,j,_,!0),this}addMetaSchema(C,j,T=this.opts.validateSchema){return this.addSchema(C,j,!0,T),this}validateSchema(C,j){if(typeof C=="boolean")return!0;let T;if(T=C.$schema,T!==void 0&&typeof T!="string")throw new Error("$schema must be a string");if(T=T||this.opts.defaultMeta||this.defaultMeta(),!T)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const _=this.validate(T,C);if(!_&&j){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return _}getSchema(C){let j;for(;typeof(j=N.call(this,C))=="string";)C=j;if(j===void 0){const{schemaId:T}=this.opts,_=new i.SchemaEnv({schema:{},schemaId:T});if(j=i.resolveSchema.call(this,_,C),!j)return;this.refs[C]=j}return j.validate||this._compileSchemaEnv(j)}removeSchema(C){if(C instanceof RegExp)return this._removeAllSchemas(this.schemas,C),this._removeAllSchemas(this.refs,C),this;switch(typeof C){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const j=N.call(this,C);return typeof j=="object"&&this._cache.delete(j.schema),delete this.schemas[C],delete this.refs[C],this}case"object":{const j=C;this._cache.delete(j);let T=C[this.opts.schemaId];return T&&(T=(0,c.normalizeId)(T),delete this.schemas[T],delete this.refs[T]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(C){for(const j of C)this.addKeyword(j);return this}addKeyword(C,j){let T;if(typeof C=="string")T=C,typeof j=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),j.keyword=T);else if(typeof C=="object"&&j===void 0){if(j=C,T=j.keyword,Array.isArray(T)&&!T.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,T,j),!j)return(0,h.eachItem)(T,k=>Z.call(this,k)),this;ke.call(this,j);const _={...j,type:(0,u.getJSONTypes)(j.type),schemaType:(0,u.getJSONTypes)(j.schemaType)};return(0,h.eachItem)(T,_.type.length===0?k=>Z.call(this,k,_):k=>_.type.forEach(R=>Z.call(this,k,_,R))),this}getKeyword(C){const j=this.RULES.all[C];return typeof j=="object"?j.definition:!!j}removeKeyword(C){const{RULES:j}=this;delete j.keywords[C],delete j.all[C];for(const T of j.rules){const _=T.rules.findIndex(k=>k.keyword===C);_>=0&&T.rules.splice(_,1)}return this}addFormat(C,j){return typeof j=="string"&&(j=new RegExp(j)),this.formats[C]=j,this}errorsText(C=this.errors,{separator:j=", ",dataVar:T="data"}={}){return!C||C.length===0?"No errors":C.map(_=>`${T}${_.instancePath} ${_.message}`).reduce((_,k)=>_+j+k)}$dataMetaSchema(C,j){const T=this.RULES.all;C=JSON.parse(JSON.stringify(C));for(const _ of j){const k=_.split("/").slice(1);let R=C;for(const J of k)R=R[J];for(const J in T){const X=T[J];if(typeof X!="object")continue;const{$data:x}=X.definition,re=R[J];x&&re&&(R[J]=ge(re))}}return C}_removeAllSchemas(C,j){for(const T in C){const _=C[T];(!j||j.test(T))&&(typeof _=="string"?delete C[T]:_&&!_.meta&&(this._cache.delete(_.schema),delete C[T]))}}_addSchema(C,j,T,_=this.opts.validateSchema,k=this.opts.addUsedSchema){let R;const{schemaId:J}=this.opts;if(typeof C=="object")R=C[J];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof C!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(C);if(X!==void 0)return X;T=(0,c.normalizeId)(R||T);const x=c.getSchemaRefs.call(this,C,T);return X=new i.SchemaEnv({schema:C,schemaId:J,meta:j,baseId:T,localRefs:x}),this._cache.set(X.schema,X),k&&!T.startsWith("#")&&(T&&this._checkUnique(T),this.refs[T]=X),_&&this.validateSchema(C,!0),X}_checkUnique(C){if(this.schemas[C]||this.refs[C])throw new Error(`schema with key or id "${C}" already exists`)}_compileSchemaEnv(C){if(C.meta?this._compileMetaSchema(C):i.compileSchema.call(this,C),!C.validate)throw new Error("ajv implementation error");return C.validate}_compileMetaSchema(C){const j=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,C)}finally{this.opts=j}}}$.ValidationError=n.default,$.MissingRefError=r.default,t.default=$;function O(B,C,j,T="error"){for(const _ in B){const k=_;k in C&&this.logger[T](`${j}: option ${_}. ${B[k]}`)}}function N(B){return B=(0,c.normalizeId)(B),this.schemas[B]||this.refs[B]}function D(){const B=this.opts.schemas;if(B)if(Array.isArray(B))this.addSchema(B);else for(const C in B)this.addSchema(B[C],C)}function F(){for(const B in this.opts.formats){const C=this.opts.formats[B];C&&this.addFormat(B,C)}}function q(B){if(Array.isArray(B)){this.addVocabulary(B);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const C in B){const j=B[C];j.keyword||(j.keyword=C),this.addKeyword(j)}}function W(){const B={...this.opts};for(const C of v)delete B[C];return B}const V={log(){},warn(){},error(){}};function L(B){if(B===!1)return V;if(B===void 0)return console;if(B.log&&B.warn&&B.error)return B;throw new Error("logger must implement log, warn and error methods")}const G=/^[a-z_$][a-z0-9_$:-]*$/i;function H(B,C){const{RULES:j}=this;if((0,h.eachItem)(B,T=>{if(j.keywords[T])throw new Error(`Keyword ${T} is already defined`);if(!G.test(T))throw new Error(`Keyword ${T} has invalid name`)}),!!C&&C.$data&&!("code"in C||"validate"in C))throw new Error('$data keyword must have "code" or "validate" function')}function Z(B,C,j){var T;const _=C==null?void 0:C.post;if(j&&_)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let R=_?k.post:k.rules.find(({type:X})=>X===j);if(R||(R={type:j,rules:[]},k.rules.push(R)),k.keywords[B]=!0,!C)return;const J={keyword:B,definition:{...C,type:(0,u.getJSONTypes)(C.type),schemaType:(0,u.getJSONTypes)(C.schemaType)}};C.before?se.call(this,R,J,C.before):R.rules.push(J),k.all[B]=J,(T=C.implements)===null||T===void 0||T.forEach(X=>this.addKeyword(X))}function se(B,C,j){const T=B.rules.findIndex(_=>_.keyword===j);T>=0?B.rules.splice(T,0,C):(B.rules.push(C),this.logger.warn(`rule ${j} is not defined`))}function ke(B){let{metaSchema:C}=B;C!==void 0&&(B.$data&&this.opts.$data&&(C=ge(C)),B.validateSchema=this.compile(C,!0))}const Pe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ge(B){return{anyOf:[B,Pe]}}})(or);var Er={},kn={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});const ou={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};wr.default=ou;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.callRef=Rt.getValidate=void 0;const lu=Qt,Ma=_e,dt=ue,hs=ht,Fa=ct,Ys=K,cu={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:s,it:n}=t,{baseId:r,schemaEnv:a,validateName:i,opts:o,self:c}=n,{root:u}=a;if((s==="#"||s==="#/")&&r===u.baseId)return p();const h=Fa.resolveRef.call(c,u,r,s);if(h===void 0)throw new lu.default(n.opts.uriResolver,r,s);if(h instanceof Fa.SchemaEnv)return g(h);return E(h);function p(){if(a===u)return an(t,i,a,a.$async);const v=e.scopeValue("root",{ref:u});return an(t,(0,dt._)`${v}.validate`,u,u.$async)}function g(v){const b=Jo(t,v);an(t,b,v,v.$async)}function E(v){const b=e.scopeValue("schema",o.code.source===!0?{ref:v,code:(0,dt.stringify)(v)}:{ref:v}),l=e.name("valid"),d=t.subschema({schema:v,dataTypes:[],schemaPath:dt.nil,topSchemaRef:b,errSchemaPath:s},l);t.mergeEvaluated(d),t.ok(l)}}};function Jo(t,e){const{gen:s}=t;return e.validate?s.scopeValue("validate",{ref:e.validate}):(0,dt._)`${s.scopeValue("wrapper",{ref:e})}.validate`}Rt.getValidate=Jo;function an(t,e,s,n){const{gen:r,it:a}=t,{allErrors:i,schemaEnv:o,opts:c}=a,u=c.passContext?hs.default.this:dt.nil;n?h():p();function h(){if(!o.$async)throw new Error("async schema referenced by sync schema");const v=r.let("valid");r.try(()=>{r.code((0,dt._)`await ${(0,Ma.callValidateCode)(t,e,u)}`),E(e),i||r.assign(v,!0)},b=>{r.if((0,dt._)`!(${b} instanceof ${a.ValidationError})`,()=>r.throw(b)),g(b),i||r.assign(v,!1)}),t.ok(v)}function p(){t.result((0,Ma.callValidateCode)(t,e,u),()=>E(e),()=>g(e))}function g(v){const b=(0,dt._)`${v}.errors`;r.assign(hs.default.vErrors,(0,dt._)`${hs.default.vErrors} === null ? ${b} : ${hs.default.vErrors}.concat(${b})`),r.assign(hs.default.errors,(0,dt._)`${hs.default.vErrors}.length`)}function E(v){var b;if(!a.opts.unevaluated)return;const l=(b=s==null?void 0:s.validate)===null||b===void 0?void 0:b.evaluated;if(a.props!==!0)if(l&&!l.dynamicProps)l.props!==void 0&&(a.props=Ys.mergeEvaluated.props(r,l.props,a.props));else{const d=r.var("props",(0,dt._)`${v}.evaluated.props`);a.props=Ys.mergeEvaluated.props(r,d,a.props,dt.Name)}if(a.items!==!0)if(l&&!l.dynamicItems)l.items!==void 0&&(a.items=Ys.mergeEvaluated.items(r,l.items,a.items));else{const d=r.var("items",(0,dt._)`${v}.evaluated.items`);a.items=Ys.mergeEvaluated.items(r,d,a.items,dt.Name)}}}Rt.callRef=an;Rt.default=cu;Object.defineProperty(kn,"__esModule",{value:!0});const du=wr,uu=Rt,fu=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",du.default,uu.default];kn.default=fu;var On={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const pn=ue,Lt=pn.operators,vn={maximum:{okStr:"<=",ok:Lt.LTE,fail:Lt.GT},minimum:{okStr:">=",ok:Lt.GTE,fail:Lt.LT},exclusiveMaximum:{okStr:"<",ok:Lt.LT,fail:Lt.GTE},exclusiveMinimum:{okStr:">",ok:Lt.GT,fail:Lt.LTE}},hu={message:({keyword:t,schemaCode:e})=>(0,pn.str)`must be ${vn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,pn._)`{comparison: ${vn[t].okStr}, limit: ${e}}`},mu={keyword:Object.keys(vn),type:"number",schemaType:"number",$data:!0,error:hu,code(t){const{keyword:e,data:s,schemaCode:n}=t;t.fail$data((0,pn._)`${s} ${vn[e].fail} ${n} || isNaN(${s})`)}};Sr.default=mu;var kr={};Object.defineProperty(kr,"__esModule",{value:!0});const As=ue,pu={message:({schemaCode:t})=>(0,As.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,As._)`{multipleOf: ${t}}`},vu={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:pu,code(t){const{gen:e,data:s,schemaCode:n,it:r}=t,a=r.opts.multipleOfPrecision,i=e.let("res"),o=a?(0,As._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,As._)`${i} !== parseInt(${i})`;t.fail$data((0,As._)`(${n} === 0 || (${i} = ${s}/${n}, ${o}))`)}};kr.default=vu;var Or={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});function Ko(t){const e=t.length;let s=0,n=0,r;for(;n<e;)s++,r=t.charCodeAt(n++),r>=55296&&r<=56319&&n<e&&(r=t.charCodeAt(n),(r&64512)===56320&&n++);return s}Pr.default=Ko;Ko.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Or,"__esModule",{value:!0});const Kt=ue,gu=K,_u=Pr,yu={message({keyword:t,schemaCode:e}){const s=t==="maxLength"?"more":"fewer";return(0,Kt.str)`must NOT have ${s} than ${e} characters`},params:({schemaCode:t})=>(0,Kt._)`{limit: ${t}}`},bu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:yu,code(t){const{keyword:e,data:s,schemaCode:n,it:r}=t,a=e==="maxLength"?Kt.operators.GT:Kt.operators.LT,i=r.opts.unicode===!1?(0,Kt._)`${s}.length`:(0,Kt._)`${(0,gu.useFunc)(t.gen,_u.default)}(${s})`;t.fail$data((0,Kt._)`${i} ${a} ${n}`)}};Or.default=bu;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});const $u=_e,gn=ue,Eu={message:({schemaCode:t})=>(0,gn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,gn._)`{pattern: ${t}}`},wu={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Eu,code(t){const{data:e,$data:s,schema:n,schemaCode:r,it:a}=t,i=a.opts.unicodeRegExp?"u":"",o=s?(0,gn._)`(new RegExp(${r}, ${i}))`:(0,$u.usePattern)(t,n);t.fail$data((0,gn._)`!${o}.test(${e})`)}};Ir.default=wu;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});const Ds=ue,Su={message({keyword:t,schemaCode:e}){const s=t==="maxProperties"?"more":"fewer";return(0,Ds.str)`must NOT have ${s} than ${e} properties`},params:({schemaCode:t})=>(0,Ds._)`{limit: ${t}}`},ku={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Su,code(t){const{keyword:e,data:s,schemaCode:n}=t,r=e==="maxProperties"?Ds.operators.GT:Ds.operators.LT;t.fail$data((0,Ds._)`Object.keys(${s}).length ${r} ${n}`)}};Nr.default=ku;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});const Ps=_e,Rs=ue,Ou=K,Pu={message:({params:{missingProperty:t}})=>(0,Rs.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Rs._)`{missingProperty: ${t}}`},Iu={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Pu,code(t){const{gen:e,schema:s,schemaCode:n,data:r,$data:a,it:i}=t,{opts:o}=i;if(!a&&s.length===0)return;const c=s.length>=o.loopRequired;if(i.allErrors?u():h(),o.strictRequired){const E=t.parentSchema.properties,{definedProperties:v}=t.it;for(const b of s)if((E==null?void 0:E[b])===void 0&&!v.has(b)){const l=i.schemaEnv.baseId+i.errSchemaPath,d=`required property "${b}" is not defined at "${l}" (strictRequired)`;(0,Ou.checkStrictMode)(i,d,i.opts.strictRequired)}}function u(){if(c||a)t.block$data(Rs.nil,p);else for(const E of s)(0,Ps.checkReportMissingProp)(t,E)}function h(){const E=e.let("missing");if(c||a){const v=e.let("valid",!0);t.block$data(v,()=>g(E,v)),t.ok(v)}else e.if((0,Ps.checkMissingProp)(t,s,E)),(0,Ps.reportMissingProp)(t,E),e.else()}function p(){e.forOf("prop",n,E=>{t.setParams({missingProperty:E}),e.if((0,Ps.noPropertyInData)(e,r,E,o.ownProperties),()=>t.error())})}function g(E,v){t.setParams({missingProperty:E}),e.forOf(E,n,()=>{e.assign(v,(0,Ps.propertyInData)(e,r,E,o.ownProperties)),e.if((0,Rs.not)(v),()=>{t.error(),e.break()})},Rs.nil)}}};Cr.default=Iu;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});const js=ue,Nu={message({keyword:t,schemaCode:e}){const s=t==="maxItems"?"more":"fewer";return(0,js.str)`must NOT have ${s} than ${e} items`},params:({schemaCode:t})=>(0,js._)`{limit: ${t}}`},Cu={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Nu,code(t){const{keyword:e,data:s,schemaCode:n}=t,r=e==="maxItems"?js.operators.GT:js.operators.LT;t.fail$data((0,js._)`${s}.length ${r} ${n}`)}};Tr.default=Cu;var Ar={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});const Xo=bo;Xo.code='require("ajv/dist/runtime/equal").default';zs.default=Xo;Object.defineProperty(Ar,"__esModule",{value:!0});const qn=Ge,We=ue,Tu=K,Au=zs,Du={message:({params:{i:t,j:e}})=>(0,We.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,We._)`{i: ${t}, j: ${e}}`},Ru={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Du,code(t){const{gen:e,data:s,$data:n,schema:r,parentSchema:a,schemaCode:i,it:o}=t;if(!n&&!r)return;const c=e.let("valid"),u=a.items?(0,qn.getSchemaTypes)(a.items):[];t.block$data(c,h,(0,We._)`${i} === false`),t.ok(c);function h(){const v=e.let("i",(0,We._)`${s}.length`),b=e.let("j");t.setParams({i:v,j:b}),e.assign(c,!0),e.if((0,We._)`${v} > 1`,()=>(p()?g:E)(v,b))}function p(){return u.length>0&&!u.some(v=>v==="object"||v==="array")}function g(v,b){const l=e.name("item"),d=(0,qn.checkDataTypes)(u,l,o.opts.strictNumbers,qn.DataType.Wrong),f=e.const("indices",(0,We._)`{}`);e.for((0,We._)`;${v}--;`,()=>{e.let(l,(0,We._)`${s}[${v}]`),e.if(d,(0,We._)`continue`),u.length>1&&e.if((0,We._)`typeof ${l} == "string"`,(0,We._)`${l} += "_"`),e.if((0,We._)`typeof ${f}[${l}] == "number"`,()=>{e.assign(b,(0,We._)`${f}[${l}]`),t.error(),e.assign(c,!1).break()}).code((0,We._)`${f}[${l}] = ${v}`)})}function E(v,b){const l=(0,Tu.useFunc)(e,Au.default),d=e.name("outer");e.label(d).for((0,We._)`;${v}--;`,()=>e.for((0,We._)`${b} = ${v}; ${b}--;`,()=>e.if((0,We._)`${l}(${s}[${v}], ${s}[${b}])`,()=>{t.error(),e.assign(c,!1).break(d)})))}}};Ar.default=Ru;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});const xn=ue,ju=K,Lu=zs,Vu={message:"must be equal to constant",params:({schemaCode:t})=>(0,xn._)`{allowedValue: ${t}}`},Mu={keyword:"const",$data:!0,error:Vu,code(t){const{gen:e,data:s,$data:n,schemaCode:r,schema:a}=t;n||a&&typeof a=="object"?t.fail$data((0,xn._)`!${(0,ju.useFunc)(e,Lu.default)}(${s}, ${r})`):t.fail((0,xn._)`${a} !== ${s}`)}};Dr.default=Mu;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});const Ns=ue,Fu=K,zu=zs,Uu={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Ns._)`{allowedValues: ${t}}`},qu={keyword:"enum",schemaType:"array",$data:!0,error:Uu,code(t){const{gen:e,data:s,$data:n,schema:r,schemaCode:a,it:i}=t;if(!n&&r.length===0)throw new Error("enum must have non-empty array");const o=r.length>=i.opts.loopEnum;let c;const u=()=>c??(c=(0,Fu.useFunc)(e,zu.default));let h;if(o||n)h=e.let("valid"),t.block$data(h,p);else{if(!Array.isArray(r))throw new Error("ajv implementation error");const E=e.const("vSchema",a);h=(0,Ns.or)(...r.map((v,b)=>g(E,b)))}t.pass(h);function p(){e.assign(h,!1),e.forOf("v",a,E=>e.if((0,Ns._)`${u()}(${s}, ${E})`,()=>e.assign(h,!0).break()))}function g(E,v){const b=r[v];return typeof b=="object"&&b!==null?(0,Ns._)`${u()}(${s}, ${E}[${v}])`:(0,Ns._)`${s} === ${b}`}}};Rr.default=qu;Object.defineProperty(On,"__esModule",{value:!0});const Bu=Sr,Hu=kr,Gu=Or,Ju=Ir,Ku=Nr,Xu=Cr,Wu=Tr,Zu=Ar,Yu=Dr,Qu=Rr,xu=[Bu.default,Hu.default,Gu.default,Ju.default,Ku.default,Xu.default,Wu.default,Zu.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Yu.default,Qu.default];On.default=xu;var Pn={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.validateAdditionalItems=void 0;const Xt=ue,er=K,ef={message:({params:{len:t}})=>(0,Xt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Xt._)`{limit: ${t}}`},tf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:ef,code(t){const{parentSchema:e,it:s}=t,{items:n}=e;if(!Array.isArray(n)){(0,er.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}Wo(t,n)}};function Wo(t,e){const{gen:s,schema:n,data:r,keyword:a,it:i}=t;i.items=!0;const o=s.const("len",(0,Xt._)`${r}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Xt._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,er.alwaysValidSchema)(i,n)){const u=s.var("valid",(0,Xt._)`${o} <= ${e.length}`);s.if((0,Xt.not)(u),()=>c(u)),t.ok(u)}function c(u){s.forRange("i",e.length,o,h=>{t.subschema({keyword:a,dataProp:h,dataPropType:er.Type.Num},u),i.allErrors||s.if((0,Xt.not)(u),()=>s.break())})}}bs.validateAdditionalItems=Wo;bs.default=tf;var jr={},$s={};Object.defineProperty($s,"__esModule",{value:!0});$s.validateTuple=void 0;const za=ue,on=K,sf=_e,nf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:s}=t;if(Array.isArray(e))return Zo(t,"additionalItems",e);s.items=!0,!(0,on.alwaysValidSchema)(s,e)&&t.ok((0,sf.validateArray)(t))}};function Zo(t,e,s=t.schema){const{gen:n,parentSchema:r,data:a,keyword:i,it:o}=t;h(r),o.opts.unevaluated&&s.length&&o.items!==!0&&(o.items=on.mergeEvaluated.items(n,s.length,o.items));const c=n.name("valid"),u=n.const("len",(0,za._)`${a}.length`);s.forEach((p,g)=>{(0,on.alwaysValidSchema)(o,p)||(n.if((0,za._)`${u} > ${g}`,()=>t.subschema({keyword:i,schemaProp:g,dataProp:g},c)),t.ok(c))});function h(p){const{opts:g,errSchemaPath:E}=o,v=s.length,b=v===p.minItems&&(v===p.maxItems||p[e]===!1);if(g.strictTuples&&!b){const l=`"${i}" is ${v}-tuple, but minItems or maxItems/${e} are not specified or different at path "${E}"`;(0,on.checkStrictMode)(o,l,g.strictTuples)}}}$s.validateTuple=Zo;$s.default=nf;Object.defineProperty(jr,"__esModule",{value:!0});const rf=$s,af={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,rf.validateTuple)(t,"items")};jr.default=af;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const Ua=ue,of=K,lf=_e,cf=bs,df={message:({params:{len:t}})=>(0,Ua.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ua._)`{limit: ${t}}`},uf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:df,code(t){const{schema:e,parentSchema:s,it:n}=t,{prefixItems:r}=s;n.items=!0,!(0,of.alwaysValidSchema)(n,e)&&(r?(0,cf.validateAdditionalItems)(t,r):t.ok((0,lf.validateArray)(t)))}};Lr.default=uf;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});const mt=ue,Qs=K,ff={message:({params:{min:t,max:e}})=>e===void 0?(0,mt.str)`must contain at least ${t} valid item(s)`:(0,mt.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,mt._)`{minContains: ${t}}`:(0,mt._)`{minContains: ${t}, maxContains: ${e}}`},hf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ff,code(t){const{gen:e,schema:s,parentSchema:n,data:r,it:a}=t;let i,o;const{minContains:c,maxContains:u}=n;a.opts.next?(i=c===void 0?1:c,o=u):i=1;const h=e.const("len",(0,mt._)`${r}.length`);if(t.setParams({min:i,max:o}),o===void 0&&i===0){(0,Qs.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,Qs.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Qs.alwaysValidSchema)(a,s)){let b=(0,mt._)`${h} >= ${i}`;o!==void 0&&(b=(0,mt._)`${b} && ${h} <= ${o}`),t.pass(b);return}a.items=!0;const p=e.name("valid");o===void 0&&i===1?E(p,()=>e.if(p,()=>e.break())):i===0?(e.let(p,!0),o!==void 0&&e.if((0,mt._)`${r}.length > 0`,g)):(e.let(p,!1),g()),t.result(p,()=>t.reset());function g(){const b=e.name("_valid"),l=e.let("count",0);E(b,()=>e.if(b,()=>v(l)))}function E(b,l){e.forRange("i",0,h,d=>{t.subschema({keyword:"contains",dataProp:d,dataPropType:Qs.Type.Num,compositeRule:!0},b),l()})}function v(b){e.code((0,mt._)`${b}++`),o===void 0?e.if((0,mt._)`${b} >= ${i}`,()=>e.assign(p,!0).break()):(e.if((0,mt._)`${b} > ${o}`,()=>e.assign(p,!1).break()),i===1?e.assign(p,!0):e.if((0,mt._)`${b} >= ${i}`,()=>e.assign(p,!0)))}}};Vr.default=hf;var In={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=ue,s=K,n=_e;t.error={message:({params:{property:c,depsCount:u,deps:h}})=>{const p=u===1?"property":"properties";return(0,e.str)`must have ${p} ${h} when property ${c} is present`},params:({params:{property:c,depsCount:u,deps:h,missingProperty:p}})=>(0,e._)`{property: ${c},
    missingProperty: ${p},
    depsCount: ${u},
    deps: ${h}}`};const r={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[u,h]=a(c);i(c,u),o(c,h)}};function a({schema:c}){const u={},h={};for(const p in c){if(p==="__proto__")continue;const g=Array.isArray(c[p])?u:h;g[p]=c[p]}return[u,h]}function i(c,u=c.schema){const{gen:h,data:p,it:g}=c;if(Object.keys(u).length===0)return;const E=h.let("missing");for(const v in u){const b=u[v];if(b.length===0)continue;const l=(0,n.propertyInData)(h,p,v,g.opts.ownProperties);c.setParams({property:v,depsCount:b.length,deps:b.join(", ")}),g.allErrors?h.if(l,()=>{for(const d of b)(0,n.checkReportMissingProp)(c,d)}):(h.if((0,e._)`${l} && (${(0,n.checkMissingProp)(c,b,E)})`),(0,n.reportMissingProp)(c,E),h.else())}}t.validatePropertyDeps=i;function o(c,u=c.schema){const{gen:h,data:p,keyword:g,it:E}=c,v=h.name("valid");for(const b in u)(0,s.alwaysValidSchema)(E,u[b])||(h.if((0,n.propertyInData)(h,p,b,E.opts.ownProperties),()=>{const l=c.subschema({keyword:g,schemaProp:b},v);c.mergeValidEvaluated(l,v)},()=>h.var(v,!0)),c.ok(v))}t.validateSchemaDeps=o,t.default=r})(In);var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const Yo=ue,mf=K,pf={message:"property name must be valid",params:({params:t})=>(0,Yo._)`{propertyName: ${t.propertyName}}`},vf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:pf,code(t){const{gen:e,schema:s,data:n,it:r}=t;if((0,mf.alwaysValidSchema)(r,s))return;const a=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),e.if((0,Yo.not)(a),()=>{t.error(!0),r.allErrors||e.break()})}),t.ok(a)}};Mr.default=vf;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const xs=_e,yt=ue,gf=ht,en=K,_f={message:"must NOT have additional properties",params:({params:t})=>(0,yt._)`{additionalProperty: ${t.additionalProperty}}`},yf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:_f,code(t){const{gen:e,schema:s,parentSchema:n,data:r,errsCount:a,it:i}=t;if(!a)throw new Error("ajv implementation error");const{allErrors:o,opts:c}=i;if(i.props=!0,c.removeAdditional!=="all"&&(0,en.alwaysValidSchema)(i,s))return;const u=(0,xs.allSchemaProperties)(n.properties),h=(0,xs.allSchemaProperties)(n.patternProperties);p(),t.ok((0,yt._)`${a} === ${gf.default.errors}`);function p(){e.forIn("key",r,l=>{!u.length&&!h.length?v(l):e.if(g(l),()=>v(l))})}function g(l){let d;if(u.length>8){const f=(0,en.schemaRefOrVal)(i,n.properties,"properties");d=(0,xs.isOwnProperty)(e,f,l)}else u.length?d=(0,yt.or)(...u.map(f=>(0,yt._)`${l} === ${f}`)):d=yt.nil;return h.length&&(d=(0,yt.or)(d,...h.map(f=>(0,yt._)`${(0,xs.usePattern)(t,f)}.test(${l})`))),(0,yt.not)(d)}function E(l){e.code((0,yt._)`delete ${r}[${l}]`)}function v(l){if(c.removeAdditional==="all"||c.removeAdditional&&s===!1){E(l);return}if(s===!1){t.setParams({additionalProperty:l}),t.error(),o||e.break();return}if(typeof s=="object"&&!(0,en.alwaysValidSchema)(i,s)){const d=e.name("valid");c.removeAdditional==="failing"?(b(l,d,!1),e.if((0,yt.not)(d),()=>{t.reset(),E(l)})):(b(l,d),o||e.if((0,yt.not)(d),()=>e.break()))}}function b(l,d,f){const m={keyword:"additionalProperties",dataProp:l,dataPropType:en.Type.Str};f===!1&&Object.assign(m,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(m,d)}}};Nn.default=yf;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});const bf=pt,qa=_e,Bn=K,Ba=Nn,$f={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:s,parentSchema:n,data:r,it:a}=t;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ba.default.code(new bf.KeywordCxt(a,Ba.default,"additionalProperties"));const i=(0,qa.allSchemaProperties)(s);for(const p of i)a.definedProperties.add(p);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=Bn.mergeEvaluated.props(e,(0,Bn.toHash)(i),a.props));const o=i.filter(p=>!(0,Bn.alwaysValidSchema)(a,s[p]));if(o.length===0)return;const c=e.name("valid");for(const p of o)u(p)?h(p):(e.if((0,qa.propertyInData)(e,r,p,a.opts.ownProperties)),h(p),a.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(p),t.ok(c);function u(p){return a.opts.useDefaults&&!a.compositeRule&&s[p].default!==void 0}function h(p){t.subschema({keyword:"properties",schemaProp:p,dataProp:p},c)}}};Fr.default=$f;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});const Ha=_e,tn=ue,Ga=K,Ja=K,Ef={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:s,data:n,parentSchema:r,it:a}=t,{opts:i}=a,o=(0,Ha.allSchemaProperties)(s),c=o.filter(b=>(0,Ga.alwaysValidSchema)(a,s[b]));if(o.length===0||c.length===o.length&&(!a.opts.unevaluated||a.props===!0))return;const u=i.strictSchema&&!i.allowMatchingProperties&&r.properties,h=e.name("valid");a.props!==!0&&!(a.props instanceof tn.Name)&&(a.props=(0,Ja.evaluatedPropsToName)(e,a.props));const{props:p}=a;g();function g(){for(const b of o)u&&E(b),a.allErrors?v(b):(e.var(h,!0),v(b),e.if(h))}function E(b){for(const l in u)new RegExp(b).test(l)&&(0,Ga.checkStrictMode)(a,`property ${l} matches pattern ${b} (use allowMatchingProperties)`)}function v(b){e.forIn("key",n,l=>{e.if((0,tn._)`${(0,Ha.usePattern)(t,b)}.test(${l})`,()=>{const d=c.includes(b);d||t.subschema({keyword:"patternProperties",schemaProp:b,dataProp:l,dataPropType:Ja.Type.Str},h),a.opts.unevaluated&&p!==!0?e.assign((0,tn._)`${p}[${l}]`,!0):!d&&!a.allErrors&&e.if((0,tn.not)(h),()=>e.break())})})}}};zr.default=Ef;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});const wf=K,Sf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:s,it:n}=t;if((0,wf.alwaysValidSchema)(n,s)){t.fail();return}const r=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),t.failResult(r,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ur.default=Sf;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});const kf=_e,Of={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:kf.validateUnion,error:{message:"must match a schema in anyOf"}};qr.default=Of;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});const ln=ue,Pf=K,If={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,ln._)`{passingSchemas: ${t.passing}}`},Nf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:If,code(t){const{gen:e,schema:s,parentSchema:n,it:r}=t;if(!Array.isArray(s))throw new Error("ajv implementation error");if(r.opts.discriminator&&n.discriminator)return;const a=s,i=e.let("valid",!1),o=e.let("passing",null),c=e.name("_valid");t.setParams({passing:o}),e.block(u),t.result(i,()=>t.reset(),()=>t.error(!0));function u(){a.forEach((h,p)=>{let g;(0,Pf.alwaysValidSchema)(r,h)?e.var(c,!0):g=t.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},c),p>0&&e.if((0,ln._)`${c} && ${i}`).assign(i,!1).assign(o,(0,ln._)`[${o}, ${p}]`).else(),e.if(c,()=>{e.assign(i,!0),e.assign(o,p),g&&t.mergeEvaluated(g,ln.Name)})})}}};Br.default=Nf;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const Cf=K,Tf={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:s,it:n}=t;if(!Array.isArray(s))throw new Error("ajv implementation error");const r=e.name("valid");s.forEach((a,i)=>{if((0,Cf.alwaysValidSchema)(n,a))return;const o=t.subschema({keyword:"allOf",schemaProp:i},r);t.ok(r),t.mergeEvaluated(o)})}};Hr.default=Tf;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const _n=ue,Qo=K,Af={message:({params:t})=>(0,_n.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,_n._)`{failingKeyword: ${t.ifClause}}`},Df={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Af,code(t){const{gen:e,parentSchema:s,it:n}=t;s.then===void 0&&s.else===void 0&&(0,Qo.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const r=Ka(n,"then"),a=Ka(n,"else");if(!r&&!a)return;const i=e.let("valid",!0),o=e.name("_valid");if(c(),t.reset(),r&&a){const h=e.let("ifClause");t.setParams({ifClause:h}),e.if(o,u("then",h),u("else",h))}else r?e.if(o,u("then")):e.if((0,_n.not)(o),u("else"));t.pass(i,()=>t.error(!0));function c(){const h=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(h)}function u(h,p){return()=>{const g=t.subschema({keyword:h},o);e.assign(i,o),t.mergeValidEvaluated(g,i),p?e.assign(p,(0,_n._)`${h}`):t.setParams({ifClause:h})}}}};function Ka(t,e){const s=t.schema[e];return s!==void 0&&!(0,Qo.alwaysValidSchema)(t,s)}Gr.default=Df;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const Rf=K,jf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:s}){e.if===void 0&&(0,Rf.checkStrictMode)(s,`"${t}" without "if" is ignored`)}};Jr.default=jf;Object.defineProperty(Pn,"__esModule",{value:!0});const Lf=bs,Vf=jr,Mf=$s,Ff=Lr,zf=Vr,Uf=In,qf=Mr,Bf=Nn,Hf=Fr,Gf=zr,Jf=Ur,Kf=qr,Xf=Br,Wf=Hr,Zf=Gr,Yf=Jr;function Qf(t=!1){const e=[Jf.default,Kf.default,Xf.default,Wf.default,Zf.default,Yf.default,qf.default,Bf.default,Uf.default,Hf.default,Gf.default];return t?e.push(Vf.default,Ff.default):e.push(Lf.default,Mf.default),e.push(zf.default),e}Pn.default=Qf;var Cn={},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const ze=ue,xf={message:({schemaCode:t})=>(0,ze.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ze._)`{format: ${t}}`},eh={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:xf,code(t,e){const{gen:s,data:n,$data:r,schema:a,schemaCode:i,it:o}=t,{opts:c,errSchemaPath:u,schemaEnv:h,self:p}=o;if(!c.validateFormats)return;r?g():E();function g(){const v=s.scopeValue("formats",{ref:p.formats,code:c.code.formats}),b=s.const("fDef",(0,ze._)`${v}[${i}]`),l=s.let("fType"),d=s.let("format");s.if((0,ze._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>s.assign(l,(0,ze._)`${b}.type || "string"`).assign(d,(0,ze._)`${b}.validate`),()=>s.assign(l,(0,ze._)`"string"`).assign(d,b)),t.fail$data((0,ze.or)(f(),m()));function f(){return c.strictSchema===!1?ze.nil:(0,ze._)`${i} && !${d}`}function m(){const $=h.$async?(0,ze._)`(${b}.async ? await ${d}(${n}) : ${d}(${n}))`:(0,ze._)`${d}(${n})`,O=(0,ze._)`(typeof ${d} == "function" ? ${$} : ${d}.test(${n}))`;return(0,ze._)`${d} && ${d} !== true && ${l} === ${e} && !${O}`}}function E(){const v=p.formats[a];if(!v){f();return}if(v===!0)return;const[b,l,d]=m(v);b===e&&t.pass($());function f(){if(c.strictSchema===!1){p.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${a}" ignored in schema at path "${u}"`}}function m(O){const N=O instanceof RegExp?(0,ze.regexpCode)(O):c.code.formats?(0,ze._)`${c.code.formats}${(0,ze.getProperty)(a)}`:void 0,D=s.scopeValue("formats",{key:a,ref:O,code:N});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,ze._)`${D}.validate`]:["string",O,D]}function $(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!h.$async)throw new Error("async format in sync schema");return(0,ze._)`await ${d}(${n})`}return typeof l=="function"?(0,ze._)`${d}(${n})`:(0,ze._)`${d}.test(${n})`}}}};Kr.default=eh;Object.defineProperty(Cn,"__esModule",{value:!0});const th=Kr,sh=[th.default];Cn.default=sh;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.contentVocabulary=Yt.metadataVocabulary=void 0;Yt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Yt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Er,"__esModule",{value:!0});const nh=kn,rh=On,ah=Pn,ih=Cn,Xa=Yt,oh=[nh.default,rh.default,(0,ah.default)(),ih.default,Xa.metadataVocabulary,Xa.contentVocabulary];Er.default=oh;var Tn={},An={};Object.defineProperty(An,"__esModule",{value:!0});An.DiscrError=void 0;var Wa;(function(t){t.Tag="tag",t.Mapping="mapping"})(Wa||(An.DiscrError=Wa={}));Object.defineProperty(Tn,"__esModule",{value:!0});const ms=ue,tr=An,Za=ct,lh=Qt,ch=K,dh={message:({params:{discrError:t,tagName:e}})=>t===tr.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:s}})=>(0,ms._)`{error: ${t}, tag: ${s}, tagValue: ${e}}`},uh={keyword:"discriminator",type:"object",schemaType:"object",error:dh,code(t){const{gen:e,data:s,schema:n,parentSchema:r,it:a}=t,{oneOf:i}=r;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=e.let("valid",!1),u=e.const("tag",(0,ms._)`${s}${(0,ms.getProperty)(o)}`);e.if((0,ms._)`typeof ${u} == "string"`,()=>h(),()=>t.error(!1,{discrError:tr.DiscrError.Tag,tag:u,tagName:o})),t.ok(c);function h(){const E=g();e.if(!1);for(const v in E)e.elseIf((0,ms._)`${u} === ${v}`),e.assign(c,p(E[v]));e.else(),t.error(!1,{discrError:tr.DiscrError.Mapping,tag:u,tagName:o}),e.endIf()}function p(E){const v=e.name("valid"),b=t.subschema({keyword:"oneOf",schemaProp:E},v);return t.mergeEvaluated(b,ms.Name),v}function g(){var E;const v={},b=d(r);let l=!0;for(let $=0;$<i.length;$++){let O=i[$];if(O!=null&&O.$ref&&!(0,ch.schemaHasRulesButRef)(O,a.self.RULES)){const D=O.$ref;if(O=Za.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,D),O instanceof Za.SchemaEnv&&(O=O.schema),O===void 0)throw new lh.default(a.opts.uriResolver,a.baseId,D)}const N=(E=O==null?void 0:O.properties)===null||E===void 0?void 0:E[o];if(typeof N!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);l=l&&(b||d(O)),f(N,$)}if(!l)throw new Error(`discriminator: "${o}" must be required`);return v;function d({required:$}){return Array.isArray($)&&$.includes(o)}function f($,O){if($.const)m($.const,O);else if($.enum)for(const N of $.enum)m(N,O);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function m($,O){if(typeof $!="string"||$ in v)throw new Error(`discriminator: "${o}" values must be unique strings`);v[$]=O}}}};Tn.default=uh;const fh="http://json-schema.org/draft-07/schema#",hh="http://json-schema.org/draft-07/schema#",mh="Core schema meta-schema",ph={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},vh=["object","boolean"],gh={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},_h={$schema:fh,$id:hh,title:mh,definitions:ph,type:vh,properties:gh,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const s=or,n=Er,r=Tn,a=_h,i=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends s.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(r.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(v,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var u=pt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var h=ue;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var p=ys;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}});var g=Qt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return g.default}})})(Kn,Kn.exports);var xo=Kn.exports;const yh=ir(xo);var sr={exports:{}},Xr={},Wr={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.dynamicAnchor=void 0;const Hn=ue,bh=ht,Ya=ct,$h=Rt,Eh={keyword:"$dynamicAnchor",schemaType:"string",code:t=>el(t,t.schema)};function el(t,e){const{gen:s,it:n}=t;n.schemaEnv.root.dynamicAnchors[e]=!0;const r=(0,Hn._)`${bh.default.dynamicAnchors}${(0,Hn.getProperty)(e)}`,a=n.errSchemaPath==="#"?n.validateName:wh(t);s.if((0,Hn._)`!${r}`,()=>s.assign(r,a))}Es.dynamicAnchor=el;function wh(t){const{schemaEnv:e,schema:s,self:n}=t.it,{root:r,baseId:a,localRefs:i,meta:o}=e.root,{schemaId:c}=n.opts,u=new Ya.SchemaEnv({schema:s,schemaId:c,root:r,baseId:a,localRefs:i,meta:o});return Ya.compileSchema.call(n,u),(0,$h.getValidate)(t,u)}Es.default=Eh;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.dynamicRef=void 0;const Qa=ue,Sh=ht,xa=Rt,kh={keyword:"$dynamicRef",schemaType:"string",code:t=>tl(t,t.schema)};function tl(t,e){const{gen:s,keyword:n,it:r}=t;if(e[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const a=e.slice(1);if(r.allErrors)i();else{const c=s.let("valid",!1);i(c),t.ok(c)}function i(c){if(r.schemaEnv.root.dynamicAnchors[a]){const u=s.let("_v",(0,Qa._)`${Sh.default.dynamicAnchors}${(0,Qa.getProperty)(a)}`);s.if(u,o(u,c),o(r.validateName,c))}else o(r.validateName,c)()}function o(c,u){return u?()=>s.block(()=>{(0,xa.callRef)(t,c),s.let(u,!0)}):()=>(0,xa.callRef)(t,c)}}ws.dynamicRef=tl;ws.default=kh;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});const Oh=Es,Ph=K,Ih={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,Oh.dynamicAnchor)(t,""):(0,Ph.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};Zr.default=Ih;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});const Nh=ws,Ch={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,Nh.dynamicRef)(t,t.schema)};Yr.default=Ch;Object.defineProperty(Wr,"__esModule",{value:!0});const Th=Es,Ah=ws,Dh=Zr,Rh=Yr,jh=[Th.default,Ah.default,Dh.default,Rh.default];Wr.default=jh;var Qr={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});const ei=In,Lh={keyword:"dependentRequired",type:"object",schemaType:"object",error:ei.error,code:t=>(0,ei.validatePropertyDeps)(t)};xr.default=Lh;var ea={};Object.defineProperty(ea,"__esModule",{value:!0});const Vh=In,Mh={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,Vh.validateSchemaDeps)(t)};ea.default=Mh;var ta={};Object.defineProperty(ta,"__esModule",{value:!0});const Fh=K,zh={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:s}){e.contains===void 0&&(0,Fh.checkStrictMode)(s,`"${t}" without "contains" is ignored`)}};ta.default=zh;Object.defineProperty(Qr,"__esModule",{value:!0});const Uh=xr,qh=ea,Bh=ta,Hh=[Uh.default,qh.default,Bh.default];Qr.default=Hh;var sa={},na={};Object.defineProperty(na,"__esModule",{value:!0});const Vt=ue,ti=K,Gh=ht,Jh={message:"must NOT have unevaluated properties",params:({params:t})=>(0,Vt._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},Kh={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:Jh,code(t){const{gen:e,schema:s,data:n,errsCount:r,it:a}=t;if(!r)throw new Error("ajv implementation error");const{allErrors:i,props:o}=a;o instanceof Vt.Name?e.if((0,Vt._)`${o} !== true`,()=>e.forIn("key",n,p=>e.if(u(o,p),()=>c(p)))):o!==!0&&e.forIn("key",n,p=>o===void 0?c(p):e.if(h(o,p),()=>c(p))),a.props=!0,t.ok((0,Vt._)`${r} === ${Gh.default.errors}`);function c(p){if(s===!1){t.setParams({unevaluatedProperty:p}),t.error(),i||e.break();return}if(!(0,ti.alwaysValidSchema)(a,s)){const g=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:p,dataPropType:ti.Type.Str},g),i||e.if((0,Vt.not)(g),()=>e.break())}}function u(p,g){return(0,Vt._)`!${p} || !${p}[${g}]`}function h(p,g){const E=[];for(const v in p)p[v]===!0&&E.push((0,Vt._)`${g} !== ${v}`);return(0,Vt.and)(...E)}}};na.default=Kh;var ra={};Object.defineProperty(ra,"__esModule",{value:!0});const Wt=ue,si=K,Xh={message:({params:{len:t}})=>(0,Wt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Wt._)`{limit: ${t}}`},Wh={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:Xh,code(t){const{gen:e,schema:s,data:n,it:r}=t,a=r.items||0;if(a===!0)return;const i=e.const("len",(0,Wt._)`${n}.length`);if(s===!1)t.setParams({len:a}),t.fail((0,Wt._)`${i} > ${a}`);else if(typeof s=="object"&&!(0,si.alwaysValidSchema)(r,s)){const c=e.var("valid",(0,Wt._)`${i} <= ${a}`);e.if((0,Wt.not)(c),()=>o(c,a)),t.ok(c)}r.items=!0;function o(c,u){e.forRange("i",u,i,h=>{t.subschema({keyword:"unevaluatedItems",dataProp:h,dataPropType:si.Type.Num},c),r.allErrors||e.if((0,Wt.not)(c),()=>e.break())})}}};ra.default=Wh;Object.defineProperty(sa,"__esModule",{value:!0});const Zh=na,Yh=ra,Qh=[Zh.default,Yh.default];sa.default=Qh;Object.defineProperty(Xr,"__esModule",{value:!0});const xh=kn,em=On,tm=Pn,sm=Wr,nm=Qr,rm=sa,am=Cn,ni=Yt,im=[sm.default,xh.default,em.default,(0,tm.default)(!0),am.default,ni.metadataVocabulary,ni.contentVocabulary,nm.default,rm.default];Xr.default=im;var aa={};const om="https://json-schema.org/draft/2020-12/schema",lm="https://json-schema.org/draft/2020-12/schema",cm={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},dm="meta",um="Core and Validation specifications meta-schema",fm=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],hm=["object","boolean"],mm="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",pm={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},vm={$schema:om,$id:lm,$vocabulary:cm,$dynamicAnchor:dm,title:um,allOf:fm,type:hm,$comment:mm,properties:pm},gm="https://json-schema.org/draft/2020-12/schema",_m="https://json-schema.org/draft/2020-12/meta/applicator",ym={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},bm="meta",$m="Applicator vocabulary meta-schema",Em=["object","boolean"],wm={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},Sm={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},km={$schema:gm,$id:_m,$vocabulary:ym,$dynamicAnchor:bm,title:$m,type:Em,properties:wm,$defs:Sm},Om="https://json-schema.org/draft/2020-12/schema",Pm="https://json-schema.org/draft/2020-12/meta/unevaluated",Im={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},Nm="meta",Cm="Unevaluated applicator vocabulary meta-schema",Tm=["object","boolean"],Am={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},Dm={$schema:Om,$id:Pm,$vocabulary:Im,$dynamicAnchor:Nm,title:Cm,type:Tm,properties:Am},Rm="https://json-schema.org/draft/2020-12/schema",jm="https://json-schema.org/draft/2020-12/meta/content",Lm={"https://json-schema.org/draft/2020-12/vocab/content":!0},Vm="meta",Mm="Content vocabulary meta-schema",Fm=["object","boolean"],zm={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},Um={$schema:Rm,$id:jm,$vocabulary:Lm,$dynamicAnchor:Vm,title:Mm,type:Fm,properties:zm},qm="https://json-schema.org/draft/2020-12/schema",Bm="https://json-schema.org/draft/2020-12/meta/core",Hm={"https://json-schema.org/draft/2020-12/vocab/core":!0},Gm="meta",Jm="Core vocabulary meta-schema",Km=["object","boolean"],Xm={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},Wm={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},Zm={$schema:qm,$id:Bm,$vocabulary:Hm,$dynamicAnchor:Gm,title:Jm,type:Km,properties:Xm,$defs:Wm},Ym="https://json-schema.org/draft/2020-12/schema",Qm="https://json-schema.org/draft/2020-12/meta/format-annotation",xm={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},ep="meta",tp="Format vocabulary meta-schema for annotation results",sp=["object","boolean"],np={format:{type:"string"}},rp={$schema:Ym,$id:Qm,$vocabulary:xm,$dynamicAnchor:ep,title:tp,type:sp,properties:np},ap="https://json-schema.org/draft/2020-12/schema",ip="https://json-schema.org/draft/2020-12/meta/meta-data",op={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},lp="meta",cp="Meta-data vocabulary meta-schema",dp=["object","boolean"],up={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},fp={$schema:ap,$id:ip,$vocabulary:op,$dynamicAnchor:lp,title:cp,type:dp,properties:up},hp="https://json-schema.org/draft/2020-12/schema",mp="https://json-schema.org/draft/2020-12/meta/validation",pp={"https://json-schema.org/draft/2020-12/vocab/validation":!0},vp="meta",gp="Validation vocabulary meta-schema",_p=["object","boolean"],yp={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},bp={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},$p={$schema:hp,$id:mp,$vocabulary:pp,$dynamicAnchor:vp,title:gp,type:_p,properties:yp,$defs:bp};Object.defineProperty(aa,"__esModule",{value:!0});const Ep=vm,wp=km,Sp=Dm,kp=Um,Op=Zm,Pp=rp,Ip=fp,Np=$p,Cp=["/properties"];function Tp(t){return[Ep,wp,Sp,kp,Op,e(this,Pp),Ip,e(this,Np)].forEach(s=>this.addMetaSchema(s,void 0,!1)),this;function e(s,n){return t?s.$dataMetaSchema(n,Cp):n}}aa.default=Tp;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2020=void 0;const s=or,n=Xr,r=Tn,a=aa,i="https://json-schema.org/draft/2020-12/schema";class o extends s.default{constructor(E={}){super({...E,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(E=>this.addVocabulary(E)),this.opts.discriminator&&this.addKeyword(r.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:E,meta:v}=this.opts;v&&(a.default.call(this,E),this.refs["http://json-schema.org/schema"]=i)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.Ajv2020=o,t.exports=e=o,t.exports.Ajv2020=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var c=pt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=ue;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var h=ys;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return h.default}});var p=Qt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})})(sr,sr.exports);var Ap=sr.exports;const Dp=ir(Ap);var nr={exports:{}},sl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(V,L){return{validate:V,compare:L}}t.fullFormats={date:e(a,i),time:e(c(!0),u),"date-time":e(g(!0),E),"iso-time":e(c(),h),"iso-date-time":e(g(),v),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:d,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:W,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:N},int64:{type:"number",validate:D},float:{type:"number",validate:F},double:{type:"number",validate:F},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,E),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,h),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,v),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function s(V){return V%4===0&&(V%100!==0||V%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(V){const L=n.exec(V);if(!L)return!1;const G=+L[1],H=+L[2],Z=+L[3];return H>=1&&H<=12&&Z>=1&&Z<=(H===2&&s(G)?29:r[H])}function i(V,L){if(V&&L)return V>L?1:V<L?-1:0}const o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(V){return function(G){const H=o.exec(G);if(!H)return!1;const Z=+H[1],se=+H[2],ke=+H[3],Pe=H[4],ge=H[5]==="-"?-1:1,B=+(H[6]||0),C=+(H[7]||0);if(B>23||C>59||V&&!Pe)return!1;if(Z<=23&&se<=59&&ke<60)return!0;const j=se-C*ge,T=Z-B*ge-(j<0?1:0);return(T===23||T===-1)&&(j===59||j===-1)&&ke<61}}function u(V,L){if(!(V&&L))return;const G=new Date("2020-01-01T"+V).valueOf(),H=new Date("2020-01-01T"+L).valueOf();if(G&&H)return G-H}function h(V,L){if(!(V&&L))return;const G=o.exec(V),H=o.exec(L);if(G&&H)return V=G[1]+G[2]+G[3],L=H[1]+H[2]+H[3],V>L?1:V<L?-1:0}const p=/t|\s/i;function g(V){const L=c(V);return function(H){const Z=H.split(p);return Z.length===2&&a(Z[0])&&L(Z[1])}}function E(V,L){if(!(V&&L))return;const G=new Date(V).valueOf(),H=new Date(L).valueOf();if(G&&H)return G-H}function v(V,L){if(!(V&&L))return;const[G,H]=V.split(p),[Z,se]=L.split(p),ke=i(G,Z);if(ke!==void 0)return ke||u(H,se)}const b=/\/|:/,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function d(V){return b.test(V)&&l.test(V)}const f=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(V){return f.lastIndex=0,f.test(V)}const $=-(2**31),O=2**31-1;function N(V){return Number.isInteger(V)&&V<=O&&V>=$}function D(V){return Number.isInteger(V)}function F(){return!0}const q=/[^\\]\\Z/;function W(V){if(q.test(V))return!1;try{return new RegExp(V),!0}catch{return!1}}})(sl);var nl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=xo,s=ue,n=s.operators,r={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:o,schemaCode:c})=>(0,s.str)`should be ${r[o].okStr} ${c}`,params:({keyword:o,schemaCode:c})=>(0,s._)`{comparison: ${r[o].okStr}, limit: ${c}}`};t.formatLimitDefinition={keyword:Object.keys(r),type:"string",schemaType:"string",$data:!0,error:a,code(o){const{gen:c,data:u,schemaCode:h,keyword:p,it:g}=o,{opts:E,self:v}=g;if(!E.validateFormats)return;const b=new e.KeywordCxt(g,v.RULES.all.format.definition,"format");b.$data?l():d();function l(){const m=c.scopeValue("formats",{ref:v.formats,code:E.code.formats}),$=c.const("fmt",(0,s._)`${m}[${b.schemaCode}]`);o.fail$data((0,s.or)((0,s._)`typeof ${$} != "object"`,(0,s._)`${$} instanceof RegExp`,(0,s._)`typeof ${$}.compare != "function"`,f($)))}function d(){const m=b.schema,$=v.formats[m];if(!$||$===!0)return;if(typeof $!="object"||$ instanceof RegExp||typeof $.compare!="function")throw new Error(`"${p}": format "${m}" does not define "compare" function`);const O=c.scopeValue("formats",{key:m,ref:$,code:E.code.formats?(0,s._)`${E.code.formats}${(0,s.getProperty)(m)}`:void 0});o.fail$data(f(O))}function f(m){return(0,s._)`${m}.compare(${u}, ${h}) ${r[p].fail} 0`}},dependencies:["format"]};const i=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=i})(nl);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const s=sl,n=nl,r=ue,a=new r.Name("fullFormats"),i=new r.Name("fastFormats"),o=(u,h={keywords:!0})=>{if(Array.isArray(h))return c(u,h,s.fullFormats,a),u;const[p,g]=h.mode==="fast"?[s.fastFormats,i]:[s.fullFormats,a],E=h.formats||s.formatNames;return c(u,E,p,g),h.keywords&&(0,n.default)(u),u};o.get=(u,h="full")=>{const g=(h==="fast"?s.fastFormats:s.fullFormats)[u];if(!g)throw new Error(`Unknown format "${u}"`);return g};function c(u,h,p,g){var E,v;(E=(v=u.opts.code).formats)!==null&&E!==void 0||(v.formats=(0,r._)`require("ajv-formats/dist/formats").${g}`);for(const b of h)u.addFormat(b,p[b])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(nr,nr.exports);var Rp=nr.exports;const jp=ir(Rp);class Ut{constructor(e,s=!1){const n={strict:!0,allErrors:s};this.ajv=e==="pydantic_v1"?new yh(n):new Dp(n),jp(this.ajv),this.canValidate=!1}validateSchema(e){this.ajv.compile(e)}loadSchema(e){try{return this.validator=this.ajv.compile(e),this.canValidate=!0}catch(s){return console.error("SchemaValidator: error compiling schema",s),!1}}isValid(e){if(this.validator)return this.canValidate?this.validator(e):null}getErrors(){return!this.validator||!this.canValidate?null:this.validator.errors||null}}function rr(t){try{return new Ut("pydantic_v2").validateSchema(t),"pydantic_v2"}catch{return new Ut("pydantic_v1").validateSchema(t),"pydantic_v1"}}class Lp{constructor(e,s,n,r=[],a=void 0){if(this.schemaVersion=n,this.jsonSchema=so(e,r),this.validator=new Ut(n),!this.validator.loadSchema(this.jsonSchema))throw new Error("Invalid JSON Schema");this.ids=[];const o=vl(this.jsonSchema,n,a);this.dispatch=s,this.notifyChange=()=>{const c=this.getFormData();this.dispatch("change",{value:c})},this.root=this.createObjectElement({key:null,property:this.jsonSchema,required:!0,removable:!1,value:o})}createFormElement(e){const{property:s}=e;if("enum"in s)return this.createEnumElement(e);switch(s.type){case"object":{const n=s;return this.createObjectElement({...e,property:n})}case"array":{const n=s;return eo(n)?this.createTupleElement({...e,property:n}):this.createArrayElement({...e,property:n})}case"number":case"integer":{const n=s;return this.createNumberElement({...e,property:n})}case"boolean":{const n=s;return this.createBooleanElement({...e,property:n})}default:{const n=s;return this.createStringElement({...e,property:n})}}}createStringElement({key:e,property:s,required:n,removable:r,value:a}){const i=this.getBaseElementFields({key:e,property:s,required:n,removable:r});return new bl({...i,value:a||null})}createBooleanElement({key:e,property:s,required:n,removable:r,value:a}){const i=this.getBaseElementFields({key:e,property:s,required:n,removable:r});return new $l({...i,value:un(a)})}createNumberElement({key:e,property:s,required:n,removable:r,value:a}){const i=this.getBaseElementFields({key:e,property:s,required:n,removable:r});return new ka({...i,type:"number",value:un(a),min:hl(s),max:ml(s)})}createEnumElement({key:e,property:s,required:n,removable:r,value:a}){const i=this.getBaseElementFields({key:e,property:s,required:n,removable:r});return new El({...i,type:"enum",value:a||null,options:s.enum})}createObjectElement({key:e,property:s,required:n,removable:r,value:a}){const i=this.getBaseElementFields({key:e,property:s,required:n,removable:r}),o=s.required||[],c=[],u=Object.entries(to(s,a));for(const[p,g]of u){const E=o.includes(p),v=this.createFormElement({key:p,property:g,required:E,removable:pl(s,p),value:a[p]});c.push(v)}return new wl({...i,children:c,additionalProperties:s.additionalProperties||!1})}createArrayElement({key:e,property:s,required:n,removable:r,value:a}){const i=this.getBaseElementFields({key:e,property:s,required:n,removable:r}),o=s.items,c=a.map(h=>this.createFormElement({key:null,property:o,required:!1,removable:!0,value:h}));return new Sl({...i,children:c,items:o,minItems:s.minItems,maxItems:s.maxItems})}createTupleElement({key:e,property:s,required:n,removable:r,value:a}){const i=this.getBaseElementFields({key:e,property:s,required:n,removable:r}),o=s.minItems,c=this.schemaVersion==="pydantic_v1"?s.items:s.prefixItems;return new kl({...i,type:"tuple",items:c,size:o,children:n||Array.isArray(a)&&a.length>0?this.createTupleChildren({items:c,size:o,value:a}):[]})}createTupleChildren({items:e,size:s,value:n}){const r={key:null,required:!1,removable:!1};return Array.isArray(e)?e.map((a,i)=>this.createFormElement({...r,property:a,value:n[i]})):Array(s).map((a,i)=>this.createFormElement({...r,property:e,value:n[i]}))}getBaseElementFields({key:e,property:s,required:n,removable:r}){return{key:e,required:n,removable:r,manager:this,id:this.getUniqueId(),type:s.type||null,title:e&&r?e:s.title||e||"",description:s.description||"",property:Mt(s),notifyChange:this.notifyChange}}getUniqueId(){let e;do if(e=Math.random().toString(36).substring(7),!this.ids.includes(e)){this.ids.push(e);break}while(!0);return e}getFormData(){return this.getDataFromObjectElement(this.root)}getDataFromObjectElement(e){const s={};for(const n of e.children){let r=this.getDataFromElement(n);s[n.key]=r}return s}validate(){const e=yn(this.getFormData());if(!this.validator.isValid(e)){const n=this.validator.getErrors();throw new rl(n)}}getDataFromElement(e){switch(e.type){case"object":return this.getDataFromObjectElement(e);case"array":case"tuple":return this.getDataFromArrayElement(e);default:if(e instanceof Ms)return e instanceof ka&&e.badInput?"invalid":e.value;throw new Error(`Unsupported type ${e.type}`)}}getDataFromArrayElement(e){return e.children.map(s=>this.getDataFromElement(s))}}class rl extends Error{constructor(e){super("Invalid JSON Schema data"),this.errors=e}}function ri(t){let e;return{c(){e=P("span"),this.h()},l(s){e=I(s,"SPAN",{tabindex:!0,role:!0,"data-bs-trigger":!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0,"data-bs-html":!0,"data-bs-content":!0}),A(e).forEach(w),this.h()},h(){y(e,"tabindex","0"),y(e,"role","button"),y(e,"data-bs-trigger","focus"),y(e,"class","bi bi-info-circle text-primary"),y(e,"data-bs-toggle","collapse"),y(e,"data-bs-target",""),y(e,"data-bs-html",t[1]),y(e,"data-bs-content",t[0])},m(s,n){M(s,e,n),t[3](e)},p(s,n){n&2&&y(e,"data-bs-html",s[1]),n&1&&y(e,"data-bs-content",s[0])},d(s){s&&w(e),t[3](null)}}}function Vp(t){let e,s=t[0]&&ri(t);return{c(){e=P("span"),s&&s.c(),this.h()},l(n){e=I(n,"SPAN",{class:!0});var r=A(e);s&&s.l(r),r.forEach(w),this.h()},h(){y(e,"class","ms-2 property-description")},m(n,r){M(n,e,r),s&&s.m(e,null)},p(n,[r]){n[0]?s?s.p(n,r):(s=ri(n),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:$t,o:$t,d(n){n&&w(e),s&&s.d()}}}function Mp(t,e,s){let{description:n=void 0}=e,{html:r=!1}=e,a,i,o;_s(()=>{a&&a.addEventListener("click",function(){i=bootstrap.Popover.getOrCreateInstance(a,{trigger:"manual"}),i.toggle(),o||(o=function(u){const h=u.composedPath();h.length>0&&h[0]instanceof HTMLElement&&h[0]!==a&&(h[0].closest(".popover")||(i==null||i.hide(),i=void 0,window.removeEventListener("click",o),o=void 0))},window.addEventListener("click",o))})});function c(u){qt[u?"unshift":"push"](()=>{a=u,s(2,a)})}return t.$$set=u=>{"description"in u&&s(0,n=u.description),"html"in u&&s(1,r=u.html)},[n,r,a,c]}class Fp extends Ye{constructor(e){super(),Qe(this,e,Mp,Vp,Je,{description:0,html:1})}}function zp(t){let e;function s(a,i){if(a[0].title)return Bp;if(a[2])return qp}let n=s(t),r=n&&n(t);return{c(){e=P("span"),r&&r.c(),this.h()},l(a){e=I(a,"SPAN",{class:!0});var i=A(e);r&&r.l(i),i.forEach(w),this.h()},h(){y(e,"class",t[3])},m(a,i){M(a,e,i),r&&r.m(e,null)},p(a,i){n===(n=s(a))&&r?r.p(a,i):(r&&r.d(1),r=n&&n(a),r&&(r.c(),r.m(e,null))),i&8&&y(e,"class",a[3])},d(a){a&&w(e),r&&r.d()}}}function Up(t){let e,s;function n(i,o){if(i[0].title)return Gp;if(i[2])return Hp}let r=n(t),a=r&&r(t);return{c(){e=P("label"),a&&a.c(),this.h()},l(i){e=I(i,"LABEL",{class:!0,for:!0});var o=A(e);a&&a.l(o),o.forEach(w),this.h()},h(){y(e,"class",t[3]),y(e,"for",s=t[1]==="label"?`property-${t[0].id}`:void 0)},m(i,o){M(i,e,o),a&&a.m(e,null)},p(i,o){r===(r=n(i))&&a?a.p(i,o):(a&&a.d(1),a=r&&r(i),a&&(a.c(),a.m(e,null))),o&8&&y(e,"class",i[3]),o&3&&s!==(s=i[1]==="label"?`property-${i[0].id}`:void 0)&&y(e,"for",s)},d(i){i&&w(e),a&&a.d()}}}function qp(t){let e,s;return{c(){e=P("span"),s=be(t[2]),this.h()},l(n){e=I(n,"SPAN",{class:!0});var r=A(e);s=$e(r,t[2]),r.forEach(w),this.h()},h(){y(e,"class","visually-hidden")},m(n,r){M(n,e,r),S(e,s)},p(n,r){r&4&&Re(s,n[2])},d(n){n&&w(e)}}}function Bp(t){let e=t[0].title+"",s;return{c(){s=be(e)},l(n){s=$e(n,e)},m(n,r){M(n,s,r)},p(n,r){r&1&&e!==(e=n[0].title+"")&&Re(s,e)},d(n){n&&w(s)}}}function Hp(t){let e,s;return{c(){e=P("span"),s=be(t[2]),this.h()},l(n){e=I(n,"SPAN",{class:!0});var r=A(e);s=$e(r,t[2]),r.forEach(w),this.h()},h(){y(e,"class","visually-hidden")},m(n,r){M(n,e,r),S(e,s)},p(n,r){r&4&&Re(s,n[2])},d(n){n&&w(e)}}}function Gp(t){let e=t[0].title+"",s;return{c(){s=be(e)},l(n){s=$e(n,e)},m(n,r){M(n,s,r)},p(n,r){r&1&&e!==(e=n[0].title+"")&&Re(s,e)},d(n){n&&w(s)}}}function Jp(t){let e,s,n;function r(o,c){return o[1]==="label"?Up:zp}let a=r(t),i=a(t);return s=new Fp({props:{description:t[0].description}}),{c(){i.c(),e=z(),Ne(s.$$.fragment)},l(o){i.l(o),e=U(o),Ce(s.$$.fragment,o)},m(o,c){i.m(o,c),M(o,e,c),Te(s,o,c),n=!0},p(o,[c]){a===(a=r(o))&&i?i.p(o,c):(i.d(1),i=a(o),i&&(i.c(),i.m(e.parentNode,e)));const u={};c&1&&(u.description=o[0].description),s.$set(u)},i(o){n||(te(s.$$.fragment,o),n=!0)},o(o){oe(s.$$.fragment,o),n=!1},d(o){o&&w(e),i.d(o),Ae(s,o)}}}function Kp(t,e,s){let n,{formElement:r}=e,{tag:a="label"}=e,{defaultTitle:i=""}=e;return t.$$set=o=>{"formElement"in o&&s(0,r=o.formElement),"tag"in o&&s(1,a=o.tag),"defaultTitle"in o&&s(2,i=o.defaultTitle)},t.$$.update=()=>{t.$$.dirty&1&&s(3,n=r.required?"fw-bold":!("value"in r)||r.value!==null&&r.value!==void 0&&r.value!==""?"":"text-secondary fw-light")},[r,a,i,n]}class Us extends Ye{constructor(e){super(),Qe(this,e,Kp,Jp,Je,{formElement:0,tag:1,defaultTitle:2})}}function ai(t){let e,s="Reset",n,r;return{c(){e=P("button"),e.textContent=s,this.h()},l(a){e=I(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-ugzt34"&&(e.textContent=s),this.h()},h(){y(e,"class","btn btn-warning me-3")},m(a,i){M(a,e,i),n||(r=Y(e,"click",t[3]),n=!0)},p:$t,d(a){a&&w(e),n=!1,r()}}}function Xp(t){let e,s,n,r,a,i,o,c,u,h,p,g,E,v,b,l,d,f;c=new Us({props:{formElement:t[0],tag:"span"}});let m=t[1]!==null&&t[0].property.default!==void 0&&ai(t);const $=t[5].default,O=ol($,t,t[4],null);return{c(){e=P("div"),s=P("div"),n=P("div"),r=P("div"),a=P("div"),i=P("button"),o=P("div"),Ne(c.$$.fragment),u=z(),h=P("div"),m&&m.c(),p=z(),g=P("div"),E=P("div"),O&&O.c(),this.h()},l(N){e=I(N,"DIV",{class:!0});var D=A(e);s=I(D,"DIV",{class:!0});var F=A(s);n=I(F,"DIV",{class:!0,id:!0});var q=A(n);r=I(q,"DIV",{class:!0});var W=A(r);a=I(W,"DIV",{class:!0});var V=A(a);i=I(V,"BUTTON",{class:!0,type:!0});var L=A(i);o=I(L,"DIV",{class:!0});var G=A(o);Ce(c.$$.fragment,G),G.forEach(w),u=U(L),h=I(L,"DIV",{});var H=A(h);m&&m.l(H),H.forEach(w),L.forEach(w),V.forEach(w),p=U(W),g=I(W,"DIV",{id:!0,class:!0});var Z=A(g);E=I(Z,"DIV",{class:!0});var se=A(E);O&&O.l(se),se.forEach(w),Z.forEach(w),W.forEach(w),q.forEach(w),F.forEach(w),D.forEach(w),this.h()},h(){y(o,"class","flex-fill"),y(i,"class","accordion-button"),y(i,"type","button"),ve(i,"collapsed",t[0].collapsed),y(a,"class","accordion-header"),y(E,"class","accordion-body p-1"),y(g,"id",v="collapse-"+t[0].id),y(g,"class","accordion-collapse jschema-collapsing"),ve(g,"collapse",t[0].collapsed),ve(g,"show",!t[0].collapsed),y(r,"class","accordion-item"),y(n,"class","accordion"),y(n,"id",b="accordion-"+t[0].id),y(s,"class","my-2"),y(e,"class","d-flex flex-column p-2")},m(N,D){M(N,e,D),S(e,s),S(s,n),S(n,r),S(r,a),S(a,i),S(i,o),Te(c,o,null),S(i,u),S(i,h),m&&m.m(h,null),S(r,p),S(r,g),S(g,E),O&&O.m(E,null),l=!0,d||(f=Y(i,"click",t[6]),d=!0)},p(N,[D]){const F={};D&1&&(F.formElement=N[0]),c.$set(F),N[1]!==null&&N[0].property.default!==void 0?m?m.p(N,D):(m=ai(N),m.c(),m.m(h,null)):m&&(m.d(1),m=null),(!l||D&1)&&ve(i,"collapsed",N[0].collapsed),O&&O.p&&(!l||D&16)&&ll(O,$,N,N[4],l?dl($,N[4],D,null):cl(N[4]),null),(!l||D&1&&v!==(v="collapse-"+N[0].id))&&y(g,"id",v),(!l||D&1)&&ve(g,"collapse",N[0].collapsed),(!l||D&1)&&ve(g,"show",!N[0].collapsed),(!l||D&1&&b!==(b="accordion-"+N[0].id))&&y(n,"id",b)},i(N){l||(te(c.$$.fragment,N),te(O,N),l=!0)},o(N){oe(c.$$.fragment,N),oe(O,N),l=!1},d(N){N&&w(e),Ae(c),m&&m.d(),O&&O.d(N),d=!1,f()}}}function Wp(t,e,s){let{$$slots:n={},$$scope:r}=e,{formElement:a}=e,{reset:i=null}=e;function o(h){h.target instanceof HTMLElement&&h.target.classList.contains("bi-info-circle")||s(0,a.collapsed=!a.collapsed,a)}function c(h){h.preventDefault(),h.stopPropagation(),i&&i()}const u=h=>o(h);return t.$$set=h=>{"formElement"in h&&s(0,a=h.formElement),"reset"in h&&s(1,i=h.reset),"$$scope"in h&&s(4,r=h.$$scope)},[a,i,o,c,r,n,u]}class ia extends Ye{constructor(e){super(),Qe(this,e,Wp,Xp,Je,{formElement:0,reset:1})}}function ii(t,e,s){const n=t.slice();return n[14]=e[s],n[16]=s,n}function oi(t){let e,s="Remove",n,r;function a(){return t[11](t[16])}return{c(){e=P("button"),e.textContent=s,this.h()},l(i){e=I(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1h75m7r"&&(e.textContent=s),this.h()},h(){y(e,"class","btn btn-warning"),y(e,"type","button")},m(i,o){M(i,e,o),n||(r=Y(e,"click",a),n=!0)},p(i,o){t=i},d(i){i&&w(e),n=!1,r()}}}function li(t){let e,s,n,r,a,i,o,c,u;function h(){return t[12](t[16])}function p(){return t[13](t[16])}return{c(){e=P("button"),s=P("i"),r=z(),a=P("button"),i=P("i"),this.h()},l(g){e=I(g,"BUTTON",{class:!0,"aria-label":!0});var E=A(e);s=I(E,"I",{class:!0}),A(s).forEach(w),E.forEach(w),r=U(g),a=I(g,"BUTTON",{class:!0,"aria-label":!0});var v=A(a);i=I(v,"I",{class:!0}),A(i).forEach(w),v.forEach(w),this.h()},h(){y(s,"class","bi-arrow-up"),y(e,"class","btn btn-light"),y(e,"aria-label","Move item up"),e.disabled=n=!t[2]&&t[16]===0,y(i,"class","bi-arrow-down"),y(a,"class","btn btn-light"),y(a,"aria-label","Move item down"),a.disabled=o=!t[2]&&t[16]===t[0].length-1},m(g,E){M(g,e,E),S(e,s),M(g,r,E),M(g,a,E),S(a,i),c||(u=[Y(e,"click",wa(h)),Y(a,"click",wa(p))],c=!0)},p(g,E){t=g,E&5&&n!==(n=!t[2]&&t[16]===0)&&(e.disabled=n),E&5&&o!==(o=!t[2]&&t[16]===t[0].length-1)&&(a.disabled=o)},d(g){g&&(w(e),w(r),w(a)),c=!1,ft(u)}}}function ci(t,e){let s,n,r,a,i,o,c,u,h,p=e[4]&&oi(e);i=new oa({props:{editable:e[2],formElement:e[14]}});let g=e[0].length>1&&li(e);return{key:t,first:null,c(){s=P("div"),n=P("div"),p&&p.c(),r=z(),a=P("div"),Ne(i.$$.fragment),o=z(),c=P("div"),g&&g.c(),u=z(),this.h()},l(E){s=I(E,"DIV",{class:!0});var v=A(s);n=I(v,"DIV",{class:!0});var b=A(n);p&&p.l(b),b.forEach(w),r=U(v),a=I(v,"DIV",{class:!0});var l=A(a);Ce(i.$$.fragment,l),l.forEach(w),o=U(v),c=I(v,"DIV",{class:!0});var d=A(c);g&&g.l(d),d.forEach(w),u=U(v),v.forEach(w),this.h()},h(){y(n,"class","align-self-center m-2"),y(a,"class","flex-fill"),y(c,"class","align-self-right mt-2 me-2"),y(s,"class","d-flex"),this.first=s},m(E,v){M(E,s,v),S(s,n),p&&p.m(n,null),S(s,r),S(s,a),Te(i,a,null),S(s,o),S(s,c),g&&g.m(c,null),S(s,u),h=!0},p(E,v){e=E,e[4]?p?p.p(e,v):(p=oi(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null);const b={};v&4&&(b.editable=e[2]),v&1&&(b.formElement=e[14]),i.$set(b),e[0].length>1?g?g.p(e,v):(g=li(e),g.c(),g.m(c,null)):g&&(g.d(1),g=null)},i(E){h||(te(i.$$.fragment,E),h=!0)},o(E){oe(i.$$.fragment,E),h=!1},d(E){E&&w(s),p&&p.d(),Ae(i),g&&g.d()}}}function Zp(t){let e,s,n,r,a,i,o=[],c=new Map,u,h,p,g=vt(t[0]);const E=v=>v[14].id;for(let v=0;v<g.length;v+=1){let b=ii(t,g,v),l=E(b);c.set(l,o[v]=ci(l,b))}return{c(){e=P("div"),s=P("button"),n=be("Add argument to list"),a=z(),i=P("div");for(let v=0;v<o.length;v+=1)o[v].c();this.h()},l(v){e=I(v,"DIV",{class:!0});var b=A(e);s=I(b,"BUTTON",{class:!0,type:!0});var l=A(s);n=$e(l,"Add argument to list"),l.forEach(w),b.forEach(w),a=U(v),i=I(v,"DIV",{});var d=A(i);for(let f=0;f<o.length;f+=1)o[f].l(d);d.forEach(w),this.h()},h(){y(s,"class","btn btn-primary"),y(s,"type","button"),s.disabled=r=!t[5],y(e,"class","d-flex justify-content-center p-2")},m(v,b){M(v,e,b),S(e,s),S(s,n),M(v,a,b),M(v,i,b);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(i,null);u=!0,h||(p=Y(s,"click",t[10]),h=!0)},p(v,b){(!u||b&32&&r!==(r=!v[5]))&&(s.disabled=r),b&917&&(g=vt(v[0]),wt(),o=fl(o,b,E,1,v,g,c,i,ul,ci,null,ii),St())},i(v){if(!u){for(let b=0;b<g.length;b+=1)te(o[b]);u=!0}},o(v){for(let b=0;b<o.length;b+=1)oe(o[b]);u=!1},d(v){v&&(w(e),w(a),w(i));for(let b=0;b<o.length;b+=1)o[b].d();h=!1,p()}}}function Yp(t){let e,s;return e=new ia({props:{formElement:t[1],reset:t[3],$$slots:{default:[Zp]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,[r]){const a={};r&2&&(a.formElement=n[1]),r&8&&(a.reset=n[3]),r&131125&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function Qp(t,e,s){let n,r,{formElement:a}=e,{editable:i=!0}=e,{children:o=[]}=e,{reset:c=null}=e;_s(()=>{s(0,o=a.children)});function u(){a.addChild(),s(0,o=a.children)}function h(d){a.removeChild(d),s(0,o=a.children)}function p(d){a.moveChildUp(d),s(0,o=a.children)}function g(d){a.moveChildDown(d),s(0,o=a.children)}const E=()=>u(),v=d=>h(d),b=d=>p(d),l=d=>g(d);return t.$$set=d=>{"formElement"in d&&s(1,a=d.formElement),"editable"in d&&s(2,i=d.editable),"children"in d&&s(0,o=d.children),"reset"in d&&s(3,c=d.reset)},t.$$.update=()=>{t.$$.dirty&7&&s(5,n=i&&(typeof a.maxItems!="number"||o.length<a.maxItems)),t.$$.dirty&7&&s(4,r=i&&!(a.required&&typeof a.minItems=="number"&&o.length<=a.minItems))},[o,a,i,c,r,n,u,h,p,g,E,v,b,l]}class xp extends Ye{constructor(e){super(),Qe(this,e,Qp,Yp,Je,{formElement:1,editable:2,children:0,reset:3})}}function ev(t){let e,s,n,r,a,i,o,c,u,h,p,g,E,v;return n=new Us({props:{formElement:t[0],defaultTitle:"String argument"}}),{c(){e=P("div"),s=P("div"),Ne(n.$$.fragment),r=z(),a=P("div"),i=P("input"),u=z(),h=P("span"),p=be(t[3]),this.h()},l(b){e=I(b,"DIV",{class:!0});var l=A(e);s=I(l,"DIV",{class:!0});var d=A(s);Ce(n.$$.fragment,d),d.forEach(w),r=U(l),a=I(l,"DIV",{class:!0});var f=A(a);i=I(f,"INPUT",{type:!0,class:!0,id:!0}),u=U(f),h=I(f,"SPAN",{class:!0});var m=A(h);p=$e(m,t[3]),m.forEach(w),f.forEach(w),l.forEach(w),this.h()},h(){y(s,"class","property-metadata d-flex flex-row align-self-center w-50"),y(i,"type","text"),y(i,"class","form-control"),y(i,"id",o="property-"+t[0].id),i.disabled=c=!t[1],ve(i,"is-invalid",t[3]),y(h,"class","invalid-feedback"),y(a,"class","property-input ms-auto w-50 has-validation"),y(e,"class","d-flex align-items-center p-2")},m(b,l){M(b,e,l),S(e,s),Te(n,s,null),S(e,r),S(e,a),S(a,i),t[5](i),Ee(i,t[0].value),S(a,u),S(a,h),S(h,p),g=!0,E||(v=[Y(i,"input",t[6]),Y(i,"input",t[4])],E=!0)},p(b,[l]){const d={};l&1&&(d.formElement=b[0]),n.$set(d),(!g||l&1&&o!==(o="property-"+b[0].id))&&y(i,"id",o),(!g||l&2&&c!==(c=!b[1]))&&(i.disabled=c),l&1&&i.value!==b[0].value&&Ee(i,b[0].value),(!g||l&8)&&ve(i,"is-invalid",b[3]),(!g||l&8)&&Re(p,b[3])},i(b){g||(te(n.$$.fragment,b),g=!0)},o(b){oe(n.$$.fragment,b),g=!1},d(b){b&&w(e),Ae(n),t[5](null),E=!1,ft(v)}}}function tv(t,e,s){let{formElement:n}=e,{editable:r=!0}=e,a,i="";function o(){n.notifyChange(),s(3,i=""),n.required&&a.value===""&&s(3,i="Field is required")}function c(h){qt[h?"unshift":"push"](()=>{a=h,s(2,a)})}function u(){n.value=this.value,s(0,n)}return t.$$set=h=>{"formElement"in h&&s(0,n=h.formElement),"editable"in h&&s(1,r=h.editable)},[n,r,a,i,o,c,u]}class sv extends Ye{constructor(e){super(),Qe(this,e,tv,ev,Je,{formElement:0,editable:1})}}function nv(t){let e,s,n,r,a,i,o,c,u,h,p,g;return n=new Us({props:{formElement:t[0],defaultTitle:"Boolean argument",tag:"span"}}),{c(){e=P("div"),s=P("div"),Ne(n.$$.fragment),r=z(),a=P("div"),i=P("div"),o=P("input"),this.h()},l(E){e=I(E,"DIV",{class:!0});var v=A(e);s=I(v,"DIV",{class:!0});var b=A(s);Ce(n.$$.fragment,b),b.forEach(w),r=U(v),a=I(v,"DIV",{class:!0});var l=A(a);i=I(l,"DIV",{class:!0});var d=A(i);o=I(d,"INPUT",{id:!0,class:!0,type:!0,role:!0}),d.forEach(w),l.forEach(w),v.forEach(w),this.h()},h(){y(s,"class","property-metadata d-flex flex-row align-self-center w-50"),y(o,"id",c="property-"+t[0].id),y(o,"class","form-check-input"),y(o,"type","checkbox"),y(o,"role","switch"),o.disabled=u=!t[1],y(i,"class","form-check form-switch"),y(a,"class","property-input ms-auto w-25"),y(e,"class","d-flex align-items-center p-2")},m(E,v){M(E,e,v),S(e,s),Te(n,s,null),S(e,r),S(e,a),S(a,i),S(i,o),o.checked=t[0].value,h=!0,p||(g=[Y(o,"change",t[3]),Y(o,"change",t[2])],p=!0)},p(E,[v]){const b={};v&1&&(b.formElement=E[0]),n.$set(b),(!h||v&1&&c!==(c="property-"+E[0].id))&&y(o,"id",c),(!h||v&2&&u!==(u=!E[1]))&&(o.disabled=u),v&1&&(o.checked=E[0].value)},i(E){h||(te(n.$$.fragment,E),h=!0)},o(E){oe(n.$$.fragment,E),h=!1},d(E){E&&w(e),Ae(n),p=!1,ft(g)}}}function rv(t,e,s){let{formElement:n}=e,{editable:r=!0}=e;function a(){n.notifyChange()}function i(){n.value=this.checked,s(0,n)}return t.$$set=o=>{"formElement"in o&&s(0,n=o.formElement),"editable"in o&&s(1,r=o.editable)},[n,r,a,i]}class av extends Ye{constructor(e){super(),Qe(this,e,rv,nv,Je,{formElement:0,editable:1})}}function iv(t){let e,s,n,r,a,i,o,c,u,h,p,g,E,v,b,l;return n=new Us({props:{formElement:t[0],defaultTitle:"Number argument"}}),{c(){e=P("div"),s=P("div"),Ne(n.$$.fragment),r=z(),a=P("div"),i=P("input"),p=z(),g=P("span"),E=be(t[3]),this.h()},l(d){e=I(d,"DIV",{class:!0});var f=A(e);s=I(f,"DIV",{class:!0});var m=A(s);Ce(n.$$.fragment,m),m.forEach(w),r=U(f),a=I(f,"DIV",{class:!0});var $=A(a);i=I($,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),p=U($),g=I($,"SPAN",{class:!0});var O=A(g);E=$e(O,t[3]),O.forEach(w),$.forEach(w),f.forEach(w),this.h()},h(){y(s,"class","property-metadata d-flex flex-row align-self-center w-50"),y(i,"type","number"),y(i,"min",o=t[0].min),y(i,"max",c=t[0].max),y(i,"class","form-control"),y(i,"id",u="property-"+t[0].id),i.disabled=h=!t[1],ve(i,"is-invalid",t[3]),y(g,"class","invalid-feedback"),y(a,"class","property-input ms-auto w-50 has-validation"),y(e,"class","d-flex align-items-center p-2")},m(d,f){M(d,e,f),S(e,s),Te(n,s,null),S(e,r),S(e,a),S(a,i),t[5](i),Ee(i,t[0].value),S(a,p),S(a,g),S(g,E),v=!0,b||(l=[Y(i,"input",t[6]),Y(i,"input",t[4])],b=!0)},p(d,[f]){const m={};f&1&&(m.formElement=d[0]),n.$set(m),(!v||f&1&&o!==(o=d[0].min))&&y(i,"min",o),(!v||f&1&&c!==(c=d[0].max))&&y(i,"max",c),(!v||f&1&&u!==(u="property-"+d[0].id))&&y(i,"id",u),(!v||f&2&&h!==(h=!d[1]))&&(i.disabled=h),f&1&&Xi(i.value)!==d[0].value&&Ee(i,d[0].value),(!v||f&8)&&ve(i,"is-invalid",d[3]),(!v||f&8)&&Re(E,d[3])},i(d){v||(te(n.$$.fragment,d),v=!0)},o(d){oe(n.$$.fragment,d),v=!1},d(d){d&&w(e),Ae(n),t[5](null),b=!1,ft(l)}}}function ov(t,e,s){let{formElement:n}=e,{editable:r=!0}=e,a,i="";function o(){c(),n.notifyChange()}function c(){if(s(3,i=""),s(0,n.badInput=a.validity.badInput,n),n.badInput){s(3,i="Should be a number");return}if(a.value===""){n.required?s(3,i="Field is required"):s(3,i="");return}const p=parseInt(a.value),g=n.min,E=n.max;if(g!==null&&p<g){s(3,i="Should be greater or equal than "+g);return}if(E!==null&&p>E){s(3,i="Should be lower or equal than "+E);return}s(3,i="")}function u(p){qt[p?"unshift":"push"](()=>{a=p,s(2,a)})}function h(){n.value=Xi(this.value),s(0,n)}return t.$$set=p=>{"formElement"in p&&s(0,n=p.formElement),"editable"in p&&s(1,r=p.editable)},[n,r,a,i,o,u,h]}class lv extends Ye{constructor(e){super(),Qe(this,e,ov,iv,Je,{formElement:0,editable:1})}}function di(t,e,s){const n=t.slice();return n[7]=e[s],n}function ui(t){let e,s=t[7]+"",n,r;return{c(){e=P("option"),n=be(s),this.h()},l(a){e=I(a,"OPTION",{});var i=A(e);n=$e(i,s),i.forEach(w),this.h()},h(){e.__value=r=t[7],Ee(e,e.__value)},m(a,i){M(a,e,i),S(e,n)},p(a,i){i&1&&s!==(s=a[7]+"")&&Re(n,s),i&1&&r!==(r=a[7])&&(e.__value=r,Ee(e,e.__value))},d(a){a&&w(e)}}}function cv(t){let e,s,n,r,a,i,o,c="Select...",u,h,p,g,E,v,b,l;n=new Us({props:{formElement:t[0],defaultTitle:"Enum argument"}});let d=vt(t[0].options),f=[];for(let m=0;m<d.length;m+=1)f[m]=ui(di(t,d,m));return{c(){e=P("div"),s=P("div"),Ne(n.$$.fragment),r=z(),a=P("div"),i=P("select"),o=P("option"),o.textContent=c;for(let m=0;m<f.length;m+=1)f[m].c();p=z(),g=P("span"),E=be(t[3]),this.h()},l(m){e=I(m,"DIV",{class:!0});var $=A(e);s=I($,"DIV",{class:!0});var O=A(s);Ce(n.$$.fragment,O),O.forEach(w),r=U($),a=I($,"DIV",{class:!0});var N=A(a);i=I(N,"SELECT",{class:!0,id:!0});var D=A(i);o=I(D,"OPTION",{"data-svelte-h":!0}),ie(o)!=="svelte-xkszye"&&(o.textContent=c);for(let q=0;q<f.length;q+=1)f[q].l(D);D.forEach(w),p=U(N),g=I(N,"SPAN",{class:!0});var F=A(g);E=$e(F,t[3]),F.forEach(w),N.forEach(w),$.forEach(w),this.h()},h(){y(s,"class","property-metadata d-flex flex-row align-self-center w-50"),o.__value="",Ee(o,o.__value),y(i,"class","form-select"),y(i,"id",u="property-"+t[0].id),i.disabled=h=!t[1],t[0].value===void 0&&Wi(()=>t[6].call(i)),ve(i,"is-invalid",t[3]),y(g,"class","invalid-feedback"),y(a,"class","property-input ms-auto w-50 has-validation"),y(e,"class","d-flex align-items-center p-2")},m(m,$){M(m,e,$),S(e,s),Te(n,s,null),S(e,r),S(e,a),S(a,i),S(i,o);for(let O=0;O<f.length;O+=1)f[O]&&f[O].m(i,null);t[5](i),cn(i,t[0].value,!0),S(a,p),S(a,g),S(g,E),v=!0,b||(l=[Y(i,"change",t[6]),Y(i,"change",t[4]),Y(i,"input",t[4])],b=!0)},p(m,[$]){const O={};if($&1&&(O.formElement=m[0]),n.$set(O),$&1){d=vt(m[0].options);let N;for(N=0;N<d.length;N+=1){const D=di(m,d,N);f[N]?f[N].p(D,$):(f[N]=ui(D),f[N].c(),f[N].m(i,null))}for(;N<f.length;N+=1)f[N].d(1);f.length=d.length}(!v||$&1&&u!==(u="property-"+m[0].id))&&y(i,"id",u),(!v||$&2&&h!==(h=!m[1]))&&(i.disabled=h),$&1&&cn(i,m[0].value),(!v||$&8)&&ve(i,"is-invalid",m[3]),(!v||$&8)&&Re(E,m[3])},i(m){v||(te(n.$$.fragment,m),v=!0)},o(m){oe(n.$$.fragment,m),v=!1},d(m){m&&w(e),Ae(n),Vs(f,m),t[5](null),b=!1,ft(l)}}}function dv(t,e,s){let{formElement:n}=e,{editable:r=!0}=e,a,i="";function o(){n.notifyChange(),s(3,i=""),n.required&&a.value===""&&s(3,i="Field is required")}function c(h){qt[h?"unshift":"push"](()=>{a=h,s(2,a)})}function u(){n.value=Zi(this),s(0,n)}return t.$$set=h=>{"formElement"in h&&s(0,n=h.formElement),"editable"in h&&s(1,r=h.editable)},[n,r,a,i,o,c,u]}class uv extends Ye{constructor(e){super(),Qe(this,e,dv,cv,Je,{formElement:0,editable:1})}}function fi(t,e,s){const n=t.slice();return n[6]=e[s],n}function hi(t){let e;function s(a,i){return a[0].length>0?hv:fv}let n=s(t),r=n(t);return{c(){r.c(),e=Be()},l(a){r.l(a),e=Be()},m(a,i){r.m(a,i),M(a,e,i)},p(a,i){n===(n=s(a))&&r?r.p(a,i):(r.d(1),r=n(a),r&&(r.c(),r.m(e.parentNode,e)))},d(a){a&&w(e),r.d(a)}}}function fv(t){let e,s,n,r,a;return{c(){e=P("button"),s=be("Add tuple"),this.h()},l(i){e=I(i,"BUTTON",{class:!0,type:!0});var o=A(e);s=$e(o,"Add tuple"),o.forEach(w),this.h()},h(){y(e,"class","btn btn-primary"),y(e,"type","button"),e.disabled=n=!t[2]},m(i,o){M(i,e,o),S(e,s),r||(a=Y(e,"click",t[4]),r=!0)},p(i,o){o&4&&n!==(n=!i[2])&&(e.disabled=n)},d(i){i&&w(e),r=!1,a()}}}function hv(t){let e,s,n,r,a;return{c(){e=P("button"),s=be("Remove tuple"),this.h()},l(i){e=I(i,"BUTTON",{class:!0,type:!0});var o=A(e);s=$e(o,"Remove tuple"),o.forEach(w),this.h()},h(){y(e,"class","btn btn-primary"),y(e,"type","button"),e.disabled=n=!t[2]},m(i,o){M(i,e,o),S(e,s),r||(a=Y(e,"click",t[5]),r=!0)},p(i,o){o&4&&n!==(n=!i[2])&&(e.disabled=n)},d(i){i&&w(e),r=!1,a()}}}function mi(t){let e,s,n,r,a;return n=new oa({props:{editable:t[2],formElement:t[6]}}),{c(){e=P("div"),s=P("div"),Ne(n.$$.fragment),r=z(),this.h()},l(i){e=I(i,"DIV",{class:!0});var o=A(e);s=I(o,"DIV",{class:!0});var c=A(s);Ce(n.$$.fragment,c),c.forEach(w),r=U(o),o.forEach(w),this.h()},h(){y(s,"class","flex-fill"),y(e,"class","d-flex")},m(i,o){M(i,e,o),S(e,s),Te(n,s,null),S(e,r),a=!0},p(i,o){const c={};o&4&&(c.editable=i[2]),o&1&&(c.formElement=i[6]),n.$set(c)},i(i){a||(te(n.$$.fragment,i),a=!0)},o(i){oe(n.$$.fragment,i),a=!1},d(i){i&&w(e),Ae(n)}}}function mv(t){let e,s,n,r,a=!t[1].required&&hi(t),i=vt(t[0]),o=[];for(let u=0;u<i.length;u+=1)o[u]=mi(fi(t,i,u));const c=u=>oe(o[u],1,1,()=>{o[u]=null});return{c(){e=P("div"),a&&a.c(),s=z(),n=P("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=I(u,"DIV",{class:!0});var h=A(e);a&&a.l(h),h.forEach(w),s=U(u),n=I(u,"DIV",{});var p=A(n);for(let g=0;g<o.length;g+=1)o[g].l(p);p.forEach(w),this.h()},h(){y(e,"class","d-flex justify-content-center p-2")},m(u,h){M(u,e,h),a&&a.m(e,null),M(u,s,h),M(u,n,h);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(n,null);r=!0},p(u,h){if(u[1].required?a&&(a.d(1),a=null):a?a.p(u,h):(a=hi(u),a.c(),a.m(e,null)),h&5){i=vt(u[0]);let p;for(p=0;p<i.length;p+=1){const g=fi(u,i,p);o[p]?(o[p].p(g,h),te(o[p],1)):(o[p]=mi(g),o[p].c(),te(o[p],1),o[p].m(n,null))}for(wt(),p=i.length;p<o.length;p+=1)c(p);St()}},i(u){if(!r){for(let h=0;h<i.length;h+=1)te(o[h]);r=!0}},o(u){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)oe(o[h]);r=!1},d(u){u&&(w(e),w(s),w(n)),a&&a.d(),Vs(o,u)}}}function pv(t){let e,s;return e=new ia({props:{formElement:t[1],reset:t[3],$$slots:{default:[mv]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,[r]){const a={};r&2&&(a.formElement=n[1]),r&8&&(a.reset=n[3]),r&519&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function vv(t,e,s){let{formElement:n}=e,{editable:r=!0}=e,{children:a=[]}=e,{reset:i=null}=e;_s(()=>{s(0,a=n.children)});function o(){n.addTuple(),s(0,a=n.children)}function c(){n.removeTuple(),s(0,a=n.children)}return t.$$set=u=>{"formElement"in u&&s(1,n=u.formElement),"editable"in u&&s(2,r=u.editable),"children"in u&&s(0,a=u.children),"reset"in u&&s(3,i=u.reset)},[a,n,r,i,o,c]}class gv extends Ye{constructor(e){super(),Qe(this,e,vv,pv,Je,{formElement:1,editable:2,children:0,reset:3})}}function _v(t){let e,s,n=t[0].type+"",r;return{c(){e=P("p"),s=be("Unsupported property type "),r=be(n)},l(a){e=I(a,"P",{});var i=A(e);s=$e(i,"Unsupported property type "),r=$e(i,n),i.forEach(w)},m(a,i){M(a,e,i),S(e,s),S(e,r)},p(a,i){i&1&&n!==(n=a[0].type+"")&&Re(r,n)},i:$t,o:$t,d(a){a&&w(e)}}}function yv(t){let e,s;return e=new gv({props:{formElement:t[0],editable:t[1],reset:t[2]}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,r){const a={};r&1&&(a.formElement=n[0]),r&2&&(a.editable=n[1]),r&4&&(a.reset=n[2]),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function bv(t){let e,s;return e=new xp({props:{formElement:t[0],editable:t[1],reset:t[2]}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,r){const a={};r&1&&(a.formElement=n[0]),r&2&&(a.editable=n[1]),r&4&&(a.reset=n[2]),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function $v(t){let e,s;return e=new ia({props:{formElement:t[0],reset:t[2],$$slots:{default:[Ov]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,r){const a={};r&1&&(a.formElement=n[0]),r&4&&(a.reset=n[2]),r&11&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function Ev(t){let e,s;return e=new uv({props:{formElement:t[0],editable:t[1]}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,r){const a={};r&1&&(a.formElement=n[0]),r&2&&(a.editable=n[1]),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function wv(t){let e,s;return e=new av({props:{formElement:t[0],editable:t[1]}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,r){const a={};r&1&&(a.formElement=n[0]),r&2&&(a.editable=n[1]),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function Sv(t){let e,s;return e=new lv({props:{formElement:t[0],editable:t[1]}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,r){const a={};r&1&&(a.formElement=n[0]),r&2&&(a.editable=n[1]),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function kv(t){let e,s;return e=new sv({props:{formElement:t[0],editable:t[1]}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,r){const a={};r&1&&(a.formElement=n[0]),r&2&&(a.editable=n[1]),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function Ov(t){let e,s;return e=new al({props:{formElement:t[0],editable:t[1]}}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},p(n,r){const a={};r&1&&(a.formElement=n[0]),r&2&&(a.editable=n[1]),e.$set(a)},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function Pv(t){let e,s,n,r;const a=[kv,Sv,wv,Ev,$v,bv,yv,_v],i=[];function o(c,u){return c[0].type==="string"?0:c[0].type==="number"?1:c[0].type==="boolean"?2:c[0].type==="enum"?3:c[0].type==="object"?4:c[0].type==="array"?5:c[0].type==="tuple"?6:7}return e=o(t),s=i[e]=a[e](t),{c(){s.c(),n=Be()},l(c){s.l(c),n=Be()},m(c,u){i[e].m(c,u),M(c,n,u),r=!0},p(c,[u]){let h=e;e=o(c),e===h?i[e].p(c,u):(wt(),oe(i[h],1,1,()=>{i[h]=null}),St(),s=i[e],s?s.p(c,u):(s=i[e]=a[e](c),s.c()),te(s,1),s.m(n.parentNode,n))},i(c){r||(te(s),r=!0)},o(c){oe(s),r=!1},d(c){c&&w(n),i[e].d(c)}}}function Iv(t,e,s){let{formElement:n}=e,{editable:r=!0}=e,{reset:a=null}=e;return t.$$set=i=>{"formElement"in i&&s(0,n=i.formElement),"editable"in i&&s(1,r=i.editable),"reset"in i&&s(2,a=i.reset)},[n,r,a]}class oa extends Ye{constructor(e){super(),Qe(this,e,Iv,Pv,Je,{formElement:0,editable:1,reset:2})}}function pi(t,e,s){const n=t.slice();return n[12]=e[s],n[14]=s,n}function vi(t){let e,s,n,r,a,i,o,c,u,h,p,g,E,v=t[5]&&gi(t);return{c(){e=P("div"),s=P("form"),n=P("div"),r=P("div"),a=P("input"),o=z(),c=P("button"),u=be("Add property"),p=z(),v&&v.c(),this.h()},l(b){e=I(b,"DIV",{class:!0});var l=A(e);s=I(l,"FORM",{class:!0});var d=A(s);n=I(d,"DIV",{class:!0});var f=A(n);r=I(f,"DIV",{class:!0});var m=A(r);a=I(m,"INPUT",{type:!0,placeholder:!0,class:!0}),o=U(m),c=I(m,"BUTTON",{class:!0,type:!0});var $=A(c);u=$e($,"Add property"),$.forEach(w),p=U(m),v&&v.l(m),m.forEach(w),f.forEach(w),d.forEach(w),l.forEach(w),this.h()},h(){y(a,"type","text"),y(a,"placeholder","Key"),y(a,"class","form-control"),a.disabled=i=!t[2],ve(a,"is-invalid",t[5]),y(c,"class","btn btn-primary"),y(c,"type","button"),c.disabled=h=!t[2],y(r,"class","input-group"),ve(r,"has-validation",t[5]),y(n,"class","col-lg-6 offset-lg-3 mb-1"),y(s,"class","row row-cols-auto g-3 align-items-center p-2 flex-grow-1"),y(e,"class","d-flex justify-content-center")},m(b,l){M(b,e,l),S(e,s),S(s,n),S(n,r),S(r,a),Ee(a,t[4]),S(r,o),S(r,c),S(c,u),S(r,p),v&&v.m(r,null),g||(E=[Y(a,"input",t[9]),Y(c,"click",t[6])],g=!0)},p(b,l){l&4&&i!==(i=!b[2])&&(a.disabled=i),l&16&&a.value!==b[4]&&Ee(a,b[4]),l&32&&ve(a,"is-invalid",b[5]),l&4&&h!==(h=!b[2])&&(c.disabled=h),b[5]?v?v.p(b,l):(v=gi(b),v.c(),v.m(r,null)):v&&(v.d(1),v=null),l&32&&ve(r,"has-validation",b[5])},d(b){b&&w(e),v&&v.d(),g=!1,ft(E)}}}function gi(t){let e,s;return{c(){e=P("div"),s=be(t[5]),this.h()},l(n){e=I(n,"DIV",{class:!0});var r=A(e);s=$e(r,t[5]),r.forEach(w),this.h()},h(){y(e,"class","invalid-feedback")},m(n,r){M(n,e,r),S(e,s)},p(n,r){r&32&&Re(s,n[5])},d(n){n&&w(e)}}}function _i(t){let e,s,n,r,a;function i(){return t[10](t[12])}return{c(){e=P("button"),s=be("Remove Property Block"),this.h()},l(o){e=I(o,"BUTTON",{class:!0,type:!0});var c=A(e);s=$e(c,"Remove Property Block"),c.forEach(w),this.h()},h(){y(e,"class","btn btn-danger w-100"),y(e,"type","button"),e.disabled=n=!t[2]},m(o,c){M(o,e,c),S(e,s),r||(a=Y(e,"click",i),r=!0)},p(o,c){t=o,c&4&&n!==(n=!t[2])&&(e.disabled=n)},d(o){o&&w(e),r=!1,a()}}}function yi(t){let e,s,n,r,a,i,o,c=t[12].removable&&_i(t);function u(){return t[11](t[14])}return r=new oa({props:{formElement:t[12],editable:t[2],reset:t[1]?u:null}}),{c(){e=P("div"),c&&c.c(),s=z(),n=P("div"),Ne(r.$$.fragment),i=z(),this.h()},l(h){e=I(h,"DIV",{class:!0});var p=A(e);c&&c.l(p),s=U(p),n=I(p,"DIV",{class:!0,id:!0});var g=A(n);Ce(r.$$.fragment,g),g.forEach(w),i=U(p),p.forEach(w),this.h()},h(){y(n,"class","d-flex flex-column properties-block"),y(n,"id",a=t[12].id+"-wrapper"),y(e,"class","property-block svelte-en10qk")},m(h,p){M(h,e,p),c&&c.m(e,null),S(e,s),S(e,n),Te(r,n,null),S(e,i),o=!0},p(h,p){t=h,t[12].removable?c?c.p(t,p):(c=_i(t),c.c(),c.m(e,s)):c&&(c.d(1),c=null);const g={};p&8&&(g.formElement=t[12]),p&4&&(g.editable=t[2]),p&2&&(g.reset=t[1]?u:null),r.$set(g),(!o||p&8&&a!==(a=t[12].id+"-wrapper"))&&y(n,"id",a)},i(h){o||(te(r.$$.fragment,h),o=!0)},o(h){oe(r.$$.fragment,h),o=!1},d(h){h&&w(e),c&&c.d(),Ae(r)}}}function bi(t){let e,s,n=vt(t[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=yi(pi(t,n,i));const a=i=>oe(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Be()},l(i){for(let o=0;o<r.length;o+=1)r[o].l(i);e=Be()},m(i,o){for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(i,o);M(i,e,o),s=!0},p(i,o){if(o&398){n=vt(i[3]);let c;for(c=0;c<n.length;c+=1){const u=pi(i,n,c);r[c]?(r[c].p(u,o),te(r[c],1)):(r[c]=yi(u),r[c].c(),te(r[c],1),r[c].m(e.parentNode,e))}for(wt(),c=n.length;c<r.length;c+=1)a(c);St()}},i(i){if(!s){for(let o=0;o<n.length;o+=1)te(r[o]);s=!0}},o(i){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)oe(r[o]);s=!1},d(i){i&&w(e),Vs(r,i)}}}function Nv(t){let e,s=t[3],n,r,a=t[0].additionalProperties&&vi(t),i=bi(t);return{c(){a&&a.c(),e=z(),i.c(),n=Be()},l(o){a&&a.l(o),e=U(o),i.l(o),n=Be()},m(o,c){a&&a.m(o,c),M(o,e,c),i.m(o,c),M(o,n,c),r=!0},p(o,[c]){o[0].additionalProperties?a?a.p(o,c):(a=vi(o),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),c&8&&Je(s,s=o[3])?(wt(),oe(i,1,1,$t),St(),i=bi(o),i.c(),te(i,1),i.m(n.parentNode,n)):i.p(o,c)},i(o){r||(te(i),r=!0)},o(o){oe(i),r=!1},d(o){o&&(w(e),w(n)),a&&a.d(o),i.d(o)}}}function Cv(t,e,s){let{formElement:n}=e,{isRoot:r=!1}=e,{editable:a=!0}=e,i=[];_s(()=>{s(3,i=n.children)});let o="",c="";function u(){try{s(5,c=""),n.addChild(o.trim()),s(3,i=n.children),s(4,o="")}catch(b){s(5,c=b.message)}}function h(b){n.removeChild(b),s(3,i=n.children)}function p(b){n.resetChild(b),s(3,i=n.children)}function g(){o=this.value,s(4,o)}const E=b=>h(b.key),v=b=>p(b);return t.$$set=b=>{"formElement"in b&&s(0,n=b.formElement),"isRoot"in b&&s(1,r=b.isRoot),"editable"in b&&s(2,a=b.editable)},[n,r,a,i,o,c,u,h,p,g,E,v]}class al extends Ye{constructor(e){super(),Qe(this,e,Cv,Nv,Je,{formElement:0,isRoot:1,editable:2})}}function $i(t){let e=t[2],s,n,r=Ei(t);return{c(){r.c(),s=Be()},l(a){r.l(a),s=Be()},m(a,i){r.m(a,i),M(a,s,i),n=!0},p(a,i){i&4&&Je(e,e=a[2])?(wt(),oe(r,1,1,$t),St(),r=Ei(a),r.c(),te(r,1),r.m(s.parentNode,s)):r.p(a,i)},i(a){n||(te(r),n=!0)},o(a){oe(r),n=!1},d(a){a&&w(s),r.d(a)}}}function Ei(t){let e,s,n;return s=new al({props:{formElement:t[2].root,isRoot:!0,editable:t[1]}}),{c(){e=P("div"),Ne(s.$$.fragment),this.h()},l(r){e=I(r,"DIV",{id:!0});var a=A(e);Ce(s.$$.fragment,a),a.forEach(w),this.h()},h(){y(e,"id",t[0])},m(r,a){M(r,e,a),Te(s,e,null),n=!0},p(r,a){const i={};a&4&&(i.formElement=r[2].root),a&2&&(i.editable=r[1]),s.$set(i),(!n||a&1)&&y(e,"id",r[0])},i(r){n||(te(s.$$.fragment,r),n=!0)},o(r){oe(s.$$.fragment,r),n=!1},d(r){r&&w(e),Ae(s)}}}function Tv(t){let e,s,n=t[2]&&$i(t);return{c(){n&&n.c(),e=Be()},l(r){n&&n.l(r),e=Be()},m(r,a){n&&n.m(r,a),M(r,e,a),s=!0},p(r,[a]){r[2]?n?(n.p(r,a),a&4&&te(n,1)):(n=$i(r),n.c(),te(n,1),n.m(e.parentNode,e)):n&&(wt(),oe(n,1,1,()=>{n=null}),St())},i(r){s||(te(n),s=!0)},o(r){oe(n),s=!1},d(r){r&&w(e),n&&n.d(r)}}}function Av(t,e,s){const n=Yi();let{schema:r}=e,{schemaData:a}=e,{schemaVersion:i}=e,{propertiesToIgnore:o=[]}=e,{componentId:c}=e,{editable:u=!0}=e,h;_s(()=>{E()});function p(){return h==null?void 0:h.getFormData()}function g(){for(const v of document.querySelectorAll(`#${c} input, #${c} select`))v.dispatchEvent(new Event("input"));h==null||h.validate()}function E(){if(r)try{s(2,h=new Lp(r,n,i,o,a))}catch(v){console.error(v),s(2,h=void 0)}else s(2,h=void 0)}return t.$$set=v=>{"schema"in v&&s(3,r=v.schema),"schemaData"in v&&s(4,a=v.schemaData),"schemaVersion"in v&&s(5,i=v.schemaVersion),"propertiesToIgnore"in v&&s(6,o=v.propertiesToIgnore),"componentId"in v&&s(0,c=v.componentId),"editable"in v&&s(1,u=v.editable)},t.$$.update=()=>{t.$$.dirty&88&&(r||a||o)&&E()},[c,u,h,r,a,i,o,p,g]}class la extends Ye{constructor(e){super(),Qe(this,e,Av,Tv,Je,{schema:3,schemaData:4,schemaVersion:5,propertiesToIgnore:6,componentId:0,editable:1,getArguments:7,validateArguments:8})}get getArguments(){return this.$$.ctx[7]}get validateArguments(){return this.$$.ctx[8]}}var Gn={};const Dv=typeof process=="object"&&Gn&&Gn.NODE_DEBUG&&/\bsemver\b/i.test(Gn.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Rv=Dv;const jv="2.0.0",il=256,Lv=Number.MAX_SAFE_INTEGER||9007199254740991,Vv=16,Mv=il-6,Fv=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var zv={MAX_LENGTH:il,MAX_SAFE_COMPONENT_LENGTH:Vv,MAX_SAFE_BUILD_LENGTH:Mv,MAX_SAFE_INTEGER:Lv,RELEASE_TYPES:Fv,SEMVER_SPEC_VERSION:jv,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},wi={exports:{}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:r}=zv,a=Rv;e=t.exports={};const i=e.re=[],o=e.safeRe=[],c=e.src=[],u=e.t={};let h=0;const p="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",r],[p,n]],E=b=>{for(const[l,d]of g)b=b.split(`${l}*`).join(`${l}{0,${d}}`).split(`${l}+`).join(`${l}{1,${d}}`);return b},v=(b,l,d)=>{const f=E(l),m=h++;a(b,m,l),u[b]=m,c[m]=l,i[m]=new RegExp(l,d?"g":void 0),o[m]=new RegExp(f,d?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),v("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER",`${p}+`),v("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),v("FULL",`^${c[u.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),v("LOOSE",`^${c[u.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),v("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),v("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),v("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),v("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),v("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),v("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),v("COERCERTL",c[u.COERCE],!0),v("COERCERTLFULL",c[u.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",v("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",v("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(wi,wi.exports);var Uv={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(Il,function(){class s{constructor(l){l||(l={}),this.main=l.main||"ss-main",this.placeholder=l.placeholder||"ss-placeholder",this.values=l.values||"ss-values",this.single=l.single||"ss-single",this.max=l.max||"ss-max",this.value=l.value||"ss-value",this.valueText=l.valueText||"ss-value-text",this.valueDelete=l.valueDelete||"ss-value-delete",this.valueOut=l.valueOut||"ss-value-out",this.deselect=l.deselect||"ss-deselect",this.deselectPath=l.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=l.arrow||"ss-arrow",this.arrowClose=l.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=l.arrowOpen||"M10,70 L50,30 L90,70",this.content=l.content||"ss-content",this.openAbove=l.openAbove||"ss-open-above",this.openBelow=l.openBelow||"ss-open-below",this.search=l.search||"ss-search",this.searchHighlighter=l.searchHighlighter||"ss-search-highlight",this.searching=l.searching||"ss-searching",this.addable=l.addable||"ss-addable",this.addablePath=l.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=l.list||"ss-list",this.optgroup=l.optgroup||"ss-optgroup",this.optgroupLabel=l.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=l.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=l.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=l.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=l.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=l.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=l.optgroupClosable||"ss-closable",this.option=l.option||"ss-option",this.optionDelete=l.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=l.highlighted||"ss-highlighted",this.open=l.open||"ss-open",this.close=l.close||"ss-close",this.selected=l.selected||"ss-selected",this.error=l.error||"ss-error",this.disabled=l.disabled||"ss-disabled",this.hide=l.hide||"ss-hide"}}function n(){return Math.random().toString(36).substring(2,10)}function r(b,l){function d(m,$){return $&&m&&m.classList&&m.classList.contains($)||$&&m&&m.dataset&&m.dataset.id&&m.dataset.id===l?m:null}function f(m,$){return!m||m===document?null:d(m,$)?m:f(m.parentNode,$)}return d(b,l)||f(b,l)}function a(b,l=50,d=!1){let f;return function(...m){const $=self,O=()=>{f=null,d||b.apply($,m)},N=d&&!f;clearTimeout(f),f=setTimeout(O,l),N&&b.apply($,m)}}function i(b,l){return JSON.stringify(b)===JSON.stringify(l)}function o(b){const l=b.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,d=>"-"+d.toLowerCase());return b[0]===b[0].toUpperCase()?l.substring(1):l}class c{constructor(l){if(this.id=!l.id||l.id===""?n():l.id,this.label=l.label||"",this.selectAll=l.selectAll===void 0?!1:l.selectAll,this.selectAllText=l.selectAllText||"Select All",this.closable=l.closable||"off",this.options=[],l.options)for(const d of l.options)this.options.push(new u(d))}}class u{constructor(l){this.id=!l.id||l.id===""?n():l.id,this.value=l.value===void 0?l.text:l.value,this.text=l.text||"",this.html=l.html||"",this.selected=l.selected!==void 0?l.selected:!1,this.display=l.display!==void 0?l.display:!0,this.disabled=l.disabled!==void 0?l.disabled:!1,this.mandatory=l.mandatory!==void 0?l.mandatory:!1,this.placeholder=l.placeholder!==void 0?l.placeholder:!1,this.class=l.class||"",this.style=l.style||"",this.data=l.data||{}}}class h{constructor(l,d){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=l,this.setData(d)}validateDataArray(l){if(!Array.isArray(l))return new Error("Data must be an array");for(let d of l)if(d instanceof c||"label"in d){if(!("label"in d))return new Error("Optgroup must have a label");if("options"in d&&d.options)for(let f of d.options){const m=this.validateOption(f);if(m)return m}}else if(d instanceof u||"text"in d){const f=this.validateOption(d);if(f)return f}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(l){return"text"in l?null:new Error("Option must have a text")}partialToFullData(l){let d=[];return l.forEach(f=>{if(f instanceof c||"label"in f){let m=[];"options"in f&&f.options&&f.options.forEach($=>{m.push(new u($))}),m.length>0&&d.push(new c(f))}(f instanceof u||"text"in f)&&d.push(new u(f))}),d}setData(l){this.data=this.partialToFullData(l),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(l,d=!1){if(d){let f=[new u(l)];this.setData(f.concat(this.getData()))}else this.setData(this.getData().concat(new u(l)))}setSelectedBy(l,d){let f=null,m=!1;const $=[];for(let N of this.data){if(N instanceof c)for(let D of N.options)f||(f=D),D.selected=m?!1:d.includes(D[l]),D.selected&&($.push(D),this.selectType==="single"&&(m=!0));N instanceof u&&(f||(f=N),N.selected=m?!1:d.includes(N[l]),N.selected&&($.push(N),this.selectType==="single"&&(m=!0)))}this.selectType==="single"&&f&&!m&&(f.selected=!0,$.push(f));const O=d.map(N=>{var D;return((D=$.find(F=>F[l]===N))===null||D===void 0?void 0:D.id)||""});this.selectedOrder=O}getSelected(){return this.getSelectedOptions().map(l=>l.id)}getSelectedValues(){return this.getSelectedOptions().map(l=>l.value)}getSelectedOptions(){return this.filter(l=>l.selected,!1)}getOptgroupByID(l){for(let d of this.data)if(d instanceof c&&d.id===l)return d;return null}getOptionByID(l){let d=this.filter(f=>f.id===l,!1);return d.length?d[0]:null}getSelectType(){return this.selectType}getFirstOption(){let l=null;for(let d of this.data)if(d instanceof c?l=d.options[0]:d instanceof u&&(l=d),l)break;return l}search(l,d){return l=l.trim(),l===""?this.getData():this.filter(f=>d(f,l),!0)}filter(l,d){const f=[];return this.data.forEach(m=>{if(m instanceof c){let $=[];if(m.options.forEach(O=>{(!l||l(O))&&(d?$.push(new u(O)):f.push(new u(O)))}),$.length>0){let O=new c(m);O.options=$,f.push(O)}}m instanceof u&&(!l||l(m))&&f.push(new u(m))}),f}selectedOrderOptions(l){const d=[];return this.selectedOrder.forEach(f=>{const m=l.find($=>$.id===f);m&&d.push(m)}),l.forEach(f=>{let m=!1;d.forEach($=>{if(f.id===$.id){m=!0;return}}),m||d.push(f)}),d}}class p{constructor(l,d,f,m){this.store=f,this.settings=l,this.classes=d,this.callbacks=m,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const l=this.store.getSelectedOptions();if(l.length){const d=l[l.length-1].id,f=this.content.list.querySelector('[data-id="'+d+'"]');f&&this.ensureElementInView(this.content.list,f)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const l of this.settings.class)l.trim()!==""&&(this.main.main.classList.add(l.trim()),this.content.main.classList.add(l.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var l;const d=document.createElement("div");d.dataset.id=this.settings.id,d.setAttribute("aria-label",this.settings.ariaLabel),d.tabIndex=0,d.onkeydown=q=>{switch(q.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),q.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const W=this.content.list.querySelector("."+this.classes.highlighted);return W&&W.click(),!1;case"Escape":return this.callbacks.close(),!1}return q.key.length===1&&this.callbacks.open(),!0},d.onclick=q=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const f=document.createElement("div");f.classList.add(this.classes.values),d.appendChild(f);const m=document.createElement("div");m.classList.add(this.classes.deselect);const $=(l=this.store)===null||l===void 0?void 0:l.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&$&&$.length<=0?m.classList.add(this.classes.hide):m.classList.remove(this.classes.hide),m.onclick=q=>{if(q.stopPropagation(),this.settings.disabled)return;let W=!0;const V=this.store.getSelectedOptions(),L=[];if(this.callbacks.beforeChange&&(W=this.callbacks.beforeChange(L,V)===!0),W){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const G=this.store.getFirstOption(),H=G?G.id:"";this.callbacks.setSelected(H,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.setAttribute("viewBox","0 0 100 100");const N=document.createElementNS("http://www.w3.org/2000/svg","path");N.setAttribute("d",this.classes.deselectPath),O.appendChild(N),m.appendChild(O),d.appendChild(m);const D=document.createElementNS("http://www.w3.org/2000/svg","svg");D.classList.add(this.classes.arrow),D.setAttribute("viewBox","0 0 100 100");const F=document.createElementNS("http://www.w3.org/2000/svg","path");return F.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&D.classList.add(this.classes.hide),D.appendChild(F),d.appendChild(D),{main:d,values:f,deselect:{main:m,svg:O,path:N},arrow:{main:D,path:F}}}mainFocus(l){l!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const l=this.store.filter(m=>m.placeholder,!1);let d=this.settings.placeholderText;l.length&&(l[0].html!==""?d=l[0].html:l[0].text!==""&&(d=l[0].text));const f=document.createElement("div");return f.classList.add(this.classes.placeholder),f.innerHTML=d,f}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const l=this.store.filter(f=>f.selected&&!f.placeholder,!1),d=l.length>0?l[0]:null;if(!d)this.main.values.innerHTML=this.placeholder().outerHTML;else{const f=document.createElement("div");f.classList.add(this.classes.single),d.html?f.innerHTML=d.html:f.innerText=d.text,this.main.values.innerHTML=f.outerHTML}!this.settings.allowDeselect||!l.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let l=this.main.values.childNodes,d=this.store.filter(m=>m.selected&&m.display,!1);if(d.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const m=this.main.values.querySelector("."+this.classes.placeholder);m&&m.remove()}if(d.length>this.settings.maxValuesShown){const m=document.createElement("div");m.classList.add(this.classes.max),m.textContent=this.settings.maxValuesMessage.replace("{number}",d.length.toString()),this.main.values.innerHTML=m.outerHTML;return}else{const m=this.main.values.querySelector("."+this.classes.max);m&&m.remove()}this.settings.keepOrder&&(d=this.store.selectedOrderOptions(d));let f=[];for(let m=0;m<l.length;m++){const $=l[m],O=$.getAttribute("data-id");O&&(d.filter(D=>D.id===O,!1).length||f.push($))}for(const m of f)m.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(m)&&this.main.values.removeChild(m)},100);l=this.main.values.childNodes;for(let m=0;m<d.length;m++){let $=!0;for(let O=0;O<l.length;O++)d[m].id===String(l[O].dataset.id)&&($=!1);$&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(d[m])):l.length===0?this.main.values.appendChild(this.multipleValue(d[m])):m===0?this.main.values.insertBefore(this.multipleValue(d[m]),l[m]):l[m-1].insertAdjacentElement("afterend",this.multipleValue(d[m])))}}multipleValue(l){const d=document.createElement("div");d.classList.add(this.classes.value),d.dataset.id=l.id;const f=document.createElement("div");if(f.classList.add(this.classes.valueText),f.textContent=l.text,d.appendChild(f),!l.mandatory){const m=document.createElement("div");m.classList.add(this.classes.valueDelete),m.onclick=N=>{if(N.preventDefault(),N.stopPropagation(),this.settings.disabled)return;let D=!0;const F=this.store.getSelectedOptions(),q=F.filter(W=>W.selected&&W.id!==l.id,!0);if(!(this.settings.minSelected&&q.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(D=this.callbacks.beforeChange(q,F)===!0),D)){let W=[];for(const V of q){if(V instanceof c)for(const L of V.options)W.push(L.id);V instanceof u&&W.push(V.id)}this.callbacks.setSelected(W,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(q),this.updateDeselectAll()}};const $=document.createElementNS("http://www.w3.org/2000/svg","svg");$.setAttribute("viewBox","0 0 100 100");const O=document.createElementNS("http://www.w3.org/2000/svg","path");O.setAttribute("d",this.classes.optionDelete),$.appendChild(O),m.appendChild($),d.appendChild(m)}return d}contentDiv(){const l=document.createElement("div");l.dataset.id=this.settings.id;const d=this.searchDiv();l.appendChild(d.main);const f=this.listDiv();return l.appendChild(f),{main:l,search:d,list:f}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const l=document.createElement("div"),d=document.createElement("input"),f=document.createElement("div");l.classList.add(this.classes.search);const m={main:l,input:d};if(this.settings.showSearch||(l.classList.add(this.classes.hide),d.readOnly=!0),d.type="search",d.placeholder=this.settings.searchPlaceholder,d.tabIndex=-1,d.setAttribute("aria-label",this.settings.searchPlaceholder),d.setAttribute("autocapitalize","off"),d.setAttribute("autocomplete","off"),d.setAttribute("autocorrect","off"),d.oninput=a($=>{this.callbacks.search($.target.value)},100),d.onkeydown=$=>{switch($.key){case"ArrowUp":case"ArrowDown":return $.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const O=this.content.list.querySelector("."+this.classes.highlighted);return O?(O.click(),!1):!0;case"Enter":if(this.callbacks.addable)return f.click(),!1;{const N=this.content.list.querySelector("."+this.classes.highlighted);if(N)return N.click(),!1}return!0}return!0},l.appendChild(d),this.callbacks.addable){f.classList.add(this.classes.addable);const $=document.createElementNS("http://www.w3.org/2000/svg","svg");$.setAttribute("viewBox","0 0 100 100");const O=document.createElementNS("http://www.w3.org/2000/svg","path");O.setAttribute("d",this.classes.addablePath),$.appendChild(O),f.appendChild($),f.onclick=N=>{if(N.preventDefault(),N.stopPropagation(),!this.callbacks.addable)return;const D=this.content.search.input.value.trim();if(D===""){this.content.search.input.focus();return}const F=W=>{let V=new u(W);if(this.callbacks.addOption(V),this.settings.isMultiple){let L=this.store.getSelected();L.push(V.id),this.callbacks.setSelected(L,!0)}else this.callbacks.setSelected([V.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},q=this.callbacks.addable(D);q===!1||q===void 0||q===null||(q instanceof Promise?q.then(W=>{typeof W=="string"?F({text:W,value:W}):q instanceof Error?this.renderError(q.message):F(W)}):typeof q=="string"?F({text:q,value:q}):q instanceof Error?this.renderError(q.message):F(q))},l.appendChild(f),m.addable={main:f,svg:$,path:O}}return m}searchFocus(){this.content.search.input.focus()}getOptions(l=!1,d=!1,f=!1){let m="."+this.classes.option;return l&&(m+=":not(."+this.classes.placeholder+")"),d&&(m+=":not(."+this.classes.disabled+")"),f&&(m+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(m))}highlight(l){const d=this.getOptions(!0,!0,!0);if(d.length===0)return;if(d.length===1&&!d[0].classList.contains(this.classes.highlighted)){d[0].classList.add(this.classes.highlighted);return}let f=!1;for(const m of d)m.classList.contains(this.classes.highlighted)&&(f=!0);if(!f){for(const m of d)if(m.classList.contains(this.classes.selected)){m.classList.add(this.classes.highlighted);break}}for(let m=0;m<d.length;m++)if(d[m].classList.contains(this.classes.highlighted)){const $=d[m];$.classList.remove(this.classes.highlighted);const O=$.parentElement;if(O&&O.classList.contains(this.classes.open)){const F=O.querySelector("."+this.classes.optgroupLabel);F&&F.click()}let N=d[l==="down"?m+1<d.length?m+1:0:m-1>=0?m-1:d.length-1];N.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,N);const D=N.parentElement;if(D&&D.classList.contains(this.classes.close)){const F=D.querySelector("."+this.classes.optgroupLabel);F&&F.click()}return}d[l==="down"?0:d.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,d[l==="down"?0:d.length-1])}listDiv(){const l=document.createElement("div");return l.classList.add(this.classes.list),l}renderError(l){this.content.list.innerHTML="";const d=document.createElement("div");d.classList.add(this.classes.error),d.textContent=l,this.content.list.appendChild(d)}renderSearching(){this.content.list.innerHTML="";const l=document.createElement("div");l.classList.add(this.classes.searching),l.textContent=this.settings.searchingText,this.content.list.appendChild(l)}renderOptions(l){if(this.content.list.innerHTML="",l.length===0){const d=document.createElement("div");d.classList.add(this.classes.search),this.callbacks.addable?d.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):d.innerHTML=this.settings.searchText,this.content.list.appendChild(d);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(f=>f.placeholder,!1).length||this.store.addOption(new u({text:"",value:"",selected:!1,placeholder:!0}),!0));for(const d of l){if(d instanceof c){const f=document.createElement("div");f.classList.add(this.classes.optgroup);const m=document.createElement("div");m.classList.add(this.classes.optgroupLabel),f.appendChild(m);const $=document.createElement("div");$.classList.add(this.classes.optgroupLabelText),$.textContent=d.label,m.appendChild($);const O=document.createElement("div");if(O.classList.add(this.classes.optgroupActions),m.appendChild(O),this.settings.isMultiple&&d.selectAll){const N=document.createElement("div");N.classList.add(this.classes.optgroupSelectAll);let D=!0;for(const L of d.options)if(!L.selected){D=!1;break}D&&N.classList.add(this.classes.selected);const F=document.createElement("span");F.textContent=d.selectAllText,N.appendChild(F);const q=document.createElementNS("http://www.w3.org/2000/svg","svg");q.setAttribute("viewBox","0 0 100 100"),N.appendChild(q);const W=document.createElementNS("http://www.w3.org/2000/svg","path");W.setAttribute("d",this.classes.optgroupSelectAllBox),q.appendChild(W);const V=document.createElementNS("http://www.w3.org/2000/svg","path");V.setAttribute("d",this.classes.optgroupSelectAllCheck),q.appendChild(V),N.addEventListener("click",L=>{L.preventDefault(),L.stopPropagation();const G=this.store.getSelected();if(D){const H=G.filter(Z=>{for(const se of d.options)if(Z===se.id)return!1;return!0});this.callbacks.setSelected(H,!0);return}else{const H=G.concat(d.options.map(Z=>Z.id));for(const Z of d.options)this.store.getOptionByID(Z.id)||this.callbacks.addOption(Z);this.callbacks.setSelected(H,!0);return}}),O.appendChild(N)}if(d.closable!=="off"){const N=document.createElement("div");N.classList.add(this.classes.optgroupClosable);const D=document.createElementNS("http://www.w3.org/2000/svg","svg");D.setAttribute("viewBox","0 0 100 100"),D.classList.add(this.classes.arrow),N.appendChild(D);const F=document.createElementNS("http://www.w3.org/2000/svg","path");D.appendChild(F),d.options.some(q=>q.selected)||this.content.search.input.value.trim()!==""?(N.classList.add(this.classes.open),F.setAttribute("d",this.classes.arrowOpen)):d.closable==="open"?(f.classList.add(this.classes.open),F.setAttribute("d",this.classes.arrowOpen)):d.closable==="close"&&(f.classList.add(this.classes.close),F.setAttribute("d",this.classes.arrowClose)),m.addEventListener("click",q=>{q.preventDefault(),q.stopPropagation(),f.classList.contains(this.classes.close)?(f.classList.remove(this.classes.close),f.classList.add(this.classes.open),F.setAttribute("d",this.classes.arrowOpen)):(f.classList.remove(this.classes.open),f.classList.add(this.classes.close),F.setAttribute("d",this.classes.arrowClose))}),O.appendChild(N)}f.appendChild(m);for(const N of d.options)f.appendChild(this.option(N));this.content.list.appendChild(f)}d instanceof u&&this.content.list.appendChild(this.option(d))}}option(l){if(l.placeholder){const f=document.createElement("div");return f.classList.add(this.classes.option),f.classList.add(this.classes.hide),f}const d=document.createElement("div");return d.dataset.id=l.id,d.classList.add(this.classes.option),d.setAttribute("role","option"),l.class&&l.class.split(" ").forEach(f=>{d.classList.add(f)}),l.style&&(d.style.cssText=l.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?d.innerHTML=this.highlightText(l.html!==""?l.html:l.text,this.content.search.input.value,this.classes.searchHighlighter):l.html!==""?d.innerHTML=l.html:d.textContent=l.text,this.settings.showOptionTooltips&&d.textContent&&d.setAttribute("title",d.textContent),l.display||d.classList.add(this.classes.hide),l.disabled&&d.classList.add(this.classes.disabled),l.selected&&this.settings.hideSelected&&d.classList.add(this.classes.hide),l.selected?(d.classList.add(this.classes.selected),d.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",d.id)):(d.classList.remove(this.classes.selected),d.setAttribute("aria-selected","false")),d.addEventListener("click",f=>{f.preventDefault(),f.stopPropagation();const m=this.store.getSelected(),$=f.currentTarget,O=String($.dataset.id);if(l.disabled||l.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=m.length&&!l.selected||this.settings.isMultiple&&this.settings.minSelected>=m.length&&l.selected)return;let N=!1;const D=this.store.getSelectedOptions();let F=[];this.settings.isMultiple&&(l.selected?F=D.filter(q=>q.id!==O):F=D.concat(l)),this.settings.isMultiple||(l.selected?F=[]:F=[l]),this.callbacks.beforeChange||(N=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(F,D)===!1?N=!1:N=!0),N&&(this.store.getOptionByID(O)||this.callbacks.addOption(l),this.callbacks.setSelected(F.map(q=>q.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(F))}),d}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(l,d,f){let m=l;const $=new RegExp("(?![^<]*>)("+d.trim()+")(?![^<]*>[^<>]*</)","i");if(!l.match($))return l;const O=l.match($).index,N=O+l.match($)[0].toString().length,D=l.substring(O,N);return m=m.replace($,`<mark class="${f}">${D}</mark>`),m}moveContentAbove(){const l=this.main.main.offsetHeight,d=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const f=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(l+d-1)+"px 0px 0px 0px",this.content.main.style.top=f.top+f.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=f.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=f.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const l=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=l.top+l.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=l.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=l.width+"px")}ensureElementInView(l,d){const f=l.scrollTop+l.offsetTop,m=f+l.clientHeight,$=d.offsetTop,O=$+d.clientHeight;$<f?l.scrollTop-=f-$:O>m&&(l.scrollTop+=O-m)}putContent(){const l=this.main.main.offsetHeight,d=this.main.main.getBoundingClientRect(),f=this.content.main.offsetHeight;return window.innerHeight-(d.top+l)<=f&&d.top>f?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const l=this.store.getSelectedOptions(),d=l&&l.length>0,f=this.settings.isMultiple,m=this.settings.allowDeselect,$=this.main.deselect.main,O=this.classes.hide;m&&!(f&&!d)?$.classList.remove(O):$.classList.add(O)}}class g{constructor(l){this.listen=!1,this.observer=null,this.select=l,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(l){this.listen=l,l&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),l||this.observer&&this.observer.disconnect()}valueChange(l){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(l){if(!this.listen)return;let d=!1,f=!1,m=!1;for(const $ of l){if($.target===this.select&&($.attributeName==="disabled"&&(f=!0),$.attributeName==="class"&&(d=!0),$.type==="childList")){for(const O of $.addedNodes)if(O.nodeName==="OPTION"&&O.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}m=!0}($.target.nodeName==="OPTGROUP"||$.target.nodeName==="OPTION")&&(m=!0)}d&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),f&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),m&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let l=[];const d=this.select.childNodes;for(const f of d)f.nodeName==="OPTGROUP"&&l.push(this.getDataFromOptgroup(f)),f.nodeName==="OPTION"&&l.push(this.getDataFromOption(f));return l}getDataFromOptgroup(l){let d={id:l.id,label:l.label,selectAll:l.dataset?l.dataset.selectall==="true":!1,selectAllText:l.dataset?l.dataset.selectalltext:"Select all",closable:l.dataset?l.dataset.closable:"off",options:[]};const f=l.childNodes;for(const m of f)m.nodeName==="OPTION"&&d.options.push(this.getDataFromOption(m));return d}getDataFromOption(l){return{id:l.id,value:l.value,text:l.text,html:l.dataset&&l.dataset.html?l.dataset.html:"",selected:l.selected,display:l.style.display!=="none",disabled:l.disabled,mandatory:l.dataset?l.dataset.mandatory==="true":!1,placeholder:l.dataset.placeholder==="true",class:l.className,style:l.style.cssText,data:l.dataset}}getSelectedOptions(){let l=[];const d=this.select.childNodes;for(const f of d){if(f.nodeName==="OPTGROUP"){const m=f.childNodes;for(const $ of m)if($.nodeName==="OPTION"){const O=$;O.selected&&l.push(this.getDataFromOption(O))}}if(f.nodeName==="OPTION"){const m=f;m.selected&&l.push(this.getDataFromOption(m))}}return l}getSelectedValues(){return this.getSelectedOptions().map(l=>l.value)}setSelected(l){this.changeListen(!1);const d=this.select.childNodes;for(const f of d){if(f.nodeName==="OPTGROUP"){const $=f.childNodes;for(const O of $)if(O.nodeName==="OPTION"){const N=O;N.selected=l.includes(N.id)}}if(f.nodeName==="OPTION"){const m=f;m.selected=l.includes(m.id)}}this.changeListen(!0)}setSelectedByValue(l){this.changeListen(!1);const d=this.select.childNodes;for(const f of d){if(f.nodeName==="OPTGROUP"){const $=f.childNodes;for(const O of $)if(O.nodeName==="OPTION"){const N=O;N.selected=l.includes(N.value)}}if(f.nodeName==="OPTION"){const m=f;m.selected=l.includes(m.value)}}this.changeListen(!0)}updateSelect(l,d,f){this.changeListen(!1),l&&(this.select.dataset.id=l),d&&(this.select.style.cssText=d),f&&(this.select.className="",f.forEach(m=>{m.trim()!==""&&this.select.classList.add(m.trim())})),this.changeListen(!0)}updateOptions(l){this.changeListen(!1),this.select.innerHTML="";for(const d of l)d instanceof c&&this.select.appendChild(this.createOptgroup(d)),d instanceof u&&this.select.appendChild(this.createOption(d));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(l){const d=document.createElement("optgroup");if(d.id=l.id,d.label=l.label,l.selectAll&&(d.dataset.selectAll="true"),l.closable!=="off"&&(d.dataset.closable=l.closable),l.options)for(const f of l.options)d.appendChild(this.createOption(f));return d}createOption(l){const d=document.createElement("option");return d.id=l.id,d.value=l.value,d.textContent=l.text,l.html!==""&&d.setAttribute("data-html",l.html),l.selected&&(d.selected=l.selected),l.disabled&&(d.disabled=!0),l.display||(d.style.display="none"),l.placeholder&&d.setAttribute("data-placeholder","true"),l.mandatory&&d.setAttribute("data-mandatory","true"),l.class&&l.class.split(" ").forEach(f=>{d.classList.add(f)}),l.data&&typeof l.data=="object"&&Object.keys(l.data).forEach(f=>{d.setAttribute("data-"+o(f),l.data[f])}),d}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class E{constructor(l){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,l||(l={}),this.id="ss-"+n(),this.style=l.style||"",this.class=l.class||[],this.disabled=l.disabled!==void 0?l.disabled:!1,this.alwaysOpen=l.alwaysOpen!==void 0?l.alwaysOpen:!1,this.showSearch=l.showSearch!==void 0?l.showSearch:!0,this.focusSearch=l.focusSearch!==void 0?l.focusSearch:!0,this.ariaLabel=l.ariaLabel||"Combobox",this.searchPlaceholder=l.searchPlaceholder||"Search",this.searchText=l.searchText||"No Results",this.searchingText=l.searchingText||"Searching...",this.searchHighlight=l.searchHighlight!==void 0?l.searchHighlight:!1,this.closeOnSelect=l.closeOnSelect!==void 0?l.closeOnSelect:!0,this.contentLocation=l.contentLocation||document.body,this.contentPosition=l.contentPosition||"absolute",this.openPosition=l.openPosition||"auto",this.placeholderText=l.placeholderText!==void 0?l.placeholderText:"Select Value",this.allowDeselect=l.allowDeselect!==void 0?l.allowDeselect:!1,this.hideSelected=l.hideSelected!==void 0?l.hideSelected:!1,this.keepOrder=l.keepOrder!==void 0?l.keepOrder:!1,this.showOptionTooltips=l.showOptionTooltips!==void 0?l.showOptionTooltips:!1,this.minSelected=l.minSelected||0,this.maxSelected=l.maxSelected||1e3,this.timeoutDelay=l.timeoutDelay||200,this.maxValuesShown=l.maxValuesShown||20,this.maxValuesMessage=l.maxValuesMessage||"{number} selected",this.addableText=l.addableText||'Press "Enter" to add {value}'}}class v{constructor(l){var d;if(this.events={search:void 0,searchFilter:(N,D)=>N.text.toLowerCase().indexOf(D.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=a(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=a(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=N=>{this.settings.isOpen&&N.target&&!r(N.target,this.settings.id)&&this.close(N.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof l.select=="string"?document.querySelector(l.select):l.select,!this.selectEl){l.events&&l.events.error&&l.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){l.events&&l.events.error&&l.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new E(l.settings),this.cssClasses=new s(l.cssClasses);const f=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const N in l.events)l.events.hasOwnProperty(N)&&(f.indexOf(N)!==-1?this.events[N]=a(l.events[N],100):this.events[N]=l.events[N]);this.settings.disabled=!((d=l.settings)===null||d===void 0)&&d.disabled?l.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new g(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=N=>{this.setSelected(N.map(D=>D.id))},this.select.onClassChange=N=>{this.settings.class=N,this.render.updateClassStyles()},this.select.onDisabledChange=N=>{N?this.disable():this.enable()},this.select.onOptionsChange=N=>{this.setData(N)},this.store=new h(this.settings.isMultiple?"multiple":"single",l.data?l.data:this.select.getData()),l.data&&this.select.updateOptions(this.store.getData());const m={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new p(this.settings,this.cssClasses,this.store,m),this.render.renderValues(),this.render.renderOptions(this.store.getData());const $=this.selectEl.getAttribute("aria-label"),O=this.selectEl.getAttribute("aria-labelledby");$?this.render.main.main.setAttribute("aria-label",$):O&&this.render.main.main.setAttribute("aria-labelledby",O),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(l){const d=this.store.getSelected(),f=this.store.validateDataArray(l);if(f){this.events.error&&this.events.error(f);return}this.store.setData(l);const m=this.store.getData();this.select.updateOptions(m),this.render.renderValues(),this.render.renderOptions(m),this.events.afterChange&&!i(d,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let l=this.store.getSelectedOptions();return this.settings.keepOrder&&(l=this.store.selectedOrderOptions(l)),l.map(d=>d.value)}setSelected(l,d=!0){const f=this.store.getSelected(),m=this.store.getDataOptions();l=Array.isArray(l)?l:[l];const $=[];for(const N of l){if(m.find(D=>D.id==N)){$.push(N);continue}for(const D of m.filter(F=>F.value==N))$.push(D.id)}this.store.setSelectedBy("id",$);const O=this.store.getData();this.select.updateOptions(O),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(O),d&&this.events.afterChange&&!i(f,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(l){const d=this.store.getSelected();this.store.getDataOptions().some(m=>{var $;return m.value===(($=l.value)!==null&&$!==void 0?$:l.text)})||this.store.addOption(l);const f=this.store.getData();this.select.updateOptions(f),this.render.renderValues(),this.render.renderOptions(f),this.events.afterChange&&!i(d,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(l=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(l),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(l){if(this.render.content.search.input.value!==l&&(this.render.content.search.input.value=l),!this.events.search){this.render.renderOptions(l===""?this.store.getData():this.store.search(l,this.events.searchFilter));return}this.render.renderSearching();const d=this.events.search(l,this.store.getSelectedOptions());if(d instanceof Promise){d.then(f=>{this.render.renderOptions(this.store.partialToFullData(f))}).catch(f=>{this.render.renderError(typeof f=="string"?f:f.message)});return}else Array.isArray(d)?this.render.renderOptions(this.store.partialToFullData(d)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}return v})})(Uv);const qv="CellvoyagerToOmeZarrInit",Bv="object",Hv={zarr_urls:{title:"Zarr Urls",type:"array",items:{type:"string"},description:"List of paths or urls to the individual OME-Zarr image to be processed. Not used by the converter task. (standard argument for Fractal tasks, managed by Fractal server)."},zarr_dir:{title:"Zarr Dir",type:"string",description:"path of the directory where the new OME-Zarrs will be created. (standard argument for Fractal tasks, managed by Fractal server)."},image_dirs:{title:"Image Dirs",type:"array",items:{type:"string"},description:"list of paths to the folders that contains the Cellvoyager image files. Each entry is a path to a folder that contains the image files themselves for a multiwell plate and the MeasurementData & MeasurementDetail metadata files."},allowed_channels:{title:"Allowed Channels",type:"array",items:{$ref:"#/definitions/OmeroChannel"},description:"A list of `OmeroChannel` s, where each channel must include the `wavelength_id` attribute and where the `wavelength_id` values must be unique across the list."},image_glob_patterns:{title:"Image Glob Patterns",type:"array",items:{type:"string"},description:'If specified, only parse images with filenames that match with all these patterns. Patterns must be defined as in https://docs.python.org/3/library/fnmatch.html, Example: `image_glob_pattern=["*_B03_*"]` => only process well B03 `image_glob_pattern=["*_C09_*", "*F016*", "*Z[0-5][0-9]C*"]` => only process well C09, field of view 16 and Z planes 0-59.'},num_levels:{title:"Num Levels",default:5,type:"integer",description:"Number of resolution-pyramid levels. If set to `5`, there will be the full-resolution level and 4 levels of downsampled images."},coarsening_xy:{title:"Coarsening Xy",default:2,type:"integer",description:"Linear coarsening factor between subsequent levels. If set to `2`, level 1 is 2x downsampled, level 2 is 4x downsampled etc."},image_extension:{title:"Image Extension",default:"tif",type:"string",description:'Filename extension of images (e.g. `"tif"` or `"png"`)'},metadata_table_file:{title:"Metadata Table File",type:"string",description:"If `None`, parse Yokogawa metadata from mrf/mlf files in the input_path folder; else, the full path to a csv file containing the parsed metadata table."},overwrite:{title:"Overwrite",default:!1,type:"boolean",description:"If `True`, overwrite the task output."}},Gv=["zarr_urls","zarr_dir","image_dirs","allowed_channels"],Jv=!1,Kv={Window:{title:"Window",description:"Custom class for Omero-channel window, based on OME-NGFF v0.4.",type:"object",properties:{min:{title:"Min",type:"integer",description:"Do not change. It will be set to `0` by default."},max:{title:"Max",type:"integer",description:"Do not change. It will be set according to bit-depth of the images by default (e.g. 65535 for 16 bit images)."},start:{title:"Start",type:"integer",description:"Lower-bound rescaling value for visualization."},end:{title:"End",type:"integer",description:"Upper-bound rescaling value for visualization."}},required:["start","end"]},OmeroChannel:{title:"OmeroChannel",description:"Custom class for Omero channels, based on OME-NGFF v0.4.",type:"object",properties:{wavelength_id:{title:"Wavelength Id",type:"string",description:"Unique ID for the channel wavelength, e.g. `A01_C01`."},index:{title:"Index",type:"integer",description:"Do not change. For internal use only."},label:{title:"Label",type:"string",description:"Name of the channel."},window:{$ref:"#/definitions/Window",title:"Window",description:"Optional `Window` object to set default display settings for napari."},color:{title:"Color",type:"string",description:"Optional hex colormap to display the channel in napari (it must be of length 6, e.g. `00FFFF`)."},active:{title:"Active",default:!0,type:"boolean",description:"Should this channel be shown in the viewer?"},coefficient:{title:"Coefficient",default:1,type:"integer",description:"Do not change. Omero-channel attribute."},inverted:{title:"Inverted",default:!1,type:"boolean",description:"Do not change. Omero-channel attribute."}},required:["wavelength_id"]}},Xv={title:qv,type:Bv,properties:Hv,required:Gv,additionalProperties:Jv,definitions:Kv};function Si(t){let e,s,n;return{c(){e=P("div"),s=P("pre"),n=be(t[8]),this.h()},l(r){e=I(r,"DIV",{class:!0});var a=A(e);s=I(a,"PRE",{});var i=A(s);n=$e(i,t[8]),i.forEach(w),a.forEach(w),this.h()},h(){y(e,"class","alert alert-danger")},m(r,a){M(r,e,a),S(e,s),S(s,n)},p(r,a){a&256&&Re(n,r[8])},d(r){r&&w(e)}}}function ki(t){let e,s="Data is valid";return{c(){e=P("div"),e.textContent=s,this.h()},l(n){e=I(n,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1pkeccj"&&(e.textContent=s),this.h()},h(){y(e,"class","alert alert-success")},m(n,r){M(n,e,r)},d(n){n&&w(e)}}}function Oi(t){let e,s,n={componentId:"json-schema-sandbox",schema:t[0],schemaVersion:t[6],schemaData:t[1],propertiesToIgnore:t[10]};return e=new la({props:n}),t[21](e),e.$on("change",t[15]),{c(){Ne(e.$$.fragment)},l(r){Ce(e.$$.fragment,r)},m(r,a){Te(e,r,a),s=!0},p(r,a){const i={};a&1&&(i.schema=r[0]),a&64&&(i.schemaVersion=r[6]),a&2&&(i.schemaData=r[1]),a&1024&&(i.propertiesToIgnore=r[10]),e.$set(i)},i(r){s||(te(e.$$.fragment,r),s=!0)},o(r){oe(e.$$.fragment,r),s=!1},d(r){t[21](null),Ae(e,r)}}}function Wv(t){let e,s="Sandbox page for JSON Schema",n,r,a="This is a test page for the JSON Schema component",i,o,c,u,h,p,g,E,v,b="pydantic_v1",l,d,f,m,$,O="pydantic_v2",N,D,F="Load example",q,W,V,L,G="JSON Schema",H,Z,se,ke,Pe,ge,B,C,j,T="Initial JSON data",_,k,R,J,X,x,re,fe,Ve,Xe,Q,ae="Validate",Ke,le,he,Me,xe,He,Oe=t[8]&&Si(t),Se=t[9]&&ki(),we=t[0]&&!t[4]&&Oi(t);return Me=dn(t[17][0]),{c(){e=P("h1"),e.textContent=s,n=z(),r=P("p"),r.textContent=a,i=z(),o=P("div"),c=P("div"),u=P("div"),h=P("div"),p=P("div"),g=P("input"),E=z(),v=P("label"),v.textContent=b,l=z(),d=P("div"),f=P("input"),m=z(),$=P("label"),$.textContent=O,N=z(),D=P("button"),D.textContent=F,q=z(),W=P("div"),V=P("div"),L=P("label"),L.textContent=G,H=z(),Z=P("textarea"),se=z(),ke=P("span"),Pe=be(t[4]),ge=z(),B=P("div"),C=P("div"),j=P("label"),j.textContent=T,_=z(),k=P("textarea"),R=z(),J=P("span"),X=be(t[5]),x=z(),re=P("div"),fe=P("div"),Oe&&Oe.c(),Ve=z(),Se&&Se.c(),Xe=z(),Q=P("button"),Q.textContent=ae,Ke=z(),le=P("div"),we&&we.c(),this.h()},l(ce){e=I(ce,"H1",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-ihcjf"&&(e.textContent=s),n=U(ce),r=I(ce,"P",{"data-svelte-h":!0}),ie(r)!=="svelte-16og82y"&&(r.textContent=a),i=U(ce),o=I(ce,"DIV",{class:!0});var me=A(o);c=I(me,"DIV",{class:!0});var De=A(c);u=I(De,"DIV",{class:!0});var gt=A(u);h=I(gt,"DIV",{class:!0});var et=A(h);p=I(et,"DIV",{class:!0});var Fe=A(p);g=I(Fe,"INPUT",{class:!0,type:!0,name:!0,id:!0}),E=U(Fe),v=I(Fe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(v)!=="svelte-1v1y08n"&&(v.textContent=b),Fe.forEach(w),l=U(et),d=I(et,"DIV",{class:!0});var je=A(d);f=I(je,"INPUT",{class:!0,type:!0,name:!0,id:!0}),m=U(je),$=I(je,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie($)!=="svelte-a4zeq1"&&($.textContent=O),je.forEach(w),N=U(et),D=I(et,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(D)!=="svelte-1x01i1u"&&(D.textContent=F),et.forEach(w),gt.forEach(w),q=U(De),W=I(De,"DIV",{class:!0});var xt=A(W);V=I(xt,"DIV",{class:!0});var rt=A(V);L=I(rt,"LABEL",{for:!0,"data-svelte-h":!0}),ie(L)!=="svelte-i5yw7t"&&(L.textContent=G),H=U(rt),Z=I(rt,"TEXTAREA",{id:!0,class:!0,rows:!0}),A(Z).forEach(w),se=U(rt),ke=I(rt,"SPAN",{class:!0});var Ss=A(ke);Pe=$e(Ss,t[4]),Ss.forEach(w),rt.forEach(w),xt.forEach(w),ge=U(De),B=I(De,"DIV",{class:!0});var es=A(B);C=I(es,"DIV",{class:!0});var at=A(C);j=I(at,"LABEL",{for:!0,"data-svelte-h":!0}),ie(j)!=="svelte-k3khj6"&&(j.textContent=T),_=U(at),k=I(at,"TEXTAREA",{id:!0,class:!0,rows:!0}),A(k).forEach(w),R=U(at),J=I(at,"SPAN",{class:!0});var Ue=A(J);X=$e(Ue,t[5]),Ue.forEach(w),at.forEach(w),es.forEach(w),x=U(De),re=I(De,"DIV",{class:!0});var ts=A(re);fe=I(ts,"DIV",{class:!0});var it=A(fe);Oe&&Oe.l(it),Ve=U(it),Se&&Se.l(it),Xe=U(it),Q=I(it,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(Q)!=="svelte-196bi3s"&&(Q.textContent=ae),it.forEach(w),ts.forEach(w),De.forEach(w),Ke=U(me),le=I(me,"DIV",{class:!0});var ks=A(le);we&&we.l(ks),ks.forEach(w),me.forEach(w),this.h()},h(){y(e,"class","fw-light"),y(g,"class","form-check-input"),y(g,"type","radio"),y(g,"name","schemaVersionOptions"),y(g,"id","pydantic_v1"),g.__value="pydantic_v1",Ee(g,g.__value),y(v,"class","form-check-label"),y(v,"for","pydantic_v1"),y(p,"class","form-check form-check-inline"),y(f,"class","form-check-input"),y(f,"type","radio"),y(f,"name","schemaVersionOptions"),y(f,"id","pydantic_v2"),f.__value="pydantic_v2",Ee(f,f.__value),y($,"class","form-check-label"),y($,"for","pydantic_v2"),y(d,"class","form-check form-check-inline"),y(D,"class","btn btn-outline-primary float-end"),y(h,"class","col"),y(u,"class","row"),y(L,"for","json-schema"),y(Z,"id","json-schema"),y(Z,"class","form-control"),y(Z,"rows","10"),ve(Z,"is-invalid",t[4]),y(ke,"class","invalid-feedback"),y(V,"class","col"),y(W,"class","row has-validation mt-2 mb-2"),y(j,"for","jdata"),y(k,"id","jdata"),y(k,"class","form-control"),y(k,"rows","10"),ve(k,"is-invalid",t[5]),y(J,"class","invalid-feedback"),y(C,"class","col"),y(B,"class","row has-validation mt-3 mb-2"),y(Q,"class","btn btn-primary"),y(fe,"class","col"),y(re,"class","row mt-3 mb-2"),y(c,"class","col-lg-6 mt-3"),y(le,"class","col-lg-6"),y(o,"class","row"),Me.p(g,f)},m(ce,me){M(ce,e,me),M(ce,n,me),M(ce,r,me),M(ce,i,me),M(ce,o,me),S(o,c),S(c,u),S(u,h),S(h,p),S(p,g),g.checked=g.__value===t[6],S(p,E),S(p,v),S(h,l),S(h,d),S(d,f),f.checked=f.__value===t[6],S(d,m),S(d,$),S(h,N),S(h,D),S(c,q),S(c,W),S(W,V),S(V,L),S(V,H),S(V,Z),Ee(Z,t[2]),S(V,se),S(V,ke),S(ke,Pe),S(c,ge),S(c,B),S(B,C),S(C,j),S(C,_),S(C,k),Ee(k,t[3]),S(C,R),S(C,J),S(J,X),S(c,x),S(c,re),S(re,fe),Oe&&Oe.m(fe,null),S(fe,Ve),Se&&Se.m(fe,null),S(fe,Xe),S(fe,Q),S(o,Ke),S(o,le),we&&we.m(le,null),he=!0,xe||(He=[Y(g,"change",t[16]),Y(g,"change",t[11]),Y(f,"change",t[18]),Y(f,"change",t[11]),Y(D,"click",t[14]),Y(Z,"input",t[19]),Y(Z,"input",t[11]),Y(k,"input",t[20]),Y(k,"input",t[12]),Y(Q,"click",t[13])],xe=!0)},p(ce,[me]){me&64&&(g.checked=g.__value===ce[6]),me&64&&(f.checked=f.__value===ce[6]),me&4&&Ee(Z,ce[2]),(!he||me&16)&&ve(Z,"is-invalid",ce[4]),(!he||me&16)&&Re(Pe,ce[4]),me&8&&Ee(k,ce[3]),(!he||me&32)&&ve(k,"is-invalid",ce[5]),(!he||me&32)&&Re(X,ce[5]),ce[8]?Oe?Oe.p(ce,me):(Oe=Si(ce),Oe.c(),Oe.m(fe,Ve)):Oe&&(Oe.d(1),Oe=null),ce[9]?Se||(Se=ki(),Se.c(),Se.m(fe,Xe)):Se&&(Se.d(1),Se=null),ce[0]&&!ce[4]?we?(we.p(ce,me),me&17&&te(we,1)):(we=Oi(ce),we.c(),te(we,1),we.m(le,null)):we&&(wt(),oe(we,1,1,()=>{we=null}),St())},i(ce){he||(te(we),he=!0)},o(ce){oe(we),he=!1},d(ce){ce&&(w(e),w(n),w(r),w(i),w(o)),Oe&&Oe.d(),Se&&Se.d(),we&&we.d(),Me.r(),xe=!1,ft(He)}}}function Zv(t,e,s){let n,r,a,i="",o="",c="",u="",h="pydantic_v2",p;function g(){if(s(8,v=""),s(4,c=""),i===""){s(0,r=void 0);return}let V;try{V=JSON.parse(i)}catch{s(0,r=void 0),s(4,c="Invalid JSON");return}try{new Ut(h).validateSchema(V)}catch{try{s(6,h=rr(V))}catch(G){s(0,r=void 0),s(4,c=`Invalid JSON Schema: ${G.message}`);return}}s(0,r=V),f()}function E(){s(8,v=""),s(5,u="");try{s(1,a=JSON.parse(o))}catch{s(1,a=void 0),s(5,u="Invalid JSON")}}let v="",b=!1;function l(){try{s(8,v=""),s(9,b=!1),p==null||p.validateArguments(),s(9,b=!0)}catch(V){s(8,v=ar(V))}}function d(){s(6,h="pydantic_v2"),s(2,i=JSON.stringify(Xv,null,2)),g()}async function f(){await Cs(),p&&$(p.getArguments())}function m({detail:V}){$(V.value)}function $(V){const L=Mt(V),G=JSON.stringify(yn(L),null,2);G!==o&&s(3,o=G)}const O=[[]];function N(){h=this.__value,s(6,h)}function D(){h=this.__value,s(6,h)}function F(){i=this.value,s(2,i)}function q(){o=this.value,s(3,o)}function W(V){qt[V?"unshift":"push"](()=>{p=V,s(7,p)})}return s(10,n=hn(!1)),[r,a,i,o,c,u,h,p,v,b,n,g,E,l,d,m,N,O,D,F,q,W]}class Yv extends Ye{constructor(e){super(),Qe(this,e,Zv,Wv,Je,{})}}function Pi(t,e,s){const n=t.slice();return n[49]=e[s],n[51]=s,n}function Ii(t){let e,s,n;return{c(){e=P("div"),s=P("pre"),n=be(t[18]),this.h()},l(r){e=I(r,"DIV",{class:!0});var a=A(e);s=I(a,"PRE",{});var i=A(s);n=$e(i,t[18]),i.forEach(w),a.forEach(w),this.h()},h(){y(e,"class","alert alert-danger")},m(r,a){M(r,e,a),S(e,s),S(s,n)},p(r,a){a[0]&262144&&Re(n,r[18])},d(r){r&&w(e)}}}function Ni(t){let e,s="Data is valid";return{c(){e=P("div"),e.textContent=s,this.h()},l(n){e=I(n,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1pkeccj"&&(e.textContent=s),this.h()},h(){y(e,"class","alert alert-success")},m(n,r){M(n,e,r)},d(n){n&&w(e)}}}function Ci(t){let e,s,n={componentId:"json-schema-version-update-sandbox",schema:t[4],schemaData:t[5],schemaVersion:t[10],propertiesToIgnore:t[22]};return e=new la({props:n}),t[40](e),e.$on("change",t[27]),{c(){Ne(e.$$.fragment)},l(r){Ce(e.$$.fragment,r)},m(r,a){Te(e,r,a),s=!0},p(r,a){const i={};a[0]&16&&(i.schema=r[4]),a[0]&32&&(i.schemaData=r[5]),a[0]&1024&&(i.schemaVersion=r[10]),a[0]&4194304&&(i.propertiesToIgnore=r[22]),e.$set(i)},i(r){s||(te(e.$$.fragment,r),s=!0)},o(r){oe(e.$$.fragment,r),s=!1},d(r){t[40](null),Ae(e,r)}}}function Ti(t){let e,s="Try version update",n,r,a,i,o=t[16]&&t[17]&&Ai(t);return{c(){e=P("button"),e.textContent=s,n=z(),o&&o.c(),r=Be(),this.h()},l(c){e=I(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-8vi3bj"&&(e.textContent=s),n=U(c),o&&o.l(c),r=Be(),this.h()},h(){y(e,"class","btn btn-primary mt-4 mb-2")},m(c,u){M(c,e,u),M(c,n,u),o&&o.m(c,u),M(c,r,u),a||(i=Y(e,"click",t[28]),a=!0)},p(c,u){c[16]&&c[17]?o?o.p(c,u):(o=Ai(c),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(c){c&&(w(e),w(n),w(r)),o&&o.d(c),a=!1,i()}}}function Ai(t){let e,s,n,r=t[3]&&Di(t),a=t[1]&&Li(t),i=t[20]&&zi(t);return{c(){r&&r.c(),e=z(),a&&a.c(),s=z(),i&&i.c(),n=Be()},l(o){r&&r.l(o),e=U(o),a&&a.l(o),s=U(o),i&&i.l(o),n=Be()},m(o,c){r&&r.m(o,c),M(o,e,c),a&&a.m(o,c),M(o,s,c),i&&i.m(o,c),M(o,n,c)},p(o,c){o[3]?r?r.p(o,c):(r=Di(o),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),o[1]?a?a.p(o,c):(a=Li(o),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null),o[20]?i?i.p(o,c):(i=zi(o),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(o){o&&(w(e),w(s),w(n)),r&&r.d(o),a&&a.d(o),i&&i.d(o)}}}function Di(t){let e,s,n="Following errors must be fixed before performing the update:",r,a,i=vt(t[3]),o=[];for(let c=0;c<i.length;c+=1)o[c]=ji(Pi(t,i,c));return{c(){e=P("div"),s=P("p"),s.textContent=n,r=z(),a=P("ul");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=I(c,"DIV",{class:!0});var u=A(e);s=I(u,"P",{"data-svelte-h":!0}),ie(s)!=="svelte-rlwvny"&&(s.textContent=n),r=U(u),a=I(u,"UL",{id:!0});var h=A(a);for(let p=0;p<o.length;p+=1)o[p].l(h);h.forEach(w),u.forEach(w),this.h()},h(){y(a,"id","validation-errors"),y(e,"class","alert alert-danger mt-3")},m(c,u){M(c,e,u),S(e,s),S(e,r),S(e,a);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(a,null)},p(c,u){if(u[0]&8){i=vt(c[3]);let h;for(h=0;h<i.length;h+=1){const p=Pi(c,i,h);o[h]?o[h].p(p,u):(o[h]=ji(p),o[h].c(),o[h].m(a,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=i.length}},d(c){c&&w(e),Vs(o,c)}}}function Ri(t){let e=t[49].instancePath+"",s,n;return{c(){s=be(e),n=be(":")},l(r){s=$e(r,e),n=$e(r,":")},m(r,a){M(r,s,a),M(r,n,a)},p(r,a){a[0]&8&&e!==(e=r[49].instancePath+"")&&Re(s,e)},d(r){r&&(w(s),w(n))}}}function Qv(t){let e=t[49].message+"",s;return{c(){s=be(e)},l(n){s=$e(n,e)},m(n,r){M(n,s,r)},p(n,r){r[0]&8&&e!==(e=n[49].message+"")&&Re(s,e)},d(n){n&&w(s)}}}function xv(t){let e,s=t[49].params.additionalProperty+"",n,r;return{c(){e=be("must NOT have additional property '"),n=be(s),r=be("'")},l(a){e=$e(a,"must NOT have additional property '"),n=$e(a,s),r=$e(a,"'")},m(a,i){M(a,e,i),M(a,n,i),M(a,r,i)},p(a,i){i[0]&8&&s!==(s=a[49].params.additionalProperty+"")&&Re(n,s)},d(a){a&&(w(e),w(n),w(r))}}}function ji(t){let e,s,n,r,a="more",i,o,c,u,h=JSON.stringify(t[49],null,2)+"",p,g,E=t[49].instancePath&&Ri(t);function v(d,f){return d[49].keyword==="additionalProperties"?xv:Qv}let b=v(t),l=b(t);return{c(){e=P("li"),E&&E.c(),s=z(),l.c(),n=z(),r=P("small"),r.textContent=a,i=z(),o=P("div"),c=P("div"),u=P("pre"),p=be(h),g=z(),this.h()},l(d){e=I(d,"LI",{});var f=A(e);E&&E.l(f),s=U(f),l.l(f),n=U(f),r=I(f,"SMALL",{"data-bs-toggle":!0,"data-bs-target":!0,"aria-expanded":!0,"aria-controls":!0,class:!0,role:!0,"data-svelte-h":!0}),ie(r)!=="svelte-1y3dw3f"&&(r.textContent=a),i=U(f),o=I(f,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var m=A(o);c=I(m,"DIV",{class:!0});var $=A(c);u=I($,"PRE",{class:!0});var O=A(u);p=$e(O,h),O.forEach(w),$.forEach(w),m.forEach(w),g=U(f),f.forEach(w),this.h()},h(){y(r,"data-bs-toggle","collapse"),y(r,"data-bs-target","#collapse-"+t[51]),y(r,"aria-expanded","true"),y(r,"aria-controls","collapse-"+t[51]),y(r,"class","text-primary"),y(r,"role","button"),y(u,"class","alert alert-warning mt-1"),y(c,"class","accordion-body"),y(o,"id","collapse-"+t[51]),y(o,"class","accordion-collapse collapse"),y(o,"data-bs-parent","#validation-errors")},m(d,f){M(d,e,f),E&&E.m(e,null),S(e,s),l.m(e,null),S(e,n),S(e,r),S(e,i),S(e,o),S(o,c),S(c,u),S(u,p),S(e,g)},p(d,f){d[49].instancePath?E?E.p(d,f):(E=Ri(d),E.c(),E.m(e,s)):E&&(E.d(1),E=null),b===(b=v(d))&&l?l.p(d,f):(l.d(1),l=b(d),l&&(l.c(),l.m(e,n))),f[0]&8&&h!==(h=JSON.stringify(d[49],null,2)+"")&&Re(p,h)},d(d){d&&w(e),E&&E.d(),l.d()}}}function Li(t){let e,s,n,r=!t[3]&&Vi(),a=t[20]&&Mi(t),i=!t[21]&&Fi();return{c(){r&&r.c(),e=z(),a&&a.c(),s=z(),i&&i.c(),n=Be()},l(o){r&&r.l(o),e=U(o),a&&a.l(o),s=U(o),i&&i.l(o),n=Be()},m(o,c){r&&r.m(o,c),M(o,e,c),a&&a.m(o,c),M(o,s,c),i&&i.m(o,c),M(o,n,c)},p(o,c){o[3]?r&&(r.d(1),r=null):r||(r=Vi(),r.c(),r.m(e.parentNode,e)),o[20]?a?a.p(o,c):(a=Mi(o),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null),o[21]?i&&(i.d(1),i=null):i||(i=Fi(),i.c(),i.m(n.parentNode,n))},d(o){o&&(w(e),w(s),w(n)),r&&r.d(o),a&&a.d(o),i&&i.d(o)}}}function Vi(t){let e,s="The arguments are valid";return{c(){e=P("div"),e.textContent=s,this.h()},l(n){e=I(n,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-3j6lef"&&(e.textContent=s),this.h()},h(){y(e,"class","alert alert-success mt-3")},m(n,r){M(n,e,r)},d(n){n&&w(e)}}}function Mi(t){let e,s="Fix the arguments:",n,r,a,i;return{c(){e=P("label"),e.textContent=s,n=z(),r=P("textarea"),this.h()},l(o){e=I(o,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(e)!=="svelte-5fr72u"&&(e.textContent=s),n=U(o),r=I(o,"TEXTAREA",{class:!0,id:!0,rows:!0}),A(r).forEach(w),this.h()},h(){y(e,"class","form-label"),y(e,"for","fix-arguments"),y(r,"class","form-control"),y(r,"id","fix-arguments"),y(r,"rows","20"),ve(r,"is-invalid",!t[21])},m(o,c){M(o,e,c),M(o,n,c),M(o,r,c),Ee(r,t[2]),a||(i=Y(r,"input",t[44]),a=!0)},p(o,c){c[0]&4&&Ee(r,o[2]),c[0]&2097152&&ve(r,"is-invalid",!o[21])},d(o){o&&(w(e),w(n),w(r)),a=!1,i()}}}function Fi(t){let e,s="Invalid JSON";return{c(){e=P("div"),e.textContent=s,this.h()},l(n){e=I(n,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1jtspzp"&&(e.textContent=s),this.h()},h(){y(e,"class","invalid-feedback")},m(n,r){M(n,e,r)},d(n){n&&w(e)}}}function zi(t){let e,s="Check",n,r;return{c(){e=P("button"),e.textContent=s,this.h()},l(a){e=I(a,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-lzzoyy"&&(e.textContent=s),this.h()},h(){y(e,"type","button"),y(e,"class","btn btn-warning mt-3")},m(a,i){M(a,e,i),n||(r=Y(e,"click",t[0]),n=!0)},p:$t,d(a){a&&w(e),n=!1,r()}}}function eg(t){let e,s="Sandbox page for task version update",n,r,a="This is a test page for the task version update",i,o,c,u,h="Old schema",p,g,E,v,b,l="pydantic_v1",d,f,m,$,O,N="pydantic_v2",D,F,q,W="Load example",V,L,G,H,Z,se,ke="JSON Schema",Pe,ge,B,C,j,T,_,k,R,J="Initial JSON data",X,x,re,fe,Ve,Xe,Q,ae,Ke,le,he,Me="Validate",xe,He,Oe,Se,we,ce,me,De,gt="New schema",et,Fe,je,xt,rt,Ss="pydantic_v1",es,at,Ue,ts,it,ks="pydantic_v2",qs,Ct,ss,ns,kt,Bt,ca="JSON Schema",Dn,ut,Rn,rs,Bs,jn,Ht,Ot,Ln,Vn,Mn,da,tt=t[18]&&Ii(t),ot=t[19]&&Ni(),qe=t[4]&&Ci(t),st=t[12]&&Ti(t);return Ln=dn(t[36][0]),Vn=dn(t[36][1]),{c(){e=P("h1"),e.textContent=s,n=z(),r=P("p"),r.textContent=a,i=z(),o=P("div"),c=P("div"),u=P("h2"),u.textContent=h,p=z(),g=P("div"),E=P("input"),v=z(),b=P("label"),b.textContent=l,d=z(),f=P("div"),m=P("input"),$=z(),O=P("label"),O.textContent=N,D=z(),F=P("div"),q=P("button"),q.textContent=W,V=z(),L=P("div"),G=P("div"),H=P("div"),Z=P("div"),se=P("label"),se.textContent=ke,Pe=z(),ge=P("textarea"),B=z(),C=P("span"),j=be(t[8]),T=z(),_=P("div"),k=P("div"),R=P("label"),R.textContent=J,X=z(),x=P("textarea"),re=z(),fe=P("span"),Ve=be(t[9]),Xe=z(),Q=P("div"),ae=P("div"),tt&&tt.c(),Ke=z(),ot&&ot.c(),le=z(),he=P("button"),he.textContent=Me,xe=z(),He=P("div"),qe&&qe.c(),Oe=z(),Se=P("hr"),we=z(),ce=P("div"),me=P("div"),De=P("h2"),De.textContent=gt,et=z(),Fe=P("div"),je=P("input"),xt=z(),rt=P("label"),rt.textContent=Ss,es=z(),at=P("div"),Ue=P("input"),ts=z(),it=P("label"),it.textContent=ks,qs=z(),Ct=P("div"),ss=P("div"),ns=P("div"),kt=P("div"),Bt=P("label"),Bt.textContent=ca,Dn=z(),ut=P("textarea"),Rn=z(),rs=P("span"),Bs=be(t[15]),jn=z(),Ht=P("div"),st&&st.c(),this.h()},l(ne){e=I(ne,"H1",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1mbg5bm"&&(e.textContent=s),n=U(ne),r=I(ne,"P",{"data-svelte-h":!0}),ie(r)!=="svelte-q7jlrq"&&(r.textContent=a),i=U(ne),o=I(ne,"DIV",{class:!0});var ye=A(o);c=I(ye,"DIV",{class:!0});var as=A(c);u=I(as,"H2",{"data-svelte-h":!0}),ie(u)!=="svelte-2ibsze"&&(u.textContent=h),p=U(as),g=I(as,"DIV",{class:!0});var Hs=A(g);E=I(Hs,"INPUT",{class:!0,type:!0,name:!0,id:!0}),v=U(Hs),b=I(Hs,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(b)!=="svelte-1dc4z1"&&(b.textContent=l),Hs.forEach(w),d=U(as),f=I(as,"DIV",{class:!0});var Gs=A(f);m=I(Gs,"INPUT",{class:!0,type:!0,name:!0,id:!0}),$=U(Gs),O=I(Gs,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(O)!=="svelte-19h8ds7"&&(O.textContent=N),Gs.forEach(w),as.forEach(w),D=U(ye),F=I(ye,"DIV",{class:!0});var ua=A(F);q=I(ua,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(q)!=="svelte-n4urqh"&&(q.textContent=W),ua.forEach(w),ye.forEach(w),V=U(ne),L=I(ne,"DIV",{class:!0});var Js=A(L);G=I(Js,"DIV",{class:!0});var is=A(G);H=I(is,"DIV",{class:!0});var fa=A(H);Z=I(fa,"DIV",{class:!0});var os=A(Z);se=I(os,"LABEL",{for:!0,"data-svelte-h":!0}),ie(se)!=="svelte-tbhf9k"&&(se.textContent=ke),Pe=U(os),ge=I(os,"TEXTAREA",{id:!0,class:!0,rows:!0}),A(ge).forEach(w),B=U(os),C=I(os,"SPAN",{class:!0});var ha=A(C);j=$e(ha,t[8]),ha.forEach(w),os.forEach(w),fa.forEach(w),T=U(is),_=I(is,"DIV",{class:!0});var ma=A(_);k=I(ma,"DIV",{class:!0});var ls=A(k);R=I(ls,"LABEL",{for:!0,"data-svelte-h":!0}),ie(R)!=="svelte-15gnt9m"&&(R.textContent=J),X=U(ls),x=I(ls,"TEXTAREA",{id:!0,class:!0,rows:!0}),A(x).forEach(w),re=U(ls),fe=I(ls,"SPAN",{class:!0});var pa=A(fe);Ve=$e(pa,t[9]),pa.forEach(w),ls.forEach(w),ma.forEach(w),Xe=U(is),Q=I(is,"DIV",{class:!0});var va=A(Q);ae=I(va,"DIV",{class:!0});var cs=A(ae);tt&&tt.l(cs),Ke=U(cs),ot&&ot.l(cs),le=U(cs),he=I(cs,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(he)!=="svelte-196bi3s"&&(he.textContent=Me),cs.forEach(w),va.forEach(w),is.forEach(w),xe=U(Js),He=I(Js,"DIV",{class:!0});var ga=A(He);qe&&qe.l(ga),ga.forEach(w),Js.forEach(w),Oe=U(ne),Se=I(ne,"HR",{}),we=U(ne),ce=I(ne,"DIV",{class:!0});var _a=A(ce);me=I(_a,"DIV",{class:!0});var ds=A(me);De=I(ds,"H2",{"data-svelte-h":!0}),ie(De)!=="svelte-b84mfb"&&(De.textContent=gt),et=U(ds),Fe=I(ds,"DIV",{class:!0});var Ks=A(Fe);je=I(Ks,"INPUT",{class:!0,type:!0,name:!0,id:!0}),xt=U(Ks),rt=I(Ks,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(rt)!=="svelte-4vjzei"&&(rt.textContent=Ss),Ks.forEach(w),es=U(ds),at=I(ds,"DIV",{class:!0});var Xs=A(at);Ue=I(Xs,"INPUT",{class:!0,type:!0,name:!0,id:!0}),ts=U(Xs),it=I(Xs,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(it)!=="svelte-c4yrb4"&&(it.textContent=ks),Xs.forEach(w),ds.forEach(w),_a.forEach(w),qs=U(ne),Ct=I(ne,"DIV",{class:!0});var Ws=A(Ct);ss=I(Ws,"DIV",{class:!0});var ya=A(ss);ns=I(ya,"DIV",{class:!0});var ba=A(ns);kt=I(ba,"DIV",{class:!0});var us=A(kt);Bt=I(us,"LABEL",{for:!0,"data-svelte-h":!0}),ie(Bt)!=="svelte-ynu5vt"&&(Bt.textContent=ca),Dn=U(us),ut=I(us,"TEXTAREA",{id:!0,class:!0,rows:!0}),A(ut).forEach(w),Rn=U(us),rs=I(us,"SPAN",{class:!0});var $a=A(rs);Bs=$e($a,t[15]),$a.forEach(w),us.forEach(w),ba.forEach(w),ya.forEach(w),jn=U(Ws),Ht=I(Ws,"DIV",{class:!0});var Ea=A(Ht);st&&st.l(Ea),Ea.forEach(w),Ws.forEach(w),this.h()},h(){y(e,"class","fw-light"),y(E,"class","form-check-input"),y(E,"type","radio"),y(E,"name","oldSchemaVersionOptions"),y(E,"id","old_pydantic_v1"),E.__value="pydantic_v1",Ee(E,E.__value),y(b,"class","form-check-label"),y(b,"for","old_pydantic_v1"),y(g,"class","form-check form-check-inline"),y(m,"class","form-check-input"),y(m,"type","radio"),y(m,"name","oldSchemaVersionOptions"),y(m,"id","old_pydantic_v2"),m.__value="pydantic_v2",Ee(m,m.__value),y(O,"class","form-check-label"),y(O,"for","old_pydantic_v2"),y(f,"class","form-check form-check-inline"),y(c,"class","col-lg-6 mt-3"),y(q,"class","btn btn-outline-primary"),y(F,"class","col-lg-6 mt-5"),y(o,"class","row"),y(se,"for","jschema-old"),y(ge,"id","jschema-old"),y(ge,"class","form-control"),y(ge,"rows","10"),ve(ge,"is-invalid",t[8]),y(C,"class","invalid-feedback"),y(Z,"class","col"),y(H,"class","row has-validation mb-2"),y(R,"for","jdata-old"),y(x,"id","jdata-old"),y(x,"class","form-control"),y(x,"rows","10"),ve(x,"is-invalid",t[9]),y(fe,"class","invalid-feedback"),y(k,"class","col"),y(_,"class","row has-validation mt-3 mb-2"),y(he,"class","btn btn-primary"),y(ae,"class","col"),y(Q,"class","row mt-3 mb-2"),y(G,"class","col-lg-6 mt-3"),y(He,"class","col-lg-6 mt-3"),y(L,"class","row"),y(je,"class","form-check-input"),y(je,"type","radio"),y(je,"name","newSchemaVersionOptions"),y(je,"id","new_pydantic_v1"),je.__value="pydantic_v1",Ee(je,je.__value),y(rt,"class","form-check-label"),y(rt,"for","new_pydantic_v1"),y(Fe,"class","form-check form-check-inline"),y(Ue,"class","form-check-input"),y(Ue,"type","radio"),y(Ue,"name","newSchemaVersionOptions"),y(Ue,"id","new_pydantic_v2"),Ue.__value="pydantic_v2",Ee(Ue,Ue.__value),y(it,"class","form-check-label"),y(it,"for","new_pydantic_v2"),y(at,"class","form-check form-check-inline"),y(me,"class","col-lg-6 mt-2"),y(ce,"class","row"),y(Bt,"for","jschema-new"),y(ut,"id","jschema-new"),y(ut,"class","form-control"),y(ut,"rows","10"),ve(ut,"is-invalid",t[15]),y(rs,"class","invalid-feedback"),y(kt,"class","col"),y(ns,"class","row has-validation mb-2"),y(ss,"class","col-lg-6 mt-3"),y(Ht,"class","col-lg-6"),y(Ct,"class","row mb-5"),Ln.p(je,Ue),Vn.p(E,m)},m(ne,ye){M(ne,e,ye),M(ne,n,ye),M(ne,r,ye),M(ne,i,ye),M(ne,o,ye),S(o,c),S(c,u),S(c,p),S(c,g),S(g,E),E.checked=E.__value===t[10],S(g,v),S(g,b),S(c,d),S(c,f),S(f,m),m.checked=m.__value===t[10],S(f,$),S(f,O),S(o,D),S(o,F),S(F,q),M(ne,V,ye),M(ne,L,ye),S(L,G),S(G,H),S(H,Z),S(Z,se),S(Z,Pe),S(Z,ge),Ee(ge,t[6]),S(Z,B),S(Z,C),S(C,j),S(G,T),S(G,_),S(_,k),S(k,R),S(k,X),S(k,x),Ee(x,t[7]),S(k,re),S(k,fe),S(fe,Ve),S(G,Xe),S(G,Q),S(Q,ae),tt&&tt.m(ae,null),S(ae,Ke),ot&&ot.m(ae,null),S(ae,le),S(ae,he),S(L,xe),S(L,He),qe&&qe.m(He,null),M(ne,Oe,ye),M(ne,Se,ye),M(ne,we,ye),M(ne,ce,ye),S(ce,me),S(me,De),S(me,et),S(me,Fe),S(Fe,je),je.checked=je.__value===t[13],S(Fe,xt),S(Fe,rt),S(me,es),S(me,at),S(at,Ue),Ue.checked=Ue.__value===t[13],S(at,ts),S(at,it),M(ne,qs,ye),M(ne,Ct,ye),S(Ct,ss),S(ss,ns),S(ns,kt),S(kt,Bt),S(kt,Dn),S(kt,ut),Ee(ut,t[14]),S(kt,Rn),S(kt,rs),S(rs,Bs),S(Ct,jn),S(Ct,Ht),st&&st.m(Ht,null),Ot=!0,Mn||(da=[Y(E,"change",t[35]),Y(E,"change",t[23]),Y(m,"change",t[37]),Y(m,"change",t[23]),Y(q,"click",t[29]),Y(ge,"input",t[38]),Y(ge,"input",t[23]),Y(x,"input",t[39]),Y(x,"input",t[24]),Y(he,"click",t[26]),Y(je,"change",t[41]),Y(je,"change",t[25]),Y(Ue,"change",t[42]),Y(Ue,"change",t[25]),Y(ut,"input",t[43]),Y(ut,"input",t[25])],Mn=!0)},p(ne,ye){ye[0]&1024&&(E.checked=E.__value===ne[10]),ye[0]&1024&&(m.checked=m.__value===ne[10]),ye[0]&64&&Ee(ge,ne[6]),(!Ot||ye[0]&256)&&ve(ge,"is-invalid",ne[8]),(!Ot||ye[0]&256)&&Re(j,ne[8]),ye[0]&128&&Ee(x,ne[7]),(!Ot||ye[0]&512)&&ve(x,"is-invalid",ne[9]),(!Ot||ye[0]&512)&&Re(Ve,ne[9]),ne[18]?tt?tt.p(ne,ye):(tt=Ii(ne),tt.c(),tt.m(ae,Ke)):tt&&(tt.d(1),tt=null),ne[19]?ot||(ot=Ni(),ot.c(),ot.m(ae,le)):ot&&(ot.d(1),ot=null),ne[4]?qe?(qe.p(ne,ye),ye[0]&16&&te(qe,1)):(qe=Ci(ne),qe.c(),te(qe,1),qe.m(He,null)):qe&&(wt(),oe(qe,1,1,()=>{qe=null}),St()),ye[0]&8192&&(je.checked=je.__value===ne[13]),ye[0]&8192&&(Ue.checked=Ue.__value===ne[13]),ye[0]&16384&&Ee(ut,ne[14]),(!Ot||ye[0]&32768)&&ve(ut,"is-invalid",ne[15]),(!Ot||ye[0]&32768)&&Re(Bs,ne[15]),ne[12]?st?st.p(ne,ye):(st=Ti(ne),st.c(),st.m(Ht,null)):st&&(st.d(1),st=null)},i(ne){Ot||(te(qe),Ot=!0)},o(ne){oe(qe),Ot=!1},d(ne){ne&&(w(e),w(n),w(r),w(i),w(o),w(V),w(L),w(Oe),w(Se),w(we),w(ce),w(qs),w(Ct)),tt&&tt.d(),ot&&ot.d(),qe&&qe.d(),st&&st.d(),Ln.r(),Vn.r(),Mn=!1,ft(da)}}}function tg(t,e,s){let n,r,a,i="",o="",c="",u="",h="pydantic_v2",p,g,E="pydantic_v2",v="",b="",l,d;async function f(){if(s(8,c=""),i===""){s(4,r=void 0);return}try{s(4,r=JSON.parse(i)),F()}catch{s(4,r=void 0),s(8,c="Invalid JSON")}try{new Ut(h).validateSchema(r)}catch{try{s(10,h=rr(r))}catch(ae){s(4,r=void 0),s(8,c=`Invalid JSON Schema: ${ae.message}`);return}}}function m(){s(9,u=""),s(9,u="");try{s(5,a=JSON.parse(o))}catch{s(5,a=void 0),s(9,u="Invalid JSON")}}function $(){if(s(16,l=void 0),s(17,d=void 0),s(15,b=""),v===""){s(12,g=void 0);return}try{s(12,g=JSON.parse(v))}catch{s(12,g=void 0),s(15,b="Invalid JSON")}try{new Ut(E).validateSchema(g)}catch{try{s(13,E=rr(g))}catch(ae){s(12,g=void 0),s(15,b=`Invalid JSON Schema: ${ae.message}`);return}}}let O,N=!1;async function D(){try{s(18,O=""),s(19,N=!1),s(5,a=JSON.parse(o)),await Cs(),p==null||p.validateArguments(),s(19,N=!0)}catch(Q){s(18,O=ar(Q)),s(16,l=void 0),s(17,d=void 0)}}async function F(){if(await Cs(),!p)return;const Q=Mt(p.getArguments()),ae=JSON.stringify(yn(Q),null,2);ae!==o&&s(7,o=ae)}async function q(){s(20,G=!1),N||await D(),N&&(W(),await Cs(),B())}function W(){s(16,l={id:1,args_parallel:Mt(a),task_type:"parallel"}),s(17,d={args_schema_parallel:g})}function V(){s(10,h="pydantic_v2"),s(13,E="pydantic_v2");const Q={title:"Test",type:"object",properties:{foo:{title:"foo",type:"string"}},required:["foo"]},ae=Mt(Q);ae.properties.bar={title:"bar",type:"string"},ae.required.push("bar"),s(6,i=JSON.stringify(Q,null,2)),s(7,o=JSON.stringify({foo:"something"},null,2)),s(14,v=JSON.stringify(ae,null,2)),f(),m(),$()}let L="",G=!1,H="",Z=!0,se=null;function ke(){s(2,H=""),s(3,se=null)}function Pe(){s(2,H=L),ge()}function ge(){if(!H)return;s(21,Z=!0);let Q;try{Q=JSON.parse(H)}catch{s(21,Z=!1);return}j(Q)}function B(){const Q=l.args_parallel||{};s(1,L=JSON.stringify(Q,null,2)),j(Q)}function C(){H!==""?JSON.parse(H):l.args_parallel}function j(Q){const ae=d.args_schema_parallel,Ke=new Ut(E,!0);"properties"in ae&&no(ae,hn(!1));const le=Mt(ae);if(!Ke.loadSchema(le))throw new Error("Invalid JSON schema");Ke.isValid(Q)?s(3,se=null):(s(2,H=JSON.stringify(Q,null,2)),s(20,G=!0),s(3,se=Ke.getErrors()))}function T(){return((se==null?void 0:se.length)||0)>0}const _=[[],[]];function k(){h=this.__value,s(10,h)}function R(){h=this.__value,s(10,h)}function J(){i=this.value,s(6,i)}function X(){o=this.value,s(7,o)}function x(Q){qt[Q?"unshift":"push"](()=>{p=Q,s(11,p)})}function re(){E=this.__value,s(13,E)}function fe(){E=this.__value,s(13,E)}function Ve(){v=this.value,s(14,v)}function Xe(){H=this.value,s(2,H)}return t.$$.update=()=>{t.$$.dirty[0]&14&&(se===null||se.length)},s(22,n=hn(!1)),[ge,L,H,se,r,a,i,o,c,u,h,p,g,E,v,b,l,d,O,N,G,Z,n,f,m,$,D,F,q,V,ke,Pe,B,C,T,k,_,R,J,X,x,re,fe,Ve,Xe]}class sg extends Ye{constructor(e){super(),Qe(this,e,tg,eg,Je,{reset:30,cancel:31,check:0,checkArgumentsWithNewSchema:32,getNewArgs:33,hasValidationErrors:34},null,[-1,-1])}get reset(){return this.$$.ctx[30]}get cancel(){return this.$$.ctx[31]}get check(){return this.$$.ctx[0]}get checkArgumentsWithNewSchema(){return this.$$.ctx[32]}get getNewArgs(){return this.$$.ctx[33]}get hasValidationErrors(){return this.$$.ctx[34]}}const ng="ManifestV2",rg=`Packages containing tasks are required to include a special file
\`__FRACTAL_MANIFEST__.json\` in order to be discovered and used by Fractal.

This model class and the model classes it depends on provide the base
schema to read, write and validate manifests.

Attributes:
    manifest_version:
        A version string that provides indication for compatibility between
        manifests as the schema evolves. This is for instance used by
        Fractal to determine which subclass of the present base class needs
        be used to read and validate the input.
    task_list : list[TaskManifestType]
        The list of tasks, represented as specified by subclasses of the
        _TaskManifestBase (a.k.a. TaskManifestType)
    has_args_schemas:
        \`True\` if the manifest incldues JSON Schemas for the arguments of
        each task.
    args_schema_version:
        Label of how \`args_schema\`s were generated (e.g. \`pydantic_v2\`).`,ag="object",ig={manifest_version:{title:"Manifest Version",type:"string"},task_list:{title:"Task List",type:"array",items:{$ref:"#/definitions/TaskManifestV2"}},has_args_schemas:{title:"Has Args Schemas",default:!1,type:"boolean"},args_schema_version:{title:"Args Schema Version",type:"string"}},og=["manifest_version","task_list"],lg={TaskManifestV2:{title:"TaskManifestV2",description:`Represents a task within a V2 manifest.

Attributes:
    name:
        The task name
    executable:
        Path to the executable relative to the package root

        Note: by package root we mean "as it will be installed". If a
        package \`Pkg\` installs in the folder \`pkg\` the executable
        \`pkg/executable.py\`, this attribute must contain only
        \`executable.py\`.
    input_type:
        The input type accepted by the task
    output_type:
        The output type returned by the task
    meta:
        Additional information about the package, such as hash of the
        executable, specific runtime requirements (e.g., need_gpu=True),
        etc.
    args_schema:
        JSON Schema for task arguments
    docs_info:
        Additional information about the Task, coming from the docstring.
    docs_link:
        Link to Task docs.`,type:"object",properties:{name:{title:"Name",type:"string"},executable_non_parallel:{title:"Executable Non Parallel",type:"string"},executable_parallel:{title:"Executable Parallel",type:"string"},input_types:{title:"Input Types",type:"object",additionalProperties:{type:"boolean"}},output_types:{title:"Output Types",type:"object",additionalProperties:{type:"boolean"}},meta_non_parallel:{title:"Meta Non Parallel",type:"object"},meta_parallel:{title:"Meta Parallel",type:"object"},args_schema_non_parallel:{title:"Args Schema Non Parallel",type:"object"},args_schema_parallel:{title:"Args Schema Parallel",type:"object"},docs_info:{title:"Docs Info",type:"string"},docs_link:{title:"Docs Link",minLength:1,maxLength:2083,format:"uri",type:"string"}},required:["name"]}},cg={title:ng,description:rg,type:ag,properties:ig,required:og,definitions:lg};function Ui(t){let e,s="Clear",n,r;return{c(){e=P("button"),e.textContent=s,this.h()},l(a){e=I(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-gxi7fc"&&(e.textContent=s),this.h()},h(){y(e,"class","btn btn-outline-secondary")},m(a,i){M(a,e,i),n||(r=Y(e,"click",t[8]),n=!0)},p:$t,d(a){a&&w(e),n=!1,r()}}}function dg(t){let e,s,n,r,a,i,o,c,u,h,p,g,E,v='<i class="bi bi-file-earmark-arrow-up"></i> or drag file here',b,l,d=t[3]&&t[3].length>0&&Ui(t);return{c(){e=P("div"),s=P("div"),n=P("div"),r=P("label"),a=be(t[1]),i=z(),o=P("input"),c=z(),d&&d.c(),u=z(),h=P("span"),p=be(t[5]),g=z(),E=P("p"),E.innerHTML=v,this.h()},l(f){e=I(f,"DIV",{class:!0,role:!0});var m=A(e);s=I(m,"DIV",{class:!0});var $=A(s);n=I($,"DIV",{class:!0});var O=A(n);r=I(O,"LABEL",{for:!0,class:!0});var N=A(r);a=$e(N,t[1]),N.forEach(w),i=U(O),o=I(O,"INPUT",{class:!0,accept:!0,type:!0,name:!0,id:!0}),c=U(O),d&&d.l(O),u=U(O),h=I(O,"SPAN",{class:!0});var D=A(h);p=$e(D,t[5]),D.forEach(w),O.forEach(w),$.forEach(w),g=U(m),E=I(m,"P",{class:!0,"data-svelte-h":!0}),ie(E)!=="svelte-1vrh4wk"&&(E.innerHTML=v),m.forEach(w),this.h()},h(){y(r,"for",t[0]),y(r,"class","input-group-text"),y(o,"class","form-control"),y(o,"accept",t[2]),y(o,"type","file"),y(o,"name",t[0]),y(o,"id",t[0]),ve(o,"is-invalid",t[5]),y(h,"class","invalid-feedback"),y(n,"class","input-group has-validation"),y(s,"class","m-1"),y(E,"class","text-center mt-1 mb-1"),y(e,"class","dropZone bg-light svelte-1n1vpyg"),y(e,"role","region"),ve(e,"dragOver",t[6])},m(f,m){M(f,e,m),S(e,s),S(s,n),S(n,r),S(r,a),S(n,i),S(n,o),t[13](o),S(n,c),d&&d.m(n,null),S(n,u),S(n,h),S(h,p),S(e,g),S(e,E),b||(l=[Y(o,"change",t[14]),Y(o,"change",t[7]),Y(e,"drop",t[9]),Y(e,"dragover",t[10]),Y(e,"dragleave",t[11])],b=!0)},p(f,[m]){m&2&&Re(a,f[1]),m&1&&y(r,"for",f[0]),m&4&&y(o,"accept",f[2]),m&1&&y(o,"name",f[0]),m&1&&y(o,"id",f[0]),m&32&&ve(o,"is-invalid",f[5]),f[3]&&f[3].length>0?d?d.p(f,m):(d=Ui(f),d.c(),d.m(n,u)):d&&(d.d(1),d=null),m&32&&Re(p,f[5]),m&64&&ve(e,"dragOver",f[6])},i:$t,o:$t,d(f){f&&w(e),t[13](null),d&&d.d(),b=!1,ft(l)}}}function ug(t,e,s){let{id:n}=e,{description:r}=e,{accept:a}=e,{validateFile:i}=e;const o=Yi();let c=null,u,h="";async function p(){if(s(5,h=""),!c||c.length===0){o("change",{value:null});return}const $=c[0];await v($)}function g(){s(5,h=""),s(3,c=null),u&&s(4,u.value="",u),o("change",{value:null})}async function E($){$.preventDefault(),s(6,b=!1),$.dataTransfer&&$.dataTransfer.files.length>0&&(s(3,c=$.dataTransfer.files),s(4,u.files=c,u),await v(c[0]))}async function v($){s(5,h="");let O=await $.text();try{const N=i(O);o("change",{value:N})}catch(N){s(5,h=N.message),o("change",{value:null})}}let b=!1;function l($){$.preventDefault(),s(6,b=!0)}function d(){s(6,b=!1)}function f($){qt[$?"unshift":"push"](()=>{u=$,s(4,u)})}function m(){c=this.files,s(3,c)}return t.$$set=$=>{"id"in $&&s(0,n=$.id),"description"in $&&s(1,r=$.description),"accept"in $&&s(2,a=$.accept),"validateFile"in $&&s(12,i=$.validateFile)},[n,r,a,c,u,h,b,p,g,E,l,d,i,f,m]}class fg extends Ye{constructor(e){super(),Qe(this,e,ug,dg,Je,{id:0,description:1,accept:2,validateFile:12})}}function qi(t,e,s){const n=t.slice();return n[37]=e[s],n}function Bi(t){let e,s,n="Task",r,a,i,o="Select...",c,u,h=vt(t[0]),p=[];for(let g=0;g<h.length;g+=1)p[g]=Hi(qi(t,h,g));return{c(){e=P("div"),s=P("label"),s.textContent=n,r=z(),a=P("select"),i=P("option"),i.textContent=o;for(let g=0;g<p.length;g+=1)p[g].c();this.h()},l(g){e=I(g,"DIV",{class:!0});var E=A(e);s=I(E,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ie(s)!=="svelte-1gr3pmm"&&(s.textContent=n),r=U(E),a=I(E,"SELECT",{class:!0,name:!0,id:!0});var v=A(a);i=I(v,"OPTION",{"data-svelte-h":!0}),ie(i)!=="svelte-xkszye"&&(i.textContent=o);for(let b=0;b<p.length;b+=1)p[b].l(v);v.forEach(w),E.forEach(w),this.h()},h(){y(s,"for","selectedTask"),y(s,"class","input-group-text"),i.__value="",Ee(i,i.__value),y(a,"class","form-select"),y(a,"name","selectedTask"),y(a,"id","selectedTask"),t[1]===void 0&&Wi(()=>t[21].call(a)),y(e,"class","input-group")},m(g,E){M(g,e,E),S(e,s),S(e,r),S(e,a),S(a,i);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(a,null);cn(a,t[1],!0),c||(u=[Y(a,"change",t[21]),Y(a,"change",t[22])],c=!0)},p(g,E){if(E[0]&1){h=vt(g[0]);let v;for(v=0;v<h.length;v+=1){const b=qi(g,h,v);p[v]?p[v].p(b,E):(p[v]=Hi(b),p[v].c(),p[v].m(a,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=h.length}E[0]&3&&cn(a,g[1])},d(g){g&&w(e),Vs(p,g),c=!1,ft(u)}}}function Hi(t){let e,s=t[37]+"",n,r;return{c(){e=P("option"),n=be(s),this.h()},l(a){e=I(a,"OPTION",{});var i=A(e);n=$e(i,s),i.forEach(w),this.h()},h(){e.__value=r=t[37],Ee(e,e.__value)},m(a,i){M(a,e,i),S(e,n)},p(a,i){i[0]&1&&s!==(s=a[37]+"")&&Re(n,s),i[0]&1&&r!==(r=a[37])&&(e.__value=r,Ee(e,e.__value))},d(a){a&&w(e)}}}function Gi(t){let e,s,n,r,a,i,o,c="non parallel",u,h,p,g,E,v,b="parallel",l,d,f,m,$,O,N="JSON Schema",D,F,q,W,V,L,G,H="Initial JSON data",Z,se,ke,Pe,ge,B,C,j,T,_,k,R="Validate",J,X,x,re,fe,Ve,Xe,Q=t[11]&&Ji(t),ae=t[12]&&Ki(),Ke={componentId:"json-schema-task-manifest-sandbox",schema:t[2],schemaVersion:t[3],schemaData:t[6],propertiesToIgnore:t[14]};return x=new la({props:Ke}),t[29](x),x.$on("change",t[20]),fe=dn(t[24][0]),{c(){e=P("div"),s=P("div"),n=P("div"),r=P("input"),i=z(),o=P("label"),o.textContent=c,u=z(),h=P("div"),p=P("input"),E=z(),v=P("label"),v.textContent=b,l=z(),d=P("div"),f=P("div"),m=P("div"),$=P("div"),O=P("label"),O.textContent=N,D=z(),F=P("textarea"),W=z(),V=P("div"),L=P("div"),G=P("label"),G.textContent=H,Z=z(),se=P("textarea"),ke=z(),Pe=P("span"),ge=be(t[8]),B=z(),C=P("div"),j=P("div"),Q&&Q.c(),T=z(),ae&&ae.c(),_=z(),k=P("button"),k.textContent=R,J=z(),X=P("div"),Ne(x.$$.fragment),this.h()},l(le){e=I(le,"DIV",{class:!0});var he=A(e);s=I(he,"DIV",{class:!0});var Me=A(s);n=I(Me,"DIV",{class:!0});var xe=A(n);r=I(xe,"INPUT",{class:!0,type:!0,name:!0,id:!0}),i=U(xe),o=I(xe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(o)!=="svelte-6tt7zp"&&(o.textContent=c),xe.forEach(w),u=U(Me),h=I(Me,"DIV",{class:!0});var He=A(h);p=I(He,"INPUT",{class:!0,type:!0,name:!0,id:!0}),E=U(He),v=I(He,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(v)!=="svelte-194lgmh"&&(v.textContent=b),He.forEach(w),Me.forEach(w),he.forEach(w),l=U(le),d=I(le,"DIV",{class:!0});var Oe=A(d);f=I(Oe,"DIV",{class:!0});var Se=A(f);m=I(Se,"DIV",{class:!0});var we=A(m);$=I(we,"DIV",{class:!0});var ce=A($);O=I(ce,"LABEL",{for:!0,"data-svelte-h":!0}),ie(O)!=="svelte-1a7gyog"&&(O.textContent=N),D=U(ce),F=I(ce,"TEXTAREA",{id:!0,class:!0,rows:!0}),A(F).forEach(w),ce.forEach(w),we.forEach(w),W=U(Se),V=I(Se,"DIV",{class:!0});var me=A(V);L=I(me,"DIV",{class:!0});var De=A(L);G=I(De,"LABEL",{for:!0,"data-svelte-h":!0}),ie(G)!=="svelte-k3khj6"&&(G.textContent=H),Z=U(De),se=I(De,"TEXTAREA",{id:!0,class:!0,rows:!0}),A(se).forEach(w),ke=U(De),Pe=I(De,"SPAN",{class:!0});var gt=A(Pe);ge=$e(gt,t[8]),gt.forEach(w),De.forEach(w),me.forEach(w),B=U(Se),C=I(Se,"DIV",{class:!0});var et=A(C);j=I(et,"DIV",{class:!0});var Fe=A(j);Q&&Q.l(Fe),T=U(Fe),ae&&ae.l(Fe),_=U(Fe),k=I(Fe,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(k)!=="svelte-196bi3s"&&(k.textContent=R),Fe.forEach(w),et.forEach(w),Se.forEach(w),J=U(Oe),X=I(Oe,"DIV",{class:!0});var je=A(X);Ce(x.$$.fragment,je),je.forEach(w),Oe.forEach(w),this.h()},h(){y(r,"class","form-check-input"),y(r,"type","radio"),y(r,"name","schemaTypeSelector"),y(r,"id","schemaNonParallelSelector"),r.__value="non_parallel",Ee(r,r.__value),r.disabled=a=!t[9],y(o,"class","form-check-label"),y(o,"for","schemaNonParallelSelector"),y(n,"class","form-check form-check-inline"),y(p,"class","form-check-input"),y(p,"type","radio"),y(p,"name","schemaTypeSelector"),y(p,"id","schemaParallelSelector"),p.__value="parallel",Ee(p,p.__value),p.disabled=g=!t[10],y(v,"class","form-check-label"),y(v,"for","schemaParallelSelector"),y(h,"class","form-check form-check-inline"),y(s,"class","col-md-6"),y(e,"class","row mt-3"),y(O,"for","jschema"),y(F,"id","jschema"),y(F,"class","form-control"),F.value=q=JSON.stringify(t[2],null,2),y(F,"rows","10"),F.disabled=!0,y($,"class","col"),y(m,"class","row"),y(G,"for","jdata"),y(se,"id","jdata"),y(se,"class","form-control"),y(se,"rows","10"),ve(se,"is-invalid",t[8]),y(Pe,"class","invalid-feedback"),y(L,"class","col"),y(V,"class","row has-validation mt-3 mb-2"),y(k,"class","btn btn-primary"),y(j,"class","col"),y(C,"class","row mt-3 mb-2"),y(f,"class","col-lg-6"),y(X,"class","col-lg-6"),y(d,"class","row mt-2 mb-3"),fe.p(r,p)},m(le,he){M(le,e,he),S(e,s),S(s,n),S(n,r),r.checked=r.__value===t[4],S(n,i),S(n,o),S(s,u),S(s,h),S(h,p),p.checked=p.__value===t[4],S(h,E),S(h,v),M(le,l,he),M(le,d,he),S(d,f),S(f,m),S(m,$),S($,O),S($,D),S($,F),S(f,W),S(f,V),S(V,L),S(L,G),S(L,Z),S(L,se),Ee(se,t[7]),S(L,ke),S(L,Pe),S(Pe,ge),S(f,B),S(f,C),S(C,j),Q&&Q.m(j,null),S(j,T),ae&&ae.m(j,null),S(j,_),S(j,k),S(d,J),S(d,X),Te(x,X,null),re=!0,Ve||(Xe=[Y(r,"change",t[23]),Y(r,"change",t[25]),Y(p,"change",t[26]),Y(p,"change",t[27]),Y(se,"input",t[28]),Y(se,"input",t[19]),Y(k,"click",t[15])],Ve=!0)},p(le,he){(!re||he[0]&512&&a!==(a=!le[9]))&&(r.disabled=a),he[0]&16&&(r.checked=r.__value===le[4]),(!re||he[0]&1024&&g!==(g=!le[10]))&&(p.disabled=g),he[0]&16&&(p.checked=p.__value===le[4]),(!re||he[0]&4&&q!==(q=JSON.stringify(le[2],null,2)))&&(F.value=q),he[0]&128&&Ee(se,le[7]),(!re||he[0]&256)&&ve(se,"is-invalid",le[8]),(!re||he[0]&256)&&Re(ge,le[8]),le[11]?Q?Q.p(le,he):(Q=Ji(le),Q.c(),Q.m(j,T)):Q&&(Q.d(1),Q=null),le[12]?ae||(ae=Ki(),ae.c(),ae.m(j,_)):ae&&(ae.d(1),ae=null);const Me={};he[0]&4&&(Me.schema=le[2]),he[0]&8&&(Me.schemaVersion=le[3]),he[0]&64&&(Me.schemaData=le[6]),he[0]&16384&&(Me.propertiesToIgnore=le[14]),x.$set(Me)},i(le){re||(te(x.$$.fragment,le),re=!0)},o(le){oe(x.$$.fragment,le),re=!1},d(le){le&&(w(e),w(l),w(d)),Q&&Q.d(),ae&&ae.d(),t[29](null),Ae(x),fe.r(),Ve=!1,ft(Xe)}}}function Ji(t){let e,s,n;return{c(){e=P("div"),s=P("pre"),n=be(t[11]),this.h()},l(r){e=I(r,"DIV",{class:!0});var a=A(e);s=I(a,"PRE",{});var i=A(s);n=$e(i,t[11]),i.forEach(w),a.forEach(w),this.h()},h(){y(e,"class","alert alert-danger")},m(r,a){M(r,e,a),S(e,s),S(s,n)},p(r,a){a[0]&2048&&Re(n,r[11])},d(r){r&&w(e)}}}function Ki(t){let e,s="Data is valid";return{c(){e=P("div"),e.textContent=s,this.h()},l(n){e=I(n,"DIV",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1pkeccj"&&(e.textContent=s),this.h()},h(){y(e,"class","alert alert-success")},m(n,r){M(n,e,r)},d(n){n&&w(e)}}}function hg(t){let e,s="Sandbox page for task package manifest",n,r,a="This is a test page for the JSON Schema form of a whole task package manifest",i,o,c,u,h,p,g="An entire task package manifest",E,v,b,l,d;u=new fg({props:{description:"Upload manifest file",accept:"application/json",id:"manifestFileUpload",validateFile:t[16]}}),u.$on("change",t[17]);let f=t[0].length>0&&Bi(t),m=t[2]&&t[5]&&Gi(t);return{c(){e=P("h1"),e.textContent=s,n=z(),r=P("p"),r.textContent=a,i=z(),o=P("div"),c=P("div"),Ne(u.$$.fragment),h=z(),p=P("div"),p.textContent=g,E=z(),v=P("div"),f&&f.c(),b=z(),m&&m.c(),l=Be(),this.h()},l($){e=I($,"H1",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-hnw4ua"&&(e.textContent=s),n=U($),r=I($,"P",{"data-svelte-h":!0}),ie(r)!=="svelte-1diwin4"&&(r.textContent=a),i=U($),o=I($,"DIV",{class:!0});var O=A(o);c=I(O,"DIV",{class:!0});var N=A(c);Ce(u.$$.fragment,N),h=U(N),p=I(N,"DIV",{class:!0,"data-svelte-h":!0}),ie(p)!=="svelte-1x7zb2r"&&(p.textContent=g),N.forEach(w),E=U(O),v=I(O,"DIV",{class:!0});var D=A(v);f&&f.l(D),D.forEach(w),O.forEach(w),b=U($),m&&m.l($),l=Be(),this.h()},h(){y(e,"class","fw-light"),y(p,"class","form-text"),y(c,"class","col-lg-7"),y(v,"class","col-lg-5"),y(o,"class","row")},m($,O){M($,e,O),M($,n,O),M($,r,O),M($,i,O),M($,o,O),S(o,c),Te(u,c,null),S(c,h),S(c,p),S(o,E),S(o,v),f&&f.m(v,null),M($,b,O),m&&m.m($,O),M($,l,O),d=!0},p($,O){$[0].length>0?f?f.p($,O):(f=Bi($),f.c(),f.m(v,null)):f&&(f.d(1),f=null),$[2]&&$[5]?m?(m.p($,O),O[0]&36&&te(m,1)):(m=Gi($),m.c(),te(m,1),m.m(l.parentNode,l)):m&&(wt(),oe(m,1,1,()=>{m=null}),St())},i($){d||(te(u.$$.fragment,$),te(m),d=!0)},o($){oe(u.$$.fragment,$),oe(m),d=!1},d($){$&&(w(e),w(n),w(r),w(i),w(o),w(b),w(l)),Ae(u),f&&f.d(),m&&m.d($)}}}function mg(t,e,s){let n,r=null,a=[],i="",o,c="pydantic_v2",u="non_parallel",h,p,g="",E="",v=!1,b=!1,l="",d=!1;function f(){r=null,s(12,d=!1),s(11,l=""),s(0,a=[]),s(1,i=""),s(2,o=null),s(5,h=null),s(8,E="")}function m(){try{s(11,l=""),s(12,d=!1),$==null||$.validateArguments(),s(12,d=!0)}catch(_){s(11,l=ar(_))}}let $;function O(_){let k;try{k=JSON.parse(_)}catch{throw new Error("File doesn't contain valid JSON")}if(k.args_schema_version!=="pydantic_v2"&&k.args_schema_version!=="pydantic_v1")throw new Error("Unsupported manifest args schema version");if(s(3,c=k.args_schema_version),D(k)){if(k.manifest_version!=="2")throw new Error("Unsupported manifest version")}else throw new Error("Invalid manifest format");return k}function N({detail:_}){_.value===null?f():F(_.value)}function D(_){const k=new Ut(c);return k.loadSchema(cg),k.isValid(_)}function F(_){r=_,s(0,a=r.task_list.map(k=>k.name))}async function q(_=void 0){if(s(8,E=""),s(11,l=""),s(12,d=!1),!i){s(2,o=null),s(5,h=null);return}s(5,h=r.task_list.filter(k=>k.name===i)[0]),s(9,v=W(h.args_schema_non_parallel)),s(10,b=W(h.args_schema_parallel)),_?s(4,u=_):v?s(4,u="non_parallel"):s(4,u="parallel"),u==="non_parallel"?s(2,o=h.args_schema_non_parallel):s(2,o=h.args_schema_parallel),await L()}function W(_){if(!_)return!1;const k=so(_,n);return Object.keys(k.properties).length>0}function V(){s(11,l=""),s(8,E="");try{s(6,p=JSON.parse(g))}catch{s(6,p=void 0),s(8,E="Invalid JSON")}}async function L(){await Cs(),$&&H($.getArguments())}function G({detail:_}){H(_.value)}function H(_){const k=Mt(_),R=JSON.stringify(yn(k),null,2);R!==g&&s(7,g=R)}const Z=[[]];function se(){i=Zi(this),s(1,i),s(0,a)}const ke=()=>q();function Pe(){u=this.__value,s(4,u)}const ge=()=>q("non_parallel");function B(){u=this.__value,s(4,u)}const C=()=>q("parallel");function j(){g=this.value,s(7,g)}function T(_){qt[_?"unshift":"push"](()=>{$=_,s(13,$)})}return s(14,n=hn(!1)),[a,i,o,c,u,h,p,g,E,v,b,l,d,$,n,m,O,N,q,V,G,se,ke,Pe,Z,ge,B,C,j,T]}class pg extends Ye{constructor(e){super(),Qe(this,e,mg,hg,Je,{},null,[-1,-1])}}function vg(t){let e,s;return e=new pg({}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function gg(t){let e,s;return e=new sg({}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function _g(t){let e,s;return e=new Yv({}),{c(){Ne(e.$$.fragment)},l(n){Ce(e.$$.fragment,n)},m(n,r){Te(e,n,r),s=!0},i(n){s||(te(e.$$.fragment,n),s=!0)},o(n){oe(e.$$.fragment,n),s=!1},d(n){Ae(e,n)}}}function yg(t){let e,s,n,r="Documentation",a,i,o,c,u="JSON Schema",h,p,g,E="Version update",v,b,l,d="Task manifest",f,m,$,O,N,D,F;const q=[_g,gg,vg],W=[];function V(L,G){return L[0]==="jschema"?0:L[0]==="version-update"?1:L[0]==="task-manifest"?2:-1}return~($=V(t))&&(O=W[$]=q[$](t)),{c(){e=P("nav"),s=P("div"),n=P("a"),n.textContent=r,a=z(),i=P("ul"),o=P("li"),c=P("a"),c.textContent=u,h=z(),p=P("li"),g=P("a"),g.textContent=E,v=z(),b=P("li"),l=P("a"),l.textContent=d,f=z(),m=P("div"),O&&O.c(),this.h()},l(L){e=I(L,"NAV",{class:!0});var G=A(e);s=I(G,"DIV",{class:!0});var H=A(s);n=I(H,"A",{class:!0,href:!0,"data-svelte-h":!0}),ie(n)!=="svelte-18xrz6w"&&(n.textContent=r),a=U(H),i=I(H,"UL",{class:!0});var Z=A(i);o=I(Z,"LI",{class:!0});var se=A(o);c=I(se,"A",{class:!0,href:!0,"data-svelte-h":!0}),ie(c)!=="svelte-1ohdgo9"&&(c.textContent=u),se.forEach(w),h=U(Z),p=I(Z,"LI",{class:!0});var ke=A(p);g=I(ke,"A",{class:!0,href:!0,"data-svelte-h":!0}),ie(g)!=="svelte-1rsyf2"&&(g.textContent=E),ke.forEach(w),v=U(Z),b=I(Z,"LI",{class:!0});var Pe=A(b);l=I(Pe,"A",{class:!0,href:!0,"data-svelte-h":!0}),ie(l)!=="svelte-1cigway"&&(l.textContent=d),Pe.forEach(w),Z.forEach(w),H.forEach(w),G.forEach(w),f=U(L),m=I(L,"DIV",{class:!0});var ge=A(m);O&&O.l(ge),ge.forEach(w),this.h()},h(){y(n,"class","navbar-brand"),y(n,"href","https://fractal-analytics-platform.github.io/fractal-web/"),y(c,"class","nav-link"),y(c,"href","#jschema"),ve(c,"active",t[0]==="jschema"),y(o,"class","nav-item"),y(g,"class","nav-link"),y(g,"href","#version-update"),ve(g,"active",t[0]==="version-update"),y(p,"class","nav-item"),y(l,"class","nav-link"),y(l,"href","#task-manifest"),ve(l,"active",t[0]==="task-manifest"),y(b,"class","nav-item"),y(i,"class","navbar-nav me-auto"),y(s,"class","container"),y(e,"class","navbar navbar-expand-lg bg-light mb-3 border-bottom"),y(m,"class","container")},m(L,G){M(L,e,G),S(e,s),S(s,n),S(s,a),S(s,i),S(i,o),S(o,c),S(i,h),S(i,p),S(p,g),S(i,v),S(i,b),S(b,l),M(L,f,G),M(L,m,G),~$&&W[$].m(m,null),N=!0,D||(F=[Y(c,"click",t[1]),Y(g,"click",t[2]),Y(l,"click",t[3])],D=!0)},p(L,[G]){(!N||G&1)&&ve(c,"active",L[0]==="jschema"),(!N||G&1)&&ve(g,"active",L[0]==="version-update"),(!N||G&1)&&ve(l,"active",L[0]==="task-manifest");let H=$;$=V(L),$!==H&&(O&&(wt(),oe(W[H],1,1,()=>{W[H]=null}),St()),~$?(O=W[$],O||(O=W[$]=q[$](L),O.c()),te(O,1),O.m(m,null)):O=null)},i(L){N||(te(O),N=!0)},o(L){oe(O),N=!1},d(L){L&&(w(e),w(f),w(m)),~$&&W[$].d(),D=!1,ft(F)}}}function bg(t,e,s){const n=["jschema","version-update","task-manifest"];let r="jschema";return _s(()=>{for(const c of n)if(`#${c}`===location.hash){s(0,r=c);break}}),[r,()=>s(0,r="jschema"),()=>s(0,r="version-update"),()=>s(0,r="task-manifest")]}class wg extends Ye{constructor(e){super(),Qe(this,e,bg,yg,Je,{})}}export{wg as component};
