import{A as ht,s as He,e as k,d as S,f as O,i as $,v,k as R,n as ft,r as gr,x as Ut,b as M,j as z,t as Ee,h as ke,l as w,m as De,c as al,O as _e,P as G,u as sl,g as il,a as ol,Q as ne,R as ws,S as $e,T as Hi,F as Gi,U as cn,V as Mr,W as Wi,p as Ke,X as Xi,Y as un,z as jr}from"../chunks/scheduler.iSOZDcen.js";import{a as ie,t as x,S as Ye,i as Qe,b as Ce,d as je,m as Oe,e as Te,g as Et,c as kt}from"../chunks/index.DpHn5gGv.js";function vt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ll(t,e){ie(t,1,1,()=>{e.delete(t.key)})}function cl(t,e,r,n,a,s,i,o,l,c,u,d){let f=t.length,p=s.length,h=f;const E={};for(;h--;)E[t[h].key]=h;const g=[],_=new Map,y=new Map,P=[];for(h=p;h--;){const L=d(a,s,h),W=r(L);let te=i.get(W);te?P.push(()=>te.p(L,e)):(te=c(W,L),te.c()),_.set(W,g[h]=te),W in E&&y.set(W,Math.abs(h-E[W]))}const I=new Set,C=new Set;function D(L){x(L,1),L.m(o,u),i.set(L.key,L),u=L.first,p--}for(;f&&p;){const L=g[p-1],W=t[f-1],te=L.key,ce=W.key;L===W?(u=L.first,f--,p--):_.has(ce)?!i.has(te)||I.has(te)?D(L):C.has(ce)?f--:y.get(te)>y.get(ce)?(C.add(te),D(L)):(I.add(ce),f--):(l(W,i),f--)}for(;f--;){const L=t[f];_.has(L.key)||l(L,i)}for(;p;)D(g[p-1]);return ht(P),g}function zt(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))}function dn(t){return t===void 0?null:t}function fn(t){return typeof t=="object"&&t!==null&&t!==void 0}function yn(t){const e=Zi(t);return Yi(e)}function Zi(t){return Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=t[e].filter(r=>r!==null&&r!=="")),t[e]&&typeof t[e]=="object"?Zi(t[e]):(t[e]===null||t[e]==="")&&delete t[e]}),t}function Yi(t){return Object.keys(t).forEach(e=>{t[e]&&typeof t[e]=="object"&&(Yi(t[e]),Object.keys(t[e]).length===0&&delete t[e])}),t}function aa(t){return t instanceof rl?JSON.stringify(t.errors.length===1?t.errors[0]:t.errors,null,2):(console.error(t),t.message)}function ul(t){return"minimum"in t&&t.minimum!==void 0?Number(t.minimum):"exclusiveMinimum"in t&&t.exclusiveMinimum!==void 0?Number(t.exclusiveMinimum)+1:null}function dl(t){return"maximum"in t&&t.maximum!==void 0?Number(t.maximum):"exclusiveMaximum"in t&&t.exclusiveMaximum!==void 0?Number(t.exclusiveMaximum)-1:null}function Qi(t){return"minItems"in t&&typeof t.minItems=="number"&&"maxItems"in t&&typeof t.maxItems=="number"&&t.minItems===t.maxItems}function xi(t,e){const r=t.properties||{};if(t.additionalProperties)for(const n of Object.keys(e))Object.keys(r).includes(n)||(r[n]=t.additionalProperties);return r}function fl(t,e){const r=t.properties||{};return!Object.keys(r).includes(e)}function hn(t){return t?["input_paths","output_path","metadata","component"]:["zarr_url","zarr_urls","init_args","zarr_dir"]}function hl(t,e,r=void 0){const n=r==null||Object.keys(r).length===0;return wt(t,e,!0,r,n)}function ml(t,e,r,n){const a=t.required||[],s={};r==null&&(r={});const i=xi(t,r);for(const[o,l]of Object.entries(i)){const c=a.includes(o);s[o]=wt(l,e,c,dn(r[o]),n)}return s}function wt(t,e,r,n,a){if(!t)return null;if(a&&"default"in t)return wt(t,e,r,t.default,!1);if(t.type===null)return null;switch(t.type){case"object":return ml(t,e,n,a);case"array":{const s=t;return Qi(s)?_l(s,e,r,n,a):pl(s,e,r,n,a)}default:return dn(n)}}function pl(t,e,r,n,a){Array.isArray(n)||(n=[]);const s=t.items;let i=[];for(let o=0;o<n.length;o++)i.push(wt(s,e,r,n[o],a));if(r&&typeof t.minItems=="number"&&i.length<t.minItems)for(let o=i.length;o<t.minItems;o++)i.push(wt(s,e,r,null,a));return i}function _l(t,e,r,n,a){if(Array.isArray(n)||(n=[]),!r&&n.length===0)return n;let s=[];for(let o=0;o<n.length;o++)s.push(wt(Es(t,e,o),e,r,n[o],a));const i=t.minItems;for(let o=s.length;o<i;o++)s.push(wt(Es(t,e,o),e,!1,null,a));return s.length>i&&(console.warn("Tuple initial value has more items than allowed (%d)",i,n),s.splice(i,s.length)),s}function Es(t,e,r){const n=e==="pydantic_v1"?t.items:t.prefixItems;return Array.isArray(n)?r<n.length?n[r]:(console.warn("Unable to retrieve tuple child on index %d",r),null):n}class $n{constructor(e){this.manager=e.manager,this.id=e.id,this.key=e.key,this.type=e.type,this.title=e.title,this.required=e.required,this.description=e.description,this.removable=e.removable,this.property=e.property}notifyChange(){this.manager.notifyChange()}}class zr extends $n{constructor(e){super(e),this.value=e.value}}class vl extends zr{constructor(e){super(e)}}class gl extends zr{constructor(e){super(e)}}class yl extends zr{constructor(e){super(e),this.options=e.options}}class ks extends zr{constructor(e){super(e),this.min=e.min,this.max=e.max,this.badInput=!1}}class $l extends $n{constructor(e){super(e),this.additionalProperties=e.additionalProperties,this.children=e.children,this.collapsed=!e.required}addChild(e){if(!this.additionalProperties)return;if(e==="")throw new Error("Schema property has no name");if(this.children.map(a=>a.key).includes(e))throw new Error("Schema property already has a property with the same name");const n=this.manager.createFormElement({key:e,property:this.additionalProperties,required:!1,removable:!0,value:wt(this.additionalProperties,this.manager.schemaVersion,!1,this.additionalProperties.default,!1)});n.title=e,n.removable=!0,this.children=[...this.children,n],this.notifyChange()}removeChild(e){if(!this.additionalProperties){console.warn("Attempted to call remove child on element without additional properties");return}const r=this.children.filter(a=>a.key===e);if(r.length===0){console.warn("Attempted to remove not existing key %s",e);return}const[n]=r;if(!n.removable){console.warn("Attempted to remove not removable child");return}this.children=this.children.filter(a=>a.key!==e),this.notifyChange()}resetChild(e){const r=this.children[e],n=r.property.default;if(n===void 0)return;const a=this.manager.createFormElement({key:r.key,property:r.property,required:r.required,removable:r.removable,value:n});a.collapsed=r.collapsed,this.children[e]=a,this.notifyChange()}}class bl extends $n{constructor(e){super(e),this.children=e.children,this.items=e.items,this.minItems=e.minItems,this.maxItems=e.maxItems,this.collapsed=!e.required}addChild(){if(typeof this.maxItems=="number"&&this.children.length===this.maxItems)return;const e=this.manager.createFormElement({key:null,property:this.items,required:!1,removable:!0,value:wt(this.items,this.manager.schemaVersion,!1,void 0,!0)});this.children=[...this.children,e],this.notifyChange()}removeChild(e){this.children.splice(e,1),this.notifyChange()}moveChildUp(e){if(e>0){let r=[];for(let n=0;n<this.children.length;n++)n===e-1?r[n]=this.children[n+1]:n===e?r[n]=this.children[n-1]:r[n]=this.children[n];this.children=r,this.notifyChange()}}moveChildDown(e){if(e<this.children.length-1){let r=[];for(let n=0;n<this.children.length;n++)n===e?r[n]=this.children[n+1]:n===e+1?r[n]=this.children[n-1]:r[n]=this.children[n];this.children=r,this.notifyChange()}}}class wl extends $n{constructor(e){super(e),this.children=e.children,this.items=e.items,this.size=e.size,this.collapsed=!e.required}addTuple(){let e;if(Array.isArray(this.items))e=this.items.map((r,n)=>wt(r,this.manager.schemaVersion,!1,Array.isArray(this.property.default)?this.property.default[n]:void 0,!1));else{const r=this.items;e=Array(this.size).map(n=>wt(r,this.manager.schemaVersion,!1,Array.isArray(this.property.default)?this.property.default[n]:void 0,!1))}this.children=this.manager.createTupleChildren({items:this.items,size:this.size,value:e}),this.notifyChange()}removeTuple(){this.children=[],this.notifyChange()}}function eo(t,e=[]){let r=to(t,e);return r=rn(r,r),r=Bn(r),r}function to(t,e=[]){const r=zt(t);for(const n of Object.keys(r.properties||{}))e.includes(n)&&delete r.properties[n];return r.required&&(r.required=r.required.filter(n=>!e.includes(n))),r}function rn(t,e){if(Array.isArray(e)){const r=[];for(const n of e)r.push(rn(t,n));return r}else if(fn(e)){const r={};for(const[n,a]of Object.entries(e))if(n==="$ref"&&typeof a=="string"){const s=El(t,a);for(const[i,o]of Object.entries(s))r[i]=rn(t,o)}else r[n]=rn(t,a);return r}else return e}function El(t,e){if(!e.startsWith("#/"))throw new Error(`Unsupported $ref field format: ${e}`);const r=e.substring(2).split("/");let n=t;for(const a of r){if(!(a in n))throw new Error(`Unable to resolve reference ${e}. Key ${a} not found.`);n=n[a]}return n}function Bn(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(Bn(r));return e}else if(fn(t)){const e={};for(const[r,n]of Object.entries(t))if(r==="allOf"&&Array.isArray(n))for(const a of n)for(const[s,i]of Object.entries(a))kl(e,s,i);else e[r]=Bn(n);return e}else return t}function kl(t,e,r){e in t?Array.isArray(t[e])&&Array.isArray(r)?t[e]=[...t[e],...r]:fn(t)&&fn(r)&&(t[e]={...t[e],...r}):t[e]=r}function sa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hn={exports:{}},ia={},_t={},vr={},Fr={},de={},Vr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(y){if(super(),!t.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((P,I)=>`${P}${I}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((P,I)=>(I instanceof r&&(P[I.str]=(P[I.str]||0)+1),P),{})}}t._Code=n,t.nil=new n("");function a(_,...y){const P=[_[0]];let I=0;for(;I<y.length;)o(P,y[I]),P.push(_[++I]);return new n(P)}t._=a;const s=new n("+");function i(_,...y){const P=[p(_[0])];let I=0;for(;I<y.length;)P.push(s),o(P,y[I]),P.push(s,p(_[++I]));return l(P),new n(P)}t.str=i;function o(_,y){y instanceof n?_.push(...y._items):y instanceof r?_.push(y):_.push(d(y))}t.addCodeArg=o;function l(_){let y=1;for(;y<_.length-1;){if(_[y]===s){const P=c(_[y-1],_[y+1]);if(P!==void 0){_.splice(y-1,3,P);continue}_[y++]="+"}y++}}function c(_,y){if(y==='""')return _;if(_==='""')return y;if(typeof _=="string")return y instanceof r||_[_.length-1]!=='"'?void 0:typeof y!="string"?`${_.slice(0,-1)}${y}"`:y[0]==='"'?_.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(_ instanceof r))return`"${_}${y.slice(1)}`}function u(_,y){return y.emptyStr()?_:_.emptyStr()?y:i`${_}${y}`}t.strConcat=u;function d(_){return typeof _=="number"||typeof _=="boolean"||_===null?_:p(Array.isArray(_)?_.join(","):_)}function f(_){return new n(p(_))}t.stringify=f;function p(_){return JSON.stringify(_).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=p;function h(_){return typeof _=="string"&&t.IDENTIFIER.test(_)?new n(`.${_}`):a`[${_}]`}t.getProperty=h;function E(_){if(typeof _=="string"&&t.IDENTIFIER.test(_))return new n(`${_}`);throw new Error(`CodeGen: invalid export name: ${_}, use explicit $id name mapping`)}t.getEsmExportName=E;function g(_){return new n(_.toString())}t.regexpCode=g})(Vr);var Gn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Vr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class a{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=a;class s extends e.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:d}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(u)}[${d}]`}}t.ValueScopeName=s;const i=(0,e._)`\n`;class o extends a{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:e.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(c),{prefix:p}=f,h=(d=u.key)!==null&&d!==void 0?d:u.ref;let E=this._values[p];if(E){const y=E.get(h);if(y)return y}else E=this._values[p]=new Map;E.set(h,f);const g=this._scope[p]||(this._scope[p]=[]),_=g.length;return g[_]=u.ref,f.setValue(u,{property:p,itemIndex:_}),f}getValue(c,u){const d=this._values[c];if(d)return d.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${c}${d.scopePath}`})}scopeCode(c=this._values,u,d){return this._reduceValues(c,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},u,d)}_reduceValues(c,u,d={},f){let p=e.nil;for(const h in c){const E=c[h];if(!E)continue;const g=d[h]=d[h]||new Map;E.forEach(_=>{if(g.has(_))return;g.set(_,n.Started);let y=u(_);if(y){const P=this.opts.es5?t.varKinds.var:t.varKinds.const;p=(0,e._)`${p}${P} ${_} = ${y};${this.opts._n}`}else if(y=f==null?void 0:f(_))p=(0,e._)`${p}${y}${this.opts._n}`;else throw new r(_);g.set(_,n.Completed)})}return p}}t.ValueScope=o})(Gn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Vr,r=Gn;var n=Vr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Gn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(m,b){return this}}class i extends s{constructor(m,b,T){super(),this.varKind=m,this.name=b,this.rhs=T}render({es5:m,_n:b}){const T=m?r.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${K};`+b}optimizeNames(m,b){if(m[this.name.str])return this.rhs&&(this.rhs=U(this.rhs,m,b)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(m,b,T){super(),this.lhs=m,this.rhs=b,this.sideEffects=T}render({_n:m}){return`${this.lhs} = ${this.rhs};`+m}optimizeNames(m,b){if(!(this.lhs instanceof e.Name&&!m[this.lhs.str]&&!this.sideEffects))return this.rhs=U(this.rhs,m,b),this}get names(){const m=this.lhs instanceof e.Name?{}:{...this.lhs.names};return B(m,this.rhs)}}class l extends o{constructor(m,b,T,K){super(m,T,K),this.op=b}render({_n:m}){return`${this.lhs} ${this.op}= ${this.rhs};`+m}}class c extends s{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`${this.label}:`+m}}class u extends s{constructor(m){super(),this.label=m,this.names={}}render({_n:m}){return`break${this.label?` ${this.label}`:""};`+m}}class d extends s{constructor(m){super(),this.error=m}render({_n:m}){return`throw ${this.error};`+m}get names(){return this.error.names}}class f extends s{constructor(m){super(),this.code=m}render({_n:m}){return`${this.code};`+m}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(m,b){return this.code=U(this.code,m,b),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class p extends s{constructor(m=[]){super(),this.nodes=m}render(m){return this.nodes.reduce((b,T)=>b+T.render(m),"")}optimizeNodes(){const{nodes:m}=this;let b=m.length;for(;b--;){const T=m[b].optimizeNodes();Array.isArray(T)?m.splice(b,1,...T):T?m[b]=T:m.splice(b,1)}return m.length>0?this:void 0}optimizeNames(m,b){const{nodes:T}=this;let K=T.length;for(;K--;){const H=T[K];H.optimizeNames(m,b)||(X(m,H.names),T.splice(K,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((m,b)=>V(m,b.names),{})}}class h extends p{render(m){return"{"+m._n+super.render(m)+"}"+m._n}}class E extends p{}class g extends h{}g.kind="else";class _ extends h{constructor(m,b){super(b),this.condition=m}render(m){let b=`if(${this.condition})`+super.render(m);return this.else&&(b+="else "+this.else.render(m)),b}optimizeNodes(){super.optimizeNodes();const m=this.condition;if(m===!0)return this.nodes;let b=this.else;if(b){const T=b.optimizeNodes();b=this.else=Array.isArray(T)?new g(T):T}if(b)return m===!1?b instanceof _?b:b.nodes:this.nodes.length?this:new _(ae(m),b instanceof _?[b]:b.nodes);if(!(m===!1||!this.nodes.length))return this}optimizeNames(m,b){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(m,b),!!(super.optimizeNames(m,b)||this.else))return this.condition=U(this.condition,m,b),this}get names(){const m=super.names;return B(m,this.condition),this.else&&V(m,this.else.names),m}}_.kind="if";class y extends h{}y.kind="for";class P extends y{constructor(m){super(),this.iteration=m}render(m){return`for(${this.iteration})`+super.render(m)}optimizeNames(m,b){if(super.optimizeNames(m,b))return this.iteration=U(this.iteration,m,b),this}get names(){return V(super.names,this.iteration.names)}}class I extends y{constructor(m,b,T,K){super(),this.varKind=m,this.name=b,this.from=T,this.to=K}render(m){const b=m.es5?r.varKinds.var:this.varKind,{name:T,from:K,to:H}=this;return`for(${b} ${T}=${K}; ${T}<${H}; ${T}++)`+super.render(m)}get names(){const m=B(super.names,this.from);return B(m,this.to)}}class C extends y{constructor(m,b,T,K){super(),this.loop=m,this.varKind=b,this.name=T,this.iterable=K}render(m){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(m)}optimizeNames(m,b){if(super.optimizeNames(m,b))return this.iterable=U(this.iterable,m,b),this}get names(){return V(super.names,this.iterable.names)}}class D extends h{constructor(m,b,T){super(),this.name=m,this.args=b,this.async=T}render(m){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(m)}}D.kind="func";class L extends p{render(m){return"return "+super.render(m)}}L.kind="return";class W extends h{render(m){let b="try"+super.render(m);return this.catch&&(b+=this.catch.render(m)),this.finally&&(b+=this.finally.render(m)),b}optimizeNodes(){var m,b;return super.optimizeNodes(),(m=this.catch)===null||m===void 0||m.optimizeNodes(),(b=this.finally)===null||b===void 0||b.optimizeNodes(),this}optimizeNames(m,b){var T,K;return super.optimizeNames(m,b),(T=this.catch)===null||T===void 0||T.optimizeNames(m,b),(K=this.finally)===null||K===void 0||K.optimizeNames(m,b),this}get names(){const m=super.names;return this.catch&&V(m,this.catch.names),this.finally&&V(m,this.finally.names),m}}class te extends h{constructor(m){super(),this.error=m}render(m){return`catch(${this.error})`+super.render(m)}}te.kind="catch";class ce extends h{render(m){return"finally"+super.render(m)}}ce.kind="finally";class F{constructor(m,b={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...b,_n:b.lines?`
`:""},this._extScope=m,this._scope=new r.Scope({parent:m}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(m){return this._scope.name(m)}scopeName(m){return this._extScope.name(m)}scopeValue(m,b){const T=this._extScope.value(m,b);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(m,b){return this._extScope.getValue(m,b)}scopeRefs(m){return this._extScope.scopeRefs(m,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(m,b,T,K){const H=this._scope.toName(b);return T!==void 0&&K&&(this._constants[H.str]=T),this._leafNode(new i(m,H,T)),H}const(m,b,T){return this._def(r.varKinds.const,m,b,T)}let(m,b,T){return this._def(r.varKinds.let,m,b,T)}var(m,b,T){return this._def(r.varKinds.var,m,b,T)}assign(m,b,T){return this._leafNode(new o(m,b,T))}add(m,b){return this._leafNode(new l(m,t.operators.ADD,b))}code(m){return typeof m=="function"?m():m!==e.nil&&this._leafNode(new f(m)),this}object(...m){const b=["{"];for(const[T,K]of m)b.length>1&&b.push(","),b.push(T),(T!==K||this.opts.es5)&&(b.push(":"),(0,e.addCodeArg)(b,K));return b.push("}"),new e._Code(b)}if(m,b,T){if(this._blockNode(new _(m)),b&&T)this.code(b).else().code(T).endIf();else if(b)this.code(b).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(m){return this._elseNode(new _(m))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(_,g)}_for(m,b){return this._blockNode(m),b&&this.code(b).endFor(),this}for(m,b){return this._for(new P(m),b)}forRange(m,b,T,K,H=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(m);return this._for(new I(H,Y,b,T),()=>K(Y))}forOf(m,b,T,K=r.varKinds.const){const H=this._scope.toName(m);if(this.opts.es5){const Y=b instanceof e.Name?b:this.var("_arr",b);return this.forRange("_i",0,(0,e._)`${Y}.length`,re=>{this.var(H,(0,e._)`${Y}[${re}]`),T(H)})}return this._for(new C("of",K,H,b),()=>T(H))}forIn(m,b,T,K=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(m,(0,e._)`Object.keys(${b})`,T);const H=this._scope.toName(m);return this._for(new C("in",K,H,b),()=>T(H))}endFor(){return this._endBlockNode(y)}label(m){return this._leafNode(new c(m))}break(m){return this._leafNode(new u(m))}return(m){const b=new L;if(this._blockNode(b),this.code(m),b.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(L)}try(m,b,T){if(!b&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new W;if(this._blockNode(K),this.code(m),b){const H=this.name("e");this._currNode=K.catch=new te(H),b(H)}return T&&(this._currNode=K.finally=new ce,this.code(T)),this._endBlockNode(te,ce)}throw(m){return this._leafNode(new d(m))}block(m,b){return this._blockStarts.push(this._nodes.length),m&&this.code(m).endBlock(b),this}endBlock(m){const b=this._blockStarts.pop();if(b===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-b;if(T<0||m!==void 0&&T!==m)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${m} expected`);return this._nodes.length=b,this}func(m,b=e.nil,T,K){return this._blockNode(new D(m,b,T)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(m=1){for(;m-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(m){return this._currNode.nodes.push(m),this}_blockNode(m){this._currNode.nodes.push(m),this._nodes.push(m)}_endBlockNode(m,b){const T=this._currNode;if(T instanceof m||b&&T instanceof b)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${b?`${m.kind}/${b.kind}`:m.kind}"`)}_elseNode(m){const b=this._currNode;if(!(b instanceof _))throw new Error('CodeGen: "else" without "if"');return this._currNode=b.else=m,this}get _root(){return this._nodes[0]}get _currNode(){const m=this._nodes;return m[m.length-1]}set _currNode(m){const b=this._nodes;b[b.length-1]=m}}t.CodeGen=F;function V(j,m){for(const b in m)j[b]=(j[b]||0)+(m[b]||0);return j}function B(j,m){return m instanceof e._CodeOrName?V(j,m.names):j}function U(j,m,b){if(j instanceof e.Name)return T(j);if(!K(j))return j;return new e._Code(j._items.reduce((H,Y)=>(Y instanceof e.Name&&(Y=T(Y)),Y instanceof e._Code?H.push(...Y._items):H.push(Y),H),[]));function T(H){const Y=b[H.str];return Y===void 0||m[H.str]!==1?H:(delete m[H.str],Y)}function K(H){return H instanceof e._Code&&H._items.some(Y=>Y instanceof e.Name&&m[Y.str]===1&&b[Y.str]!==void 0)}}function X(j,m){for(const b in m)j[b]=(j[b]||0)-(m[b]||0)}function ae(j){return typeof j=="boolean"||typeof j=="number"||j===null?!j:(0,e._)`!${A(j)}`}t.not=ae;const Se=N(t.operators.AND);function Ie(...j){return j.reduce(Se)}t.and=Ie;const ve=N(t.operators.OR);function q(...j){return j.reduce(ve)}t.or=q;function N(j){return(m,b)=>m===e.nil?b:b===e.nil?m:(0,e._)`${A(m)} ${j} ${A(b)}`}function A(j){return j instanceof e.Name?j:(0,e._)`(${j})`}})(de);var J={};Object.defineProperty(J,"__esModule",{value:!0});J.checkStrictMode=J.getErrorPath=J.Type=J.useFunc=J.setEvaluated=J.evaluatedPropsToName=J.mergeEvaluated=J.eachItem=J.unescapeJsonPointer=J.escapeJsonPointer=J.escapeFragment=J.unescapeFragment=J.schemaRefOrVal=J.schemaHasRulesButRef=J.schemaHasRules=J.checkUnknownRules=J.alwaysValidSchema=J.toHash=void 0;const Ne=de,Sl=Vr;function Pl(t){const e={};for(const r of t)e[r]=!0;return e}J.toHash=Pl;function Il(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(ro(t,e),!no(e,t.self.RULES.all))}J.alwaysValidSchema=Il;function ro(t,e=t.schema){const{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;const a=n.RULES.keywords;for(const s in e)a[s]||io(t,`unknown keyword: "${s}"`)}J.checkUnknownRules=ro;function no(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(e[r])return!0;return!1}J.schemaHasRules=no;function Nl(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}J.schemaHasRulesButRef=Nl;function Cl({topSchemaRef:t,schemaPath:e},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Ne._)`${r}`}return(0,Ne._)`${t}${e}${(0,Ne.getProperty)(n)}`}J.schemaRefOrVal=Cl;function jl(t){return ao(decodeURIComponent(t))}J.unescapeFragment=jl;function Ol(t){return encodeURIComponent(oa(t))}J.escapeFragment=Ol;function oa(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}J.escapeJsonPointer=oa;function ao(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}J.unescapeJsonPointer=ao;function Tl(t,e){if(Array.isArray(t))for(const r of t)e(r);else e(t)}J.eachItem=Tl;function Ss({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(a,s,i,o)=>{const l=i===void 0?s:i instanceof Ne.Name?(s instanceof Ne.Name?t(a,s,i):e(a,s,i),i):s instanceof Ne.Name?(e(a,i,s),s):r(s,i);return o===Ne.Name&&!(l instanceof Ne.Name)?n(a,l):l}}J.mergeEvaluated={props:Ss({mergeNames:(t,e,r)=>t.if((0,Ne._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,Ne._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,Ne._)`${r} || {}`).code((0,Ne._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,Ne._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,Ne._)`${r} || {}`),la(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:so}),items:Ss({mergeNames:(t,e,r)=>t.if((0,Ne._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,Ne._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,Ne._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,Ne._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function so(t,e){if(e===!0)return t.var("props",!0);const r=t.var("props",(0,Ne._)`{}`);return e!==void 0&&la(t,r,e),r}J.evaluatedPropsToName=so;function la(t,e,r){Object.keys(r).forEach(n=>t.assign((0,Ne._)`${e}${(0,Ne.getProperty)(n)}`,!0))}J.setEvaluated=la;const Ps={};function Al(t,e){return t.scopeValue("func",{ref:e,code:Ps[e.code]||(Ps[e.code]=new Sl._Code(e.code))})}J.useFunc=Al;var Wn;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Wn||(J.Type=Wn={}));function Dl(t,e,r){if(t instanceof Ne.Name){const n=e===Wn.Num;return r?n?(0,Ne._)`"[" + ${t} + "]"`:(0,Ne._)`"['" + ${t} + "']"`:n?(0,Ne._)`"/" + ${t}`:(0,Ne._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Ne.getProperty)(t).toString():"/"+oa(t)}J.getErrorPath=Dl;function io(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}J.checkStrictMode=io;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});const nt=de,Rl={data:new nt.Name("data"),valCxt:new nt.Name("valCxt"),instancePath:new nt.Name("instancePath"),parentData:new nt.Name("parentData"),parentDataProperty:new nt.Name("parentDataProperty"),rootData:new nt.Name("rootData"),dynamicAnchors:new nt.Name("dynamicAnchors"),vErrors:new nt.Name("vErrors"),errors:new nt.Name("errors"),this:new nt.Name("this"),self:new nt.Name("self"),scope:new nt.Name("scope"),json:new nt.Name("json"),jsonPos:new nt.Name("jsonPos"),jsonLen:new nt.Name("jsonLen"),jsonPart:new nt.Name("jsonPart")};mt.default=Rl;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=de,r=J,n=mt;t.keywordError={message:({keyword:g})=>(0,e.str)`must pass "${g}" keyword validation`},t.keyword$DataError={message:({keyword:g,schemaType:_})=>_?(0,e.str)`"${g}" keyword must be ${_} ($data)`:(0,e.str)`"${g}" keyword is invalid ($data)`};function a(g,_=t.keywordError,y,P){const{it:I}=g,{gen:C,compositeRule:D,allErrors:L}=I,W=d(g,_,y);P??(D||L)?l(C,W):c(I,(0,e._)`[${W}]`)}t.reportError=a;function s(g,_=t.keywordError,y){const{it:P}=g,{gen:I,compositeRule:C,allErrors:D}=P,L=d(g,_,y);l(I,L),C||D||c(P,n.default.vErrors)}t.reportExtraError=s;function i(g,_){g.assign(n.default.errors,_),g.if((0,e._)`${n.default.vErrors} !== null`,()=>g.if(_,()=>g.assign((0,e._)`${n.default.vErrors}.length`,_),()=>g.assign(n.default.vErrors,null)))}t.resetErrorsCount=i;function o({gen:g,keyword:_,schemaValue:y,data:P,errsCount:I,it:C}){if(I===void 0)throw new Error("ajv implementation error");const D=g.name("err");g.forRange("i",I,n.default.errors,L=>{g.const(D,(0,e._)`${n.default.vErrors}[${L}]`),g.if((0,e._)`${D}.instancePath === undefined`,()=>g.assign((0,e._)`${D}.instancePath`,(0,e.strConcat)(n.default.instancePath,C.errorPath))),g.assign((0,e._)`${D}.schemaPath`,(0,e.str)`${C.errSchemaPath}/${_}`),C.opts.verbose&&(g.assign((0,e._)`${D}.schema`,y),g.assign((0,e._)`${D}.data`,P))})}t.extendErrors=o;function l(g,_){const y=g.const("err",_);g.if((0,e._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,e._)`[${y}]`),(0,e._)`${n.default.vErrors}.push(${y})`),g.code((0,e._)`${n.default.errors}++`)}function c(g,_){const{gen:y,validateName:P,schemaEnv:I}=g;I.$async?y.throw((0,e._)`new ${g.ValidationError}(${_})`):(y.assign((0,e._)`${P}.errors`,_),y.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(g,_,y){const{createErrors:P}=g.it;return P===!1?(0,e._)`{}`:f(g,_,y)}function f(g,_,y={}){const{gen:P,it:I}=g,C=[p(I,y),h(g,y)];return E(g,_,C),P.object(...C)}function p({errorPath:g},{instancePath:_}){const y=_?(0,e.str)`${g}${(0,r.getErrorPath)(_,r.Type.Str)}`:g;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,y)]}function h({keyword:g,it:{errSchemaPath:_}},{schemaPath:y,parentSchema:P}){let I=P?_:(0,e.str)`${_}/${g}`;return y&&(I=(0,e.str)`${I}${(0,r.getErrorPath)(y,r.Type.Str)}`),[u.schemaPath,I]}function E(g,{params:_,message:y},P){const{keyword:I,data:C,schemaValue:D,it:L}=g,{opts:W,propertyName:te,topSchemaRef:ce,schemaPath:F}=L;P.push([u.keyword,I],[u.params,typeof _=="function"?_(g):_||(0,e._)`{}`]),W.messages&&P.push([u.message,typeof y=="function"?y(g):y]),W.verbose&&P.push([u.schema,D],[u.parentSchema,(0,e._)`${ce}${F}`],[n.default.data,C]),te&&P.push([u.propertyName,te])}})(Fr);Object.defineProperty(vr,"__esModule",{value:!0});vr.boolOrEmptySchema=vr.topBoolOrEmptySchema=void 0;const Vl=Fr,Ml=de,zl=mt,Fl={message:"boolean schema is false"};function ql(t){const{gen:e,schema:r,validateName:n}=t;r===!1?oo(t,!1):typeof r=="object"&&r.$async===!0?e.return(zl.default.data):(e.assign((0,Ml._)`${n}.errors`,null),e.return(!0))}vr.topBoolOrEmptySchema=ql;function Ll(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),oo(t)):r.var(e,!0)}vr.boolOrEmptySchema=Ll;function oo(t,e){const{gen:r,data:n}=t,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Vl.reportError)(a,Fl,void 0,e)}var Be={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getRules=Zt.isJSONType=void 0;const Ul=["string","number","integer","boolean","null","object","array"],Kl=new Set(Ul);function Jl(t){return typeof t=="string"&&Kl.has(t)}Zt.isJSONType=Jl;function Bl(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Zt.getRules=Bl;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.shouldUseRule=Ot.shouldUseGroup=Ot.schemaHasRulesForType=void 0;function Hl({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&lo(t,n)}Ot.schemaHasRulesForType=Hl;function lo(t,e){return e.rules.some(r=>co(t,r))}Ot.shouldUseGroup=lo;function co(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Ot.shouldUseRule=co;Object.defineProperty(Be,"__esModule",{value:!0});Be.reportTypeError=Be.checkDataTypes=Be.checkDataType=Be.coerceAndCheckDataType=Be.getJSONTypes=Be.getSchemaTypes=Be.DataType=void 0;const Gl=Zt,Wl=Ot,Xl=Fr,pe=de,uo=J;var pr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(pr||(Be.DataType=pr={}));function Zl(t){const e=fo(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Be.getSchemaTypes=Zl;function fo(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(Gl.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Be.getJSONTypes=fo;function Yl(t,e){const{gen:r,data:n,opts:a}=t,s=Ql(e,a.coerceTypes),i=e.length>0&&!(s.length===0&&e.length===1&&(0,Wl.schemaHasRulesForType)(t,e[0]));if(i){const o=ca(e,n,a.strictNumbers,pr.Wrong);r.if(o,()=>{s.length?xl(t,e,s):ua(t)})}return i}Be.coerceAndCheckDataType=Yl;const ho=new Set(["string","number","integer","boolean","null"]);function Ql(t,e){return e?t.filter(r=>ho.has(r)||e==="array"&&r==="array"):[]}function xl(t,e,r){const{gen:n,data:a,opts:s}=t,i=n.let("dataType",(0,pe._)`typeof ${a}`),o=n.let("coerced",(0,pe._)`undefined`);s.coerceTypes==="array"&&n.if((0,pe._)`${i} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,pe._)`${a}[0]`).assign(i,(0,pe._)`typeof ${a}`).if(ca(e,a,s.strictNumbers),()=>n.assign(o,a))),n.if((0,pe._)`${o} !== undefined`);for(const c of r)(ho.has(c)||c==="array"&&s.coerceTypes==="array")&&l(c);n.else(),ua(t),n.endIf(),n.if((0,pe._)`${o} !== undefined`,()=>{n.assign(a,o),ec(t,o)});function l(c){switch(c){case"string":n.elseIf((0,pe._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,pe._)`"" + ${a}`).elseIf((0,pe._)`${a} === null`).assign(o,(0,pe._)`""`);return;case"number":n.elseIf((0,pe._)`${i} == "boolean" || ${a} === null
              || (${i} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,pe._)`+${a}`);return;case"integer":n.elseIf((0,pe._)`${i} === "boolean" || ${a} === null
              || (${i} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,pe._)`+${a}`);return;case"boolean":n.elseIf((0,pe._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,pe._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,pe._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,pe._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${a} === null`).assign(o,(0,pe._)`[${a}]`)}}}function ec({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,pe._)`${e} !== undefined`,()=>t.assign((0,pe._)`${e}[${r}]`,n))}function Xn(t,e,r,n=pr.Correct){const a=n===pr.Correct?pe.operators.EQ:pe.operators.NEQ;let s;switch(t){case"null":return(0,pe._)`${e} ${a} null`;case"array":s=(0,pe._)`Array.isArray(${e})`;break;case"object":s=(0,pe._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":s=i((0,pe._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":s=i();break;default:return(0,pe._)`typeof ${e} ${a} ${t}`}return n===pr.Correct?s:(0,pe.not)(s);function i(o=pe.nil){return(0,pe.and)((0,pe._)`typeof ${e} == "number"`,o,r?(0,pe._)`isFinite(${e})`:pe.nil)}}Be.checkDataType=Xn;function ca(t,e,r,n){if(t.length===1)return Xn(t[0],e,r,n);let a;const s=(0,uo.toHash)(t);if(s.array&&s.object){const i=(0,pe._)`typeof ${e} != "object"`;a=s.null?i:(0,pe._)`!${e} || ${i}`,delete s.null,delete s.array,delete s.object}else a=pe.nil;s.number&&delete s.integer;for(const i in s)a=(0,pe.and)(a,Xn(i,e,r,n));return a}Be.checkDataTypes=ca;const tc={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,pe._)`{type: ${t}}`:(0,pe._)`{type: ${e}}`};function ua(t){const e=rc(t);(0,Xl.reportError)(e,tc)}Be.reportTypeError=ua;function rc(t){const{gen:e,data:r,schema:n}=t,a=(0,uo.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:t}}var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.assignDefaults=void 0;const fr=de,nc=J;function ac(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const a in r)Is(t,a,r[a].default);else e==="array"&&Array.isArray(n)&&n.forEach((a,s)=>Is(t,s,a.default))}bn.assignDefaults=ac;function Is(t,e,r){const{gen:n,compositeRule:a,data:s,opts:i}=t;if(r===void 0)return;const o=(0,fr._)`${s}${(0,fr.getProperty)(e)}`;if(a){(0,nc.checkStrictMode)(t,`default is ignored for: ${o}`);return}let l=(0,fr._)`${o} === undefined`;i.useDefaults==="empty"&&(l=(0,fr._)`${l} || ${o} === null || ${o} === ""`),n.if(l,(0,fr._)`${o} = ${(0,fr.stringify)(r)}`)}var Nt={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.validateUnion=ge.validateArray=ge.usePattern=ge.callValidateCode=ge.schemaProperties=ge.allSchemaProperties=ge.noPropertyInData=ge.propertyInData=ge.isOwnProperty=ge.hasPropFunc=ge.reportMissingProp=ge.checkMissingProp=ge.checkReportMissingProp=void 0;const Ve=de,da=J,Rt=mt,sc=J;function ic(t,e){const{gen:r,data:n,it:a}=t;r.if(ha(r,n,e,a.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Ve._)`${e}`},!0),t.error()})}ge.checkReportMissingProp=ic;function oc({gen:t,data:e,it:{opts:r}},n,a){return(0,Ve.or)(...n.map(s=>(0,Ve.and)(ha(t,e,s,r.ownProperties),(0,Ve._)`${a} = ${s}`)))}ge.checkMissingProp=oc;function lc(t,e){t.setParams({missingProperty:e},!0),t.error()}ge.reportMissingProp=lc;function mo(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ve._)`Object.prototype.hasOwnProperty`})}ge.hasPropFunc=mo;function fa(t,e,r){return(0,Ve._)`${mo(t)}.call(${e}, ${r})`}ge.isOwnProperty=fa;function cc(t,e,r,n){const a=(0,Ve._)`${e}${(0,Ve.getProperty)(r)} !== undefined`;return n?(0,Ve._)`${a} && ${fa(t,e,r)}`:a}ge.propertyInData=cc;function ha(t,e,r,n){const a=(0,Ve._)`${e}${(0,Ve.getProperty)(r)} === undefined`;return n?(0,Ve.or)(a,(0,Ve.not)(fa(t,e,r))):a}ge.noPropertyInData=ha;function po(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}ge.allSchemaProperties=po;function uc(t,e){return po(e).filter(r=>!(0,da.alwaysValidSchema)(t,e[r]))}ge.schemaProperties=uc;function dc({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:s},it:i},o,l,c){const u=c?(0,Ve._)`${t}, ${e}, ${n}${a}`:e,d=[[Rt.default.instancePath,(0,Ve.strConcat)(Rt.default.instancePath,s)],[Rt.default.parentData,i.parentData],[Rt.default.parentDataProperty,i.parentDataProperty],[Rt.default.rootData,Rt.default.rootData]];i.opts.dynamicRef&&d.push([Rt.default.dynamicAnchors,Rt.default.dynamicAnchors]);const f=(0,Ve._)`${u}, ${r.object(...d)}`;return l!==Ve.nil?(0,Ve._)`${o}.call(${l}, ${f})`:(0,Ve._)`${o}(${f})`}ge.callValidateCode=dc;const fc=(0,Ve._)`new RegExp`;function hc({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:a}=e.code,s=a(r,n);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ve._)`${a.code==="new RegExp"?fc:(0,sc.useFunc)(t,a)}(${r}, ${n})`})}ge.usePattern=hc;function mc(t){const{gen:e,data:r,keyword:n,it:a}=t,s=e.name("valid");if(a.allErrors){const o=e.let("valid",!0);return i(()=>e.assign(o,!1)),o}return e.var(s,!0),i(()=>e.break()),s;function i(o){const l=e.const("len",(0,Ve._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:da.Type.Num},s),e.if((0,Ve.not)(s),o)})}}ge.validateArray=mc;function pc(t){const{gen:e,schema:r,keyword:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,da.alwaysValidSchema)(a,l))&&!a.opts.unevaluated)return;const i=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const u=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},o);e.assign(i,(0,Ve._)`${i} || ${o}`),t.mergeValidEvaluated(u,o)||e.if((0,Ve.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}ge.validateUnion=pc;Object.defineProperty(Nt,"__esModule",{value:!0});Nt.validateKeywordUsage=Nt.validSchemaType=Nt.funcKeywordCode=Nt.macroKeywordCode=void 0;const lt=de,Ht=mt,_c=ge,vc=Fr;function gc(t,e){const{gen:r,keyword:n,schema:a,parentSchema:s,it:i}=t,o=e.macro.call(i.self,a,s,i),l=_o(r,n,o);i.opts.validateSchema!==!1&&i.self.validateSchema(o,!0);const c=r.name("valid");t.subschema({schema:o,schemaPath:lt.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Nt.macroKeywordCode=gc;function yc(t,e){var r;const{gen:n,keyword:a,schema:s,parentSchema:i,$data:o,it:l}=t;bc(l,e);const c=!o&&e.compile?e.compile.call(l.self,s,i,l):e.validate,u=_o(n,a,c),d=n.let("valid");t.block$data(d,f),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function f(){if(e.errors===!1)E(),e.modifying&&Ns(t),g(()=>t.error());else{const _=e.async?p():h();e.modifying&&Ns(t),g(()=>$c(t,_))}}function p(){const _=n.let("ruleErrs",null);return n.try(()=>E((0,lt._)`await `),y=>n.assign(d,!1).if((0,lt._)`${y} instanceof ${l.ValidationError}`,()=>n.assign(_,(0,lt._)`${y}.errors`),()=>n.throw(y))),_}function h(){const _=(0,lt._)`${u}.errors`;return n.assign(_,null),E(lt.nil),_}function E(_=e.async?(0,lt._)`await `:lt.nil){const y=l.opts.passContext?Ht.default.this:Ht.default.self,P=!("compile"in e&&!o||e.schema===!1);n.assign(d,(0,lt._)`${_}${(0,_c.callValidateCode)(t,u,y,P)}`,e.modifying)}function g(_){var y;n.if((0,lt.not)((y=e.valid)!==null&&y!==void 0?y:d),_)}}Nt.funcKeywordCode=yc;function Ns(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,lt._)`${n.parentData}[${n.parentDataProperty}]`))}function $c(t,e){const{gen:r}=t;r.if((0,lt._)`Array.isArray(${e})`,()=>{r.assign(Ht.default.vErrors,(0,lt._)`${Ht.default.vErrors} === null ? ${e} : ${Ht.default.vErrors}.concat(${e})`).assign(Ht.default.errors,(0,lt._)`${Ht.default.vErrors}.length`),(0,vc.extendErrors)(t)},()=>t.error())}function bc({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function _o(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,lt.stringify)(r)})}function wc(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Nt.validSchemaType=wc;function Ec({schema:t,opts:e,self:r,errSchemaPath:n},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const i=a.dependencies;if(i!=null&&i.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${i.join(",")}`);if(a.validateSchema&&!a.validateSchema(t[s])){const l=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Nt.validateKeywordUsage=Ec;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.extendSubschemaMode=qt.extendSubschemaData=qt.getSubschema=void 0;const It=de,vo=J;function kc(t,{keyword:e,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:s,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,It._)`${t.schemaPath}${(0,It.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,It._)`${t.schemaPath}${(0,It.getProperty)(e)}${(0,It.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,vo.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||s===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:i,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}qt.getSubschema=kc;function Sc(t,e,{dataProp:r,dataPropType:n,data:a,dataTypes:s,propertyName:i}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:c,dataPathArr:u,opts:d}=e,f=o.let("data",(0,It._)`${e.data}${(0,It.getProperty)(r)}`,!0);l(f),t.errorPath=(0,It.str)`${c}${(0,vo.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,It._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(a!==void 0){const c=a instanceof It.Name?a:o.let("data",a,!0);l(c),i!==void 0&&(t.propertyName=i)}s&&(t.dataTypes=s);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}qt.extendSubschemaData=Sc;function Pc(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:s}){n!==void 0&&(t.compositeRule=n),a!==void 0&&(t.createErrors=a),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}qt.extendSubschemaMode=Pc;var Ze={},go=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var i=s[a];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r},yo={exports:{}},Ft=yo.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};nn(e,n,a,t,"",t)};Ft.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ft.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ft.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ft.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function nn(t,e,r,n,a,s,i,o,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,a,s,i,o,l,c);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in Ft.arrayKeywords)for(var f=0;f<d.length;f++)nn(t,e,r,d[f],a+"/"+u+"/"+f,s,a,u,n,f)}else if(u in Ft.propsKeywords){if(d&&typeof d=="object")for(var p in d)nn(t,e,r,d[p],a+"/"+u+"/"+Ic(p),s,a,u,n,p)}else(u in Ft.keywords||t.allKeys&&!(u in Ft.skipKeywords))&&nn(t,e,r,d,a+"/"+u,s,a,u,n)}r(n,a,s,i,o,l,c)}}function Ic(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var Nc=yo.exports;Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getSchemaRefs=Ze.resolveUrl=Ze.normalizeId=Ze._getFullPath=Ze.getFullPath=Ze.inlineRef=void 0;const Cc=J,jc=go,Oc=Nc,Tc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ac(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Zn(t):e?$o(t)<=e:!1}Ze.inlineRef=Ac;const Dc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Zn(t){for(const e in t){if(Dc.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Zn)||typeof r=="object"&&Zn(r))return!0}return!1}function $o(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Tc.has(r)&&(typeof t[r]=="object"&&(0,Cc.eachItem)(t[r],n=>e+=$o(n)),e===1/0))return 1/0}return e}function bo(t,e="",r){r!==!1&&(e=_r(e));const n=t.parse(e);return wo(t,n)}Ze.getFullPath=bo;function wo(t,e){return t.serialize(e).split("#")[0]+"#"}Ze._getFullPath=wo;const Rc=/#\/?$/;function _r(t){return t?t.replace(Rc,""):""}Ze.normalizeId=_r;function Vc(t,e,r){return r=_r(r),t.resolve(e,r)}Ze.resolveUrl=Vc;const Mc=/^[a-z_][-a-z0-9._]*$/i;function zc(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=_r(t[r]||e),s={"":a},i=bo(n,a,!1),o={},l=new Set;return Oc(t,{allKeys:!0},(d,f,p,h)=>{if(h===void 0)return;const E=i+f;let g=s[h];typeof d[r]=="string"&&(g=_.call(this,d[r])),y.call(this,d.$anchor),y.call(this,d.$dynamicAnchor),s[f]=g;function _(P){const I=this.opts.uriResolver.resolve;if(P=_r(g?I(g,P):P),l.has(P))throw u(P);l.add(P);let C=this.refs[P];return typeof C=="string"&&(C=this.refs[C]),typeof C=="object"?c(d,C.schema,P):P!==_r(E)&&(P[0]==="#"?(c(d,o[P],P),o[P]=d):this.refs[P]=E),P}function y(P){if(typeof P=="string"){if(!Mc.test(P))throw new Error(`invalid anchor "${P}"`);_.call(this,`#${P}`)}}}),o;function c(d,f,p){if(f!==void 0&&!jc(d,f))throw u(p)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Ze.getSchemaRefs=zc;Object.defineProperty(_t,"__esModule",{value:!0});_t.getData=_t.KeywordCxt=_t.validateFunctionCode=void 0;const Eo=vr,Cs=Be,ma=Ot,mn=Be,Fc=bn,Or=Nt,Fn=qt,Q=de,ue=mt,qc=Ze,Tt=J,Pr=Fr;function Lc(t){if(Po(t)&&(Io(t),So(t))){Jc(t);return}ko(t,()=>(0,Eo.topBoolOrEmptySchema)(t))}_t.validateFunctionCode=Lc;function ko({gen:t,validateName:e,schema:r,schemaEnv:n,opts:a},s){a.code.es5?t.func(e,(0,Q._)`${ue.default.data}, ${ue.default.valCxt}`,n.$async,()=>{t.code((0,Q._)`"use strict"; ${js(r,a)}`),Kc(t,a),t.code(s)}):t.func(e,(0,Q._)`${ue.default.data}, ${Uc(a)}`,n.$async,()=>t.code(js(r,a)).code(s))}function Uc(t){return(0,Q._)`{${ue.default.instancePath}="", ${ue.default.parentData}, ${ue.default.parentDataProperty}, ${ue.default.rootData}=${ue.default.data}${t.dynamicRef?(0,Q._)`, ${ue.default.dynamicAnchors}={}`:Q.nil}}={}`}function Kc(t,e){t.if(ue.default.valCxt,()=>{t.var(ue.default.instancePath,(0,Q._)`${ue.default.valCxt}.${ue.default.instancePath}`),t.var(ue.default.parentData,(0,Q._)`${ue.default.valCxt}.${ue.default.parentData}`),t.var(ue.default.parentDataProperty,(0,Q._)`${ue.default.valCxt}.${ue.default.parentDataProperty}`),t.var(ue.default.rootData,(0,Q._)`${ue.default.valCxt}.${ue.default.rootData}`),e.dynamicRef&&t.var(ue.default.dynamicAnchors,(0,Q._)`${ue.default.valCxt}.${ue.default.dynamicAnchors}`)},()=>{t.var(ue.default.instancePath,(0,Q._)`""`),t.var(ue.default.parentData,(0,Q._)`undefined`),t.var(ue.default.parentDataProperty,(0,Q._)`undefined`),t.var(ue.default.rootData,ue.default.data),e.dynamicRef&&t.var(ue.default.dynamicAnchors,(0,Q._)`{}`)})}function Jc(t){const{schema:e,opts:r,gen:n}=t;ko(t,()=>{r.$comment&&e.$comment&&Co(t),Xc(t),n.let(ue.default.vErrors,null),n.let(ue.default.errors,0),r.unevaluated&&Bc(t),No(t),Qc(t)})}function Bc(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Q._)`${r}.evaluated`),e.if((0,Q._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Q._)`${t.evaluated}.props`,(0,Q._)`undefined`)),e.if((0,Q._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Q._)`${t.evaluated}.items`,(0,Q._)`undefined`))}function js(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Q._)`/*# sourceURL=${r} */`:Q.nil}function Hc(t,e){if(Po(t)&&(Io(t),So(t))){Gc(t,e);return}(0,Eo.boolOrEmptySchema)(t,e)}function So({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Po(t){return typeof t.schema!="boolean"}function Gc(t,e){const{schema:r,gen:n,opts:a}=t;a.$comment&&r.$comment&&Co(t),Zc(t),Yc(t);const s=n.const("_errs",ue.default.errors);No(t,s),n.var(e,(0,Q._)`${s} === ${ue.default.errors}`)}function Io(t){(0,Tt.checkUnknownRules)(t),Wc(t)}function No(t,e){if(t.opts.jtd)return Os(t,[],!1,e);const r=(0,Cs.getSchemaTypes)(t.schema),n=(0,Cs.coerceAndCheckDataType)(t,r);Os(t,r,!n,e)}function Wc(t){const{schema:e,errSchemaPath:r,opts:n,self:a}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Tt.schemaHasRulesButRef)(e,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Xc(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Tt.checkStrictMode)(t,"default is ignored in the schema root")}function Zc(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,qc.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Yc(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Co({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:a}){const s=r.$comment;if(a.$comment===!0)t.code((0,Q._)`${ue.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const i=(0,Q.str)`${n}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,Q._)`${ue.default.self}.opts.$comment(${s}, ${i}, ${o}.schema)`)}}function Qc(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:a,opts:s}=t;r.$async?e.if((0,Q._)`${ue.default.errors} === 0`,()=>e.return(ue.default.data),()=>e.throw((0,Q._)`new ${a}(${ue.default.vErrors})`)):(e.assign((0,Q._)`${n}.errors`,ue.default.vErrors),s.unevaluated&&xc(t),e.return((0,Q._)`${ue.default.errors} === 0`))}function xc({gen:t,evaluated:e,props:r,items:n}){r instanceof Q.Name&&t.assign((0,Q._)`${e}.props`,r),n instanceof Q.Name&&t.assign((0,Q._)`${e}.items`,n)}function Os(t,e,r,n){const{gen:a,schema:s,data:i,allErrors:o,opts:l,self:c}=t,{RULES:u}=c;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Tt.schemaHasRulesButRef)(s,u))){a.block(()=>To(t,"$ref",u.all.$ref.definition));return}l.jtd||eu(t,e),a.block(()=>{for(const f of u.rules)d(f);d(u.post)});function d(f){(0,ma.shouldUseGroup)(s,f)&&(f.type?(a.if((0,mn.checkDataType)(f.type,i,l.strictNumbers)),Ts(t,f),e.length===1&&e[0]===f.type&&r&&(a.else(),(0,mn.reportTypeError)(t)),a.endIf()):Ts(t,f),o||a.if((0,Q._)`${ue.default.errors} === ${n||0}`))}}function Ts(t,e){const{gen:r,schema:n,opts:{useDefaults:a}}=t;a&&(0,Fc.assignDefaults)(t,e.type),r.block(()=>{for(const s of e.rules)(0,ma.shouldUseRule)(n,s)&&To(t,s.keyword,s.definition,e.type)})}function eu(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(tu(t,e),t.opts.allowUnionTypes||ru(t,e),nu(t,t.dataTypes))}function tu(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{jo(t.dataTypes,r)||pa(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),su(t,e)}}function ru(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&pa(t,"use allowUnionTypes to allow union type keyword")}function nu(t,e){const r=t.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,ma.shouldUseRule)(t.schema,a)){const{type:s}=a.definition;s.length&&!s.some(i=>au(e,i))&&pa(t,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function au(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function jo(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function su(t,e){const r=[];for(const n of t.dataTypes)jo(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function pa(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Tt.checkStrictMode)(t,e,t.opts.strictTypes)}class Oo{constructor(e,r,n){if((0,Or.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Tt.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Ao(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Or.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",ue.default.errors))}result(e,r,n){this.failResult((0,Q.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Q.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,Q._)`${r} !== undefined && (${(0,Q.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Pr.reportExtraError:Pr.reportError)(this,this.def.error,r)}$dataError(){(0,Pr.reportError)(this,this.def.$dataError||Pr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Pr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Q.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Q.nil,r=Q.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:s,def:i}=this;n.if((0,Q.or)((0,Q._)`${a} === undefined`,r)),e!==Q.nil&&n.assign(e,!0),(s.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Q.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:a,it:s}=this;return(0,Q.or)(i(),o());function i(){if(n.length){if(!(r instanceof Q.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Q._)`${(0,mn.checkDataTypes)(l,r,s.opts.strictNumbers,mn.DataType.Wrong)}`}return Q.nil}function o(){if(a.validateSchema){const l=e.scopeValue("validate$data",{ref:a.validateSchema});return(0,Q._)`!${l}(${r})`}return Q.nil}}subschema(e,r){const n=(0,Fn.getSubschema)(this.it,e);(0,Fn.extendSubschemaData)(n,this.it,e),(0,Fn.extendSubschemaMode)(n,e);const a={...this.it,...n,items:void 0,props:void 0};return Hc(a,r),a}mergeEvaluated(e,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Tt.mergeEvaluated.props(a,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Tt.mergeEvaluated.items(a,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(e,Q.Name)),!0}}_t.KeywordCxt=Oo;function To(t,e,r,n){const a=new Oo(t,r,e);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Or.funcKeywordCode)(a,r):"macro"in r?(0,Or.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Or.funcKeywordCode)(a,r)}const iu=/^\/(?:[^~]|~0|~1)*$/,ou=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ao(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let a,s;if(t==="")return ue.default.rootData;if(t[0]==="/"){if(!iu.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);a=t,s=ue.default.rootData}else{const c=ou.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const u=+c[1];if(a=c[2],a==="#"){if(u>=e)throw new Error(l("property/index",u));return n[e-u]}if(u>e)throw new Error(l("data",u));if(s=r[e-u],!a)return s}let i=s;const o=a.split("/");for(const c of o)c&&(s=(0,Q._)`${s}${(0,Q.getProperty)((0,Tt.unescapeJsonPointer)(c))}`,i=(0,Q._)`${i} && ${s}`);return i;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}_t.getData=Ao;var yr={};Object.defineProperty(yr,"__esModule",{value:!0});class lu extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}yr.default=lu;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});const qn=Ze;class cu extends Error{constructor(e,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,qn.resolveUrl)(e,r,n),this.missingSchema=(0,qn.normalizeId)((0,qn.getFullPath)(e,this.missingRef))}}Qt.default=cu;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.resolveSchema=ct.getCompilingSchema=ct.resolveRef=ct.compileSchema=ct.SchemaEnv=void 0;const yt=de,uu=yr,Bt=mt,bt=Ze,As=J,du=_t;class wn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,bt.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}ct.SchemaEnv=wn;function _a(t){const e=Do.call(this,t);if(e)return e;const r=(0,bt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,i=new yt.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let o;t.$async&&(o=i.scopeValue("Error",{ref:uu.default,code:(0,yt._)`require("ajv/dist/runtime/validation_error").default`}));const l=i.scopeName("validate");t.validateName=l;const c={gen:i,allErrors:this.opts.allErrors,data:Bt.default.data,parentData:Bt.default.parentData,parentDataProperty:Bt.default.parentDataProperty,dataNames:[Bt.default.data],dataPathArr:[yt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,yt.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:yt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,yt._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(t),(0,du.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);const d=i.toString();u=`${i.scopeRefs(Bt.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,t));const p=new Function(`${Bt.default.self}`,`${Bt.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:d,scopeValues:i._values}),this.opts.unevaluated){const{props:h,items:E}=c;p.evaluated={props:h instanceof yt.Name?void 0:h,items:E instanceof yt.Name?void 0:E,dynamicProps:h instanceof yt.Name,dynamicItems:E instanceof yt.Name},p.source&&(p.source.evaluated=(0,yt.stringify)(p.evaluated))}return t.validate=p,t}catch(d){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(t)}}ct.compileSchema=_a;function fu(t,e,r){var n;r=(0,bt.resolveUrl)(this.opts.uriResolver,e,r);const a=t.refs[r];if(a)return a;let s=pu.call(this,t,r);if(s===void 0){const i=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;i&&(s=new wn({schema:i,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=hu.call(this,s)}ct.resolveRef=fu;function hu(t){return(0,bt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:_a.call(this,t)}function Do(t){for(const e of this._compilations)if(mu(e,t))return e}ct.getCompilingSchema=Do;function mu(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function pu(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||En.call(this,t,e)}function En(t,e){const r=this.opts.uriResolver.parse(e),n=(0,bt._getFullPath)(this.opts.uriResolver,r);let a=(0,bt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===a)return Ln.call(this,r,t);const s=(0,bt.normalizeId)(n),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=En.call(this,t,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Ln.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||_a.call(this,i),s===(0,bt.normalizeId)(e)){const{schema:o}=i,{schemaId:l}=this.opts,c=o[l];return c&&(a=(0,bt.resolveUrl)(this.opts.uriResolver,a,c)),new wn({schema:o,schemaId:l,root:t,baseId:a})}return Ln.call(this,r,i)}}ct.resolveSchema=En;const _u=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ln(t,{baseId:e,schema:r,root:n}){var a;if(((a=t.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,As.unescapeFragment)(o)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!_u.has(o)&&c&&(e=(0,bt.resolveUrl)(this.opts.uriResolver,e,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,As.schemaHasRulesButRef)(r,this.RULES)){const o=(0,bt.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=En.call(this,n,o)}const{schemaId:i}=this.opts;if(s=s||new wn({schema:r,schemaId:i,root:n,baseId:e}),s.schema!==s.root.schema)return s}const vu="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",gu="Meta-schema for $data reference (JSON AnySchema extension proposal)",yu="object",$u=["$data"],bu={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wu=!1,Eu={$id:vu,description:gu,type:yu,required:$u,properties:bu,additionalProperties:wu};var va={},kn={exports:{}};const ku={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var Su={HEX:ku};const{HEX:Pu}=Su;function Ro(t){if(Mo(t,".")<3)return{host:t,isIPV4:!1};const e=t.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=e;return r?{host:Nu(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function Yn(t,e=!1){let r="",n=!0;for(const a of t){if(Pu[a]===void 0)return;a!=="0"&&n===!0&&(n=!1),n||(r+=a)}return e&&r.length===0&&(r="0"),r}function Iu(t){let e=0;const r={error:!1,address:"",zone:""},n=[],a=[];let s=!1,i=!1,o=!1;function l(){if(a.length){if(s===!1){const c=Yn(a);if(c!==void 0)n.push(c);else return r.error=!0,!1}a.length=0}return!0}for(let c=0;c<t.length;c++){const u=t[c];if(!(u==="["||u==="]"))if(u===":"){if(i===!0&&(o=!0),!l())break;if(e++,n.push(":"),e>7){r.error=!0;break}c-1>=0&&t[c-1]===":"&&(i=!0);continue}else if(u==="%"){if(!l())break;s=!0}else{a.push(u);continue}}return a.length&&(s?r.zone=a.join(""):o?n.push(a.join("")):n.push(Yn(a))),r.address=n.join(""),r}function Vo(t,e={}){if(Mo(t,":")<2)return{host:t,isIPV6:!1};const r=Iu(t);if(r.error)return{host:t,isIPV6:!1};{let n=r.address,a=r.address;return r.zone&&(n+="%"+r.zone,a+="%25"+r.zone),{host:n,escapedHost:a,isIPV6:!0}}}function Nu(t,e){let r="",n=!0;const a=t.length;for(let s=0;s<a;s++){const i=t[s];i==="0"&&n?(s+1<=a&&t[s+1]===e||s+1===a)&&(r+=i,n=!1):(i===e?n=!0:n=!1,r+=i)}return r}function Mo(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}const Ds=/^\.\.?\//u,Rs=/^\/\.(?:\/|$)/u,Vs=/^\/\.\.(?:\/|$)/u,Cu=/^\/?(?:.|\n)*?(?=\/|$)/u;function ju(t){const e=[];for(;t.length;)if(t.match(Ds))t=t.replace(Ds,"");else if(t.match(Rs))t=t.replace(Rs,"/");else if(t.match(Vs))t=t.replace(Vs,"/"),e.pop();else if(t==="."||t==="..")t="";else{const r=t.match(Cu);if(r){const n=r[0];t=t.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function Ou(t,e){const r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function Tu(t,e){const r=[];if(t.userinfo!==void 0&&(r.push(t.userinfo),r.push("@")),t.host!==void 0){let n=unescape(t.host);const a=Ro(n);if(a.isIPV4)n=a.host;else{const s=Vo(a.host,{isIPV4:!1});s.isIPV6===!0?n=`[${s.escapedHost}]`:n=t.host}r.push(n)}return(typeof t.port=="number"||typeof t.port=="string")&&(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}var Au={recomposeAuthority:Tu,normalizeComponentEncoding:Ou,removeDotSegments:ju,normalizeIPv4:Ro,normalizeIPv6:Vo,stringArrayToHexStripped:Yn};const Du=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,Ru=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function zo(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function Fo(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function qo(t){const e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function Vu(t){return t.secure=zo(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Mu(t){if((t.port===(zo(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function zu(t,e){if(!t.path)return t.error="URN can not be parsed",t;const r=t.path.match(Ru);if(r){const n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];const a=`${n}:${e.nid||t.nid}`,s=ga[a];t.path=void 0,s&&(t=s.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function Fu(t,e){const r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),a=`${r}:${e.nid||n}`,s=ga[a];s&&(t=s.serialize(t,e));const i=t,o=t.nss;return i.path=`${n||e.nid}:${o}`,e.skipEscape=!0,i}function qu(t,e){const r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!Du.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Lu(t){const e=t;return e.nss=(t.uuid||"").toLowerCase(),e}const Lo={scheme:"http",domainHost:!0,parse:Fo,serialize:qo},Uu={scheme:"https",domainHost:Lo.domainHost,parse:Fo,serialize:qo},an={scheme:"ws",domainHost:!0,parse:Vu,serialize:Mu},Ku={scheme:"wss",domainHost:an.domainHost,parse:an.parse,serialize:an.serialize},Ju={scheme:"urn",parse:zu,serialize:Fu,skipNormalize:!0},Bu={scheme:"urn:uuid",parse:qu,serialize:Lu,skipNormalize:!0},ga={http:Lo,https:Uu,ws:an,wss:Ku,urn:Ju,"urn:uuid":Bu};var Hu=ga;const{normalizeIPv6:Gu,normalizeIPv4:Wu,removeDotSegments:Nr,recomposeAuthority:Xu,normalizeComponentEncoding:Zr}=Au,ya=Hu;function Zu(t,e){return typeof t=="string"?t=Ct(At(t,e),e):typeof t=="object"&&(t=At(Ct(t,e),e)),t}function Yu(t,e,r){const n=Object.assign({scheme:"null"},r),a=Uo(At(t,n),At(e,n),n,!0);return Ct(a,{...n,skipEscape:!0})}function Uo(t,e,r,n){const a={};return n||(t=At(Ct(t,r),r),e=At(Ct(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(a.scheme=e.scheme,a.userinfo=e.userinfo,a.host=e.host,a.port=e.port,a.path=Nr(e.path||""),a.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(a.userinfo=e.userinfo,a.host=e.host,a.port=e.port,a.path=Nr(e.path||""),a.query=e.query):(e.path?(e.path.charAt(0)==="/"?a.path=Nr(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?a.path="/"+e.path:t.path?a.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:a.path=e.path,a.path=Nr(a.path)),a.query=e.query):(a.path=t.path,e.query!==void 0?a.query=e.query:a.query=t.query),a.userinfo=t.userinfo,a.host=t.host,a.port=t.port),a.scheme=t.scheme),a.fragment=e.fragment,a}function Qu(t,e,r){return typeof t=="string"?(t=unescape(t),t=Ct(Zr(At(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Ct(Zr(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=Ct(Zr(At(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Ct(Zr(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function Ct(t,e){const r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),a=[],s=ya[(n.scheme||r.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&a.push(r.scheme,":");const i=Xu(r,n);if(i!==void 0&&(n.reference!=="suffix"&&a.push("//"),a.push(i),r.path&&r.path.charAt(0)!=="/"&&a.push("/")),r.path!==void 0){let o=r.path;!n.absolutePath&&(!s||!s.absolutePath)&&(o=Nr(o)),i===void 0&&(o=o.replace(/^\/\//u,"/%2F")),a.push(o)}return r.query!==void 0&&a.push("?",r.query),r.fragment!==void 0&&a.push("#",r.fragment),a.join("")}const xu=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function ed(t){let e=0;for(let r=0,n=t.length;r<n;++r)if(e=t.charCodeAt(r),e>126||xu[e])return!0;return!1}const td=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function At(t,e){const r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},a=t.indexOf("%")!==-1;let s=!1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);const i=t.match(td);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){const l=Wu(n.host);if(l.isIPV4===!1){const c=Gu(l.host,{isIPV4:!1});n.host=c.host.toLowerCase(),s=c.isIPV6}else n.host=l.host,s=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const o=ya[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&ed(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!o||o&&!o.skipNormalize)&&(a&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),a&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const $a={SCHEMES:ya,normalize:Zu,resolve:Yu,resolveComponents:Uo,equal:Qu,serialize:Ct,parse:At};kn.exports=$a;kn.exports.default=$a;kn.exports.fastUri=$a;var rd=kn.exports;Object.defineProperty(va,"__esModule",{value:!0});const Ko=rd;Ko.code='require("ajv/dist/runtime/uri").default';va.default=Ko;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=_t;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=de;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=yr,a=Qt,s=Zt,i=ct,o=de,l=Ze,c=Be,u=J,d=Eu,f=va,p=(q,N)=>new RegExp(q,N);p.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},_={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function P(q){var N,A,j,m,b,T,K,H,Y,re,fe,Me,We,Z,se,Ge,oe,he,ze,xe,Je,Pe,we,be,le;const me=q.strict,Ae=(N=q.code)===null||N===void 0?void 0:N.optimize,gt=Ae===!0||Ae===void 0?1:Ae||0,et=(j=(A=q.code)===null||A===void 0?void 0:A.regExp)!==null&&j!==void 0?j:p,Fe=(m=q.uriResolver)!==null&&m!==void 0?m:f.default;return{strictSchema:(T=(b=q.strictSchema)!==null&&b!==void 0?b:me)!==null&&T!==void 0?T:!0,strictNumbers:(H=(K=q.strictNumbers)!==null&&K!==void 0?K:me)!==null&&H!==void 0?H:!0,strictTypes:(re=(Y=q.strictTypes)!==null&&Y!==void 0?Y:me)!==null&&re!==void 0?re:"log",strictTuples:(Me=(fe=q.strictTuples)!==null&&fe!==void 0?fe:me)!==null&&Me!==void 0?Me:"log",strictRequired:(Z=(We=q.strictRequired)!==null&&We!==void 0?We:me)!==null&&Z!==void 0?Z:!1,code:q.code?{...q.code,optimize:gt,regExp:et}:{optimize:gt,regExp:et},loopRequired:(se=q.loopRequired)!==null&&se!==void 0?se:y,loopEnum:(Ge=q.loopEnum)!==null&&Ge!==void 0?Ge:y,meta:(oe=q.meta)!==null&&oe!==void 0?oe:!0,messages:(he=q.messages)!==null&&he!==void 0?he:!0,inlineRefs:(ze=q.inlineRefs)!==null&&ze!==void 0?ze:!0,schemaId:(xe=q.schemaId)!==null&&xe!==void 0?xe:"$id",addUsedSchema:(Je=q.addUsedSchema)!==null&&Je!==void 0?Je:!0,validateSchema:(Pe=q.validateSchema)!==null&&Pe!==void 0?Pe:!0,validateFormats:(we=q.validateFormats)!==null&&we!==void 0?we:!0,unicodeRegExp:(be=q.unicodeRegExp)!==null&&be!==void 0?be:!0,int32range:(le=q.int32range)!==null&&le!==void 0?le:!0,uriResolver:Fe}}class I{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...P(N)};const{es5:A,lines:j}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:E,es5:A,lines:j}),this.logger=V(N.logger);const m=N.validateFormats;N.validateFormats=!1,this.RULES=(0,s.getRules)(),C.call(this,g,N,"NOT SUPPORTED"),C.call(this,_,N,"DEPRECATED","warn"),this._metaOpts=ce.call(this),N.formats&&W.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&te.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),L.call(this),N.validateFormats=m}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:A,schemaId:j}=this.opts;let m=d;j==="id"&&(m={...d},m.id=m.$id,delete m.$id),A&&N&&this.addMetaSchema(m,m[j],!1)}defaultMeta(){const{meta:N,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[A]||N:void 0}validate(N,A){let j;if(typeof N=="string"){if(j=this.getSchema(N),!j)throw new Error(`no schema with key or ref "${N}"`)}else j=this.compile(N);const m=j(A);return"$async"in j||(this.errors=j.errors),m}compile(N,A){const j=this._addSchema(N,A);return j.validate||this._compileSchemaEnv(j)}compileAsync(N,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:j}=this.opts;return m.call(this,N,A);async function m(re,fe){await b.call(this,re.$schema);const Me=this._addSchema(re,fe);return Me.validate||T.call(this,Me)}async function b(re){re&&!this.getSchema(re)&&await m.call(this,{$ref:re},!0)}async function T(re){try{return this._compileSchemaEnv(re)}catch(fe){if(!(fe instanceof a.default))throw fe;return K.call(this,fe),await H.call(this,fe.missingSchema),T.call(this,re)}}function K({missingSchema:re,missingRef:fe}){if(this.refs[re])throw new Error(`AnySchema ${re} is loaded but ${fe} cannot be resolved`)}async function H(re){const fe=await Y.call(this,re);this.refs[re]||await b.call(this,fe.$schema),this.refs[re]||this.addSchema(fe,re,A)}async function Y(re){const fe=this._loading[re];if(fe)return fe;try{return await(this._loading[re]=j(re))}finally{delete this._loading[re]}}}addSchema(N,A,j,m=this.opts.validateSchema){if(Array.isArray(N)){for(const T of N)this.addSchema(T,void 0,j,m);return this}let b;if(typeof N=="object"){const{schemaId:T}=this.opts;if(b=N[T],b!==void 0&&typeof b!="string")throw new Error(`schema ${T} must be string`)}return A=(0,l.normalizeId)(A||b),this._checkUnique(A),this.schemas[A]=this._addSchema(N,j,A,m,!0),this}addMetaSchema(N,A,j=this.opts.validateSchema){return this.addSchema(N,A,!0,j),this}validateSchema(N,A){if(typeof N=="boolean")return!0;let j;if(j=N.$schema,j!==void 0&&typeof j!="string")throw new Error("$schema must be a string");if(j=j||this.opts.defaultMeta||this.defaultMeta(),!j)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const m=this.validate(j,N);if(!m&&A){const b="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(b);else throw new Error(b)}return m}getSchema(N){let A;for(;typeof(A=D.call(this,N))=="string";)N=A;if(A===void 0){const{schemaId:j}=this.opts,m=new i.SchemaEnv({schema:{},schemaId:j});if(A=i.resolveSchema.call(this,m,N),!A)return;this.refs[N]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=D.call(this,N);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const A=N;this._cache.delete(A);let j=N[this.opts.schemaId];return j&&(j=(0,l.normalizeId)(j),delete this.schemas[j],delete this.refs[j]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const A of N)this.addKeyword(A);return this}addKeyword(N,A){let j;if(typeof N=="string")j=N,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=j);else if(typeof N=="object"&&A===void 0){if(A=N,j=A.keyword,Array.isArray(j)&&!j.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(U.call(this,j,A),!A)return(0,u.eachItem)(j,b=>X.call(this,b)),this;Se.call(this,A);const m={...A,type:(0,c.getJSONTypes)(A.type),schemaType:(0,c.getJSONTypes)(A.schemaType)};return(0,u.eachItem)(j,m.type.length===0?b=>X.call(this,b,m):b=>m.type.forEach(T=>X.call(this,b,m,T))),this}getKeyword(N){const A=this.RULES.all[N];return typeof A=="object"?A.definition:!!A}removeKeyword(N){const{RULES:A}=this;delete A.keywords[N],delete A.all[N];for(const j of A.rules){const m=j.rules.findIndex(b=>b.keyword===N);m>=0&&j.rules.splice(m,1)}return this}addFormat(N,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[N]=A,this}errorsText(N=this.errors,{separator:A=", ",dataVar:j="data"}={}){return!N||N.length===0?"No errors":N.map(m=>`${j}${m.instancePath} ${m.message}`).reduce((m,b)=>m+A+b)}$dataMetaSchema(N,A){const j=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const m of A){const b=m.split("/").slice(1);let T=N;for(const K of b)T=T[K];for(const K in j){const H=j[K];if(typeof H!="object")continue;const{$data:Y}=H.definition,re=T[K];Y&&re&&(T[K]=ve(re))}}return N}_removeAllSchemas(N,A){for(const j in N){const m=N[j];(!A||A.test(j))&&(typeof m=="string"?delete N[j]:m&&!m.meta&&(this._cache.delete(m.schema),delete N[j]))}}_addSchema(N,A,j,m=this.opts.validateSchema,b=this.opts.addUsedSchema){let T;const{schemaId:K}=this.opts;if(typeof N=="object")T=N[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let H=this._cache.get(N);if(H!==void 0)return H;j=(0,l.normalizeId)(T||j);const Y=l.getSchemaRefs.call(this,N,j);return H=new i.SchemaEnv({schema:N,schemaId:K,meta:A,baseId:j,localRefs:Y}),this._cache.set(H.schema,H),b&&!j.startsWith("#")&&(j&&this._checkUnique(j),this.refs[j]=H),m&&this.validateSchema(N,!0),H}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):i.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const A=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,N)}finally{this.opts=A}}}I.ValidationError=n.default,I.MissingRefError=a.default,t.default=I;function C(q,N,A,j="error"){for(const m in q){const b=m;b in N&&this.logger[j](`${A}: option ${m}. ${q[b]}`)}}function D(q){return q=(0,l.normalizeId)(q),this.schemas[q]||this.refs[q]}function L(){const q=this.opts.schemas;if(q)if(Array.isArray(q))this.addSchema(q);else for(const N in q)this.addSchema(q[N],N)}function W(){for(const q in this.opts.formats){const N=this.opts.formats[q];N&&this.addFormat(q,N)}}function te(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in q){const A=q[N];A.keyword||(A.keyword=N),this.addKeyword(A)}}function ce(){const q={...this.opts};for(const N of h)delete q[N];return q}const F={log(){},warn(){},error(){}};function V(q){if(q===!1)return F;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const B=/^[a-z_$][a-z0-9_$:-]*$/i;function U(q,N){const{RULES:A}=this;if((0,u.eachItem)(q,j=>{if(A.keywords[j])throw new Error(`Keyword ${j} is already defined`);if(!B.test(j))throw new Error(`Keyword ${j} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function X(q,N,A){var j;const m=N==null?void 0:N.post;if(A&&m)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:b}=this;let T=m?b.post:b.rules.find(({type:H})=>H===A);if(T||(T={type:A,rules:[]},b.rules.push(T)),b.keywords[q]=!0,!N)return;const K={keyword:q,definition:{...N,type:(0,c.getJSONTypes)(N.type),schemaType:(0,c.getJSONTypes)(N.schemaType)}};N.before?ae.call(this,T,K,N.before):T.rules.push(K),b.all[q]=K,(j=N.implements)===null||j===void 0||j.forEach(H=>this.addKeyword(H))}function ae(q,N,A){const j=q.rules.findIndex(m=>m.keyword===A);j>=0?q.rules.splice(j,0,N):(q.rules.push(N),this.logger.warn(`rule ${A} is not defined`))}function Se(q){let{metaSchema:N}=q;N!==void 0&&(q.$data&&this.opts.$data&&(N=ve(N)),q.validateSchema=this.compile(N,!0))}const Ie={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ve(q){return{anyOf:[q,Ie]}}})(ia);var ba={},Sn={},wa={};Object.defineProperty(wa,"__esModule",{value:!0});const nd={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};wa.default=nd;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.callRef=Dt.getValidate=void 0;const ad=Qt,Ms=ge,ut=de,hr=mt,zs=ct,Yr=J,sd={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:a,schemaEnv:s,validateName:i,opts:o,self:l}=n,{root:c}=s;if((r==="#"||r==="#/")&&a===c.baseId)return d();const u=zs.resolveRef.call(l,c,a,r);if(u===void 0)throw new ad.default(n.opts.uriResolver,a,r);if(u instanceof zs.SchemaEnv)return f(u);return p(u);function d(){if(s===c)return sn(t,i,s,s.$async);const h=e.scopeValue("root",{ref:c});return sn(t,(0,ut._)`${h}.validate`,c,c.$async)}function f(h){const E=Jo(t,h);sn(t,E,h,h.$async)}function p(h){const E=e.scopeValue("schema",o.code.source===!0?{ref:h,code:(0,ut.stringify)(h)}:{ref:h}),g=e.name("valid"),_=t.subschema({schema:h,dataTypes:[],schemaPath:ut.nil,topSchemaRef:E,errSchemaPath:r},g);t.mergeEvaluated(_),t.ok(g)}}};function Jo(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,ut._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Dt.getValidate=Jo;function sn(t,e,r,n){const{gen:a,it:s}=t,{allErrors:i,schemaEnv:o,opts:l}=s,c=l.passContext?hr.default.this:ut.nil;n?u():d();function u(){if(!o.$async)throw new Error("async schema referenced by sync schema");const h=a.let("valid");a.try(()=>{a.code((0,ut._)`await ${(0,Ms.callValidateCode)(t,e,c)}`),p(e),i||a.assign(h,!0)},E=>{a.if((0,ut._)`!(${E} instanceof ${s.ValidationError})`,()=>a.throw(E)),f(E),i||a.assign(h,!1)}),t.ok(h)}function d(){t.result((0,Ms.callValidateCode)(t,e,c),()=>p(e),()=>f(e))}function f(h){const E=(0,ut._)`${h}.errors`;a.assign(hr.default.vErrors,(0,ut._)`${hr.default.vErrors} === null ? ${E} : ${hr.default.vErrors}.concat(${E})`),a.assign(hr.default.errors,(0,ut._)`${hr.default.vErrors}.length`)}function p(h){var E;if(!s.opts.unevaluated)return;const g=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(s.props=Yr.mergeEvaluated.props(a,g.props,s.props));else{const _=a.var("props",(0,ut._)`${h}.evaluated.props`);s.props=Yr.mergeEvaluated.props(a,_,s.props,ut.Name)}if(s.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(s.items=Yr.mergeEvaluated.items(a,g.items,s.items));else{const _=a.var("items",(0,ut._)`${h}.evaluated.items`);s.items=Yr.mergeEvaluated.items(a,_,s.items,ut.Name)}}}Dt.callRef=sn;Dt.default=sd;Object.defineProperty(Sn,"__esModule",{value:!0});const id=wa,od=Dt,ld=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",id.default,od.default];Sn.default=ld;var Pn={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});const pn=de,Vt=pn.operators,_n={maximum:{okStr:"<=",ok:Vt.LTE,fail:Vt.GT},minimum:{okStr:">=",ok:Vt.GTE,fail:Vt.LT},exclusiveMaximum:{okStr:"<",ok:Vt.LT,fail:Vt.GTE},exclusiveMinimum:{okStr:">",ok:Vt.GT,fail:Vt.LTE}},cd={message:({keyword:t,schemaCode:e})=>(0,pn.str)`must be ${_n[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,pn._)`{comparison: ${_n[t].okStr}, limit: ${e}}`},ud={keyword:Object.keys(_n),type:"number",schemaType:"number",$data:!0,error:cd,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,pn._)`${r} ${_n[e].fail} ${n} || isNaN(${r})`)}};Ea.default=ud;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});const Tr=de,dd={message:({schemaCode:t})=>(0,Tr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Tr._)`{multipleOf: ${t}}`},fd={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:dd,code(t){const{gen:e,data:r,schemaCode:n,it:a}=t,s=a.opts.multipleOfPrecision,i=e.let("res"),o=s?(0,Tr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,Tr._)`${i} !== parseInt(${i})`;t.fail$data((0,Tr._)`(${n} === 0 || (${i} = ${r}/${n}, ${o}))`)}};ka.default=fd;var Sa={},Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});function Bo(t){const e=t.length;let r=0,n=0,a;for(;n<e;)r++,a=t.charCodeAt(n++),a>=55296&&a<=56319&&n<e&&(a=t.charCodeAt(n),(a&64512)===56320&&n++);return r}Pa.default=Bo;Bo.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Sa,"__esModule",{value:!0});const Gt=de,hd=J,md=Pa,pd={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,Gt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Gt._)`{limit: ${t}}`},_d={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pd,code(t){const{keyword:e,data:r,schemaCode:n,it:a}=t,s=e==="maxLength"?Gt.operators.GT:Gt.operators.LT,i=a.opts.unicode===!1?(0,Gt._)`${r}.length`:(0,Gt._)`${(0,hd.useFunc)(t.gen,md.default)}(${r})`;t.fail$data((0,Gt._)`${i} ${s} ${n}`)}};Sa.default=_d;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});const vd=ge,vn=de,gd={message:({schemaCode:t})=>(0,vn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,vn._)`{pattern: ${t}}`},yd={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:gd,code(t){const{data:e,$data:r,schema:n,schemaCode:a,it:s}=t,i=s.opts.unicodeRegExp?"u":"",o=r?(0,vn._)`(new RegExp(${a}, ${i}))`:(0,vd.usePattern)(t,n);t.fail$data((0,vn._)`!${o}.test(${e})`)}};Ia.default=yd;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});const Ar=de,$d={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Ar.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Ar._)`{limit: ${t}}`},bd={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:$d,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxProperties"?Ar.operators.GT:Ar.operators.LT;t.fail$data((0,Ar._)`Object.keys(${r}).length ${a} ${n}`)}};Na.default=bd;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});const Ir=ge,Dr=de,wd=J,Ed={message:({params:{missingProperty:t}})=>(0,Dr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Dr._)`{missingProperty: ${t}}`},kd={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ed,code(t){const{gen:e,schema:r,schemaCode:n,data:a,$data:s,it:i}=t,{opts:o}=i;if(!s&&r.length===0)return;const l=r.length>=o.loopRequired;if(i.allErrors?c():u(),o.strictRequired){const p=t.parentSchema.properties,{definedProperties:h}=t.it;for(const E of r)if((p==null?void 0:p[E])===void 0&&!h.has(E)){const g=i.schemaEnv.baseId+i.errSchemaPath,_=`required property "${E}" is not defined at "${g}" (strictRequired)`;(0,wd.checkStrictMode)(i,_,i.opts.strictRequired)}}function c(){if(l||s)t.block$data(Dr.nil,d);else for(const p of r)(0,Ir.checkReportMissingProp)(t,p)}function u(){const p=e.let("missing");if(l||s){const h=e.let("valid",!0);t.block$data(h,()=>f(p,h)),t.ok(h)}else e.if((0,Ir.checkMissingProp)(t,r,p)),(0,Ir.reportMissingProp)(t,p),e.else()}function d(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,Ir.noPropertyInData)(e,a,p,o.ownProperties),()=>t.error())})}function f(p,h){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(h,(0,Ir.propertyInData)(e,a,p,o.ownProperties)),e.if((0,Dr.not)(h),()=>{t.error(),e.break()})},Dr.nil)}}};Ca.default=kd;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});const Rr=de,Sd={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Rr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Rr._)`{limit: ${t}}`},Pd={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Sd,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxItems"?Rr.operators.GT:Rr.operators.LT;t.fail$data((0,Rr._)`${r}.length ${a} ${n}`)}};ja.default=Pd;var Oa={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});const Ho=go;Ho.code='require("ajv/dist/runtime/equal").default';qr.default=Ho;Object.defineProperty(Oa,"__esModule",{value:!0});const Un=Be,Xe=de,Id=J,Nd=qr,Cd={message:({params:{i:t,j:e}})=>(0,Xe.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Xe._)`{i: ${t}, j: ${e}}`},jd={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Cd,code(t){const{gen:e,data:r,$data:n,schema:a,parentSchema:s,schemaCode:i,it:o}=t;if(!n&&!a)return;const l=e.let("valid"),c=s.items?(0,Un.getSchemaTypes)(s.items):[];t.block$data(l,u,(0,Xe._)`${i} === false`),t.ok(l);function u(){const h=e.let("i",(0,Xe._)`${r}.length`),E=e.let("j");t.setParams({i:h,j:E}),e.assign(l,!0),e.if((0,Xe._)`${h} > 1`,()=>(d()?f:p)(h,E))}function d(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function f(h,E){const g=e.name("item"),_=(0,Un.checkDataTypes)(c,g,o.opts.strictNumbers,Un.DataType.Wrong),y=e.const("indices",(0,Xe._)`{}`);e.for((0,Xe._)`;${h}--;`,()=>{e.let(g,(0,Xe._)`${r}[${h}]`),e.if(_,(0,Xe._)`continue`),c.length>1&&e.if((0,Xe._)`typeof ${g} == "string"`,(0,Xe._)`${g} += "_"`),e.if((0,Xe._)`typeof ${y}[${g}] == "number"`,()=>{e.assign(E,(0,Xe._)`${y}[${g}]`),t.error(),e.assign(l,!1).break()}).code((0,Xe._)`${y}[${g}] = ${h}`)})}function p(h,E){const g=(0,Id.useFunc)(e,Nd.default),_=e.name("outer");e.label(_).for((0,Xe._)`;${h}--;`,()=>e.for((0,Xe._)`${E} = ${h}; ${E}--;`,()=>e.if((0,Xe._)`${g}(${r}[${h}], ${r}[${E}])`,()=>{t.error(),e.assign(l,!1).break(_)})))}}};Oa.default=jd;var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});const Qn=de,Od=J,Td=qr,Ad={message:"must be equal to constant",params:({schemaCode:t})=>(0,Qn._)`{allowedValue: ${t}}`},Dd={keyword:"const",$data:!0,error:Ad,code(t){const{gen:e,data:r,$data:n,schemaCode:a,schema:s}=t;n||s&&typeof s=="object"?t.fail$data((0,Qn._)`!${(0,Od.useFunc)(e,Td.default)}(${r}, ${a})`):t.fail((0,Qn._)`${s} !== ${r}`)}};Ta.default=Dd;var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});const Cr=de,Rd=J,Vd=qr,Md={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Cr._)`{allowedValues: ${t}}`},zd={keyword:"enum",schemaType:"array",$data:!0,error:Md,code(t){const{gen:e,data:r,$data:n,schema:a,schemaCode:s,it:i}=t;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=i.opts.loopEnum;let l;const c=()=>l??(l=(0,Rd.useFunc)(e,Vd.default));let u;if(o||n)u=e.let("valid"),t.block$data(u,d);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const p=e.const("vSchema",s);u=(0,Cr.or)(...a.map((h,E)=>f(p,E)))}t.pass(u);function d(){e.assign(u,!1),e.forOf("v",s,p=>e.if((0,Cr._)`${c()}(${r}, ${p})`,()=>e.assign(u,!0).break()))}function f(p,h){const E=a[h];return typeof E=="object"&&E!==null?(0,Cr._)`${c()}(${r}, ${p}[${h}])`:(0,Cr._)`${r} === ${E}`}}};Aa.default=zd;Object.defineProperty(Pn,"__esModule",{value:!0});const Fd=Ea,qd=ka,Ld=Sa,Ud=Ia,Kd=Na,Jd=Ca,Bd=ja,Hd=Oa,Gd=Ta,Wd=Aa,Xd=[Fd.default,qd.default,Ld.default,Ud.default,Kd.default,Jd.default,Bd.default,Hd.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Gd.default,Wd.default];Pn.default=Xd;var In={},$r={};Object.defineProperty($r,"__esModule",{value:!0});$r.validateAdditionalItems=void 0;const Wt=de,xn=J,Zd={message:({params:{len:t}})=>(0,Wt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Wt._)`{limit: ${t}}`},Yd={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Zd,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,xn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Go(t,n)}};function Go(t,e){const{gen:r,schema:n,data:a,keyword:s,it:i}=t;i.items=!0;const o=r.const("len",(0,Wt._)`${a}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Wt._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,xn.alwaysValidSchema)(i,n)){const c=r.var("valid",(0,Wt._)`${o} <= ${e.length}`);r.if((0,Wt.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,o,u=>{t.subschema({keyword:s,dataProp:u,dataPropType:xn.Type.Num},c),i.allErrors||r.if((0,Wt.not)(c),()=>r.break())})}}$r.validateAdditionalItems=Go;$r.default=Yd;var Da={},br={};Object.defineProperty(br,"__esModule",{value:!0});br.validateTuple=void 0;const Fs=de,on=J,Qd=ge,xd={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Wo(t,"additionalItems",e);r.items=!0,!(0,on.alwaysValidSchema)(r,e)&&t.ok((0,Qd.validateArray)(t))}};function Wo(t,e,r=t.schema){const{gen:n,parentSchema:a,data:s,keyword:i,it:o}=t;u(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=on.mergeEvaluated.items(n,r.length,o.items));const l=n.name("valid"),c=n.const("len",(0,Fs._)`${s}.length`);r.forEach((d,f)=>{(0,on.alwaysValidSchema)(o,d)||(n.if((0,Fs._)`${c} > ${f}`,()=>t.subschema({keyword:i,schemaProp:f,dataProp:f},l)),t.ok(l))});function u(d){const{opts:f,errSchemaPath:p}=o,h=r.length,E=h===d.minItems&&(h===d.maxItems||d[e]===!1);if(f.strictTuples&&!E){const g=`"${i}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,on.checkStrictMode)(o,g,f.strictTuples)}}}br.validateTuple=Wo;br.default=xd;Object.defineProperty(Da,"__esModule",{value:!0});const ef=br,tf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,ef.validateTuple)(t,"items")};Da.default=tf;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});const qs=de,rf=J,nf=ge,af=$r,sf={message:({params:{len:t}})=>(0,qs.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,qs._)`{limit: ${t}}`},of={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:sf,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:a}=r;n.items=!0,!(0,rf.alwaysValidSchema)(n,e)&&(a?(0,af.validateAdditionalItems)(t,a):t.ok((0,nf.validateArray)(t)))}};Ra.default=of;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});const pt=de,Qr=J,lf={message:({params:{min:t,max:e}})=>e===void 0?(0,pt.str)`must contain at least ${t} valid item(s)`:(0,pt.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,pt._)`{minContains: ${t}}`:(0,pt._)`{minContains: ${t}, maxContains: ${e}}`},cf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:lf,code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:s}=t;let i,o;const{minContains:l,maxContains:c}=n;s.opts.next?(i=l===void 0?1:l,o=c):i=1;const u=e.const("len",(0,pt._)`${a}.length`);if(t.setParams({min:i,max:o}),o===void 0&&i===0){(0,Qr.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,Qr.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Qr.alwaysValidSchema)(s,r)){let E=(0,pt._)`${u} >= ${i}`;o!==void 0&&(E=(0,pt._)`${E} && ${u} <= ${o}`),t.pass(E);return}s.items=!0;const d=e.name("valid");o===void 0&&i===1?p(d,()=>e.if(d,()=>e.break())):i===0?(e.let(d,!0),o!==void 0&&e.if((0,pt._)`${a}.length > 0`,f)):(e.let(d,!1),f()),t.result(d,()=>t.reset());function f(){const E=e.name("_valid"),g=e.let("count",0);p(E,()=>e.if(E,()=>h(g)))}function p(E,g){e.forRange("i",0,u,_=>{t.subschema({keyword:"contains",dataProp:_,dataPropType:Qr.Type.Num,compositeRule:!0},E),g()})}function h(E){e.code((0,pt._)`${E}++`),o===void 0?e.if((0,pt._)`${E} >= ${i}`,()=>e.assign(d,!0).break()):(e.if((0,pt._)`${E} > ${o}`,()=>e.assign(d,!1).break()),i===1?e.assign(d,!0):e.if((0,pt._)`${E} >= ${i}`,()=>e.assign(d,!0)))}}};Va.default=cf;var Nn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=de,r=J,n=ge;t.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const d=c===1?"property":"properties";return(0,e.str)`must have ${d} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:d}})=>(0,e._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${c},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,u]=s(l);i(l,c),o(l,u)}};function s({schema:l}){const c={},u={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?c:u;f[d]=l[d]}return[c,u]}function i(l,c=l.schema){const{gen:u,data:d,it:f}=l;if(Object.keys(c).length===0)return;const p=u.let("missing");for(const h in c){const E=c[h];if(E.length===0)continue;const g=(0,n.propertyInData)(u,d,h,f.opts.ownProperties);l.setParams({property:h,depsCount:E.length,deps:E.join(", ")}),f.allErrors?u.if(g,()=>{for(const _ of E)(0,n.checkReportMissingProp)(l,_)}):(u.if((0,e._)`${g} && (${(0,n.checkMissingProp)(l,E,p)})`),(0,n.reportMissingProp)(l,p),u.else())}}t.validatePropertyDeps=i;function o(l,c=l.schema){const{gen:u,data:d,keyword:f,it:p}=l,h=u.name("valid");for(const E in c)(0,r.alwaysValidSchema)(p,c[E])||(u.if((0,n.propertyInData)(u,d,E,p.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:E},h);l.mergeValidEvaluated(g,h)},()=>u.var(h,!0)),l.ok(h))}t.validateSchemaDeps=o,t.default=a})(Nn);var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});const Xo=de,uf=J,df={message:"property name must be valid",params:({params:t})=>(0,Xo._)`{propertyName: ${t.propertyName}}`},ff={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:df,code(t){const{gen:e,schema:r,data:n,it:a}=t;if((0,uf.alwaysValidSchema)(a,r))return;const s=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),e.if((0,Xo.not)(s),()=>{t.error(!0),a.allErrors||e.break()})}),t.ok(s)}};Ma.default=ff;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const xr=ge,$t=de,hf=mt,en=J,mf={message:"must NOT have additional properties",params:({params:t})=>(0,$t._)`{additionalProperty: ${t.additionalProperty}}`},pf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:mf,code(t){const{gen:e,schema:r,parentSchema:n,data:a,errsCount:s,it:i}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=i;if(i.props=!0,l.removeAdditional!=="all"&&(0,en.alwaysValidSchema)(i,r))return;const c=(0,xr.allSchemaProperties)(n.properties),u=(0,xr.allSchemaProperties)(n.patternProperties);d(),t.ok((0,$t._)`${s} === ${hf.default.errors}`);function d(){e.forIn("key",a,g=>{!c.length&&!u.length?h(g):e.if(f(g),()=>h(g))})}function f(g){let _;if(c.length>8){const y=(0,en.schemaRefOrVal)(i,n.properties,"properties");_=(0,xr.isOwnProperty)(e,y,g)}else c.length?_=(0,$t.or)(...c.map(y=>(0,$t._)`${g} === ${y}`)):_=$t.nil;return u.length&&(_=(0,$t.or)(_,...u.map(y=>(0,$t._)`${(0,xr.usePattern)(t,y)}.test(${g})`))),(0,$t.not)(_)}function p(g){e.code((0,$t._)`delete ${a}[${g}]`)}function h(g){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(g);return}if(r===!1){t.setParams({additionalProperty:g}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,en.alwaysValidSchema)(i,r)){const _=e.name("valid");l.removeAdditional==="failing"?(E(g,_,!1),e.if((0,$t.not)(_),()=>{t.reset(),p(g)})):(E(g,_),o||e.if((0,$t.not)(_),()=>e.break()))}}function E(g,_,y){const P={keyword:"additionalProperties",dataProp:g,dataPropType:en.Type.Str};y===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(P,_)}}};Cn.default=pf;var za={};Object.defineProperty(za,"__esModule",{value:!0});const _f=_t,Ls=ge,Kn=J,Us=Cn,vf={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:s}=t;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Us.default.code(new _f.KeywordCxt(s,Us.default,"additionalProperties"));const i=(0,Ls.allSchemaProperties)(r);for(const d of i)s.definedProperties.add(d);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=Kn.mergeEvaluated.props(e,(0,Kn.toHash)(i),s.props));const o=i.filter(d=>!(0,Kn.alwaysValidSchema)(s,r[d]));if(o.length===0)return;const l=e.name("valid");for(const d of o)c(d)?u(d):(e.if((0,Ls.propertyInData)(e,a,d,s.opts.ownProperties)),u(d),s.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(l);function c(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function u(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};za.default=vf;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});const Ks=ge,tn=de,Js=J,Bs=J,gf={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:a,it:s}=t,{opts:i}=s,o=(0,Ks.allSchemaProperties)(r),l=o.filter(E=>(0,Js.alwaysValidSchema)(s,r[E]));if(o.length===0||l.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const c=i.strictSchema&&!i.allowMatchingProperties&&a.properties,u=e.name("valid");s.props!==!0&&!(s.props instanceof tn.Name)&&(s.props=(0,Bs.evaluatedPropsToName)(e,s.props));const{props:d}=s;f();function f(){for(const E of o)c&&p(E),s.allErrors?h(E):(e.var(u,!0),h(E),e.if(u))}function p(E){for(const g in c)new RegExp(E).test(g)&&(0,Js.checkStrictMode)(s,`property ${g} matches pattern ${E} (use allowMatchingProperties)`)}function h(E){e.forIn("key",n,g=>{e.if((0,tn._)`${(0,Ks.usePattern)(t,E)}.test(${g})`,()=>{const _=l.includes(E);_||t.subschema({keyword:"patternProperties",schemaProp:E,dataProp:g,dataPropType:Bs.Type.Str},u),s.opts.unevaluated&&d!==!0?e.assign((0,tn._)`${d}[${g}]`,!0):!_&&!s.allErrors&&e.if((0,tn.not)(u),()=>e.break())})})}}};Fa.default=gf;var qa={};Object.defineProperty(qa,"__esModule",{value:!0});const yf=J,$f={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,yf.alwaysValidSchema)(n,r)){t.fail();return}const a=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),t.failResult(a,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};qa.default=$f;var La={};Object.defineProperty(La,"__esModule",{value:!0});const bf=ge,wf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:bf.validateUnion,error:{message:"must match a schema in anyOf"}};La.default=wf;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});const ln=de,Ef=J,kf={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,ln._)`{passingSchemas: ${t.passing}}`},Sf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:kf,code(t){const{gen:e,schema:r,parentSchema:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,i=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(c),t.result(i,()=>t.reset(),()=>t.error(!0));function c(){s.forEach((u,d)=>{let f;(0,Ef.alwaysValidSchema)(a,u)?e.var(l,!0):f=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&e.if((0,ln._)`${l} && ${i}`).assign(i,!1).assign(o,(0,ln._)`[${o}, ${d}]`).else(),e.if(l,()=>{e.assign(i,!0),e.assign(o,d),f&&t.mergeEvaluated(f,ln.Name)})})}}};Ua.default=Sf;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});const Pf=J,If={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=e.name("valid");r.forEach((s,i)=>{if((0,Pf.alwaysValidSchema)(n,s))return;const o=t.subschema({keyword:"allOf",schemaProp:i},a);t.ok(a),t.mergeEvaluated(o)})}};Ka.default=If;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});const gn=de,Zo=J,Nf={message:({params:t})=>(0,gn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,gn._)`{failingKeyword: ${t.ifClause}}`},Cf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Nf,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Zo.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Hs(n,"then"),s=Hs(n,"else");if(!a&&!s)return;const i=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),a&&s){const u=e.let("ifClause");t.setParams({ifClause:u}),e.if(o,c("then",u),c("else",u))}else a?e.if(o,c("then")):e.if((0,gn.not)(o),c("else"));t.pass(i,()=>t.error(!0));function l(){const u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(u)}function c(u,d){return()=>{const f=t.subschema({keyword:u},o);e.assign(i,o),t.mergeValidEvaluated(f,i),d?e.assign(d,(0,gn._)`${u}`):t.setParams({ifClause:u})}}}};function Hs(t,e){const r=t.schema[e];return r!==void 0&&!(0,Zo.alwaysValidSchema)(t,r)}Ja.default=Cf;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});const jf=J,Of={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,jf.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Ba.default=Of;Object.defineProperty(In,"__esModule",{value:!0});const Tf=$r,Af=Da,Df=br,Rf=Ra,Vf=Va,Mf=Nn,zf=Ma,Ff=Cn,qf=za,Lf=Fa,Uf=qa,Kf=La,Jf=Ua,Bf=Ka,Hf=Ja,Gf=Ba;function Wf(t=!1){const e=[Uf.default,Kf.default,Jf.default,Bf.default,Hf.default,Gf.default,zf.default,Ff.default,Mf.default,qf.default,Lf.default];return t?e.push(Af.default,Rf.default):e.push(Tf.default,Df.default),e.push(Vf.default),e}In.default=Wf;var jn={},Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const qe=de,Xf={message:({schemaCode:t})=>(0,qe.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,qe._)`{format: ${t}}`},Zf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Xf,code(t,e){const{gen:r,data:n,$data:a,schema:s,schemaCode:i,it:o}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:d}=o;if(!l.validateFormats)return;a?f():p();function f(){const h=r.scopeValue("formats",{ref:d.formats,code:l.code.formats}),E=r.const("fDef",(0,qe._)`${h}[${i}]`),g=r.let("fType"),_=r.let("format");r.if((0,qe._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(g,(0,qe._)`${E}.type || "string"`).assign(_,(0,qe._)`${E}.validate`),()=>r.assign(g,(0,qe._)`"string"`).assign(_,E)),t.fail$data((0,qe.or)(y(),P()));function y(){return l.strictSchema===!1?qe.nil:(0,qe._)`${i} && !${_}`}function P(){const I=u.$async?(0,qe._)`(${E}.async ? await ${_}(${n}) : ${_}(${n}))`:(0,qe._)`${_}(${n})`,C=(0,qe._)`(typeof ${_} == "function" ? ${I} : ${_}.test(${n}))`;return(0,qe._)`${_} && ${_} !== true && ${g} === ${e} && !${C}`}}function p(){const h=d.formats[s];if(!h){y();return}if(h===!0)return;const[E,g,_]=P(h);E===e&&t.pass(I());function y(){if(l.strictSchema===!1){d.logger.warn(C());return}throw new Error(C());function C(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function P(C){const D=C instanceof RegExp?(0,qe.regexpCode)(C):l.code.formats?(0,qe._)`${l.code.formats}${(0,qe.getProperty)(s)}`:void 0,L=r.scopeValue("formats",{key:s,ref:C,code:D});return typeof C=="object"&&!(C instanceof RegExp)?[C.type||"string",C.validate,(0,qe._)`${L}.validate`]:["string",C,L]}function I(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!u.$async)throw new Error("async format in sync schema");return(0,qe._)`await ${_}(${n})`}return typeof g=="function"?(0,qe._)`${_}(${n})`:(0,qe._)`${_}.test(${n})`}}}};Ha.default=Zf;Object.defineProperty(jn,"__esModule",{value:!0});const Yf=Ha,Qf=[Yf.default];jn.default=Qf;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.contentVocabulary=Yt.metadataVocabulary=void 0;Yt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Yt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ba,"__esModule",{value:!0});const xf=Sn,eh=Pn,th=In,rh=jn,Gs=Yt,nh=[xf.default,eh.default,(0,th.default)(),rh.default,Gs.metadataVocabulary,Gs.contentVocabulary];ba.default=nh;var On={},Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.DiscrError=void 0;var Ws;(function(t){t.Tag="tag",t.Mapping="mapping"})(Ws||(Tn.DiscrError=Ws={}));Object.defineProperty(On,"__esModule",{value:!0});const mr=de,ea=Tn,Xs=ct,ah=Qt,sh=J,ih={message:({params:{discrError:t,tagName:e}})=>t===ea.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,mr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},oh={keyword:"discriminator",type:"object",schemaType:"object",error:ih,code(t){const{gen:e,data:r,schema:n,parentSchema:a,it:s}=t,{oneOf:i}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,mr._)`${r}${(0,mr.getProperty)(o)}`);e.if((0,mr._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:ea.DiscrError.Tag,tag:c,tagName:o})),t.ok(l);function u(){const p=f();e.if(!1);for(const h in p)e.elseIf((0,mr._)`${c} === ${h}`),e.assign(l,d(p[h]));e.else(),t.error(!1,{discrError:ea.DiscrError.Mapping,tag:c,tagName:o}),e.endIf()}function d(p){const h=e.name("valid"),E=t.subschema({keyword:"oneOf",schemaProp:p},h);return t.mergeEvaluated(E,mr.Name),h}function f(){var p;const h={},E=_(a);let g=!0;for(let I=0;I<i.length;I++){let C=i[I];if(C!=null&&C.$ref&&!(0,sh.schemaHasRulesButRef)(C,s.self.RULES)){const L=C.$ref;if(C=Xs.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,L),C instanceof Xs.SchemaEnv&&(C=C.schema),C===void 0)throw new ah.default(s.opts.uriResolver,s.baseId,L)}const D=(p=C==null?void 0:C.properties)===null||p===void 0?void 0:p[o];if(typeof D!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);g=g&&(E||_(C)),y(D,I)}if(!g)throw new Error(`discriminator: "${o}" must be required`);return h;function _({required:I}){return Array.isArray(I)&&I.includes(o)}function y(I,C){if(I.const)P(I.const,C);else if(I.enum)for(const D of I.enum)P(D,C);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function P(I,C){if(typeof I!="string"||I in h)throw new Error(`discriminator: "${o}" values must be unique strings`);h[I]=C}}}};On.default=oh;const lh="http://json-schema.org/draft-07/schema#",ch="http://json-schema.org/draft-07/schema#",uh="Core schema meta-schema",dh={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},fh=["object","boolean"],hh={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},mh={$schema:lh,$id:ch,title:uh,definitions:dh,type:fh,properties:hh,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=ia,n=ba,a=On,s=mh,i=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(h,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=_t;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=de;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=yr;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=Qt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(Hn,Hn.exports);var Yo=Hn.exports;const ph=sa(Yo);var ta={exports:{}},Ga={},Wa={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.dynamicAnchor=void 0;const Jn=de,_h=mt,Zs=ct,vh=Dt,gh={keyword:"$dynamicAnchor",schemaType:"string",code:t=>Qo(t,t.schema)};function Qo(t,e){const{gen:r,it:n}=t;n.schemaEnv.root.dynamicAnchors[e]=!0;const a=(0,Jn._)`${_h.default.dynamicAnchors}${(0,Jn.getProperty)(e)}`,s=n.errSchemaPath==="#"?n.validateName:yh(t);r.if((0,Jn._)`!${a}`,()=>r.assign(a,s))}wr.dynamicAnchor=Qo;function yh(t){const{schemaEnv:e,schema:r,self:n}=t.it,{root:a,baseId:s,localRefs:i,meta:o}=e.root,{schemaId:l}=n.opts,c=new Zs.SchemaEnv({schema:r,schemaId:l,root:a,baseId:s,localRefs:i,meta:o});return Zs.compileSchema.call(n,c),(0,vh.getValidate)(t,c)}wr.default=gh;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.dynamicRef=void 0;const Ys=de,$h=mt,Qs=Dt,bh={keyword:"$dynamicRef",schemaType:"string",code:t=>xo(t,t.schema)};function xo(t,e){const{gen:r,keyword:n,it:a}=t;if(e[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const s=e.slice(1);if(a.allErrors)i();else{const l=r.let("valid",!1);i(l),t.ok(l)}function i(l){if(a.schemaEnv.root.dynamicAnchors[s]){const c=r.let("_v",(0,Ys._)`${$h.default.dynamicAnchors}${(0,Ys.getProperty)(s)}`);r.if(c,o(c,l),o(a.validateName,l))}else o(a.validateName,l)()}function o(l,c){return c?()=>r.block(()=>{(0,Qs.callRef)(t,l),r.let(c,!0)}):()=>(0,Qs.callRef)(t,l)}}Er.dynamicRef=xo;Er.default=bh;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});const wh=wr,Eh=J,kh={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,wh.dynamicAnchor)(t,""):(0,Eh.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};Xa.default=kh;var Za={};Object.defineProperty(Za,"__esModule",{value:!0});const Sh=Er,Ph={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,Sh.dynamicRef)(t,t.schema)};Za.default=Ph;Object.defineProperty(Wa,"__esModule",{value:!0});const Ih=wr,Nh=Er,Ch=Xa,jh=Za,Oh=[Ih.default,Nh.default,Ch.default,jh.default];Wa.default=Oh;var Ya={},Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});const xs=Nn,Th={keyword:"dependentRequired",type:"object",schemaType:"object",error:xs.error,code:t=>(0,xs.validatePropertyDeps)(t)};Qa.default=Th;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});const Ah=Nn,Dh={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,Ah.validateSchemaDeps)(t)};xa.default=Dh;var es={};Object.defineProperty(es,"__esModule",{value:!0});const Rh=J,Vh={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:r}){e.contains===void 0&&(0,Rh.checkStrictMode)(r,`"${t}" without "contains" is ignored`)}};es.default=Vh;Object.defineProperty(Ya,"__esModule",{value:!0});const Mh=Qa,zh=xa,Fh=es,qh=[Mh.default,zh.default,Fh.default];Ya.default=qh;var ts={},rs={};Object.defineProperty(rs,"__esModule",{value:!0});const Mt=de,ei=J,Lh=mt,Uh={message:"must NOT have unevaluated properties",params:({params:t})=>(0,Mt._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},Kh={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:Uh,code(t){const{gen:e,schema:r,data:n,errsCount:a,it:s}=t;if(!a)throw new Error("ajv implementation error");const{allErrors:i,props:o}=s;o instanceof Mt.Name?e.if((0,Mt._)`${o} !== true`,()=>e.forIn("key",n,d=>e.if(c(o,d),()=>l(d)))):o!==!0&&e.forIn("key",n,d=>o===void 0?l(d):e.if(u(o,d),()=>l(d))),s.props=!0,t.ok((0,Mt._)`${a} === ${Lh.default.errors}`);function l(d){if(r===!1){t.setParams({unevaluatedProperty:d}),t.error(),i||e.break();return}if(!(0,ei.alwaysValidSchema)(s,r)){const f=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:d,dataPropType:ei.Type.Str},f),i||e.if((0,Mt.not)(f),()=>e.break())}}function c(d,f){return(0,Mt._)`!${d} || !${d}[${f}]`}function u(d,f){const p=[];for(const h in d)d[h]===!0&&p.push((0,Mt._)`${f} !== ${h}`);return(0,Mt.and)(...p)}}};rs.default=Kh;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});const Xt=de,ti=J,Jh={message:({params:{len:t}})=>(0,Xt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Xt._)`{limit: ${t}}`},Bh={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:Jh,code(t){const{gen:e,schema:r,data:n,it:a}=t,s=a.items||0;if(s===!0)return;const i=e.const("len",(0,Xt._)`${n}.length`);if(r===!1)t.setParams({len:s}),t.fail((0,Xt._)`${i} > ${s}`);else if(typeof r=="object"&&!(0,ti.alwaysValidSchema)(a,r)){const l=e.var("valid",(0,Xt._)`${i} <= ${s}`);e.if((0,Xt.not)(l),()=>o(l,s)),t.ok(l)}a.items=!0;function o(l,c){e.forRange("i",c,i,u=>{t.subschema({keyword:"unevaluatedItems",dataProp:u,dataPropType:ti.Type.Num},l),a.allErrors||e.if((0,Xt.not)(l),()=>e.break())})}}};ns.default=Bh;Object.defineProperty(ts,"__esModule",{value:!0});const Hh=rs,Gh=ns,Wh=[Hh.default,Gh.default];ts.default=Wh;Object.defineProperty(Ga,"__esModule",{value:!0});const Xh=Sn,Zh=Pn,Yh=In,Qh=Wa,xh=Ya,em=ts,tm=jn,ri=Yt,rm=[Qh.default,Xh.default,Zh.default,(0,Yh.default)(!0),tm.default,ri.metadataVocabulary,ri.contentVocabulary,xh.default,em.default];Ga.default=rm;var as={};const nm="https://json-schema.org/draft/2020-12/schema",am="https://json-schema.org/draft/2020-12/schema",sm={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},im="meta",om="Core and Validation specifications meta-schema",lm=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],cm=["object","boolean"],um="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",dm={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},fm={$schema:nm,$id:am,$vocabulary:sm,$dynamicAnchor:im,title:om,allOf:lm,type:cm,$comment:um,properties:dm},hm="https://json-schema.org/draft/2020-12/schema",mm="https://json-schema.org/draft/2020-12/meta/applicator",pm={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},_m="meta",vm="Applicator vocabulary meta-schema",gm=["object","boolean"],ym={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$m={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},bm={$schema:hm,$id:mm,$vocabulary:pm,$dynamicAnchor:_m,title:vm,type:gm,properties:ym,$defs:$m},wm="https://json-schema.org/draft/2020-12/schema",Em="https://json-schema.org/draft/2020-12/meta/unevaluated",km={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},Sm="meta",Pm="Unevaluated applicator vocabulary meta-schema",Im=["object","boolean"],Nm={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},Cm={$schema:wm,$id:Em,$vocabulary:km,$dynamicAnchor:Sm,title:Pm,type:Im,properties:Nm},jm="https://json-schema.org/draft/2020-12/schema",Om="https://json-schema.org/draft/2020-12/meta/content",Tm={"https://json-schema.org/draft/2020-12/vocab/content":!0},Am="meta",Dm="Content vocabulary meta-schema",Rm=["object","boolean"],Vm={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},Mm={$schema:jm,$id:Om,$vocabulary:Tm,$dynamicAnchor:Am,title:Dm,type:Rm,properties:Vm},zm="https://json-schema.org/draft/2020-12/schema",Fm="https://json-schema.org/draft/2020-12/meta/core",qm={"https://json-schema.org/draft/2020-12/vocab/core":!0},Lm="meta",Um="Core vocabulary meta-schema",Km=["object","boolean"],Jm={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},Bm={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},Hm={$schema:zm,$id:Fm,$vocabulary:qm,$dynamicAnchor:Lm,title:Um,type:Km,properties:Jm,$defs:Bm},Gm="https://json-schema.org/draft/2020-12/schema",Wm="https://json-schema.org/draft/2020-12/meta/format-annotation",Xm={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},Zm="meta",Ym="Format vocabulary meta-schema for annotation results",Qm=["object","boolean"],xm={format:{type:"string"}},ep={$schema:Gm,$id:Wm,$vocabulary:Xm,$dynamicAnchor:Zm,title:Ym,type:Qm,properties:xm},tp="https://json-schema.org/draft/2020-12/schema",rp="https://json-schema.org/draft/2020-12/meta/meta-data",np={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},ap="meta",sp="Meta-data vocabulary meta-schema",ip=["object","boolean"],op={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},lp={$schema:tp,$id:rp,$vocabulary:np,$dynamicAnchor:ap,title:sp,type:ip,properties:op},cp="https://json-schema.org/draft/2020-12/schema",up="https://json-schema.org/draft/2020-12/meta/validation",dp={"https://json-schema.org/draft/2020-12/vocab/validation":!0},fp="meta",hp="Validation vocabulary meta-schema",mp=["object","boolean"],pp={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},_p={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},vp={$schema:cp,$id:up,$vocabulary:dp,$dynamicAnchor:fp,title:hp,type:mp,properties:pp,$defs:_p};Object.defineProperty(as,"__esModule",{value:!0});const gp=fm,yp=bm,$p=Cm,bp=Mm,wp=Hm,Ep=ep,kp=lp,Sp=vp,Pp=["/properties"];function Ip(t){return[gp,yp,$p,bp,wp,e(this,Ep),kp,e(this,Sp)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function e(r,n){return t?r.$dataMetaSchema(n,Pp):n}}as.default=Ip;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2020=void 0;const r=ia,n=Ga,a=On,s=as,i="https://json-schema.org/draft/2020-12/schema";class o extends r.default{constructor(p={}){super({...p,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:p,meta:h}=this.opts;h&&(s.default.call(this,p),this.refs["http://json-schema.org/schema"]=i)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.Ajv2020=o,t.exports=e=o,t.exports.Ajv2020=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var l=_t;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=de;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var u=yr;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return u.default}});var d=Qt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(ta,ta.exports);var Np=ta.exports;const Cp=sa(Np);var ra={exports:{}},el={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(F,V){return{validate:F,compare:V}}t.fullFormats={date:e(s,i),time:e(l(!0),c),"date-time":e(f(!0),p),"iso-time":e(l(),u),"iso-date-time":e(f(),h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:ce,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:P,int32:{type:"number",validate:D},int64:{type:"number",validate:L},float:{type:"number",validate:W},double:{type:"number",validate:W},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,c),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(F){return F%4===0&&(F%100!==0||F%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(F){const V=n.exec(F);if(!V)return!1;const B=+V[1],U=+V[2],X=+V[3];return U>=1&&U<=12&&X>=1&&X<=(U===2&&r(B)?29:a[U])}function i(F,V){if(F&&V)return F>V?1:F<V?-1:0}const o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(F){return function(B){const U=o.exec(B);if(!U)return!1;const X=+U[1],ae=+U[2],Se=+U[3],Ie=U[4],ve=U[5]==="-"?-1:1,q=+(U[6]||0),N=+(U[7]||0);if(q>23||N>59||F&&!Ie)return!1;if(X<=23&&ae<=59&&Se<60)return!0;const A=ae-N*ve,j=X-q*ve-(A<0?1:0);return(j===23||j===-1)&&(A===59||A===-1)&&Se<61}}function c(F,V){if(!(F&&V))return;const B=new Date("2020-01-01T"+F).valueOf(),U=new Date("2020-01-01T"+V).valueOf();if(B&&U)return B-U}function u(F,V){if(!(F&&V))return;const B=o.exec(F),U=o.exec(V);if(B&&U)return F=B[1]+B[2]+B[3],V=U[1]+U[2]+U[3],F>V?1:F<V?-1:0}const d=/t|\s/i;function f(F){const V=l(F);return function(U){const X=U.split(d);return X.length===2&&s(X[0])&&V(X[1])}}function p(F,V){if(!(F&&V))return;const B=new Date(F).valueOf(),U=new Date(V).valueOf();if(B&&U)return B-U}function h(F,V){if(!(F&&V))return;const[B,U]=F.split(d),[X,ae]=V.split(d),Se=i(B,X);if(Se!==void 0)return Se||c(U,ae)}const E=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(F){return E.test(F)&&g.test(F)}const y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function P(F){return y.lastIndex=0,y.test(F)}const I=-(2**31),C=2**31-1;function D(F){return Number.isInteger(F)&&F<=C&&F>=I}function L(F){return Number.isInteger(F)}function W(){return!0}const te=/[^\\]\\Z/;function ce(F){if(te.test(F))return!1;try{return new RegExp(F),!0}catch{return!1}}})(el);var tl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Yo,r=de,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:o,schemaCode:l})=>(0,r.str)`should be ${a[o].okStr} ${l}`,params:({keyword:o,schemaCode:l})=>(0,r._)`{comparison: ${a[o].okStr}, limit: ${l}}`};t.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:l,data:c,schemaCode:u,keyword:d,it:f}=o,{opts:p,self:h}=f;if(!p.validateFormats)return;const E=new e.KeywordCxt(f,h.RULES.all.format.definition,"format");E.$data?g():_();function g(){const P=l.scopeValue("formats",{ref:h.formats,code:p.code.formats}),I=l.const("fmt",(0,r._)`${P}[${E.schemaCode}]`);o.fail$data((0,r.or)((0,r._)`typeof ${I} != "object"`,(0,r._)`${I} instanceof RegExp`,(0,r._)`typeof ${I}.compare != "function"`,y(I)))}function _(){const P=E.schema,I=h.formats[P];if(!I||I===!0)return;if(typeof I!="object"||I instanceof RegExp||typeof I.compare!="function")throw new Error(`"${d}": format "${P}" does not define "compare" function`);const C=l.scopeValue("formats",{key:P,ref:I,code:p.code.formats?(0,r._)`${p.code.formats}${(0,r.getProperty)(P)}`:void 0});o.fail$data(y(C))}function y(P){return(0,r._)`${P}.compare(${c}, ${u}) ${a[d].fail} 0`}},dependencies:["format"]};const i=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=i})(tl);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=el,n=tl,a=de,s=new a.Name("fullFormats"),i=new a.Name("fastFormats"),o=(c,u={keywords:!0})=>{if(Array.isArray(u))return l(c,u,r.fullFormats,s),c;const[d,f]=u.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,s],p=u.formats||r.formatNames;return l(c,p,d,f),u.keywords&&(0,n.default)(c),c};o.get=(c,u="full")=>{const f=(u==="fast"?r.fastFormats:r.fullFormats)[c];if(!f)throw new Error(`Unknown format "${c}"`);return f};function l(c,u,d,f){var p,h;(p=(h=c.opts.code).formats)!==null&&p!==void 0||(h.formats=(0,a._)`require("ajv-formats/dist/formats").${f}`);for(const E of u)c.addFormat(E,d[E])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(ra,ra.exports);var jp=ra.exports;const Op=sa(jp);class Lt{constructor(e,r=!1){const n={strict:!0,allErrors:r};this.ajv=e==="pydantic_v1"?new ph(n):new Cp(n),Op(this.ajv),this.canValidate=!1}validateSchema(e){this.ajv.compile(e)}loadSchema(e){try{return this.validator=this.ajv.compile(e),this.canValidate=!0}catch(r){return console.error("SchemaValidator: error compiling schema",r),!1}}isValid(e){if(this.validator)return this.canValidate?this.validator(e):null}getErrors(){return!this.validator||!this.canValidate?null:this.validator.errors||null}}function na(t){try{return new Lt("pydantic_v2").validateSchema(t),"pydantic_v2"}catch{return new Lt("pydantic_v1").validateSchema(t),"pydantic_v1"}}class Tp{constructor(e,r,n,a=[],s=void 0){if(this.schemaVersion=n,this.jsonSchema=eo(e,a),this.validator=new Lt(n),!this.validator.loadSchema(this.jsonSchema))throw new Error("Invalid JSON Schema");this.ids=[];const o=hl(this.jsonSchema,n,s);this.dispatch=r,this.notifyChange=()=>{const l=this.getFormData();this.dispatch("change",{value:l})},this.root=this.createObjectElement({key:null,property:this.jsonSchema,required:!0,removable:!1,value:o})}createFormElement(e){const{property:r}=e;if("enum"in r)return this.createEnumElement(e);switch(r.type){case"object":{const n=r;return this.createObjectElement({...e,property:n})}case"array":{const n=r;return Qi(n)?this.createTupleElement({...e,property:n}):this.createArrayElement({...e,property:n})}case"number":case"integer":{const n=r;return this.createNumberElement({...e,property:n})}case"boolean":{const n=r;return this.createBooleanElement({...e,property:n})}default:{const n=r;return this.createStringElement({...e,property:n})}}}createStringElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new vl({...i,value:s||null})}createBooleanElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new gl({...i,value:dn(s)})}createNumberElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new ks({...i,type:"number",value:dn(s),min:ul(r),max:dl(r)})}createEnumElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a});return new yl({...i,type:"enum",value:s||null,options:r.enum})}createObjectElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.required||[],l=[],c=Object.entries(xi(r,s));for(const[d,f]of c){const p=o.includes(d),h=this.createFormElement({key:d,property:f,required:p,removable:fl(r,d),value:s[d]});l.push(h)}return new $l({...i,children:l,additionalProperties:r.additionalProperties||!1})}createArrayElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.items,l=s.map(u=>this.createFormElement({key:null,property:o,required:!1,removable:!0,value:u}));return new bl({...i,children:l,items:o,minItems:r.minItems,maxItems:r.maxItems})}createTupleElement({key:e,property:r,required:n,removable:a,value:s}){const i=this.getBaseElementFields({key:e,property:r,required:n,removable:a}),o=r.minItems,l=this.schemaVersion==="pydantic_v1"?r.items:r.prefixItems;return new wl({...i,type:"tuple",items:l,size:o,children:n||Array.isArray(s)&&s.length>0?this.createTupleChildren({items:l,size:o,value:s}):[]})}createTupleChildren({items:e,size:r,value:n}){const a={key:null,required:!1,removable:!1};return Array.isArray(e)?e.map((s,i)=>this.createFormElement({...a,property:s,value:n[i]})):Array(r).map((s,i)=>this.createFormElement({...a,property:e,value:n[i]}))}getBaseElementFields({key:e,property:r,required:n,removable:a}){return{key:e,required:n,removable:a,manager:this,id:this.getUniqueId(),type:r.type||null,title:e&&a?e:r.title||e||"",description:r.description||"",property:zt(r),notifyChange:this.notifyChange}}getUniqueId(){let e;do if(e=Math.random().toString(36).substring(7),!this.ids.includes(e)){this.ids.push(e);break}while(!0);return e}getFormData(){return this.getDataFromObjectElement(this.root)}getDataFromObjectElement(e){const r={};for(const n of e.children){let a=this.getDataFromElement(n);r[n.key]=a}return r}validate(){const e=yn(this.getFormData());if(!this.validator.isValid(e)){const n=this.validator.getErrors();throw new rl(n)}}getDataFromElement(e){switch(e.type){case"object":return this.getDataFromObjectElement(e);case"array":case"tuple":return this.getDataFromArrayElement(e);default:if(e instanceof zr)return e instanceof ks&&e.badInput?"invalid":e.value;throw new Error(`Unsupported type ${e.type}`)}}getDataFromArrayElement(e){return e.children.map(r=>this.getDataFromElement(r))}}class rl extends Error{constructor(e){super("Invalid JSON Schema data"),this.errors=e}}function ni(t){let e;return{c(){e=k("span"),this.h()},l(r){e=S(r,"SPAN",{tabindex:!0,role:!0,"data-bs-trigger":!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0,"data-bs-html":!0,"data-bs-content":!0}),O(e).forEach($),this.h()},h(){v(e,"tabindex","0"),v(e,"role","button"),v(e,"data-bs-trigger","focus"),v(e,"class","bi bi-info-circle text-primary"),v(e,"data-bs-toggle","collapse"),v(e,"data-bs-target",""),v(e,"data-bs-html",t[1]),v(e,"data-bs-content",t[0])},m(r,n){R(r,e,n),t[3](e)},p(r,n){n&2&&v(e,"data-bs-html",r[1]),n&1&&v(e,"data-bs-content",r[0])},d(r){r&&$(e),t[3](null)}}}function Ap(t){let e,r=t[0]&&ni(t);return{c(){e=k("span"),r&&r.c(),this.h()},l(n){e=S(n,"SPAN",{class:!0});var a=O(e);r&&r.l(a),a.forEach($),this.h()},h(){v(e,"class","ms-2 property-description")},m(n,a){R(n,e,a),r&&r.m(e,null)},p(n,[a]){n[0]?r?r.p(n,a):(r=ni(n),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:ft,o:ft,d(n){n&&$(e),r&&r.d()}}}function Dp(t,e,r){let{description:n=void 0}=e,{html:a=!1}=e,s,i,o;gr(()=>{s&&s.addEventListener("click",function(){i=bootstrap.Popover.getOrCreateInstance(s,{trigger:"manual"}),i.toggle(),o||(o=function(c){const u=c.composedPath();u.length>0&&u[0]instanceof HTMLElement&&u[0]!==s&&(u[0].closest(".popover")||(i==null||i.hide(),i=void 0,window.removeEventListener("click",o),o=void 0))},window.addEventListener("click",o))})});function l(c){Ut[c?"unshift":"push"](()=>{s=c,r(2,s)})}return t.$$set=c=>{"description"in c&&r(0,n=c.description),"html"in c&&r(1,a=c.html)},[n,a,s,l]}class Rp extends Ye{constructor(e){super(),Qe(this,e,Dp,Ap,He,{description:0,html:1})}}function Vp(t){let e;function r(s,i){if(s[0].title)return Fp;if(s[2])return zp}let n=r(t),a=n&&n(t);return{c(){e=k("span"),a&&a.c(),this.h()},l(s){e=S(s,"SPAN",{class:!0});var i=O(e);a&&a.l(i),i.forEach($),this.h()},h(){v(e,"class",t[3])},m(s,i){R(s,e,i),a&&a.m(e,null)},p(s,i){n===(n=r(s))&&a?a.p(s,i):(a&&a.d(1),a=n&&n(s),a&&(a.c(),a.m(e,null))),i&8&&v(e,"class",s[3])},d(s){s&&$(e),a&&a.d()}}}function Mp(t){let e,r;function n(i,o){if(i[0].title)return Lp;if(i[2])return qp}let a=n(t),s=a&&a(t);return{c(){e=k("label"),s&&s.c(),this.h()},l(i){e=S(i,"LABEL",{class:!0,for:!0});var o=O(e);s&&s.l(o),o.forEach($),this.h()},h(){v(e,"class",t[3]),v(e,"for",r=t[1]==="label"?`property-${t[0].id}`:void 0)},m(i,o){R(i,e,o),s&&s.m(e,null)},p(i,o){a===(a=n(i))&&s?s.p(i,o):(s&&s.d(1),s=a&&a(i),s&&(s.c(),s.m(e,null))),o&8&&v(e,"class",i[3]),o&3&&r!==(r=i[1]==="label"?`property-${i[0].id}`:void 0)&&v(e,"for",r)},d(i){i&&$(e),s&&s.d()}}}function zp(t){let e,r;return{c(){e=k("span"),r=Ee(t[2]),this.h()},l(n){e=S(n,"SPAN",{class:!0});var a=O(e);r=ke(a,t[2]),a.forEach($),this.h()},h(){v(e,"class","visually-hidden")},m(n,a){R(n,e,a),w(e,r)},p(n,a){a&4&&De(r,n[2])},d(n){n&&$(e)}}}function Fp(t){let e=t[0].title+"",r;return{c(){r=Ee(e)},l(n){r=ke(n,e)},m(n,a){R(n,r,a)},p(n,a){a&1&&e!==(e=n[0].title+"")&&De(r,e)},d(n){n&&$(r)}}}function qp(t){let e,r;return{c(){e=k("span"),r=Ee(t[2]),this.h()},l(n){e=S(n,"SPAN",{class:!0});var a=O(e);r=ke(a,t[2]),a.forEach($),this.h()},h(){v(e,"class","visually-hidden")},m(n,a){R(n,e,a),w(e,r)},p(n,a){a&4&&De(r,n[2])},d(n){n&&$(e)}}}function Lp(t){let e=t[0].title+"",r;return{c(){r=Ee(e)},l(n){r=ke(n,e)},m(n,a){R(n,r,a)},p(n,a){a&1&&e!==(e=n[0].title+"")&&De(r,e)},d(n){n&&$(r)}}}function Up(t){let e,r,n;function a(o,l){return o[1]==="label"?Mp:Vp}let s=a(t),i=s(t);return r=new Rp({props:{description:t[0].description}}),{c(){i.c(),e=M(),Ce(r.$$.fragment)},l(o){i.l(o),e=z(o),je(r.$$.fragment,o)},m(o,l){i.m(o,l),R(o,e,l),Oe(r,o,l),n=!0},p(o,[l]){s===(s=a(o))&&i?i.p(o,l):(i.d(1),i=s(o),i&&(i.c(),i.m(e.parentNode,e)));const c={};l&1&&(c.description=o[0].description),r.$set(c)},i(o){n||(x(r.$$.fragment,o),n=!0)},o(o){ie(r.$$.fragment,o),n=!1},d(o){o&&$(e),i.d(o),Te(r,o)}}}function Kp(t,e,r){let n,{formElement:a}=e,{tag:s="label"}=e,{defaultTitle:i=""}=e;return t.$$set=o=>{"formElement"in o&&r(0,a=o.formElement),"tag"in o&&r(1,s=o.tag),"defaultTitle"in o&&r(2,i=o.defaultTitle)},t.$$.update=()=>{t.$$.dirty&1&&r(3,n=a.required?"fw-bold":!("value"in a)||a.value!==null&&a.value!==void 0&&a.value!==""?"":"text-secondary fw-light")},[a,s,i,n]}class Lr extends Ye{constructor(e){super(),Qe(this,e,Kp,Up,He,{formElement:0,tag:1,defaultTitle:2})}}function ai(t){let e,r="Reset",n,a;return{c(){e=k("button"),e.textContent=r,this.h()},l(s){e=S(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-ugzt34"&&(e.textContent=r),this.h()},h(){v(e,"class","btn btn-warning me-3")},m(s,i){R(s,e,i),n||(a=G(e,"click",t[3]),n=!0)},p:ft,d(s){s&&$(e),n=!1,a()}}}function Jp(t){let e,r,n,a,s,i,o,l,c,u,d,f,p,h,E,g,_,y;l=new Lr({props:{formElement:t[0],tag:"span"}});let P=t[1]!==null&&t[0].property.default!==void 0&&ai(t);const I=t[5].default,C=al(I,t,t[4],null);return{c(){e=k("div"),r=k("div"),n=k("div"),a=k("div"),s=k("div"),i=k("button"),o=k("div"),Ce(l.$$.fragment),c=M(),u=k("div"),P&&P.c(),d=M(),f=k("div"),p=k("div"),C&&C.c(),this.h()},l(D){e=S(D,"DIV",{class:!0});var L=O(e);r=S(L,"DIV",{class:!0});var W=O(r);n=S(W,"DIV",{class:!0,id:!0});var te=O(n);a=S(te,"DIV",{class:!0});var ce=O(a);s=S(ce,"DIV",{class:!0});var F=O(s);i=S(F,"BUTTON",{class:!0,type:!0});var V=O(i);o=S(V,"DIV",{class:!0});var B=O(o);je(l.$$.fragment,B),B.forEach($),c=z(V),u=S(V,"DIV",{});var U=O(u);P&&P.l(U),U.forEach($),V.forEach($),F.forEach($),d=z(ce),f=S(ce,"DIV",{id:!0,class:!0});var X=O(f);p=S(X,"DIV",{class:!0});var ae=O(p);C&&C.l(ae),ae.forEach($),X.forEach($),ce.forEach($),te.forEach($),W.forEach($),L.forEach($),this.h()},h(){v(o,"class","flex-fill"),v(i,"class","accordion-button"),v(i,"type","button"),_e(i,"collapsed",t[0].collapsed),v(s,"class","accordion-header"),v(p,"class","accordion-body p-1"),v(f,"id",h="collapse-"+t[0].id),v(f,"class","accordion-collapse jschema-collapsing"),_e(f,"collapse",t[0].collapsed),_e(f,"show",!t[0].collapsed),v(a,"class","accordion-item"),v(n,"class","accordion"),v(n,"id",E="accordion-"+t[0].id),v(r,"class","my-2"),v(e,"class","d-flex flex-column p-2")},m(D,L){R(D,e,L),w(e,r),w(r,n),w(n,a),w(a,s),w(s,i),w(i,o),Oe(l,o,null),w(i,c),w(i,u),P&&P.m(u,null),w(a,d),w(a,f),w(f,p),C&&C.m(p,null),g=!0,_||(y=G(i,"click",t[6]),_=!0)},p(D,[L]){const W={};L&1&&(W.formElement=D[0]),l.$set(W),D[1]!==null&&D[0].property.default!==void 0?P?P.p(D,L):(P=ai(D),P.c(),P.m(u,null)):P&&(P.d(1),P=null),(!g||L&1)&&_e(i,"collapsed",D[0].collapsed),C&&C.p&&(!g||L&16)&&sl(C,I,D,D[4],g?ol(I,D[4],L,null):il(D[4]),null),(!g||L&1&&h!==(h="collapse-"+D[0].id))&&v(f,"id",h),(!g||L&1)&&_e(f,"collapse",D[0].collapsed),(!g||L&1)&&_e(f,"show",!D[0].collapsed),(!g||L&1&&E!==(E="accordion-"+D[0].id))&&v(n,"id",E)},i(D){g||(x(l.$$.fragment,D),x(C,D),g=!0)},o(D){ie(l.$$.fragment,D),ie(C,D),g=!1},d(D){D&&$(e),Te(l),P&&P.d(),C&&C.d(D),_=!1,y()}}}function Bp(t,e,r){let{$$slots:n={},$$scope:a}=e,{formElement:s}=e,{reset:i=null}=e;function o(u){u.target instanceof HTMLElement&&u.target.classList.contains("bi-info-circle")||r(0,s.collapsed=!s.collapsed,s)}function l(u){u.preventDefault(),u.stopPropagation(),i&&i()}const c=u=>o(u);return t.$$set=u=>{"formElement"in u&&r(0,s=u.formElement),"reset"in u&&r(1,i=u.reset),"$$scope"in u&&r(4,a=u.$$scope)},[s,i,o,l,a,n,c]}class ss extends Ye{constructor(e){super(),Qe(this,e,Bp,Jp,He,{formElement:0,reset:1})}}function si(t,e,r){const n=t.slice();return n[13]=e[r],n[15]=r,n}function ii(t){let e,r="Remove",n,a;function s(){return t[10](t[15])}return{c(){e=k("button"),e.textContent=r,this.h()},l(i){e=S(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1h75m7r"&&(e.textContent=r),this.h()},h(){v(e,"class","btn btn-warning"),v(e,"type","button")},m(i,o){R(i,e,o),n||(a=G(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&$(e),n=!1,a()}}}function oi(t){let e,r,n,a,s,i,o,l,c;function u(){return t[11](t[15])}function d(){return t[12](t[15])}return{c(){e=k("button"),r=k("i"),a=M(),s=k("button"),i=k("i"),this.h()},l(f){e=S(f,"BUTTON",{class:!0,"aria-label":!0});var p=O(e);r=S(p,"I",{class:!0}),O(r).forEach($),p.forEach($),a=z(f),s=S(f,"BUTTON",{class:!0,"aria-label":!0});var h=O(s);i=S(h,"I",{class:!0}),O(i).forEach($),h.forEach($),this.h()},h(){v(r,"class","bi-arrow-up"),v(e,"class","btn btn-light"),v(e,"aria-label","Move item up"),e.disabled=n=t[15]===0,v(i,"class","bi-arrow-down"),v(s,"class","btn btn-light"),v(s,"aria-label","Move item down"),s.disabled=o=t[15]===t[0].length-1},m(f,p){R(f,e,p),w(e,r),R(f,a,p),R(f,s,p),w(s,i),l||(c=[G(e,"click",ws(u)),G(s,"click",ws(d))],l=!0)},p(f,p){t=f,p&1&&n!==(n=t[15]===0)&&(e.disabled=n),p&1&&o!==(o=t[15]===t[0].length-1)&&(s.disabled=o)},d(f){f&&($(e),$(a),$(s)),l=!1,ht(c)}}}function li(t,e){let r,n,a,s,i,o,l,c,u,d=e[3]&&ii(e);i=new is({props:{formElement:e[13]}});let f=e[0].length>1&&oi(e);return{key:t,first:null,c(){r=k("div"),n=k("div"),d&&d.c(),a=M(),s=k("div"),Ce(i.$$.fragment),o=M(),l=k("div"),f&&f.c(),c=M(),this.h()},l(p){r=S(p,"DIV",{class:!0});var h=O(r);n=S(h,"DIV",{class:!0});var E=O(n);d&&d.l(E),E.forEach($),a=z(h),s=S(h,"DIV",{class:!0});var g=O(s);je(i.$$.fragment,g),g.forEach($),o=z(h),l=S(h,"DIV",{class:!0});var _=O(l);f&&f.l(_),_.forEach($),c=z(h),h.forEach($),this.h()},h(){v(n,"class","align-self-center m-2"),v(s,"class","flex-fill"),v(l,"class","align-self-right mt-2 me-2"),v(r,"class","d-flex"),this.first=r},m(p,h){R(p,r,h),w(r,n),d&&d.m(n,null),w(r,a),w(r,s),Oe(i,s,null),w(r,o),w(r,l),f&&f.m(l,null),w(r,c),u=!0},p(p,h){e=p,e[3]?d?d.p(e,h):(d=ii(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null);const E={};h&1&&(E.formElement=e[13]),i.$set(E),e[0].length>1?f?f.p(e,h):(f=oi(e),f.c(),f.m(l,null)):f&&(f.d(1),f=null)},i(p){u||(x(i.$$.fragment,p),u=!0)},o(p){ie(i.$$.fragment,p),u=!1},d(p){p&&$(r),d&&d.d(),Te(i),f&&f.d()}}}function Hp(t){let e,r,n,a,s,i,o=[],l=new Map,c,u,d,f=vt(t[0]);const p=h=>h[13].id;for(let h=0;h<f.length;h+=1){let E=si(t,f,h),g=p(E);l.set(g,o[h]=li(g,E))}return{c(){e=k("div"),r=k("button"),n=Ee("Add argument to list"),s=M(),i=k("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l(h){e=S(h,"DIV",{class:!0});var E=O(e);r=S(E,"BUTTON",{class:!0,type:!0});var g=O(r);n=ke(g,"Add argument to list"),g.forEach($),E.forEach($),s=z(h),i=S(h,"DIV",{});var _=O(i);for(let y=0;y<o.length;y+=1)o[y].l(_);_.forEach($),this.h()},h(){v(r,"class","btn btn-primary"),v(r,"type","button"),r.disabled=a=!t[4],v(e,"class","d-flex justify-content-center p-2")},m(h,E){R(h,e,E),w(e,r),w(r,n),R(h,s,E),R(h,i,E);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(i,null);c=!0,u||(d=G(r,"click",t[9]),u=!0)},p(h,E){(!c||E&16&&a!==(a=!h[4]))&&(r.disabled=a),E&457&&(f=vt(h[0]),Et(),o=cl(o,E,p,1,h,f,l,i,ll,li,null,si),kt())},i(h){if(!c){for(let E=0;E<f.length;E+=1)x(o[E]);c=!0}},o(h){for(let E=0;E<o.length;E+=1)ie(o[E]);c=!1},d(h){h&&($(e),$(s),$(i));for(let E=0;E<o.length;E+=1)o[E].d();u=!1,d()}}}function Gp(t){let e,r;return e=new ss({props:{formElement:t[1],reset:t[2],$$slots:{default:[Hp]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,[a]){const s={};a&2&&(s.formElement=n[1]),a&4&&(s.reset=n[2]),a&65561&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function Wp(t,e,r){let n,a,{formElement:s}=e,{children:i=[]}=e,{reset:o=null}=e;gr(()=>{r(0,i=s.children)});function l(){s.addChild(),r(0,i=s.children)}function c(g){s.removeChild(g),r(0,i=s.children)}function u(g){s.moveChildUp(g),r(0,i=s.children)}function d(g){s.moveChildDown(g),r(0,i=s.children)}const f=()=>l(),p=g=>c(g),h=g=>u(g),E=g=>d(g);return t.$$set=g=>{"formElement"in g&&r(1,s=g.formElement),"children"in g&&r(0,i=g.children),"reset"in g&&r(2,o=g.reset)},t.$$.update=()=>{t.$$.dirty&3&&r(4,n=typeof s.maxItems!="number"||i.length<s.maxItems),t.$$.dirty&3&&r(3,a=!(s.required&&typeof s.minItems=="number"&&i.length<=s.minItems))},[i,s,o,a,n,l,c,u,d,f,p,h,E]}class Xp extends Ye{constructor(e){super(),Qe(this,e,Wp,Gp,He,{formElement:1,children:0,reset:2})}}function Zp(t){let e,r,n,a,s,i,o,l,c,u,d,f,p;return n=new Lr({props:{formElement:t[0],defaultTitle:"String argument"}}),{c(){e=k("div"),r=k("div"),Ce(n.$$.fragment),a=M(),s=k("div"),i=k("input"),l=M(),c=k("span"),u=Ee(t[2]),this.h()},l(h){e=S(h,"DIV",{class:!0});var E=O(e);r=S(E,"DIV",{class:!0});var g=O(r);je(n.$$.fragment,g),g.forEach($),a=z(E),s=S(E,"DIV",{class:!0});var _=O(s);i=S(_,"INPUT",{type:!0,class:!0,id:!0}),l=z(_),c=S(_,"SPAN",{class:!0});var y=O(c);u=ke(y,t[2]),y.forEach($),_.forEach($),E.forEach($),this.h()},h(){v(r,"class","property-metadata d-flex flex-row align-self-center w-50"),v(i,"type","text"),v(i,"class","form-control"),v(i,"id",o="property-"+t[0].id),_e(i,"is-invalid",t[2]),v(c,"class","invalid-feedback"),v(s,"class","property-input ms-auto w-50 has-validation"),v(e,"class","d-flex align-items-center p-2")},m(h,E){R(h,e,E),w(e,r),Oe(n,r,null),w(e,a),w(e,s),w(s,i),t[4](i),$e(i,t[0].value),w(s,l),w(s,c),w(c,u),d=!0,f||(p=[G(i,"input",t[5]),G(i,"input",t[3])],f=!0)},p(h,[E]){const g={};E&1&&(g.formElement=h[0]),n.$set(g),(!d||E&1&&o!==(o="property-"+h[0].id))&&v(i,"id",o),E&1&&i.value!==h[0].value&&$e(i,h[0].value),(!d||E&4)&&_e(i,"is-invalid",h[2]),(!d||E&4)&&De(u,h[2])},i(h){d||(x(n.$$.fragment,h),d=!0)},o(h){ie(n.$$.fragment,h),d=!1},d(h){h&&$(e),Te(n),t[4](null),f=!1,ht(p)}}}function Yp(t,e,r){let{formElement:n}=e,a,s="";function i(){n.notifyChange(),r(2,s=""),n.required&&a.value===""&&r(2,s="Field is required")}function o(c){Ut[c?"unshift":"push"](()=>{a=c,r(1,a)})}function l(){n.value=this.value,r(0,n)}return t.$$set=c=>{"formElement"in c&&r(0,n=c.formElement)},[n,a,s,i,o,l]}class Qp extends Ye{constructor(e){super(),Qe(this,e,Yp,Zp,He,{formElement:0})}}function xp(t){let e,r,n,a,s,i,o,l,c,u,d;return n=new Lr({props:{formElement:t[0],defaultTitle:"Boolean argument",tag:"span"}}),{c(){e=k("div"),r=k("div"),Ce(n.$$.fragment),a=M(),s=k("div"),i=k("div"),o=k("input"),this.h()},l(f){e=S(f,"DIV",{class:!0});var p=O(e);r=S(p,"DIV",{class:!0});var h=O(r);je(n.$$.fragment,h),h.forEach($),a=z(p),s=S(p,"DIV",{class:!0});var E=O(s);i=S(E,"DIV",{class:!0});var g=O(i);o=S(g,"INPUT",{id:!0,class:!0,type:!0,role:!0}),g.forEach($),E.forEach($),p.forEach($),this.h()},h(){v(r,"class","property-metadata d-flex flex-row align-self-center w-50"),v(o,"id",l="property-"+t[0].id),v(o,"class","form-check-input"),v(o,"type","checkbox"),v(o,"role","switch"),v(i,"class","form-check form-switch"),v(s,"class","property-input ms-auto w-25"),v(e,"class","d-flex align-items-center p-2")},m(f,p){R(f,e,p),w(e,r),Oe(n,r,null),w(e,a),w(e,s),w(s,i),w(i,o),o.checked=t[0].value,c=!0,u||(d=[G(o,"change",t[2]),G(o,"change",t[1])],u=!0)},p(f,[p]){const h={};p&1&&(h.formElement=f[0]),n.$set(h),(!c||p&1&&l!==(l="property-"+f[0].id))&&v(o,"id",l),p&1&&(o.checked=f[0].value)},i(f){c||(x(n.$$.fragment,f),c=!0)},o(f){ie(n.$$.fragment,f),c=!1},d(f){f&&$(e),Te(n),u=!1,ht(d)}}}function e_(t,e,r){let{formElement:n}=e;function a(){n.notifyChange()}function s(){n.value=this.checked,r(0,n)}return t.$$set=i=>{"formElement"in i&&r(0,n=i.formElement)},[n,a,s]}class t_ extends Ye{constructor(e){super(),Qe(this,e,e_,xp,He,{formElement:0})}}function r_(t){let e,r,n,a,s,i,o,l,c,u,d,f,p,h,E;return n=new Lr({props:{formElement:t[0],defaultTitle:"Number argument"}}),{c(){e=k("div"),r=k("div"),Ce(n.$$.fragment),a=M(),s=k("div"),i=k("input"),u=M(),d=k("span"),f=Ee(t[2]),this.h()},l(g){e=S(g,"DIV",{class:!0});var _=O(e);r=S(_,"DIV",{class:!0});var y=O(r);je(n.$$.fragment,y),y.forEach($),a=z(_),s=S(_,"DIV",{class:!0});var P=O(s);i=S(P,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),u=z(P),d=S(P,"SPAN",{class:!0});var I=O(d);f=ke(I,t[2]),I.forEach($),P.forEach($),_.forEach($),this.h()},h(){v(r,"class","property-metadata d-flex flex-row align-self-center w-50"),v(i,"type","number"),v(i,"min",o=t[0].min),v(i,"max",l=t[0].max),v(i,"class","form-control"),v(i,"id",c="property-"+t[0].id),_e(i,"is-invalid",t[2]),v(d,"class","invalid-feedback"),v(s,"class","property-input ms-auto w-50 has-validation"),v(e,"class","d-flex align-items-center p-2")},m(g,_){R(g,e,_),w(e,r),Oe(n,r,null),w(e,a),w(e,s),w(s,i),t[4](i),$e(i,t[0].value),w(s,u),w(s,d),w(d,f),p=!0,h||(E=[G(i,"input",t[5]),G(i,"input",t[3])],h=!0)},p(g,[_]){const y={};_&1&&(y.formElement=g[0]),n.$set(y),(!p||_&1&&o!==(o=g[0].min))&&v(i,"min",o),(!p||_&1&&l!==(l=g[0].max))&&v(i,"max",l),(!p||_&1&&c!==(c="property-"+g[0].id))&&v(i,"id",c),_&1&&Hi(i.value)!==g[0].value&&$e(i,g[0].value),(!p||_&4)&&_e(i,"is-invalid",g[2]),(!p||_&4)&&De(f,g[2])},i(g){p||(x(n.$$.fragment,g),p=!0)},o(g){ie(n.$$.fragment,g),p=!1},d(g){g&&$(e),Te(n),t[4](null),h=!1,ht(E)}}}function n_(t,e,r){let{formElement:n}=e,a,s="";function i(){o(),n.notifyChange()}function o(){if(r(2,s=""),r(0,n.badInput=a.validity.badInput,n),n.badInput){r(2,s="Should be a number");return}if(a.value===""){n.required?r(2,s="Field is required"):r(2,s="");return}const u=parseInt(a.value),d=n.min,f=n.max;if(d!==null&&u<d){r(2,s="Should be greater or equal than "+d);return}if(f!==null&&u>f){r(2,s="Should be lower or equal than "+f);return}r(2,s="")}function l(u){Ut[u?"unshift":"push"](()=>{a=u,r(1,a)})}function c(){n.value=Hi(this.value),r(0,n)}return t.$$set=u=>{"formElement"in u&&r(0,n=u.formElement)},[n,a,s,i,l,c]}class a_ extends Ye{constructor(e){super(),Qe(this,e,n_,r_,He,{formElement:0})}}function ci(t,e,r){const n=t.slice();return n[6]=e[r],n}function ui(t){let e,r=t[6]+"",n,a;return{c(){e=k("option"),n=Ee(r),this.h()},l(s){e=S(s,"OPTION",{});var i=O(e);n=ke(i,r),i.forEach($),this.h()},h(){e.__value=a=t[6],$e(e,e.__value)},m(s,i){R(s,e,i),w(e,n)},p(s,i){i&1&&r!==(r=s[6]+"")&&De(n,r),i&1&&a!==(a=s[6])&&(e.__value=a,$e(e,e.__value))},d(s){s&&$(e)}}}function s_(t){let e,r,n,a,s,i,o,l="Select...",c,u,d,f,p,h,E;n=new Lr({props:{formElement:t[0],defaultTitle:"Enum argument"}});let g=vt(t[0].options),_=[];for(let y=0;y<g.length;y+=1)_[y]=ui(ci(t,g,y));return{c(){e=k("div"),r=k("div"),Ce(n.$$.fragment),a=M(),s=k("div"),i=k("select"),o=k("option"),o.textContent=l;for(let y=0;y<_.length;y+=1)_[y].c();u=M(),d=k("span"),f=Ee(t[2]),this.h()},l(y){e=S(y,"DIV",{class:!0});var P=O(e);r=S(P,"DIV",{class:!0});var I=O(r);je(n.$$.fragment,I),I.forEach($),a=z(P),s=S(P,"DIV",{class:!0});var C=O(s);i=S(C,"SELECT",{class:!0,id:!0});var D=O(i);o=S(D,"OPTION",{"data-svelte-h":!0}),ne(o)!=="svelte-xkszye"&&(o.textContent=l);for(let W=0;W<_.length;W+=1)_[W].l(D);D.forEach($),u=z(C),d=S(C,"SPAN",{class:!0});var L=O(d);f=ke(L,t[2]),L.forEach($),C.forEach($),P.forEach($),this.h()},h(){v(r,"class","property-metadata d-flex flex-row align-self-center w-50"),o.__value="",$e(o,o.__value),v(i,"class","form-select"),v(i,"id",c="property-"+t[0].id),t[0].value===void 0&&Gi(()=>t[5].call(i)),_e(i,"is-invalid",t[2]),v(d,"class","invalid-feedback"),v(s,"class","property-input ms-auto w-50 has-validation"),v(e,"class","d-flex align-items-center p-2")},m(y,P){R(y,e,P),w(e,r),Oe(n,r,null),w(e,a),w(e,s),w(s,i),w(i,o);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(i,null);t[4](i),cn(i,t[0].value,!0),w(s,u),w(s,d),w(d,f),p=!0,h||(E=[G(i,"change",t[5]),G(i,"change",t[3]),G(i,"input",t[3])],h=!0)},p(y,[P]){const I={};if(P&1&&(I.formElement=y[0]),n.$set(I),P&1){g=vt(y[0].options);let C;for(C=0;C<g.length;C+=1){const D=ci(y,g,C);_[C]?_[C].p(D,P):(_[C]=ui(D),_[C].c(),_[C].m(i,null))}for(;C<_.length;C+=1)_[C].d(1);_.length=g.length}(!p||P&1&&c!==(c="property-"+y[0].id))&&v(i,"id",c),P&1&&cn(i,y[0].value),(!p||P&4)&&_e(i,"is-invalid",y[2]),(!p||P&4)&&De(f,y[2])},i(y){p||(x(n.$$.fragment,y),p=!0)},o(y){ie(n.$$.fragment,y),p=!1},d(y){y&&$(e),Te(n),Mr(_,y),t[4](null),h=!1,ht(E)}}}function i_(t,e,r){let{formElement:n}=e,a,s="";function i(){n.notifyChange(),r(2,s=""),n.required&&a.value===""&&r(2,s="Field is required")}function o(c){Ut[c?"unshift":"push"](()=>{a=c,r(1,a)})}function l(){n.value=Wi(this),r(0,n)}return t.$$set=c=>{"formElement"in c&&r(0,n=c.formElement)},[n,a,s,i,o,l]}class o_ extends Ye{constructor(e){super(),Qe(this,e,i_,s_,He,{formElement:0})}}function di(t,e,r){const n=t.slice();return n[5]=e[r],n}function fi(t){let e;function r(s,i){return s[0].length>0?c_:l_}let n=r(t),a=n(t);return{c(){a.c(),e=Ke()},l(s){a.l(s),e=Ke()},m(s,i){a.m(s,i),R(s,e,i)},p(s,i){n===(n=r(s))&&a?a.p(s,i):(a.d(1),a=n(s),a&&(a.c(),a.m(e.parentNode,e)))},d(s){s&&$(e),a.d(s)}}}function l_(t){let e,r="Add tuple",n,a;return{c(){e=k("button"),e.textContent=r,this.h()},l(s){e=S(s,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1mxcszr"&&(e.textContent=r),this.h()},h(){v(e,"class","btn btn-primary"),v(e,"type","button")},m(s,i){R(s,e,i),n||(a=G(e,"click",t[3]),n=!0)},p:ft,d(s){s&&$(e),n=!1,a()}}}function c_(t){let e,r="Remove tuple",n,a;return{c(){e=k("button"),e.textContent=r,this.h()},l(s){e=S(s,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ne(e)!=="svelte-2kgn6v"&&(e.textContent=r),this.h()},h(){v(e,"class","btn btn-primary"),v(e,"type","button")},m(s,i){R(s,e,i),n||(a=G(e,"click",t[4]),n=!0)},p:ft,d(s){s&&$(e),n=!1,a()}}}function hi(t){let e,r,n,a,s;return n=new is({props:{formElement:t[5]}}),{c(){e=k("div"),r=k("div"),Ce(n.$$.fragment),a=M(),this.h()},l(i){e=S(i,"DIV",{class:!0});var o=O(e);r=S(o,"DIV",{class:!0});var l=O(r);je(n.$$.fragment,l),l.forEach($),a=z(o),o.forEach($),this.h()},h(){v(r,"class","flex-fill"),v(e,"class","d-flex")},m(i,o){R(i,e,o),w(e,r),Oe(n,r,null),w(e,a),s=!0},p(i,o){const l={};o&1&&(l.formElement=i[5]),n.$set(l)},i(i){s||(x(n.$$.fragment,i),s=!0)},o(i){ie(n.$$.fragment,i),s=!1},d(i){i&&$(e),Te(n)}}}function u_(t){let e,r,n,a,s=!t[1].required&&fi(t),i=vt(t[0]),o=[];for(let c=0;c<i.length;c+=1)o[c]=hi(di(t,i,c));const l=c=>ie(o[c],1,1,()=>{o[c]=null});return{c(){e=k("div"),s&&s.c(),r=M(),n=k("div");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=S(c,"DIV",{class:!0});var u=O(e);s&&s.l(u),u.forEach($),r=z(c),n=S(c,"DIV",{});var d=O(n);for(let f=0;f<o.length;f+=1)o[f].l(d);d.forEach($),this.h()},h(){v(e,"class","d-flex justify-content-center p-2")},m(c,u){R(c,e,u),s&&s.m(e,null),R(c,r,u),R(c,n,u);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(n,null);a=!0},p(c,u){if(c[1].required?s&&(s.d(1),s=null):s?s.p(c,u):(s=fi(c),s.c(),s.m(e,null)),u&1){i=vt(c[0]);let d;for(d=0;d<i.length;d+=1){const f=di(c,i,d);o[d]?(o[d].p(f,u),x(o[d],1)):(o[d]=hi(f),o[d].c(),x(o[d],1),o[d].m(n,null))}for(Et(),d=i.length;d<o.length;d+=1)l(d);kt()}},i(c){if(!a){for(let u=0;u<i.length;u+=1)x(o[u]);a=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)ie(o[u]);a=!1},d(c){c&&($(e),$(r),$(n)),s&&s.d(),Mr(o,c)}}}function d_(t){let e,r;return e=new ss({props:{formElement:t[1],reset:t[2],$$slots:{default:[u_]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,[a]){const s={};a&2&&(s.formElement=n[1]),a&4&&(s.reset=n[2]),a&259&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function f_(t,e,r){let{formElement:n}=e,{children:a=[]}=e,{reset:s=null}=e;gr(()=>{r(0,a=n.children)});function i(){n.addTuple(),r(0,a=n.children)}function o(){n.removeTuple(),r(0,a=n.children)}return t.$$set=l=>{"formElement"in l&&r(1,n=l.formElement),"children"in l&&r(0,a=l.children),"reset"in l&&r(2,s=l.reset)},[a,n,s,i,o]}class h_ extends Ye{constructor(e){super(),Qe(this,e,f_,d_,He,{formElement:1,children:0,reset:2})}}function m_(t){let e,r,n=t[0].type+"",a;return{c(){e=k("p"),r=Ee("Unsupported property type "),a=Ee(n)},l(s){e=S(s,"P",{});var i=O(e);r=ke(i,"Unsupported property type "),a=ke(i,n),i.forEach($)},m(s,i){R(s,e,i),w(e,r),w(e,a)},p(s,i){i&1&&n!==(n=s[0].type+"")&&De(a,n)},i:ft,o:ft,d(s){s&&$(e)}}}function p_(t){let e,r;return e=new h_({props:{formElement:t[0],reset:t[1]}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&2&&(s.reset=n[1]),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function __(t){let e,r;return e=new Xp({props:{formElement:t[0],reset:t[1]}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&2&&(s.reset=n[1]),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function v_(t){let e,r;return e=new ss({props:{formElement:t[0],reset:t[1],$$slots:{default:[w_]},$$scope:{ctx:t}}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),a&2&&(s.reset=n[1]),a&5&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function g_(t){let e,r;return e=new o_({props:{formElement:t[0]}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function y_(t){let e,r;return e=new t_({props:{formElement:t[0]}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function $_(t){let e,r;return e=new a_({props:{formElement:t[0]}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function b_(t){let e,r;return e=new Qp({props:{formElement:t[0]}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function w_(t){let e,r;return e=new nl({props:{formElement:t[0]}}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},p(n,a){const s={};a&1&&(s.formElement=n[0]),e.$set(s)},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function E_(t){let e,r,n,a;const s=[b_,$_,y_,g_,v_,__,p_,m_],i=[];function o(l,c){return l[0].type==="string"?0:l[0].type==="number"?1:l[0].type==="boolean"?2:l[0].type==="enum"?3:l[0].type==="object"?4:l[0].type==="array"?5:l[0].type==="tuple"?6:7}return e=o(t),r=i[e]=s[e](t),{c(){r.c(),n=Ke()},l(l){r.l(l),n=Ke()},m(l,c){i[e].m(l,c),R(l,n,c),a=!0},p(l,[c]){let u=e;e=o(l),e===u?i[e].p(l,c):(Et(),ie(i[u],1,1,()=>{i[u]=null}),kt(),r=i[e],r?r.p(l,c):(r=i[e]=s[e](l),r.c()),x(r,1),r.m(n.parentNode,n))},i(l){a||(x(r),a=!0)},o(l){ie(r),a=!1},d(l){l&&$(n),i[e].d(l)}}}function k_(t,e,r){let{formElement:n}=e,{reset:a=null}=e;return t.$$set=s=>{"formElement"in s&&r(0,n=s.formElement),"reset"in s&&r(1,a=s.reset)},[n,a]}class is extends Ye{constructor(e){super(),Qe(this,e,k_,E_,He,{formElement:0,reset:1})}}function mi(t,e,r){const n=t.slice();return n[11]=e[r],n[13]=r,n}function pi(t){let e,r,n,a,s,i,o,l="Add property",c,u,d,f=t[4]&&_i(t);return{c(){e=k("div"),r=k("form"),n=k("div"),a=k("div"),s=k("input"),i=M(),o=k("button"),o.textContent=l,c=M(),f&&f.c(),this.h()},l(p){e=S(p,"DIV",{class:!0});var h=O(e);r=S(h,"FORM",{class:!0});var E=O(r);n=S(E,"DIV",{class:!0});var g=O(n);a=S(g,"DIV",{class:!0});var _=O(a);s=S(_,"INPUT",{type:!0,placeholder:!0,class:!0}),i=z(_),o=S(_,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ne(o)!=="svelte-teppm4"&&(o.textContent=l),c=z(_),f&&f.l(_),_.forEach($),g.forEach($),E.forEach($),h.forEach($),this.h()},h(){v(s,"type","text"),v(s,"placeholder","Key"),v(s,"class","form-control"),_e(s,"is-invalid",t[4]),v(o,"class","btn btn-primary"),v(o,"type","button"),v(a,"class","input-group"),_e(a,"has-validation",t[4]),v(n,"class","col-lg-6 offset-lg-3 mb-1"),v(r,"class","row row-cols-auto g-3 align-items-center p-2 flex-grow-1"),v(e,"class","d-flex justify-content-center")},m(p,h){R(p,e,h),w(e,r),w(r,n),w(n,a),w(a,s),$e(s,t[3]),w(a,i),w(a,o),w(a,c),f&&f.m(a,null),u||(d=[G(s,"input",t[8]),G(o,"click",t[5])],u=!0)},p(p,h){h&8&&s.value!==p[3]&&$e(s,p[3]),h&16&&_e(s,"is-invalid",p[4]),p[4]?f?f.p(p,h):(f=_i(p),f.c(),f.m(a,null)):f&&(f.d(1),f=null),h&16&&_e(a,"has-validation",p[4])},d(p){p&&$(e),f&&f.d(),u=!1,ht(d)}}}function _i(t){let e,r;return{c(){e=k("div"),r=Ee(t[4]),this.h()},l(n){e=S(n,"DIV",{class:!0});var a=O(e);r=ke(a,t[4]),a.forEach($),this.h()},h(){v(e,"class","invalid-feedback")},m(n,a){R(n,e,a),w(e,r)},p(n,a){a&16&&De(r,n[4])},d(n){n&&$(e)}}}function vi(t){let e,r="Remove Property Block",n,a;function s(){return t[9](t[11])}return{c(){e=k("button"),e.textContent=r,this.h()},l(i){e=S(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),ne(e)!=="svelte-8vu9di"&&(e.textContent=r),this.h()},h(){v(e,"class","btn btn-danger w-100"),v(e,"type","button")},m(i,o){R(i,e,o),n||(a=G(e,"click",s),n=!0)},p(i,o){t=i},d(i){i&&$(e),n=!1,a()}}}function gi(t){let e,r,n,a,s,i,o,l=t[11].removable&&vi(t);function c(){return t[10](t[13])}return a=new is({props:{formElement:t[11],reset:t[1]?c:null}}),{c(){e=k("div"),l&&l.c(),r=M(),n=k("div"),Ce(a.$$.fragment),i=M(),this.h()},l(u){e=S(u,"DIV",{class:!0});var d=O(e);l&&l.l(d),r=z(d),n=S(d,"DIV",{class:!0,id:!0});var f=O(n);je(a.$$.fragment,f),f.forEach($),i=z(d),d.forEach($),this.h()},h(){v(n,"class","d-flex flex-column properties-block"),v(n,"id",s=t[11].id+"-wrapper"),v(e,"class","property-block svelte-en10qk")},m(u,d){R(u,e,d),l&&l.m(e,null),w(e,r),w(e,n),Oe(a,n,null),w(e,i),o=!0},p(u,d){t=u,t[11].removable?l?l.p(t,d):(l=vi(t),l.c(),l.m(e,r)):l&&(l.d(1),l=null);const f={};d&4&&(f.formElement=t[11]),d&2&&(f.reset=t[1]?c:null),a.$set(f),(!o||d&4&&s!==(s=t[11].id+"-wrapper"))&&v(n,"id",s)},i(u){o||(x(a.$$.fragment,u),o=!0)},o(u){ie(a.$$.fragment,u),o=!1},d(u){u&&$(e),l&&l.d(),Te(a)}}}function yi(t){let e,r,n=vt(t[2]),a=[];for(let i=0;i<n.length;i+=1)a[i]=gi(mi(t,n,i));const s=i=>ie(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Ke()},l(i){for(let o=0;o<a.length;o+=1)a[o].l(i);e=Ke()},m(i,o){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(i,o);R(i,e,o),r=!0},p(i,o){if(o&198){n=vt(i[2]);let l;for(l=0;l<n.length;l+=1){const c=mi(i,n,l);a[l]?(a[l].p(c,o),x(a[l],1)):(a[l]=gi(c),a[l].c(),x(a[l],1),a[l].m(e.parentNode,e))}for(Et(),l=n.length;l<a.length;l+=1)s(l);kt()}},i(i){if(!r){for(let o=0;o<n.length;o+=1)x(a[o]);r=!0}},o(i){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)ie(a[o]);r=!1},d(i){i&&$(e),Mr(a,i)}}}function S_(t){let e,r=t[2],n,a,s=t[0].additionalProperties&&pi(t),i=yi(t);return{c(){s&&s.c(),e=M(),i.c(),n=Ke()},l(o){s&&s.l(o),e=z(o),i.l(o),n=Ke()},m(o,l){s&&s.m(o,l),R(o,e,l),i.m(o,l),R(o,n,l),a=!0},p(o,[l]){o[0].additionalProperties?s?s.p(o,l):(s=pi(o),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),l&4&&He(r,r=o[2])?(Et(),ie(i,1,1,ft),kt(),i=yi(o),i.c(),x(i,1),i.m(n.parentNode,n)):i.p(o,l)},i(o){a||(x(i),a=!0)},o(o){ie(i),a=!1},d(o){o&&($(e),$(n)),s&&s.d(o),i.d(o)}}}function P_(t,e,r){let{formElement:n}=e,{isRoot:a=!1}=e,s=[];gr(()=>{r(2,s=n.children)});let i="",o="";function l(){try{r(4,o=""),n.addChild(i.trim()),r(2,s=n.children),r(3,i="")}catch(h){r(4,o=h.message)}}function c(h){n.removeChild(h),r(2,s=n.children)}function u(h){n.resetChild(h),r(2,s=n.children)}function d(){i=this.value,r(3,i)}const f=h=>c(h.key),p=h=>u(h);return t.$$set=h=>{"formElement"in h&&r(0,n=h.formElement),"isRoot"in h&&r(1,a=h.isRoot)},[n,a,s,i,o,l,c,u,d,f,p]}class nl extends Ye{constructor(e){super(),Qe(this,e,P_,S_,He,{formElement:0,isRoot:1})}}function $i(t){let e=t[1],r,n,a=bi(t);return{c(){a.c(),r=Ke()},l(s){a.l(s),r=Ke()},m(s,i){a.m(s,i),R(s,r,i),n=!0},p(s,i){i&2&&He(e,e=s[1])?(Et(),ie(a,1,1,ft),kt(),a=bi(s),a.c(),x(a,1),a.m(r.parentNode,r)):a.p(s,i)},i(s){n||(x(a),n=!0)},o(s){ie(a),n=!1},d(s){s&&$(r),a.d(s)}}}function bi(t){let e,r,n;return r=new nl({props:{formElement:t[1].root,isRoot:!0}}),{c(){e=k("div"),Ce(r.$$.fragment),this.h()},l(a){e=S(a,"DIV",{id:!0});var s=O(e);je(r.$$.fragment,s),s.forEach($),this.h()},h(){v(e,"id",t[0])},m(a,s){R(a,e,s),Oe(r,e,null),n=!0},p(a,s){const i={};s&2&&(i.formElement=a[1].root),r.$set(i),(!n||s&1)&&v(e,"id",a[0])},i(a){n||(x(r.$$.fragment,a),n=!0)},o(a){ie(r.$$.fragment,a),n=!1},d(a){a&&$(e),Te(r)}}}function I_(t){let e,r,n=t[1]&&$i(t);return{c(){n&&n.c(),e=Ke()},l(a){n&&n.l(a),e=Ke()},m(a,s){n&&n.m(a,s),R(a,e,s),r=!0},p(a,[s]){a[1]?n?(n.p(a,s),s&2&&x(n,1)):(n=$i(a),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(Et(),ie(n,1,1,()=>{n=null}),kt())},i(a){r||(x(n),r=!0)},o(a){ie(n),r=!1},d(a){a&&$(e),n&&n.d(a)}}}function N_(t,e,r){const n=Xi();let{schema:a}=e,{schemaData:s}=e,{schemaVersion:i}=e,{propertiesToIgnore:o=[]}=e,{componentId:l}=e,c;gr(()=>{f()});function u(){return c==null?void 0:c.getFormData()}function d(){for(const p of document.querySelectorAll(`#${l} input, #${l} select`))p.dispatchEvent(new Event("input"));c==null||c.validate()}function f(){if(a)try{r(1,c=new Tp(a,n,i,o,s))}catch(p){console.error(p),r(1,c=void 0)}else r(1,c=void 0)}return t.$$set=p=>{"schema"in p&&r(2,a=p.schema),"schemaData"in p&&r(3,s=p.schemaData),"schemaVersion"in p&&r(4,i=p.schemaVersion),"propertiesToIgnore"in p&&r(5,o=p.propertiesToIgnore),"componentId"in p&&r(0,l=p.componentId)},t.$$.update=()=>{t.$$.dirty&44&&(a||s||o)&&f()},[l,c,a,s,i,o,u,d]}class os extends Ye{constructor(e){super(),Qe(this,e,N_,I_,He,{schema:2,schemaData:3,schemaVersion:4,propertiesToIgnore:5,componentId:0,getArguments:6,validateArguments:7})}get getArguments(){return this.$$.ctx[6]}get validateArguments(){return this.$$.ctx[7]}}const C_="CellvoyagerToOmeZarrInit",j_="object",O_={zarr_urls:{title:"Zarr Urls",type:"array",items:{type:"string"},description:"List of paths or urls to the individual OME-Zarr image to be processed. Not used by the converter task. (standard argument for Fractal tasks, managed by Fractal server)."},zarr_dir:{title:"Zarr Dir",type:"string",description:"path of the directory where the new OME-Zarrs will be created. (standard argument for Fractal tasks, managed by Fractal server)."},image_dirs:{title:"Image Dirs",type:"array",items:{type:"string"},description:"list of paths to the folders that contains the Cellvoyager image files. Each entry is a path to a folder that contains the image files themselves for a multiwell plate and the MeasurementData & MeasurementDetail metadata files."},allowed_channels:{title:"Allowed Channels",type:"array",items:{$ref:"#/definitions/OmeroChannel"},description:"A list of `OmeroChannel` s, where each channel must include the `wavelength_id` attribute and where the `wavelength_id` values must be unique across the list."},image_glob_patterns:{title:"Image Glob Patterns",type:"array",items:{type:"string"},description:'If specified, only parse images with filenames that match with all these patterns. Patterns must be defined as in https://docs.python.org/3/library/fnmatch.html, Example: `image_glob_pattern=["*_B03_*"]` => only process well B03 `image_glob_pattern=["*_C09_*", "*F016*", "*Z[0-5][0-9]C*"]` => only process well C09, field of view 16 and Z planes 0-59.'},num_levels:{title:"Num Levels",default:5,type:"integer",description:"Number of resolution-pyramid levels. If set to `5`, there will be the full-resolution level and 4 levels of downsampled images."},coarsening_xy:{title:"Coarsening Xy",default:2,type:"integer",description:"Linear coarsening factor between subsequent levels. If set to `2`, level 1 is 2x downsampled, level 2 is 4x downsampled etc."},image_extension:{title:"Image Extension",default:"tif",type:"string",description:'Filename extension of images (e.g. `"tif"` or `"png"`)'},metadata_table_file:{title:"Metadata Table File",type:"string",description:"If `None`, parse Yokogawa metadata from mrf/mlf files in the input_path folder; else, the full path to a csv file containing the parsed metadata table."},overwrite:{title:"Overwrite",default:!1,type:"boolean",description:"If `True`, overwrite the task output."}},T_=["zarr_urls","zarr_dir","image_dirs","allowed_channels"],A_=!1,D_={Window:{title:"Window",description:"Custom class for Omero-channel window, based on OME-NGFF v0.4.",type:"object",properties:{min:{title:"Min",type:"integer",description:"Do not change. It will be set to `0` by default."},max:{title:"Max",type:"integer",description:"Do not change. It will be set according to bit-depth of the images by default (e.g. 65535 for 16 bit images)."},start:{title:"Start",type:"integer",description:"Lower-bound rescaling value for visualization."},end:{title:"End",type:"integer",description:"Upper-bound rescaling value for visualization."}},required:["start","end"]},OmeroChannel:{title:"OmeroChannel",description:"Custom class for Omero channels, based on OME-NGFF v0.4.",type:"object",properties:{wavelength_id:{title:"Wavelength Id",type:"string",description:"Unique ID for the channel wavelength, e.g. `A01_C01`."},index:{title:"Index",type:"integer",description:"Do not change. For internal use only."},label:{title:"Label",type:"string",description:"Name of the channel."},window:{$ref:"#/definitions/Window",title:"Window",description:"Optional `Window` object to set default display settings for napari."},color:{title:"Color",type:"string",description:"Optional hex colormap to display the channel in napari (it must be of length 6, e.g. `00FFFF`)."},active:{title:"Active",default:!0,type:"boolean",description:"Should this channel be shown in the viewer?"},coefficient:{title:"Coefficient",default:1,type:"integer",description:"Do not change. Omero-channel attribute."},inverted:{title:"Inverted",default:!1,type:"boolean",description:"Do not change. Omero-channel attribute."}},required:["wavelength_id"]}},R_={title:C_,type:j_,properties:O_,required:T_,additionalProperties:A_,definitions:D_};function wi(t){let e,r,n;return{c(){e=k("div"),r=k("pre"),n=Ee(t[8]),this.h()},l(a){e=S(a,"DIV",{class:!0});var s=O(e);r=S(s,"PRE",{});var i=O(r);n=ke(i,t[8]),i.forEach($),s.forEach($),this.h()},h(){v(e,"class","alert alert-danger")},m(a,s){R(a,e,s),w(e,r),w(r,n)},p(a,s){s&256&&De(n,a[8])},d(a){a&&$(e)}}}function Ei(t){let e,r="Data is valid";return{c(){e=k("div"),e.textContent=r,this.h()},l(n){e=S(n,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1pkeccj"&&(e.textContent=r),this.h()},h(){v(e,"class","alert alert-success")},m(n,a){R(n,e,a)},d(n){n&&$(e)}}}function ki(t){let e,r,n={componentId:"json-schema-sandbox",schema:t[0],schemaVersion:t[6],schemaData:t[1],propertiesToIgnore:t[10]};return e=new os({props:n}),t[21](e),e.$on("change",t[15]),{c(){Ce(e.$$.fragment)},l(a){je(e.$$.fragment,a)},m(a,s){Oe(e,a,s),r=!0},p(a,s){const i={};s&1&&(i.schema=a[0]),s&64&&(i.schemaVersion=a[6]),s&2&&(i.schemaData=a[1]),s&1024&&(i.propertiesToIgnore=a[10]),e.$set(i)},i(a){r||(x(e.$$.fragment,a),r=!0)},o(a){ie(e.$$.fragment,a),r=!1},d(a){t[21](null),Te(e,a)}}}function V_(t){let e,r="Sandbox page for JSON Schema",n,a,s="This is a test page for the JSON Schema component",i,o,l,c,u,d,f,p,h,E="pydantic_v1",g,_,y,P,I,C="pydantic_v2",D,L,W="Load example",te,ce,F,V,B="JSON Schema",U,X,ae,Se,Ie,ve,q,N,A,j="Initial JSON data",m,b,T,K,H,Y,re,fe,Me,We,Z,se="Validate",Ge,oe,he,ze,xe,Je,Pe=t[8]&&wi(t),we=t[9]&&Ei(),be=t[0]&&!t[4]&&ki(t);return ze=un(t[17][0]),{c(){e=k("h1"),e.textContent=r,n=M(),a=k("p"),a.textContent=s,i=M(),o=k("div"),l=k("div"),c=k("div"),u=k("div"),d=k("div"),f=k("input"),p=M(),h=k("label"),h.textContent=E,g=M(),_=k("div"),y=k("input"),P=M(),I=k("label"),I.textContent=C,D=M(),L=k("button"),L.textContent=W,te=M(),ce=k("div"),F=k("div"),V=k("label"),V.textContent=B,U=M(),X=k("textarea"),ae=M(),Se=k("span"),Ie=Ee(t[4]),ve=M(),q=k("div"),N=k("div"),A=k("label"),A.textContent=j,m=M(),b=k("textarea"),T=M(),K=k("span"),H=Ee(t[5]),Y=M(),re=k("div"),fe=k("div"),Pe&&Pe.c(),Me=M(),we&&we.c(),We=M(),Z=k("button"),Z.textContent=se,Ge=M(),oe=k("div"),be&&be.c(),this.h()},l(le){e=S(le,"H1",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-ihcjf"&&(e.textContent=r),n=z(le),a=S(le,"P",{"data-svelte-h":!0}),ne(a)!=="svelte-16og82y"&&(a.textContent=s),i=z(le),o=S(le,"DIV",{class:!0});var me=O(o);l=S(me,"DIV",{class:!0});var Ae=O(l);c=S(Ae,"DIV",{class:!0});var gt=O(c);u=S(gt,"DIV",{class:!0});var et=O(u);d=S(et,"DIV",{class:!0});var Fe=O(d);f=S(Fe,"INPUT",{class:!0,type:!0,name:!0,id:!0}),p=z(Fe),h=S(Fe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ne(h)!=="svelte-1v1y08n"&&(h.textContent=E),Fe.forEach($),g=z(et),_=S(et,"DIV",{class:!0});var Re=O(_);y=S(Re,"INPUT",{class:!0,type:!0,name:!0,id:!0}),P=z(Re),I=S(Re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ne(I)!=="svelte-a4zeq1"&&(I.textContent=C),Re.forEach($),D=z(et),L=S(et,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(L)!=="svelte-1x01i1u"&&(L.textContent=W),et.forEach($),gt.forEach($),te=z(Ae),ce=S(Ae,"DIV",{class:!0});var xt=O(ce);F=S(xt,"DIV",{class:!0});var at=O(F);V=S(at,"LABEL",{for:!0,"data-svelte-h":!0}),ne(V)!=="svelte-i5yw7t"&&(V.textContent=B),U=z(at),X=S(at,"TEXTAREA",{id:!0,class:!0,rows:!0}),O(X).forEach($),ae=z(at),Se=S(at,"SPAN",{class:!0});var kr=O(Se);Ie=ke(kr,t[4]),kr.forEach($),at.forEach($),xt.forEach($),ve=z(Ae),q=S(Ae,"DIV",{class:!0});var er=O(q);N=S(er,"DIV",{class:!0});var st=O(N);A=S(st,"LABEL",{for:!0,"data-svelte-h":!0}),ne(A)!=="svelte-k3khj6"&&(A.textContent=j),m=z(st),b=S(st,"TEXTAREA",{id:!0,class:!0,rows:!0}),O(b).forEach($),T=z(st),K=S(st,"SPAN",{class:!0});var Le=O(K);H=ke(Le,t[5]),Le.forEach($),st.forEach($),er.forEach($),Y=z(Ae),re=S(Ae,"DIV",{class:!0});var tr=O(re);fe=S(tr,"DIV",{class:!0});var it=O(fe);Pe&&Pe.l(it),Me=z(it),we&&we.l(it),We=z(it),Z=S(it,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(Z)!=="svelte-196bi3s"&&(Z.textContent=se),it.forEach($),tr.forEach($),Ae.forEach($),Ge=z(me),oe=S(me,"DIV",{class:!0});var Sr=O(oe);be&&be.l(Sr),Sr.forEach($),me.forEach($),this.h()},h(){v(e,"class","fw-light"),v(f,"class","form-check-input"),v(f,"type","radio"),v(f,"name","schemaVersionOptions"),v(f,"id","pydantic_v1"),f.__value="pydantic_v1",$e(f,f.__value),v(h,"class","form-check-label"),v(h,"for","pydantic_v1"),v(d,"class","form-check form-check-inline"),v(y,"class","form-check-input"),v(y,"type","radio"),v(y,"name","schemaVersionOptions"),v(y,"id","pydantic_v2"),y.__value="pydantic_v2",$e(y,y.__value),v(I,"class","form-check-label"),v(I,"for","pydantic_v2"),v(_,"class","form-check form-check-inline"),v(L,"class","btn btn-outline-primary float-end"),v(u,"class","col"),v(c,"class","row"),v(V,"for","json-schema"),v(X,"id","json-schema"),v(X,"class","form-control"),v(X,"rows","10"),_e(X,"is-invalid",t[4]),v(Se,"class","invalid-feedback"),v(F,"class","col"),v(ce,"class","row has-validation mt-2 mb-2"),v(A,"for","jdata"),v(b,"id","jdata"),v(b,"class","form-control"),v(b,"rows","10"),_e(b,"is-invalid",t[5]),v(K,"class","invalid-feedback"),v(N,"class","col"),v(q,"class","row has-validation mt-3 mb-2"),v(Z,"class","btn btn-primary"),v(fe,"class","col"),v(re,"class","row mt-3 mb-2"),v(l,"class","col-lg-6 mt-3"),v(oe,"class","col-lg-6"),v(o,"class","row"),ze.p(f,y)},m(le,me){R(le,e,me),R(le,n,me),R(le,a,me),R(le,i,me),R(le,o,me),w(o,l),w(l,c),w(c,u),w(u,d),w(d,f),f.checked=f.__value===t[6],w(d,p),w(d,h),w(u,g),w(u,_),w(_,y),y.checked=y.__value===t[6],w(_,P),w(_,I),w(u,D),w(u,L),w(l,te),w(l,ce),w(ce,F),w(F,V),w(F,U),w(F,X),$e(X,t[2]),w(F,ae),w(F,Se),w(Se,Ie),w(l,ve),w(l,q),w(q,N),w(N,A),w(N,m),w(N,b),$e(b,t[3]),w(N,T),w(N,K),w(K,H),w(l,Y),w(l,re),w(re,fe),Pe&&Pe.m(fe,null),w(fe,Me),we&&we.m(fe,null),w(fe,We),w(fe,Z),w(o,Ge),w(o,oe),be&&be.m(oe,null),he=!0,xe||(Je=[G(f,"change",t[16]),G(f,"change",t[11]),G(y,"change",t[18]),G(y,"change",t[11]),G(L,"click",t[14]),G(X,"input",t[19]),G(X,"input",t[11]),G(b,"input",t[20]),G(b,"input",t[12]),G(Z,"click",t[13])],xe=!0)},p(le,[me]){me&64&&(f.checked=f.__value===le[6]),me&64&&(y.checked=y.__value===le[6]),me&4&&$e(X,le[2]),(!he||me&16)&&_e(X,"is-invalid",le[4]),(!he||me&16)&&De(Ie,le[4]),me&8&&$e(b,le[3]),(!he||me&32)&&_e(b,"is-invalid",le[5]),(!he||me&32)&&De(H,le[5]),le[8]?Pe?Pe.p(le,me):(Pe=wi(le),Pe.c(),Pe.m(fe,Me)):Pe&&(Pe.d(1),Pe=null),le[9]?we||(we=Ei(),we.c(),we.m(fe,We)):we&&(we.d(1),we=null),le[0]&&!le[4]?be?(be.p(le,me),me&17&&x(be,1)):(be=ki(le),be.c(),x(be,1),be.m(oe,null)):be&&(Et(),ie(be,1,1,()=>{be=null}),kt())},i(le){he||(x(be),he=!0)},o(le){ie(be),he=!1},d(le){le&&($(e),$(n),$(a),$(i),$(o)),Pe&&Pe.d(),we&&we.d(),be&&be.d(),ze.r(),xe=!1,ht(Je)}}}function M_(t,e,r){let n,a,s,i="",o="",l="",c="",u="pydantic_v2",d;function f(){if(r(8,h=""),r(4,l=""),i===""){r(0,a=void 0);return}let F;try{F=JSON.parse(i)}catch{r(0,a=void 0),r(4,l="Invalid JSON");return}try{new Lt(u).validateSchema(F)}catch{try{r(6,u=na(F))}catch(B){r(0,a=void 0),r(4,l=`Invalid JSON Schema: ${B.message}`);return}}r(0,a=F),y()}function p(){r(8,h=""),r(5,c="");try{r(1,s=JSON.parse(o))}catch{r(1,s=void 0),r(5,c="Invalid JSON")}}let h="",E=!1;function g(){try{r(8,h=""),r(9,E=!1),d==null||d.validateArguments(),r(9,E=!0)}catch(F){r(8,h=aa(F))}}function _(){r(6,u="pydantic_v2"),r(2,i=JSON.stringify(R_,null,2)),f()}async function y(){await jr(),d&&I(d.getArguments())}function P({detail:F}){I(F.value)}function I(F){const V=zt(F),B=JSON.stringify(yn(V),null,2);B!==o&&r(3,o=B)}const C=[[]];function D(){u=this.__value,r(6,u)}function L(){u=this.__value,r(6,u)}function W(){i=this.value,r(2,i)}function te(){o=this.value,r(3,o)}function ce(F){Ut[F?"unshift":"push"](()=>{d=F,r(7,d)})}return r(10,n=hn(!1)),[a,s,i,o,l,c,u,d,h,E,n,f,p,g,_,P,D,C,L,W,te,ce]}class z_ extends Ye{constructor(e){super(),Qe(this,e,M_,V_,He,{})}}function Si(t,e,r){const n=t.slice();return n[49]=e[r],n[51]=r,n}function Pi(t){let e,r,n;return{c(){e=k("div"),r=k("pre"),n=Ee(t[18]),this.h()},l(a){e=S(a,"DIV",{class:!0});var s=O(e);r=S(s,"PRE",{});var i=O(r);n=ke(i,t[18]),i.forEach($),s.forEach($),this.h()},h(){v(e,"class","alert alert-danger")},m(a,s){R(a,e,s),w(e,r),w(r,n)},p(a,s){s[0]&262144&&De(n,a[18])},d(a){a&&$(e)}}}function Ii(t){let e,r="Data is valid";return{c(){e=k("div"),e.textContent=r,this.h()},l(n){e=S(n,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1pkeccj"&&(e.textContent=r),this.h()},h(){v(e,"class","alert alert-success")},m(n,a){R(n,e,a)},d(n){n&&$(e)}}}function Ni(t){let e,r,n={componentId:"json-schema-version-update-sandbox",schema:t[4],schemaData:t[5],schemaVersion:t[10],propertiesToIgnore:t[22]};return e=new os({props:n}),t[40](e),e.$on("change",t[27]),{c(){Ce(e.$$.fragment)},l(a){je(e.$$.fragment,a)},m(a,s){Oe(e,a,s),r=!0},p(a,s){const i={};s[0]&16&&(i.schema=a[4]),s[0]&32&&(i.schemaData=a[5]),s[0]&1024&&(i.schemaVersion=a[10]),s[0]&4194304&&(i.propertiesToIgnore=a[22]),e.$set(i)},i(a){r||(x(e.$$.fragment,a),r=!0)},o(a){ie(e.$$.fragment,a),r=!1},d(a){t[40](null),Te(e,a)}}}function Ci(t){let e,r="Try version update",n,a,s,i,o=t[16]&&t[17]&&ji(t);return{c(){e=k("button"),e.textContent=r,n=M(),o&&o.c(),a=Ke(),this.h()},l(l){e=S(l,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-8vi3bj"&&(e.textContent=r),n=z(l),o&&o.l(l),a=Ke(),this.h()},h(){v(e,"class","btn btn-primary mt-4 mb-2")},m(l,c){R(l,e,c),R(l,n,c),o&&o.m(l,c),R(l,a,c),s||(i=G(e,"click",t[28]),s=!0)},p(l,c){l[16]&&l[17]?o?o.p(l,c):(o=ji(l),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(l){l&&($(e),$(n),$(a)),o&&o.d(l),s=!1,i()}}}function ji(t){let e,r,n,a=t[3]&&Oi(t),s=t[1]&&Di(t),i=t[20]&&zi(t);return{c(){a&&a.c(),e=M(),s&&s.c(),r=M(),i&&i.c(),n=Ke()},l(o){a&&a.l(o),e=z(o),s&&s.l(o),r=z(o),i&&i.l(o),n=Ke()},m(o,l){a&&a.m(o,l),R(o,e,l),s&&s.m(o,l),R(o,r,l),i&&i.m(o,l),R(o,n,l)},p(o,l){o[3]?a?a.p(o,l):(a=Oi(o),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),o[1]?s?s.p(o,l):(s=Di(o),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),o[20]?i?i.p(o,l):(i=zi(o),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(o){o&&($(e),$(r),$(n)),a&&a.d(o),s&&s.d(o),i&&i.d(o)}}}function Oi(t){let e,r,n="Following errors must be fixed before performing the update:",a,s,i=vt(t[3]),o=[];for(let l=0;l<i.length;l+=1)o[l]=Ai(Si(t,i,l));return{c(){e=k("div"),r=k("p"),r.textContent=n,a=M(),s=k("ul");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=S(l,"DIV",{class:!0});var c=O(e);r=S(c,"P",{"data-svelte-h":!0}),ne(r)!=="svelte-rlwvny"&&(r.textContent=n),a=z(c),s=S(c,"UL",{id:!0});var u=O(s);for(let d=0;d<o.length;d+=1)o[d].l(u);u.forEach($),c.forEach($),this.h()},h(){v(s,"id","validation-errors"),v(e,"class","alert alert-danger mt-3")},m(l,c){R(l,e,c),w(e,r),w(e,a),w(e,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(s,null)},p(l,c){if(c[0]&8){i=vt(l[3]);let u;for(u=0;u<i.length;u+=1){const d=Si(l,i,u);o[u]?o[u].p(d,c):(o[u]=Ai(d),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(l){l&&$(e),Mr(o,l)}}}function Ti(t){let e=t[49].instancePath+"",r,n;return{c(){r=Ee(e),n=Ee(":")},l(a){r=ke(a,e),n=ke(a,":")},m(a,s){R(a,r,s),R(a,n,s)},p(a,s){s[0]&8&&e!==(e=a[49].instancePath+"")&&De(r,e)},d(a){a&&($(r),$(n))}}}function F_(t){let e=t[49].message+"",r;return{c(){r=Ee(e)},l(n){r=ke(n,e)},m(n,a){R(n,r,a)},p(n,a){a[0]&8&&e!==(e=n[49].message+"")&&De(r,e)},d(n){n&&$(r)}}}function q_(t){let e,r=t[49].params.additionalProperty+"",n,a;return{c(){e=Ee("must NOT have additional property '"),n=Ee(r),a=Ee("'")},l(s){e=ke(s,"must NOT have additional property '"),n=ke(s,r),a=ke(s,"'")},m(s,i){R(s,e,i),R(s,n,i),R(s,a,i)},p(s,i){i[0]&8&&r!==(r=s[49].params.additionalProperty+"")&&De(n,r)},d(s){s&&($(e),$(n),$(a))}}}function Ai(t){let e,r,n,a,s="more",i,o,l,c,u=JSON.stringify(t[49],null,2)+"",d,f,p=t[49].instancePath&&Ti(t);function h(_,y){return _[49].keyword==="additionalProperties"?q_:F_}let E=h(t),g=E(t);return{c(){e=k("li"),p&&p.c(),r=M(),g.c(),n=M(),a=k("small"),a.textContent=s,i=M(),o=k("div"),l=k("div"),c=k("pre"),d=Ee(u),f=M(),this.h()},l(_){e=S(_,"LI",{});var y=O(e);p&&p.l(y),r=z(y),g.l(y),n=z(y),a=S(y,"SMALL",{"data-bs-toggle":!0,"data-bs-target":!0,"aria-expanded":!0,"aria-controls":!0,class:!0,role:!0,"data-svelte-h":!0}),ne(a)!=="svelte-1y3dw3f"&&(a.textContent=s),i=z(y),o=S(y,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var P=O(o);l=S(P,"DIV",{class:!0});var I=O(l);c=S(I,"PRE",{class:!0});var C=O(c);d=ke(C,u),C.forEach($),I.forEach($),P.forEach($),f=z(y),y.forEach($),this.h()},h(){v(a,"data-bs-toggle","collapse"),v(a,"data-bs-target","#collapse-"+t[51]),v(a,"aria-expanded","true"),v(a,"aria-controls","collapse-"+t[51]),v(a,"class","text-primary"),v(a,"role","button"),v(c,"class","alert alert-warning mt-1"),v(l,"class","accordion-body"),v(o,"id","collapse-"+t[51]),v(o,"class","accordion-collapse collapse"),v(o,"data-bs-parent","#validation-errors")},m(_,y){R(_,e,y),p&&p.m(e,null),w(e,r),g.m(e,null),w(e,n),w(e,a),w(e,i),w(e,o),w(o,l),w(l,c),w(c,d),w(e,f)},p(_,y){_[49].instancePath?p?p.p(_,y):(p=Ti(_),p.c(),p.m(e,r)):p&&(p.d(1),p=null),E===(E=h(_))&&g?g.p(_,y):(g.d(1),g=E(_),g&&(g.c(),g.m(e,n))),y[0]&8&&u!==(u=JSON.stringify(_[49],null,2)+"")&&De(d,u)},d(_){_&&$(e),p&&p.d(),g.d()}}}function Di(t){let e,r,n,a=!t[3]&&Ri(),s=t[20]&&Vi(t),i=!t[21]&&Mi();return{c(){a&&a.c(),e=M(),s&&s.c(),r=M(),i&&i.c(),n=Ke()},l(o){a&&a.l(o),e=z(o),s&&s.l(o),r=z(o),i&&i.l(o),n=Ke()},m(o,l){a&&a.m(o,l),R(o,e,l),s&&s.m(o,l),R(o,r,l),i&&i.m(o,l),R(o,n,l)},p(o,l){o[3]?a&&(a.d(1),a=null):a||(a=Ri(),a.c(),a.m(e.parentNode,e)),o[20]?s?s.p(o,l):(s=Vi(o),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null),o[21]?i&&(i.d(1),i=null):i||(i=Mi(),i.c(),i.m(n.parentNode,n))},d(o){o&&($(e),$(r),$(n)),a&&a.d(o),s&&s.d(o),i&&i.d(o)}}}function Ri(t){let e,r="The arguments are valid";return{c(){e=k("div"),e.textContent=r,this.h()},l(n){e=S(n,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-3j6lef"&&(e.textContent=r),this.h()},h(){v(e,"class","alert alert-success mt-3")},m(n,a){R(n,e,a)},d(n){n&&$(e)}}}function Vi(t){let e,r="Fix the arguments:",n,a,s,i;return{c(){e=k("label"),e.textContent=r,n=M(),a=k("textarea"),this.h()},l(o){e=S(o,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ne(e)!=="svelte-5fr72u"&&(e.textContent=r),n=z(o),a=S(o,"TEXTAREA",{class:!0,id:!0,rows:!0}),O(a).forEach($),this.h()},h(){v(e,"class","form-label"),v(e,"for","fix-arguments"),v(a,"class","form-control"),v(a,"id","fix-arguments"),v(a,"rows","20"),_e(a,"is-invalid",!t[21])},m(o,l){R(o,e,l),R(o,n,l),R(o,a,l),$e(a,t[2]),s||(i=G(a,"input",t[44]),s=!0)},p(o,l){l[0]&4&&$e(a,o[2]),l[0]&2097152&&_e(a,"is-invalid",!o[21])},d(o){o&&($(e),$(n),$(a)),s=!1,i()}}}function Mi(t){let e,r="Invalid JSON";return{c(){e=k("div"),e.textContent=r,this.h()},l(n){e=S(n,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1jtspzp"&&(e.textContent=r),this.h()},h(){v(e,"class","invalid-feedback")},m(n,a){R(n,e,a)},d(n){n&&$(e)}}}function zi(t){let e,r="Check",n,a;return{c(){e=k("button"),e.textContent=r,this.h()},l(s){e=S(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-lzzoyy"&&(e.textContent=r),this.h()},h(){v(e,"type","button"),v(e,"class","btn btn-warning mt-3")},m(s,i){R(s,e,i),n||(a=G(e,"click",t[0]),n=!0)},p:ft,d(s){s&&$(e),n=!1,a()}}}function L_(t){let e,r="Sandbox page for task version update",n,a,s="This is a test page for the task version update",i,o,l,c,u="Old schema",d,f,p,h,E,g="pydantic_v1",_,y,P,I,C,D="pydantic_v2",L,W,te,ce="Load example",F,V,B,U,X,ae,Se="JSON Schema",Ie,ve,q,N,A,j,m,b,T,K="Initial JSON data",H,Y,re,fe,Me,We,Z,se,Ge,oe,he,ze="Validate",xe,Je,Pe,we,be,le,me,Ae,gt="New schema",et,Fe,Re,xt,at,kr="pydantic_v1",er,st,Le,tr,it,Sr="pydantic_v2",Ur,jt,rr,nr,St,Kt,ls="JSON Schema",An,dt,Dn,ar,Kr,Rn,Jt,Pt,Vn,Mn,zn,cs,tt=t[18]&&Pi(t),ot=t[19]&&Ii(),Ue=t[4]&&Ni(t),rt=t[12]&&Ci(t);return Vn=un(t[36][0]),Mn=un(t[36][1]),{c(){e=k("h1"),e.textContent=r,n=M(),a=k("p"),a.textContent=s,i=M(),o=k("div"),l=k("div"),c=k("h2"),c.textContent=u,d=M(),f=k("div"),p=k("input"),h=M(),E=k("label"),E.textContent=g,_=M(),y=k("div"),P=k("input"),I=M(),C=k("label"),C.textContent=D,L=M(),W=k("div"),te=k("button"),te.textContent=ce,F=M(),V=k("div"),B=k("div"),U=k("div"),X=k("div"),ae=k("label"),ae.textContent=Se,Ie=M(),ve=k("textarea"),q=M(),N=k("span"),A=Ee(t[8]),j=M(),m=k("div"),b=k("div"),T=k("label"),T.textContent=K,H=M(),Y=k("textarea"),re=M(),fe=k("span"),Me=Ee(t[9]),We=M(),Z=k("div"),se=k("div"),tt&&tt.c(),Ge=M(),ot&&ot.c(),oe=M(),he=k("button"),he.textContent=ze,xe=M(),Je=k("div"),Ue&&Ue.c(),Pe=M(),we=k("hr"),be=M(),le=k("div"),me=k("div"),Ae=k("h2"),Ae.textContent=gt,et=M(),Fe=k("div"),Re=k("input"),xt=M(),at=k("label"),at.textContent=kr,er=M(),st=k("div"),Le=k("input"),tr=M(),it=k("label"),it.textContent=Sr,Ur=M(),jt=k("div"),rr=k("div"),nr=k("div"),St=k("div"),Kt=k("label"),Kt.textContent=ls,An=M(),dt=k("textarea"),Dn=M(),ar=k("span"),Kr=Ee(t[15]),Rn=M(),Jt=k("div"),rt&&rt.c(),this.h()},l(ee){e=S(ee,"H1",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1mbg5bm"&&(e.textContent=r),n=z(ee),a=S(ee,"P",{"data-svelte-h":!0}),ne(a)!=="svelte-q7jlrq"&&(a.textContent=s),i=z(ee),o=S(ee,"DIV",{class:!0});var ye=O(o);l=S(ye,"DIV",{class:!0});var sr=O(l);c=S(sr,"H2",{"data-svelte-h":!0}),ne(c)!=="svelte-2ibsze"&&(c.textContent=u),d=z(sr),f=S(sr,"DIV",{class:!0});var Jr=O(f);p=S(Jr,"INPUT",{class:!0,type:!0,name:!0,id:!0}),h=z(Jr),E=S(Jr,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ne(E)!=="svelte-1dc4z1"&&(E.textContent=g),Jr.forEach($),_=z(sr),y=S(sr,"DIV",{class:!0});var Br=O(y);P=S(Br,"INPUT",{class:!0,type:!0,name:!0,id:!0}),I=z(Br),C=S(Br,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ne(C)!=="svelte-19h8ds7"&&(C.textContent=D),Br.forEach($),sr.forEach($),L=z(ye),W=S(ye,"DIV",{class:!0});var us=O(W);te=S(us,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(te)!=="svelte-n4urqh"&&(te.textContent=ce),us.forEach($),ye.forEach($),F=z(ee),V=S(ee,"DIV",{class:!0});var Hr=O(V);B=S(Hr,"DIV",{class:!0});var ir=O(B);U=S(ir,"DIV",{class:!0});var ds=O(U);X=S(ds,"DIV",{class:!0});var or=O(X);ae=S(or,"LABEL",{for:!0,"data-svelte-h":!0}),ne(ae)!=="svelte-tbhf9k"&&(ae.textContent=Se),Ie=z(or),ve=S(or,"TEXTAREA",{id:!0,class:!0,rows:!0}),O(ve).forEach($),q=z(or),N=S(or,"SPAN",{class:!0});var fs=O(N);A=ke(fs,t[8]),fs.forEach($),or.forEach($),ds.forEach($),j=z(ir),m=S(ir,"DIV",{class:!0});var hs=O(m);b=S(hs,"DIV",{class:!0});var lr=O(b);T=S(lr,"LABEL",{for:!0,"data-svelte-h":!0}),ne(T)!=="svelte-15gnt9m"&&(T.textContent=K),H=z(lr),Y=S(lr,"TEXTAREA",{id:!0,class:!0,rows:!0}),O(Y).forEach($),re=z(lr),fe=S(lr,"SPAN",{class:!0});var ms=O(fe);Me=ke(ms,t[9]),ms.forEach($),lr.forEach($),hs.forEach($),We=z(ir),Z=S(ir,"DIV",{class:!0});var ps=O(Z);se=S(ps,"DIV",{class:!0});var cr=O(se);tt&&tt.l(cr),Ge=z(cr),ot&&ot.l(cr),oe=z(cr),he=S(cr,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(he)!=="svelte-196bi3s"&&(he.textContent=ze),cr.forEach($),ps.forEach($),ir.forEach($),xe=z(Hr),Je=S(Hr,"DIV",{class:!0});var _s=O(Je);Ue&&Ue.l(_s),_s.forEach($),Hr.forEach($),Pe=z(ee),we=S(ee,"HR",{}),be=z(ee),le=S(ee,"DIV",{class:!0});var vs=O(le);me=S(vs,"DIV",{class:!0});var ur=O(me);Ae=S(ur,"H2",{"data-svelte-h":!0}),ne(Ae)!=="svelte-b84mfb"&&(Ae.textContent=gt),et=z(ur),Fe=S(ur,"DIV",{class:!0});var Gr=O(Fe);Re=S(Gr,"INPUT",{class:!0,type:!0,name:!0,id:!0}),xt=z(Gr),at=S(Gr,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ne(at)!=="svelte-4vjzei"&&(at.textContent=kr),Gr.forEach($),er=z(ur),st=S(ur,"DIV",{class:!0});var Wr=O(st);Le=S(Wr,"INPUT",{class:!0,type:!0,name:!0,id:!0}),tr=z(Wr),it=S(Wr,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ne(it)!=="svelte-c4yrb4"&&(it.textContent=Sr),Wr.forEach($),ur.forEach($),vs.forEach($),Ur=z(ee),jt=S(ee,"DIV",{class:!0});var Xr=O(jt);rr=S(Xr,"DIV",{class:!0});var gs=O(rr);nr=S(gs,"DIV",{class:!0});var ys=O(nr);St=S(ys,"DIV",{class:!0});var dr=O(St);Kt=S(dr,"LABEL",{for:!0,"data-svelte-h":!0}),ne(Kt)!=="svelte-ynu5vt"&&(Kt.textContent=ls),An=z(dr),dt=S(dr,"TEXTAREA",{id:!0,class:!0,rows:!0}),O(dt).forEach($),Dn=z(dr),ar=S(dr,"SPAN",{class:!0});var $s=O(ar);Kr=ke($s,t[15]),$s.forEach($),dr.forEach($),ys.forEach($),gs.forEach($),Rn=z(Xr),Jt=S(Xr,"DIV",{class:!0});var bs=O(Jt);rt&&rt.l(bs),bs.forEach($),Xr.forEach($),this.h()},h(){v(e,"class","fw-light"),v(p,"class","form-check-input"),v(p,"type","radio"),v(p,"name","oldSchemaVersionOptions"),v(p,"id","old_pydantic_v1"),p.__value="pydantic_v1",$e(p,p.__value),v(E,"class","form-check-label"),v(E,"for","old_pydantic_v1"),v(f,"class","form-check form-check-inline"),v(P,"class","form-check-input"),v(P,"type","radio"),v(P,"name","oldSchemaVersionOptions"),v(P,"id","old_pydantic_v2"),P.__value="pydantic_v2",$e(P,P.__value),v(C,"class","form-check-label"),v(C,"for","old_pydantic_v2"),v(y,"class","form-check form-check-inline"),v(l,"class","col-lg-6 mt-3"),v(te,"class","btn btn-outline-primary"),v(W,"class","col-lg-6 mt-5"),v(o,"class","row"),v(ae,"for","jschema-old"),v(ve,"id","jschema-old"),v(ve,"class","form-control"),v(ve,"rows","10"),_e(ve,"is-invalid",t[8]),v(N,"class","invalid-feedback"),v(X,"class","col"),v(U,"class","row has-validation mb-2"),v(T,"for","jdata-old"),v(Y,"id","jdata-old"),v(Y,"class","form-control"),v(Y,"rows","10"),_e(Y,"is-invalid",t[9]),v(fe,"class","invalid-feedback"),v(b,"class","col"),v(m,"class","row has-validation mt-3 mb-2"),v(he,"class","btn btn-primary"),v(se,"class","col"),v(Z,"class","row mt-3 mb-2"),v(B,"class","col-lg-6 mt-3"),v(Je,"class","col-lg-6 mt-3"),v(V,"class","row"),v(Re,"class","form-check-input"),v(Re,"type","radio"),v(Re,"name","newSchemaVersionOptions"),v(Re,"id","new_pydantic_v1"),Re.__value="pydantic_v1",$e(Re,Re.__value),v(at,"class","form-check-label"),v(at,"for","new_pydantic_v1"),v(Fe,"class","form-check form-check-inline"),v(Le,"class","form-check-input"),v(Le,"type","radio"),v(Le,"name","newSchemaVersionOptions"),v(Le,"id","new_pydantic_v2"),Le.__value="pydantic_v2",$e(Le,Le.__value),v(it,"class","form-check-label"),v(it,"for","new_pydantic_v2"),v(st,"class","form-check form-check-inline"),v(me,"class","col-lg-6 mt-2"),v(le,"class","row"),v(Kt,"for","jschema-new"),v(dt,"id","jschema-new"),v(dt,"class","form-control"),v(dt,"rows","10"),_e(dt,"is-invalid",t[15]),v(ar,"class","invalid-feedback"),v(St,"class","col"),v(nr,"class","row has-validation mb-2"),v(rr,"class","col-lg-6 mt-3"),v(Jt,"class","col-lg-6"),v(jt,"class","row mb-5"),Vn.p(Re,Le),Mn.p(p,P)},m(ee,ye){R(ee,e,ye),R(ee,n,ye),R(ee,a,ye),R(ee,i,ye),R(ee,o,ye),w(o,l),w(l,c),w(l,d),w(l,f),w(f,p),p.checked=p.__value===t[10],w(f,h),w(f,E),w(l,_),w(l,y),w(y,P),P.checked=P.__value===t[10],w(y,I),w(y,C),w(o,L),w(o,W),w(W,te),R(ee,F,ye),R(ee,V,ye),w(V,B),w(B,U),w(U,X),w(X,ae),w(X,Ie),w(X,ve),$e(ve,t[6]),w(X,q),w(X,N),w(N,A),w(B,j),w(B,m),w(m,b),w(b,T),w(b,H),w(b,Y),$e(Y,t[7]),w(b,re),w(b,fe),w(fe,Me),w(B,We),w(B,Z),w(Z,se),tt&&tt.m(se,null),w(se,Ge),ot&&ot.m(se,null),w(se,oe),w(se,he),w(V,xe),w(V,Je),Ue&&Ue.m(Je,null),R(ee,Pe,ye),R(ee,we,ye),R(ee,be,ye),R(ee,le,ye),w(le,me),w(me,Ae),w(me,et),w(me,Fe),w(Fe,Re),Re.checked=Re.__value===t[13],w(Fe,xt),w(Fe,at),w(me,er),w(me,st),w(st,Le),Le.checked=Le.__value===t[13],w(st,tr),w(st,it),R(ee,Ur,ye),R(ee,jt,ye),w(jt,rr),w(rr,nr),w(nr,St),w(St,Kt),w(St,An),w(St,dt),$e(dt,t[14]),w(St,Dn),w(St,ar),w(ar,Kr),w(jt,Rn),w(jt,Jt),rt&&rt.m(Jt,null),Pt=!0,zn||(cs=[G(p,"change",t[35]),G(p,"change",t[23]),G(P,"change",t[37]),G(P,"change",t[23]),G(te,"click",t[29]),G(ve,"input",t[38]),G(ve,"input",t[23]),G(Y,"input",t[39]),G(Y,"input",t[24]),G(he,"click",t[26]),G(Re,"change",t[41]),G(Re,"change",t[25]),G(Le,"change",t[42]),G(Le,"change",t[25]),G(dt,"input",t[43]),G(dt,"input",t[25])],zn=!0)},p(ee,ye){ye[0]&1024&&(p.checked=p.__value===ee[10]),ye[0]&1024&&(P.checked=P.__value===ee[10]),ye[0]&64&&$e(ve,ee[6]),(!Pt||ye[0]&256)&&_e(ve,"is-invalid",ee[8]),(!Pt||ye[0]&256)&&De(A,ee[8]),ye[0]&128&&$e(Y,ee[7]),(!Pt||ye[0]&512)&&_e(Y,"is-invalid",ee[9]),(!Pt||ye[0]&512)&&De(Me,ee[9]),ee[18]?tt?tt.p(ee,ye):(tt=Pi(ee),tt.c(),tt.m(se,Ge)):tt&&(tt.d(1),tt=null),ee[19]?ot||(ot=Ii(),ot.c(),ot.m(se,oe)):ot&&(ot.d(1),ot=null),ee[4]?Ue?(Ue.p(ee,ye),ye[0]&16&&x(Ue,1)):(Ue=Ni(ee),Ue.c(),x(Ue,1),Ue.m(Je,null)):Ue&&(Et(),ie(Ue,1,1,()=>{Ue=null}),kt()),ye[0]&8192&&(Re.checked=Re.__value===ee[13]),ye[0]&8192&&(Le.checked=Le.__value===ee[13]),ye[0]&16384&&$e(dt,ee[14]),(!Pt||ye[0]&32768)&&_e(dt,"is-invalid",ee[15]),(!Pt||ye[0]&32768)&&De(Kr,ee[15]),ee[12]?rt?rt.p(ee,ye):(rt=Ci(ee),rt.c(),rt.m(Jt,null)):rt&&(rt.d(1),rt=null)},i(ee){Pt||(x(Ue),Pt=!0)},o(ee){ie(Ue),Pt=!1},d(ee){ee&&($(e),$(n),$(a),$(i),$(o),$(F),$(V),$(Pe),$(we),$(be),$(le),$(Ur),$(jt)),tt&&tt.d(),ot&&ot.d(),Ue&&Ue.d(),rt&&rt.d(),Vn.r(),Mn.r(),zn=!1,ht(cs)}}}function U_(t,e,r){let n,a,s,i="",o="",l="",c="",u="pydantic_v2",d,f,p="pydantic_v2",h="",E="",g,_;async function y(){if(r(8,l=""),i===""){r(4,a=void 0);return}try{r(4,a=JSON.parse(i)),W()}catch{r(4,a=void 0),r(8,l="Invalid JSON")}try{new Lt(u).validateSchema(a)}catch{try{r(10,u=na(a))}catch(se){r(4,a=void 0),r(8,l=`Invalid JSON Schema: ${se.message}`);return}}}function P(){r(9,c=""),r(9,c="");try{r(5,s=JSON.parse(o))}catch{r(5,s=void 0),r(9,c="Invalid JSON")}}function I(){if(r(16,g=void 0),r(17,_=void 0),r(15,E=""),h===""){r(12,f=void 0);return}try{r(12,f=JSON.parse(h))}catch{r(12,f=void 0),r(15,E="Invalid JSON")}try{new Lt(p).validateSchema(f)}catch{try{r(13,p=na(f))}catch(se){r(12,f=void 0),r(15,E=`Invalid JSON Schema: ${se.message}`);return}}}let C,D=!1;async function L(){try{r(18,C=""),r(19,D=!1),r(5,s=JSON.parse(o)),await jr(),d==null||d.validateArguments(),r(19,D=!0)}catch(Z){r(18,C=aa(Z)),r(16,g=void 0),r(17,_=void 0)}}async function W(){if(await jr(),!d)return;const Z=zt(d.getArguments()),se=JSON.stringify(yn(Z),null,2);se!==o&&r(7,o=se)}async function te(){r(20,B=!1),D||await L(),D&&(ce(),await jr(),q())}function ce(){r(16,g={id:1,args_parallel:zt(s),task_type:"parallel"}),r(17,_={args_schema_parallel:f})}function F(){r(10,u="pydantic_v2"),r(13,p="pydantic_v2");const Z={title:"Test",type:"object",properties:{foo:{title:"foo",type:"string"}},required:["foo"]},se=zt(Z);se.properties.bar={title:"bar",type:"string"},se.required.push("bar"),r(6,i=JSON.stringify(Z,null,2)),r(7,o=JSON.stringify({foo:"something"},null,2)),r(14,h=JSON.stringify(se,null,2)),y(),P(),I()}let V="",B=!1,U="",X=!0,ae=null;function Se(){r(2,U=""),r(3,ae=null)}function Ie(){r(2,U=V),ve()}function ve(){if(!U)return;r(21,X=!0);let Z;try{Z=JSON.parse(U)}catch{r(21,X=!1);return}A(Z)}function q(){const Z=g.args_parallel||{};r(1,V=JSON.stringify(Z,null,2)),A(Z)}function N(){U!==""?JSON.parse(U):g.args_parallel}function A(Z){const se=_.args_schema_parallel,Ge=new Lt(p,!0);"properties"in se&&to(se,hn(!1));const oe=zt(se);if(!Ge.loadSchema(oe))throw new Error("Invalid JSON schema");Ge.isValid(Z)?r(3,ae=null):(r(2,U=JSON.stringify(Z,null,2)),r(20,B=!0),r(3,ae=Ge.getErrors()))}function j(){return((ae==null?void 0:ae.length)||0)>0}const m=[[],[]];function b(){u=this.__value,r(10,u)}function T(){u=this.__value,r(10,u)}function K(){i=this.value,r(6,i)}function H(){o=this.value,r(7,o)}function Y(Z){Ut[Z?"unshift":"push"](()=>{d=Z,r(11,d)})}function re(){p=this.__value,r(13,p)}function fe(){p=this.__value,r(13,p)}function Me(){h=this.value,r(14,h)}function We(){U=this.value,r(2,U)}return t.$$.update=()=>{t.$$.dirty[0]&14&&(ae===null||ae.length)},r(22,n=hn(!1)),[ve,V,U,ae,a,s,i,o,l,c,u,d,f,p,h,E,g,_,C,D,B,X,n,y,P,I,L,W,te,F,Se,Ie,q,N,j,b,m,T,K,H,Y,re,fe,Me,We]}class K_ extends Ye{constructor(e){super(),Qe(this,e,U_,L_,He,{reset:30,cancel:31,check:0,checkArgumentsWithNewSchema:32,getNewArgs:33,hasValidationErrors:34},null,[-1,-1])}get reset(){return this.$$.ctx[30]}get cancel(){return this.$$.ctx[31]}get check(){return this.$$.ctx[0]}get checkArgumentsWithNewSchema(){return this.$$.ctx[32]}get getNewArgs(){return this.$$.ctx[33]}get hasValidationErrors(){return this.$$.ctx[34]}}const J_="ManifestV2",B_=`Packages containing tasks are required to include a special file
\`__FRACTAL_MANIFEST__.json\` in order to be discovered and used by Fractal.

This model class and the model classes it depends on provide the base
schema to read, write and validate manifests.

Attributes:
    manifest_version:
        A version string that provides indication for compatibility between
        manifests as the schema evolves. This is for instance used by
        Fractal to determine which subclass of the present base class needs
        be used to read and validate the input.
    task_list : list[TaskManifestType]
        The list of tasks, represented as specified by subclasses of the
        _TaskManifestBase (a.k.a. TaskManifestType)
    has_args_schemas:
        \`True\` if the manifest incldues JSON Schemas for the arguments of
        each task.
    args_schema_version:
        Label of how \`args_schema\`s were generated (e.g. \`pydantic_v2\`).`,H_="object",G_={manifest_version:{title:"Manifest Version",type:"string"},task_list:{title:"Task List",type:"array",items:{$ref:"#/definitions/TaskManifestV2"}},has_args_schemas:{title:"Has Args Schemas",default:!1,type:"boolean"},args_schema_version:{title:"Args Schema Version",type:"string"}},W_=["manifest_version","task_list"],X_={TaskManifestV2:{title:"TaskManifestV2",description:`Represents a task within a V2 manifest.

Attributes:
    name:
        The task name
    executable:
        Path to the executable relative to the package root

        Note: by package root we mean "as it will be installed". If a
        package \`Pkg\` installs in the folder \`pkg\` the executable
        \`pkg/executable.py\`, this attribute must contain only
        \`executable.py\`.
    input_type:
        The input type accepted by the task
    output_type:
        The output type returned by the task
    meta:
        Additional information about the package, such as hash of the
        executable, specific runtime requirements (e.g., need_gpu=True),
        etc.
    args_schema:
        JSON Schema for task arguments
    docs_info:
        Additional information about the Task, coming from the docstring.
    docs_link:
        Link to Task docs.`,type:"object",properties:{name:{title:"Name",type:"string"},executable_non_parallel:{title:"Executable Non Parallel",type:"string"},executable_parallel:{title:"Executable Parallel",type:"string"},input_types:{title:"Input Types",type:"object",additionalProperties:{type:"boolean"}},output_types:{title:"Output Types",type:"object",additionalProperties:{type:"boolean"}},meta_non_parallel:{title:"Meta Non Parallel",type:"object"},meta_parallel:{title:"Meta Parallel",type:"object"},args_schema_non_parallel:{title:"Args Schema Non Parallel",type:"object"},args_schema_parallel:{title:"Args Schema Parallel",type:"object"},docs_info:{title:"Docs Info",type:"string"},docs_link:{title:"Docs Link",minLength:1,maxLength:2083,format:"uri",type:"string"}},required:["name"]}},Z_={title:J_,description:B_,type:H_,properties:G_,required:W_,definitions:X_};function Fi(t){let e,r="Clear",n,a;return{c(){e=k("button"),e.textContent=r,this.h()},l(s){e=S(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-gxi7fc"&&(e.textContent=r),this.h()},h(){v(e,"class","btn btn-outline-secondary")},m(s,i){R(s,e,i),n||(a=G(e,"click",t[8]),n=!0)},p:ft,d(s){s&&$(e),n=!1,a()}}}function Y_(t){let e,r,n,a,s,i,o,l,c,u,d,f,p,h='<i class="bi bi-file-earmark-arrow-up"></i> or drag file here',E,g,_=t[3]&&t[3].length>0&&Fi(t);return{c(){e=k("div"),r=k("div"),n=k("div"),a=k("label"),s=Ee(t[1]),i=M(),o=k("input"),l=M(),_&&_.c(),c=M(),u=k("span"),d=Ee(t[5]),f=M(),p=k("p"),p.innerHTML=h,this.h()},l(y){e=S(y,"DIV",{class:!0,role:!0});var P=O(e);r=S(P,"DIV",{class:!0});var I=O(r);n=S(I,"DIV",{class:!0});var C=O(n);a=S(C,"LABEL",{for:!0,class:!0});var D=O(a);s=ke(D,t[1]),D.forEach($),i=z(C),o=S(C,"INPUT",{class:!0,accept:!0,type:!0,name:!0,id:!0}),l=z(C),_&&_.l(C),c=z(C),u=S(C,"SPAN",{class:!0});var L=O(u);d=ke(L,t[5]),L.forEach($),C.forEach($),I.forEach($),f=z(P),p=S(P,"P",{class:!0,"data-svelte-h":!0}),ne(p)!=="svelte-1vrh4wk"&&(p.innerHTML=h),P.forEach($),this.h()},h(){v(a,"for",t[0]),v(a,"class","input-group-text"),v(o,"class","form-control"),v(o,"accept",t[2]),v(o,"type","file"),v(o,"name",t[0]),v(o,"id",t[0]),_e(o,"is-invalid",t[5]),v(u,"class","invalid-feedback"),v(n,"class","input-group has-validation"),v(r,"class","m-1"),v(p,"class","text-center mt-1 mb-1"),v(e,"class","dropZone bg-light svelte-1n1vpyg"),v(e,"role","region"),_e(e,"dragOver",t[6])},m(y,P){R(y,e,P),w(e,r),w(r,n),w(n,a),w(a,s),w(n,i),w(n,o),t[13](o),w(n,l),_&&_.m(n,null),w(n,c),w(n,u),w(u,d),w(e,f),w(e,p),E||(g=[G(o,"change",t[14]),G(o,"change",t[7]),G(e,"drop",t[9]),G(e,"dragover",t[10]),G(e,"dragleave",t[11])],E=!0)},p(y,[P]){P&2&&De(s,y[1]),P&1&&v(a,"for",y[0]),P&4&&v(o,"accept",y[2]),P&1&&v(o,"name",y[0]),P&1&&v(o,"id",y[0]),P&32&&_e(o,"is-invalid",y[5]),y[3]&&y[3].length>0?_?_.p(y,P):(_=Fi(y),_.c(),_.m(n,c)):_&&(_.d(1),_=null),P&32&&De(d,y[5]),P&64&&_e(e,"dragOver",y[6])},i:ft,o:ft,d(y){y&&$(e),t[13](null),_&&_.d(),E=!1,ht(g)}}}function Q_(t,e,r){let{id:n}=e,{description:a}=e,{accept:s}=e,{validateFile:i}=e;const o=Xi();let l=null,c,u="";async function d(){if(r(5,u=""),!l||l.length===0){o("change",{value:null});return}const I=l[0];await h(I)}function f(){r(5,u=""),r(3,l=null),c&&r(4,c.value="",c),o("change",{value:null})}async function p(I){I.preventDefault(),r(6,E=!1),I.dataTransfer&&I.dataTransfer.files.length>0&&(r(3,l=I.dataTransfer.files),r(4,c.files=l,c),await h(l[0]))}async function h(I){r(5,u="");let C=await I.text();try{const D=i(C);o("change",{value:D})}catch(D){r(5,u=D.message),o("change",{value:null})}}let E=!1;function g(I){I.preventDefault(),r(6,E=!0)}function _(){r(6,E=!1)}function y(I){Ut[I?"unshift":"push"](()=>{c=I,r(4,c)})}function P(){l=this.files,r(3,l)}return t.$$set=I=>{"id"in I&&r(0,n=I.id),"description"in I&&r(1,a=I.description),"accept"in I&&r(2,s=I.accept),"validateFile"in I&&r(12,i=I.validateFile)},[n,a,s,l,c,u,E,d,f,p,g,_,i,y,P]}class x_ extends Ye{constructor(e){super(),Qe(this,e,Q_,Y_,He,{id:0,description:1,accept:2,validateFile:12})}}function qi(t,e,r){const n=t.slice();return n[37]=e[r],n}function Li(t){let e,r,n="Task",a,s,i,o="Select...",l,c,u=vt(t[0]),d=[];for(let f=0;f<u.length;f+=1)d[f]=Ui(qi(t,u,f));return{c(){e=k("div"),r=k("label"),r.textContent=n,a=M(),s=k("select"),i=k("option"),i.textContent=o;for(let f=0;f<d.length;f+=1)d[f].c();this.h()},l(f){e=S(f,"DIV",{class:!0});var p=O(e);r=S(p,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ne(r)!=="svelte-1gr3pmm"&&(r.textContent=n),a=z(p),s=S(p,"SELECT",{class:!0,name:!0,id:!0});var h=O(s);i=S(h,"OPTION",{"data-svelte-h":!0}),ne(i)!=="svelte-xkszye"&&(i.textContent=o);for(let E=0;E<d.length;E+=1)d[E].l(h);h.forEach($),p.forEach($),this.h()},h(){v(r,"for","selectedTask"),v(r,"class","input-group-text"),i.__value="",$e(i,i.__value),v(s,"class","form-select"),v(s,"name","selectedTask"),v(s,"id","selectedTask"),t[1]===void 0&&Gi(()=>t[21].call(s)),v(e,"class","input-group")},m(f,p){R(f,e,p),w(e,r),w(e,a),w(e,s),w(s,i);for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(s,null);cn(s,t[1],!0),l||(c=[G(s,"change",t[21]),G(s,"change",t[22])],l=!0)},p(f,p){if(p[0]&1){u=vt(f[0]);let h;for(h=0;h<u.length;h+=1){const E=qi(f,u,h);d[h]?d[h].p(E,p):(d[h]=Ui(E),d[h].c(),d[h].m(s,null))}for(;h<d.length;h+=1)d[h].d(1);d.length=u.length}p[0]&3&&cn(s,f[1])},d(f){f&&$(e),Mr(d,f),l=!1,ht(c)}}}function Ui(t){let e,r=t[37]+"",n,a;return{c(){e=k("option"),n=Ee(r),this.h()},l(s){e=S(s,"OPTION",{});var i=O(e);n=ke(i,r),i.forEach($),this.h()},h(){e.__value=a=t[37],$e(e,e.__value)},m(s,i){R(s,e,i),w(e,n)},p(s,i){i[0]&1&&r!==(r=s[37]+"")&&De(n,r),i[0]&1&&a!==(a=s[37])&&(e.__value=a,$e(e,e.__value))},d(s){s&&$(e)}}}function Ki(t){let e,r,n,a,s,i,o,l="non parallel",c,u,d,f,p,h,E="parallel",g,_,y,P,I,C,D="JSON Schema",L,W,te,ce,F,V,B,U="Initial JSON data",X,ae,Se,Ie,ve,q,N,A,j,m,b,T="Validate",K,H,Y,re,fe,Me,We,Z=t[11]&&Ji(t),se=t[12]&&Bi(),Ge={componentId:"json-schema-task-manifest-sandbox",schema:t[2],schemaVersion:t[3],schemaData:t[6],propertiesToIgnore:t[14]};return Y=new os({props:Ge}),t[29](Y),Y.$on("change",t[20]),fe=un(t[24][0]),{c(){e=k("div"),r=k("div"),n=k("div"),a=k("input"),i=M(),o=k("label"),o.textContent=l,c=M(),u=k("div"),d=k("input"),p=M(),h=k("label"),h.textContent=E,g=M(),_=k("div"),y=k("div"),P=k("div"),I=k("div"),C=k("label"),C.textContent=D,L=M(),W=k("textarea"),ce=M(),F=k("div"),V=k("div"),B=k("label"),B.textContent=U,X=M(),ae=k("textarea"),Se=M(),Ie=k("span"),ve=Ee(t[8]),q=M(),N=k("div"),A=k("div"),Z&&Z.c(),j=M(),se&&se.c(),m=M(),b=k("button"),b.textContent=T,K=M(),H=k("div"),Ce(Y.$$.fragment),this.h()},l(oe){e=S(oe,"DIV",{class:!0});var he=O(e);r=S(he,"DIV",{class:!0});var ze=O(r);n=S(ze,"DIV",{class:!0});var xe=O(n);a=S(xe,"INPUT",{class:!0,type:!0,name:!0,id:!0}),i=z(xe),o=S(xe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ne(o)!=="svelte-6tt7zp"&&(o.textContent=l),xe.forEach($),c=z(ze),u=S(ze,"DIV",{class:!0});var Je=O(u);d=S(Je,"INPUT",{class:!0,type:!0,name:!0,id:!0}),p=z(Je),h=S(Je,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ne(h)!=="svelte-194lgmh"&&(h.textContent=E),Je.forEach($),ze.forEach($),he.forEach($),g=z(oe),_=S(oe,"DIV",{class:!0});var Pe=O(_);y=S(Pe,"DIV",{class:!0});var we=O(y);P=S(we,"DIV",{class:!0});var be=O(P);I=S(be,"DIV",{class:!0});var le=O(I);C=S(le,"LABEL",{for:!0,"data-svelte-h":!0}),ne(C)!=="svelte-1a7gyog"&&(C.textContent=D),L=z(le),W=S(le,"TEXTAREA",{id:!0,class:!0,rows:!0}),O(W).forEach($),le.forEach($),be.forEach($),ce=z(we),F=S(we,"DIV",{class:!0});var me=O(F);V=S(me,"DIV",{class:!0});var Ae=O(V);B=S(Ae,"LABEL",{for:!0,"data-svelte-h":!0}),ne(B)!=="svelte-k3khj6"&&(B.textContent=U),X=z(Ae),ae=S(Ae,"TEXTAREA",{id:!0,class:!0,rows:!0}),O(ae).forEach($),Se=z(Ae),Ie=S(Ae,"SPAN",{class:!0});var gt=O(Ie);ve=ke(gt,t[8]),gt.forEach($),Ae.forEach($),me.forEach($),q=z(we),N=S(we,"DIV",{class:!0});var et=O(N);A=S(et,"DIV",{class:!0});var Fe=O(A);Z&&Z.l(Fe),j=z(Fe),se&&se.l(Fe),m=z(Fe),b=S(Fe,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(b)!=="svelte-196bi3s"&&(b.textContent=T),Fe.forEach($),et.forEach($),we.forEach($),K=z(Pe),H=S(Pe,"DIV",{class:!0});var Re=O(H);je(Y.$$.fragment,Re),Re.forEach($),Pe.forEach($),this.h()},h(){v(a,"class","form-check-input"),v(a,"type","radio"),v(a,"name","schemaTypeSelector"),v(a,"id","schemaNonParallelSelector"),a.__value="non_parallel",$e(a,a.__value),a.disabled=s=!t[9],v(o,"class","form-check-label"),v(o,"for","schemaNonParallelSelector"),v(n,"class","form-check form-check-inline"),v(d,"class","form-check-input"),v(d,"type","radio"),v(d,"name","schemaTypeSelector"),v(d,"id","schemaParallelSelector"),d.__value="parallel",$e(d,d.__value),d.disabled=f=!t[10],v(h,"class","form-check-label"),v(h,"for","schemaParallelSelector"),v(u,"class","form-check form-check-inline"),v(r,"class","col-md-6"),v(e,"class","row mt-3"),v(C,"for","jschema"),v(W,"id","jschema"),v(W,"class","form-control"),W.value=te=JSON.stringify(t[2],null,2),v(W,"rows","10"),W.disabled=!0,v(I,"class","col"),v(P,"class","row"),v(B,"for","jdata"),v(ae,"id","jdata"),v(ae,"class","form-control"),v(ae,"rows","10"),_e(ae,"is-invalid",t[8]),v(Ie,"class","invalid-feedback"),v(V,"class","col"),v(F,"class","row has-validation mt-3 mb-2"),v(b,"class","btn btn-primary"),v(A,"class","col"),v(N,"class","row mt-3 mb-2"),v(y,"class","col-lg-6"),v(H,"class","col-lg-6"),v(_,"class","row mt-2 mb-3"),fe.p(a,d)},m(oe,he){R(oe,e,he),w(e,r),w(r,n),w(n,a),a.checked=a.__value===t[4],w(n,i),w(n,o),w(r,c),w(r,u),w(u,d),d.checked=d.__value===t[4],w(u,p),w(u,h),R(oe,g,he),R(oe,_,he),w(_,y),w(y,P),w(P,I),w(I,C),w(I,L),w(I,W),w(y,ce),w(y,F),w(F,V),w(V,B),w(V,X),w(V,ae),$e(ae,t[7]),w(V,Se),w(V,Ie),w(Ie,ve),w(y,q),w(y,N),w(N,A),Z&&Z.m(A,null),w(A,j),se&&se.m(A,null),w(A,m),w(A,b),w(_,K),w(_,H),Oe(Y,H,null),re=!0,Me||(We=[G(a,"change",t[23]),G(a,"change",t[25]),G(d,"change",t[26]),G(d,"change",t[27]),G(ae,"input",t[28]),G(ae,"input",t[19]),G(b,"click",t[15])],Me=!0)},p(oe,he){(!re||he[0]&512&&s!==(s=!oe[9]))&&(a.disabled=s),he[0]&16&&(a.checked=a.__value===oe[4]),(!re||he[0]&1024&&f!==(f=!oe[10]))&&(d.disabled=f),he[0]&16&&(d.checked=d.__value===oe[4]),(!re||he[0]&4&&te!==(te=JSON.stringify(oe[2],null,2)))&&(W.value=te),he[0]&128&&$e(ae,oe[7]),(!re||he[0]&256)&&_e(ae,"is-invalid",oe[8]),(!re||he[0]&256)&&De(ve,oe[8]),oe[11]?Z?Z.p(oe,he):(Z=Ji(oe),Z.c(),Z.m(A,j)):Z&&(Z.d(1),Z=null),oe[12]?se||(se=Bi(),se.c(),se.m(A,m)):se&&(se.d(1),se=null);const ze={};he[0]&4&&(ze.schema=oe[2]),he[0]&8&&(ze.schemaVersion=oe[3]),he[0]&64&&(ze.schemaData=oe[6]),he[0]&16384&&(ze.propertiesToIgnore=oe[14]),Y.$set(ze)},i(oe){re||(x(Y.$$.fragment,oe),re=!0)},o(oe){ie(Y.$$.fragment,oe),re=!1},d(oe){oe&&($(e),$(g),$(_)),Z&&Z.d(),se&&se.d(),t[29](null),Te(Y),fe.r(),Me=!1,ht(We)}}}function Ji(t){let e,r,n;return{c(){e=k("div"),r=k("pre"),n=Ee(t[11]),this.h()},l(a){e=S(a,"DIV",{class:!0});var s=O(e);r=S(s,"PRE",{});var i=O(r);n=ke(i,t[11]),i.forEach($),s.forEach($),this.h()},h(){v(e,"class","alert alert-danger")},m(a,s){R(a,e,s),w(e,r),w(r,n)},p(a,s){s[0]&2048&&De(n,a[11])},d(a){a&&$(e)}}}function Bi(t){let e,r="Data is valid";return{c(){e=k("div"),e.textContent=r,this.h()},l(n){e=S(n,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1pkeccj"&&(e.textContent=r),this.h()},h(){v(e,"class","alert alert-success")},m(n,a){R(n,e,a)},d(n){n&&$(e)}}}function ev(t){let e,r="Sandbox page for task package manifest",n,a,s="This is a test page for the JSON Schema form of a whole task package manifest",i,o,l,c,u,d,f="An entire task package manifest",p,h,E,g,_;c=new x_({props:{description:"Upload manifest file",accept:"application/json",id:"manifestFileUpload",validateFile:t[16]}}),c.$on("change",t[17]);let y=t[0].length>0&&Li(t),P=t[2]&&t[5]&&Ki(t);return{c(){e=k("h1"),e.textContent=r,n=M(),a=k("p"),a.textContent=s,i=M(),o=k("div"),l=k("div"),Ce(c.$$.fragment),u=M(),d=k("div"),d.textContent=f,p=M(),h=k("div"),y&&y.c(),E=M(),P&&P.c(),g=Ke(),this.h()},l(I){e=S(I,"H1",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-hnw4ua"&&(e.textContent=r),n=z(I),a=S(I,"P",{"data-svelte-h":!0}),ne(a)!=="svelte-1diwin4"&&(a.textContent=s),i=z(I),o=S(I,"DIV",{class:!0});var C=O(o);l=S(C,"DIV",{class:!0});var D=O(l);je(c.$$.fragment,D),u=z(D),d=S(D,"DIV",{class:!0,"data-svelte-h":!0}),ne(d)!=="svelte-1x7zb2r"&&(d.textContent=f),D.forEach($),p=z(C),h=S(C,"DIV",{class:!0});var L=O(h);y&&y.l(L),L.forEach($),C.forEach($),E=z(I),P&&P.l(I),g=Ke(),this.h()},h(){v(e,"class","fw-light"),v(d,"class","form-text"),v(l,"class","col-lg-7"),v(h,"class","col-lg-5"),v(o,"class","row")},m(I,C){R(I,e,C),R(I,n,C),R(I,a,C),R(I,i,C),R(I,o,C),w(o,l),Oe(c,l,null),w(l,u),w(l,d),w(o,p),w(o,h),y&&y.m(h,null),R(I,E,C),P&&P.m(I,C),R(I,g,C),_=!0},p(I,C){I[0].length>0?y?y.p(I,C):(y=Li(I),y.c(),y.m(h,null)):y&&(y.d(1),y=null),I[2]&&I[5]?P?(P.p(I,C),C[0]&36&&x(P,1)):(P=Ki(I),P.c(),x(P,1),P.m(g.parentNode,g)):P&&(Et(),ie(P,1,1,()=>{P=null}),kt())},i(I){_||(x(c.$$.fragment,I),x(P),_=!0)},o(I){ie(c.$$.fragment,I),ie(P),_=!1},d(I){I&&($(e),$(n),$(a),$(i),$(o),$(E),$(g)),Te(c),y&&y.d(),P&&P.d(I)}}}function tv(t,e,r){let n,a=null,s=[],i="",o,l="pydantic_v2",c="non_parallel",u,d,f="",p="",h=!1,E=!1,g="",_=!1;function y(){a=null,r(12,_=!1),r(11,g=""),r(0,s=[]),r(1,i=""),r(2,o=null),r(5,u=null),r(8,p="")}function P(){try{r(11,g=""),r(12,_=!1),I==null||I.validateArguments(),r(12,_=!0)}catch(m){r(11,g=aa(m))}}let I;function C(m){let b;try{b=JSON.parse(m)}catch{throw new Error("File doesn't contain valid JSON")}if(b.args_schema_version!=="pydantic_v2"&&b.args_schema_version!=="pydantic_v1")throw new Error("Unsupported manifest args schema version");if(r(3,l=b.args_schema_version),L(b)){if(b.manifest_version!=="2")throw new Error("Unsupported manifest version")}else throw new Error("Invalid manifest format");return b}function D({detail:m}){m.value===null?y():W(m.value)}function L(m){const b=new Lt(l);return b.loadSchema(Z_),b.isValid(m)}function W(m){a=m,r(0,s=a.task_list.map(b=>b.name))}async function te(m=void 0){if(r(8,p=""),r(11,g=""),r(12,_=!1),!i){r(2,o=null),r(5,u=null);return}r(5,u=a.task_list.filter(b=>b.name===i)[0]),r(9,h=ce(u.args_schema_non_parallel)),r(10,E=ce(u.args_schema_parallel)),m?r(4,c=m):h?r(4,c="non_parallel"):r(4,c="parallel"),c==="non_parallel"?r(2,o=u.args_schema_non_parallel):r(2,o=u.args_schema_parallel),await V()}function ce(m){if(!m)return!1;const b=eo(m,n);return Object.keys(b.properties).length>0}function F(){r(11,g=""),r(8,p="");try{r(6,d=JSON.parse(f))}catch{r(6,d=void 0),r(8,p="Invalid JSON")}}async function V(){await jr(),I&&U(I.getArguments())}function B({detail:m}){U(m.value)}function U(m){const b=zt(m),T=JSON.stringify(yn(b),null,2);T!==f&&r(7,f=T)}const X=[[]];function ae(){i=Wi(this),r(1,i),r(0,s)}const Se=()=>te();function Ie(){c=this.__value,r(4,c)}const ve=()=>te("non_parallel");function q(){c=this.__value,r(4,c)}const N=()=>te("parallel");function A(){f=this.value,r(7,f)}function j(m){Ut[m?"unshift":"push"](()=>{I=m,r(13,I)})}return r(14,n=hn(!1)),[s,i,o,l,c,u,d,f,p,h,E,g,_,I,n,P,C,D,te,F,B,ae,Se,Ie,X,ve,q,N,A,j]}class rv extends Ye{constructor(e){super(),Qe(this,e,tv,ev,He,{},null,[-1,-1])}}function nv(t){let e,r;return e=new rv({}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function av(t){let e,r;return e=new K_({}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function sv(t){let e,r;return e=new z_({}),{c(){Ce(e.$$.fragment)},l(n){je(e.$$.fragment,n)},m(n,a){Oe(e,n,a),r=!0},i(n){r||(x(e.$$.fragment,n),r=!0)},o(n){ie(e.$$.fragment,n),r=!1},d(n){Te(e,n)}}}function iv(t){let e,r,n,a="Documentation",s,i,o,l,c="JSON Schema",u,d,f,p="Version update",h,E,g,_="Task manifest",y,P,I,C,D,L,W;const te=[sv,av,nv],ce=[];function F(V,B){return V[0]==="jschema"?0:V[0]==="version-update"?1:V[0]==="task-manifest"?2:-1}return~(I=F(t))&&(C=ce[I]=te[I](t)),{c(){e=k("nav"),r=k("div"),n=k("a"),n.textContent=a,s=M(),i=k("ul"),o=k("li"),l=k("a"),l.textContent=c,u=M(),d=k("li"),f=k("a"),f.textContent=p,h=M(),E=k("li"),g=k("a"),g.textContent=_,y=M(),P=k("div"),C&&C.c(),this.h()},l(V){e=S(V,"NAV",{class:!0});var B=O(e);r=S(B,"DIV",{class:!0});var U=O(r);n=S(U,"A",{class:!0,href:!0,"data-svelte-h":!0}),ne(n)!=="svelte-18xrz6w"&&(n.textContent=a),s=z(U),i=S(U,"UL",{class:!0});var X=O(i);o=S(X,"LI",{class:!0});var ae=O(o);l=S(ae,"A",{class:!0,href:!0,"data-svelte-h":!0}),ne(l)!=="svelte-1ohdgo9"&&(l.textContent=c),ae.forEach($),u=z(X),d=S(X,"LI",{class:!0});var Se=O(d);f=S(Se,"A",{class:!0,href:!0,"data-svelte-h":!0}),ne(f)!=="svelte-1rsyf2"&&(f.textContent=p),Se.forEach($),h=z(X),E=S(X,"LI",{class:!0});var Ie=O(E);g=S(Ie,"A",{class:!0,href:!0,"data-svelte-h":!0}),ne(g)!=="svelte-1cigway"&&(g.textContent=_),Ie.forEach($),X.forEach($),U.forEach($),B.forEach($),y=z(V),P=S(V,"DIV",{class:!0});var ve=O(P);C&&C.l(ve),ve.forEach($),this.h()},h(){v(n,"class","navbar-brand"),v(n,"href","https://fractal-analytics-platform.github.io/fractal-web/"),v(l,"class","nav-link"),v(l,"href","#jschema"),_e(l,"active",t[0]==="jschema"),v(o,"class","nav-item"),v(f,"class","nav-link"),v(f,"href","#version-update"),_e(f,"active",t[0]==="version-update"),v(d,"class","nav-item"),v(g,"class","nav-link"),v(g,"href","#task-manifest"),_e(g,"active",t[0]==="task-manifest"),v(E,"class","nav-item"),v(i,"class","navbar-nav me-auto"),v(r,"class","container"),v(e,"class","navbar navbar-expand-lg bg-light mb-3 border-bottom"),v(P,"class","container")},m(V,B){R(V,e,B),w(e,r),w(r,n),w(r,s),w(r,i),w(i,o),w(o,l),w(i,u),w(i,d),w(d,f),w(i,h),w(i,E),w(E,g),R(V,y,B),R(V,P,B),~I&&ce[I].m(P,null),D=!0,L||(W=[G(l,"click",t[1]),G(f,"click",t[2]),G(g,"click",t[3])],L=!0)},p(V,[B]){(!D||B&1)&&_e(l,"active",V[0]==="jschema"),(!D||B&1)&&_e(f,"active",V[0]==="version-update"),(!D||B&1)&&_e(g,"active",V[0]==="task-manifest");let U=I;I=F(V),I!==U&&(C&&(Et(),ie(ce[U],1,1,()=>{ce[U]=null}),kt()),~I?(C=ce[I],C||(C=ce[I]=te[I](V),C.c()),x(C,1),C.m(P,null)):C=null)},i(V){D||(x(C),D=!0)},o(V){ie(C),D=!1},d(V){V&&($(e),$(y),$(P)),~I&&ce[I].d(),L=!1,ht(W)}}}function ov(t,e,r){const n=["jschema","version-update","task-manifest"];let a="jschema";return gr(()=>{for(const l of n)if(`#${l}`===location.hash){r(0,a=l);break}}),[a,()=>r(0,a="jschema"),()=>r(0,a="version-update"),()=>r(0,a="task-manifest")]}class uv extends Ye{constructor(e){super(),Qe(this,e,ov,iv,He,{})}}export{uv as component};
