var fo=Object.defineProperty;var mo=(t,e,r)=>e in t?fo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var dn=(t,e,r)=>mo(t,typeof e!="symbol"?e+"":e,r);import{a as V,f as J,t as pr,c as xe}from"../chunks/CNY7iM2i.js";import{o as kt,c as ho}from"../chunks/W9tZD7Xd.js";import{o as Vn,aQ as qi,aR as po,h as ze,q as xi,aS as vo,b as Li,F as v,t as yo,v as go,w as Ga,x as un,y as fn,f as jr,aC as _o,aJ as bo,as as Ba,c as tt,e as Pn,aT as $o,s as Eo,R as wo,aI as qn,aU as So,ad as Wa,aV as Po,aW as ko,aM as Io,a as mn,aX as rt,r as Ui,p as Ki,aY as hn,aZ as jo,aG as No,d as Oo,W as Ao,B as Lr,aD as To,a_ as Ji,a$ as Mo,b0 as Zr,z as Co,b1 as Hi,b2 as Ro,b3 as Gi,az as Bi,b4 as Do,b5 as Fo,b6 as zo,b7 as Wi,b8 as Vo,A as xn,aN as or,u as qo,a6 as Ee,a9 as N,aa as j,a8 as we,aO as W,I as A,a7 as X,g as pe,ab as L,aP as pt,G as ke,j as Gt,n as xo,at as Vt,b9 as Ur}from"../chunks/DojCM1mB.js";import{s as fe,d as De,a as ae,e as pn}from"../chunks/0L5u91D6.js";import{p as ce,i as Q,b as It}from"../chunks/B6a04YWa.js";import{B as Lo}from"../chunks/DxwOiszd.js";import{w as Ut,g as mt}from"../chunks/CnJQD2ue.js";import{s as Uo}from"../chunks/DBuj9R_t.js";const Ko=[];function Ft(t,e=!1,r=!1){return Rr(t,new Map,"",Ko,null,r)}function Rr(t,e,r,n,a=null,i=!1){if(typeof t=="object"&&t!==null){var s=e.get(t);if(s!==void 0)return s;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Vn(t)){var o=Array(t.length);e.set(t,o),a!==null&&e.set(a,o);for(var l=0;l<t.length;l+=1){var c=t[l];l in t&&(o[l]=Rr(c,e,r,n,null,i))}return o}if(qi(t)===po){o={},e.set(t,o),a!==null&&e.set(a,o);for(var f of Object.keys(t))o[f]=Rr(t[f],e,r,n,null,i);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!i)return Rr(t.toJSON(),e,r,n,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}const Jo=Symbol("NaN");function lr(t,e,r){ze&&xi();var n=new Lo(t),a=!vo();Li(()=>{var i=e();i!==i&&(i=Jo),a&&i!==null&&typeof i=="object"&&(i={}),n.ensure(i,r)})}function Me(t,e){return e}function Ho(t,e,r){for(var n=[],a=e.length,i,s=e.length,o=0;o<a;o++){let h=e[o];Ki(h,()=>{if(i){if(i.pending.delete(h),i.done.add(h),i.pending.size===0){var g=t.outrogroups;kn(qn(i.done)),g.delete(i),g.size===0&&(t.outrogroups=null)}}else s-=1},!1)}if(s===0){var l=n.length===0&&r!==null;if(l){var c=r,f=c.parentNode;No(f),f.append(c),t.items.clear()}kn(e,!l)}else i={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(i)}function kn(t,e=!0){for(var r=0;r<t.length;r++)Oo(t[r],e)}var Za;function Ae(t,e,r,n,a,i=null){var s=t,o=new Map,l=(e&Ji)!==0;if(l){var c=t;s=ze?un(Ao(c)):c.appendChild(mn())}ze&&xi();var f=null,h=wo(()=>{var d=r();return Vn(d)?d:d==null?[]:qn(d)}),g,y=!0;function b(){m.fallback=f,Go(m,g,s,e,n),f!==null&&(g.length===0?f.f&rt?(f.f^=rt,ar(f,null,s)):Ui(f):Ki(f,()=>{f=null}))}var $=Li(()=>{g=v(h);var d=g.length;let _=!1;if(ze){var E=yo(s)===go;E!==(d===0)&&(s=Ga(),un(s),fn(!1),_=!0)}for(var P=new Set,I=tt,T=Eo(),F=0;F<d;F+=1){ze&&jr.nodeType===_o&&jr.data===bo&&(s=jr,_=!0,fn(!1));var q=g[F],z=n(q,F),G=y?null:o.get(z);G?(G.v&&Ba(G.v,q),G.i&&Ba(G.i,F),T&&I.unskip_effect(G.e)):(G=Bo(o,y?s:Za??(Za=mn()),q,z,F,a,e,r),y||(G.e.f|=rt),o.set(z,G)),P.add(z)}if(d===0&&i&&!f&&(y?f=Pn(()=>i(s)):(f=Pn(()=>i(Za??(Za=mn()))),f.f|=rt)),d>P.size&&$o(),ze&&d>0&&un(Ga()),!y)if(T){for(const[R,O]of o)P.has(R)||I.skip_effect(O.e);I.oncommit(b),I.ondiscard(()=>{})}else b();_&&fn(!0),v(h)}),m={effect:$,items:o,outrogroups:null,fallback:f};y=!1,ze&&(s=jr)}function tr(t){for(;t!==null&&!(t.f&jo);)t=t.next;return t}function Go(t,e,r,n,a){var G,R,O,M,D,U,Y,re,me;var i=(n&Mo)!==0,s=e.length,o=t.items,l=tr(t.effect.first),c,f=null,h,g=[],y=[],b,$,m,d;if(i)for(d=0;d<s;d+=1)b=e[d],$=a(b,d),m=o.get($).e,m.f&rt||((R=(G=m.nodes)==null?void 0:G.a)==null||R.measure(),(h??(h=new Set)).add(m));for(d=0;d<s;d+=1){if(b=e[d],$=a(b,d),m=o.get($).e,t.outrogroups!==null)for(const ue of t.outrogroups)ue.pending.delete(m),ue.done.delete(m);if(m.f&rt)if(m.f^=rt,m===l)ar(m,null,r);else{var _=f?f.next:l;m===t.effect.last&&(t.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),lt(t,f,m),lt(t,m,_),ar(m,_,r),f=m,g=[],y=[],l=tr(f.next);continue}if(m.f&hn&&(Ui(m),i&&((M=(O=m.nodes)==null?void 0:O.a)==null||M.unfix(),(h??(h=new Set)).delete(m))),m!==l){if(c!==void 0&&c.has(m)){if(g.length<y.length){var E=y[0],P;f=E.prev;var I=g[0],T=g[g.length-1];for(P=0;P<g.length;P+=1)ar(g[P],E,r);for(P=0;P<y.length;P+=1)c.delete(y[P]);lt(t,I.prev,T.next),lt(t,f,I),lt(t,T,E),l=E,f=T,d-=1,g=[],y=[]}else c.delete(m),ar(m,l,r),lt(t,m.prev,m.next),lt(t,m,f===null?t.effect.first:f.next),lt(t,f,m),f=m;continue}for(g=[],y=[];l!==null&&l!==m;)(c??(c=new Set)).add(l),y.push(l),l=tr(l.next);if(l===null)continue}m.f&rt||g.push(m),f=m,l=tr(m.next)}if(t.outrogroups!==null){for(const ue of t.outrogroups)ue.pending.size===0&&(kn(qn(ue.done)),(D=t.outrogroups)==null||D.delete(ue));t.outrogroups.size===0&&(t.outrogroups=null)}if(l!==null||c!==void 0){var F=[];if(c!==void 0)for(m of c)m.f&hn||F.push(m);for(;l!==null;)!(l.f&hn)&&l!==t.fallback&&F.push(l),l=tr(l.next);var q=F.length;if(q>0){var z=n&Ji&&s===0?r:null;if(i){for(d=0;d<q;d+=1)(Y=(U=F[d].nodes)==null?void 0:U.a)==null||Y.measure();for(d=0;d<q;d+=1)(me=(re=F[d].nodes)==null?void 0:re.a)==null||me.fix()}Ho(t,F,z)}}i&&Lr(()=>{var ue,x;if(h!==void 0)for(m of h)(x=(ue=m.nodes)==null?void 0:ue.a)==null||x.apply()})}function Bo(t,e,r,n,a,i,s,o){var l=s&Po?s&ko?Wa(r):Io(r,!1,!1):null,c=s&So?Wa(a):null;return{v:l,i:c,e:Pn(()=>(i(e,l??r,c??a,o),()=>{t.delete(n)}))}}function ar(t,e,r){if(t.nodes)for(var n=t.nodes.start,a=t.nodes.end,i=e&&!(e.f&rt)?e.nodes.start:r;n!==null;){var s=To(n);if(i.before(n),n===a)return;n=s}}function lt(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function Zi(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Zi(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Wo(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Zi(t))&&(n&&(n+=" "),n+=e);return n}function Xa(t){return typeof t=="object"?Wo(t):t??""}const Ya=[...` 	
\r\fÂ \v\uFEFF`];function Zo(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var a of Object.keys(r))if(r[a])n=n?n+" "+a:a;else if(n.length)for(var i=a.length,s=0;(s=n.indexOf(a,s))>=0;){var o=s+i;(s===0||Ya.includes(n[s-1]))&&(o===n.length||Ya.includes(n[o]))?n=(s===0?"":n.substring(0,s))+n.substring(o+1):s=o}}return n===""?null:n}function ye(t,e,r,n,a,i){var s=t.__className;if(ze||s!==r||s===void 0){var o=Zo(r,n,i);(!ze||o!==t.getAttribute("class"))&&(o==null?t.removeAttribute("class"):t.className=o),t.__className=r}else if(i&&a!==i)for(var l in i){var c=!!i[l];(a==null||c!==!!a[l])&&t.classList.toggle(l,c)}return i}function Xi(t,e,r=!1){if(t.multiple){if(e==null)return;if(!Vn(e))return Ro();for(var n of t.options)n.selected=e.includes(cr(n));return}for(n of t.options){var a=cr(n);if(Gi(a,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Xo(t){var e=new MutationObserver(()=>{Xi(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Bi(()=>{e.disconnect()})}function Kt(t,e,r=e){var n=new WeakSet,a=!0;Zr(t,"change",i=>{var s=i?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(s),cr);else{var l=t.querySelector(s)??t.querySelector("option:not([disabled])");o=l&&cr(l)}r(o),tt!==null&&n.add(tt)}),Co(()=>{var i=e();if(t===document.activeElement){var s=Hi??tt;if(n.has(s))return}if(Xi(t,i,a),a&&i===void 0){var o=t.querySelector(":checked");o!==null&&(i=cr(o),r(i))}t.__value=i,a=!1}),Xo(t)}function cr(t){return"__value"in t?t.__value:t.value}const Yo=Symbol("is custom element"),Qo=Symbol("is html"),el=Wi?"link":"LINK",tl=Wi?"progress":"PROGRESS";function Je(t){if(ze){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;ve(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var a=t.checked;ve(t,"checked",null),t.checked=a}}};t.__on_r=r,Lr(r),Do()}}function rl(t,e){var r=Ln(t);r.value===(r.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!==tl)||(t.value=e??"")}function nl(t,e){var r=Ln(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function ve(t,e,r,n){var a=Ln(t);ze&&(a[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName===el)||a[e]!==(a[e]=r)&&(e==="loading"&&(t[Fo]=r),r==null?t.removeAttribute(e):typeof r!="string"&&al(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Ln(t){return t.__attributes??(t.__attributes={[Yo]:t.nodeName.includes("-"),[Qo]:t.namespaceURI===zo})}var Qa=new Map;function al(t){var e=t.getAttribute("is")||t.nodeName,r=Qa.get(e);if(r)return r;Qa.set(e,r=[]);for(var n,a=t,i=Element.prototype;i!==a;){n=Vo(a);for(var s in n)n[s].set&&r.push(s);a=qi(a)}return r}function et(t,e,r=e){var n=new WeakSet;Zr(t,"input",async a=>{var i=a?t.defaultValue:t.value;if(i=yn(t)?gn(i):i,r(i),tt!==null&&n.add(tt),await or(),i!==(i=e())){var s=t.selectionStart,o=t.selectionEnd,l=t.value.length;if(t.value=i??"",o!==null){var c=t.value.length;s===o&&o===l&&c>l?(t.selectionStart=c,t.selectionEnd=c):(t.selectionStart=s,t.selectionEnd=Math.min(o,c))}}}),(ze&&t.defaultValue!==t.value||qo(e)==null&&t.value)&&(r(yn(t)?gn(t.value):t.value),tt!==null&&n.add(tt)),xn(()=>{var a=e();if(t===document.activeElement){var i=Hi??tt;if(n.has(i))return}yn(t)&&a===gn(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}const vn=new Set;function Kr(t,e,r,n,a=n){var i=r.getAttribute("type")==="checkbox",s=t;let o=!1;if(e!==null)for(var l of e)s=s[l]??(s[l]=[]);s.push(r),Zr(r,"change",()=>{var c=r.__value;i&&(c=ei(s,c,r.checked)),a(c)},()=>a(i?[]:null)),xn(()=>{var c=n();if(ze&&r.defaultChecked!==r.checked){o=!0;return}i?(c=c||[],r.checked=c.includes(r.__value)):r.checked=Gi(r.__value,c)}),Bi(()=>{var c=s.indexOf(r);c!==-1&&s.splice(c,1)}),vn.has(s)||(vn.add(s),Lr(()=>{s.sort((c,f)=>c.compareDocumentPosition(f)===4?-1:1),vn.delete(s)})),Lr(()=>{if(o){var c;if(i)c=ei(s,c,r.checked);else{var f=s.find(h=>h.checked);c=f==null?void 0:f.__value}a(c)}})}function ei(t,e,r){for(var n=new Set,a=0;a<t.length;a+=1)t[a].checked&&n.add(t[a].__value);return r||n.delete(e),Array.from(n)}function yn(t){var e=t.type;return e==="number"||e==="range"}function gn(t){return t===""?null:+t}function il(t,e,r=e){Zr(t,"change",()=>{r(t.files)}),ze&&t.files&&r(t.files),xn(()=>{t.files=e()})}function _r(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))}function Jr(t){return t===void 0?null:t}function Jt(t){return typeof t=="object"&&t!==null&&t!==void 0}function Un(t){const e=Yi(t);return Qi(e)}function Yi(t){return Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=t[e].filter(r=>r!==null&&r!=="")),t[e]&&typeof t[e]=="object"?Yi(t[e]):(t[e]===null||t[e]==="")&&delete t[e]}),t}function Qi(t){return Object.keys(t).forEach(e=>{t[e]&&typeof t[e]=="object"&&(Qi(t[e]),Object.keys(t[e]).length===0&&delete t[e])}),t}function sl(t){return"minimum"in t&&t.minimum!==void 0?Number(t.minimum):"exclusiveMinimum"in t&&t.exclusiveMinimum!==void 0?Number(t.exclusiveMinimum)+1:null}function ol(t){return"maximum"in t&&t.maximum!==void 0?Number(t.maximum):"exclusiveMaximum"in t&&t.exclusiveMaximum!==void 0?Number(t.exclusiveMaximum)-1:null}function es(t){return"minItems"in t&&typeof t.minItems=="number"&&"maxItems"in t&&typeof t.maxItems=="number"&&t.minItems===t.maxItems}function ts(t,e){const r=t.properties||{};if(t.additionalProperties)for(const n of Object.keys(e))Object.keys(r).includes(n)||(r[n]=t.additionalProperties);return r}function ll(t,e){const r=t.properties||{};return!Object.keys(r).includes(e)}function rs(t){return t?["input_paths","output_path","metadata","component"]:["zarr_url","zarr_urls","init_args","zarr_dir"]}function ns(t){return"mapping"in t&&typeof t.mapping=="object"&&"propertyName"in t&&typeof t.propertyName=="string"}function cl(t,e,r=void 0){const n=r==null||Object.keys(r).length===0;return Re(t,e,!0,r,n)}function dl(t,e,r,n){const a=t.required||[],i={};if(r&&(typeof r!="object"||Array.isArray(r)))return r;r==null&&(r={});const s=ts(t,r);for(const[o,l]of Object.entries(s)){const c=a.includes(o);i[o]=Re(l,e,c,Jr(r[o]),n)}if(r&&typeof r=="object")for(const[o,l]of Object.entries(r))Object.keys(i).includes(o)||(i[o]=l);return i}function ul(t,e,r,n,a){if("discriminator"in t){const{discriminator:i}=t;if(n){const s=n[i.propertyName];if(!s||i.mapping[s]===void 0)return n;const o=i.mapping[s];return Re(t.oneOf[o],e,r,n,a)}else if(t.oneOf.length>0)return Re(t.oneOf[0],e,r,n,a)}return{}}function Re(t,e,r,n,a){if(!t)return null;if(a&&"default"in t)return Re(t,e,r,t.default,!1);if("oneOf"in t)return ul(t,e,r,n,a);if("const"in t)return t.const;if(t.type===null)return null;switch(t.type){case"object":return dl(t,e,n,a);case"array":{const i=t;return es(i)?ml(i,e,r,n,a):fl(i,e,r,n,a)}default:return Jr(n)}}function fl(t,e,r,n,a){if(!Array.isArray(n)){if(n)return n;n=[]}const i=t.items;let s=[];for(let o=0;o<n.length;o++)s.push(Re(i,e,r,n[o],a));if(r&&typeof t.minItems=="number"&&s.length<t.minItems)for(let o=s.length;o<t.minItems;o++)s.push(Re(i,e,r,null,a));return s}function ml(t,e,r,n,a){if(n&&!Array.isArray(n)||(n||(n=[]),!r&&n.length===0))return n;let i=[];for(let o=0;o<n.length;o++){const l=ti(t,e,o);l?i.push(Re(l,e,r,n[o],a)):i.push(n[o])}const s=t.minItems;for(let o=i.length;o<s;o++)i.push(Re(ti(t,e,o),e,!1,null,a));return i}function ti(t,e,r){const n=e==="pydantic_v1"?t.items:t.prefixItems;return Array.isArray(n)?r<n.length?n[r]:null:n}class br{constructor(e){dn(this,"errors");dn(this,"hasErrors");this.manager=e.manager,this.id=e.id,this.key=e.key,this.path=e.path,this.type=e.type,this.title=e.title,this.required=e.required,this.description=e.description,this.removable=e.removable,this.property=e.property,this.errors=Ut([]),this.hasErrors=Ut(!1)}addError(e){this.hasErrors.set(!0),this.errors.update(r=>(r.includes(e)||r.push(e),r))}clearErrors(){this.errors.set([]),this.hasErrors.set(!1)}notifyChange(){this.manager.notifyChange()}}class jt extends br{constructor(e){super(e),this.value=Ut(e.value)}}class hl extends jt{constructor(e){super(e)}}class pl extends jt{constructor(e){super(e)}}class vl extends jt{constructor(e){super(e),this.options=e.options}}class ri extends jt{constructor(e){super(e),this.min=e.min,this.max=e.max,this.badInput=!1}}class yl extends jt{constructor(e){super(e),this.type="unexpected"}}class gl extends jt{constructor(e){super(e),this.originalType=e.type,this.type="invalid"}}class _l extends br{constructor(e){super(e),this.additionalProperties=e.additionalProperties,this.children=e.children,this.collapsed=!e.required}addChild(e){if(!this.additionalProperties)return;if(e==="")throw new Error("Schema property has no name");if(this.children.map(a=>a.key).includes(e))throw new Error("Schema property already has a property with the same name");const n=this.manager.createFormElement({key:e,path:`${this.path}/${e}`,property:this.additionalProperties,required:!1,removable:!0,value:Re(this.additionalProperties,this.manager.schemaVersion,!1,this.additionalProperties.default,!1),parentProperty:this.property});n.title=e,n.removable=!0,this.children=[...this.children,n],this.notifyChange()}removeChild(e){const r=this.children.filter(a=>a.key===e);if(r.length===0){console.warn("Attempted to remove not existing key %s",e);return}const[n]=r;if(!n.removable){console.warn("Attempted to remove not removable child");return}this.children=this.children.filter(a=>a.key!==e),this.notifyChange()}resetChild(e){const r=this.children[e],n=r.property.default;if(n===void 0)return;const a=this.manager.createFormElement({key:r.key,path:`${this.path}/${r.key}`,property:r.property,required:r.required,removable:r.removable,value:n,parentProperty:this.property});a.collapsed=r.collapsed,this.children[e]=a,this.notifyChange()}fixInvalidChild(e){const r=this.children[e],n=this.manager.createFormElement({key:r.key,path:`${this.path}/${r.key}`,property:{...r.property,type:r.originalType},required:r.required,removable:r.removable,value:Re(r.property,this.manager.schemaVersion,r.required,void 0,!0),parentProperty:this.property});this.children[e]=n,this.notifyChange()}}class bl extends br{constructor(e){super(e),this.children=e.children,this.items=e.items,this.minItems=e.minItems,this.maxItems=e.maxItems,this.collapsed=!e.required}addChild(){if(typeof this.maxItems=="number"&&this.children.length===this.maxItems)return;const e=this.manager.createFormElement({key:this.children.length.toString(),path:`${this.path}/${this.children.length}`,property:this.items,required:!1,removable:!0,value:Re(this.items,this.manager.schemaVersion,!1,void 0,!0),parentProperty:this.property});this.children=[...this.children,e],this.notifyChange()}removeChild(e){this.children.splice(e,1),this.recomputeIndexes(),this.notifyChange()}recomputeIndexes(){this.children.forEach((e,r)=>{e.key=r.toString(),e.path=e.path.replace(/\d+$/,r.toString()),e.title=e.key&&e.removable?e.key:e.property.title||e.key||""})}moveChildUp(e){if(e>0){let r=[];for(let n=0;n<this.children.length;n++)n===e-1?r[n]=this.children[n+1]:n===e?r[n]=this.children[n-1]:r[n]=this.children[n];this.children=r,this.recomputeIndexes(),this.notifyChange()}}moveChildDown(e){if(e<this.children.length-1){let r=[];for(let n=0;n<this.children.length;n++)n===e?r[n]=this.children[n+1]:n===e+1?r[n]=this.children[n-1]:r[n]=this.children[n];this.children=r,this.recomputeIndexes(),this.notifyChange()}}}class $l extends br{constructor(e){super(e),this.children=e.children,this.items=e.items,this.size=e.size,this.collapsed=!e.required}addTuple(){let e;if(Array.isArray(this.items))e=this.items.map((r,n)=>Re(r,this.manager.schemaVersion,!1,Array.isArray(this.property.default)?this.property.default[n]:void 0,!1));else{const r=this.items;e=Array(this.size).map(n=>Re(r,this.manager.schemaVersion,!1,Array.isArray(this.property.default)?this.property.default[n]:void 0,!1))}this.children=this.manager.createTupleChildren({path:this.path,items:this.items,size:this.size,value:e,parentProperty:this.property}),this.notifyChange()}removeTuple(){this.children=[],this.notifyChange()}removeUnexpectedChild(e){this.children=this.children.filter((r,n)=>n!==e),this.notifyChange()}}class El extends br{constructor(e){super(e),this.selectedItem=e.selectedItem,this.selectedIndex=Ut(e.selectedIndex),this.discriminator=e.discriminator,this.unexpectedChildren=e.unexpectedChildren}selectChild(e){if(this.selectedIndex.set(e),e===-1)this.selectedItem=null;else if(this.unexpectedChildren=[],"oneOf"in this.property){const r=this.property.oneOf[e];this.selectedItem=this.manager.createFormElement({key:this.key,path:this.path,property:r,required:this.required,removable:this.removable,value:Re(r,this.manager.schemaVersion,!1,void 0,!0),parentProperty:this.property}),this.selectedItem&&(this.selectedItem.title=r.title||this.key||"")}this.notifyChange()}removeUnexpectedChild(e){this.unexpectedChildren=this.unexpectedChildren.filter((r,n)=>n!==e),this.notifyChange()}}function as(t,e=[]){let r=wl(t,e);return r=In(r,r),r=Dr(r,r),r=qt(r),r}function wl(t,e=[]){const r=_r(t);for(const n of Object.keys(r.properties||{}))e.includes(n)&&delete r.properties[n];return r.required&&(r.required=r.required.filter(n=>!e.includes(n))),r}function Dr(t,e){if(Array.isArray(e)){const r=[];for(const n of e)r.push(Dr(t,n));return r}else if(Jt(e)){const r={};for(const[n,a]of Object.entries(e))if(n==="$ref"&&typeof a=="string"){const i=Sl(t,a);for(const[s,o]of Object.entries(i))r[s]=Dr(t,o)}else r[n]=Dr(t,a);return r}else return e}function In(t,e){if(Array.isArray(e)){const r=[];for(let n=0;n<e.length;n++){const a=e[n];r.push(In(t,a))}return r}else if(Jt(e)){const r={};for(const[n,a]of Object.entries(e))if(n==="discriminator"&&ns(a)&&"oneOf"in e){const i=e.oneOf.map(s=>s.$ref);r[n]={propertyName:a.propertyName,mapping:Object.fromEntries(Object.entries(a.mapping).map(([s,o])=>[s,i.indexOf(o)]))}}else r[n]=In(t,a);return r}else return e}function Sl(t,e){if(!e.startsWith("#/"))throw new Error(`Unsupported $ref field format: ${e}`);const r=e.substring(2).split("/");let n=t;for(const a of r){if(!(a in n))throw new Error(`Unable to resolve reference ${e}. Key ${a} not found.`);n=n[a]}return n}function qt(t){if(Array.isArray(t)){const e=[];for(const r of t)e.push(qt(r));return e}else if(Jt(t)){const e={};for(const[r,n]of Object.entries(t))if(r==="allOf"&&Array.isArray(n))for(const a of n)for(const[i,s]of Object.entries(a))Pl(e,i,s);else e[r]=qt(n);return e}else return t}function Pl(t,e,r){e in t?Array.isArray(t[e])&&Array.isArray(r)?t[e]=[...t[e],...r.map(n=>qt(n))]:Jt(t)&&Jt(r)&&(t[e]={...t[e],...qt(r)}):t[e]=qt(r)}function wt(t,e=null,r=!1){if(r||(e=_r(t)),Array.isArray(e)){const n=[];for(const a of e)n.push(wt(t,a,!0));return n}else if(Jt(e)){const n={};for(const[a,i]of Object.entries(e))a==="discriminator"&&"oneOf"in e&&ns(i)||(n[a]=wt(t,i,!0));return n}else return e}function Kn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jn={exports:{}},Jn={},He={},Ht={},$r={},te={},vr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(_){if(super(),!t.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((E,P)=>`${E}${P}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((E,P)=>(P instanceof r&&(E[P.str]=(E[P.str]||0)+1),E),{})}}t._Code=n,t.nil=new n("");function a(d,..._){const E=[d[0]];let P=0;for(;P<_.length;)o(E,_[P]),E.push(d[++P]);return new n(E)}t._=a;const i=new n("+");function s(d,..._){const E=[y(d[0])];let P=0;for(;P<_.length;)E.push(i),o(E,_[P]),E.push(i,y(d[++P]));return l(E),new n(E)}t.str=s;function o(d,_){_ instanceof n?d.push(..._._items):_ instanceof r?d.push(_):d.push(h(_))}t.addCodeArg=o;function l(d){let _=1;for(;_<d.length-1;){if(d[_]===i){const E=c(d[_-1],d[_+1]);if(E!==void 0){d.splice(_-1,3,E);continue}d[_++]="+"}_++}}function c(d,_){if(_==='""')return d;if(d==='""')return _;if(typeof d=="string")return _ instanceof r||d[d.length-1]!=='"'?void 0:typeof _!="string"?`${d.slice(0,-1)}${_}"`:_[0]==='"'?d.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(d instanceof r))return`"${d}${_.slice(1)}`}function f(d,_){return _.emptyStr()?d:d.emptyStr()?_:s`${d}${_}`}t.strConcat=f;function h(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:y(Array.isArray(d)?d.join(","):d)}function g(d){return new n(y(d))}t.stringify=g;function y(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=y;function b(d){return typeof d=="string"&&t.IDENTIFIER.test(d)?new n(`.${d}`):a`[${d}]`}t.getProperty=b;function $(d){if(typeof d=="string"&&t.IDENTIFIER.test(d))return new n(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}t.getEsmExportName=$;function m(d){return new n(d.toString())}t.regexpCode=m})(vr);var Nn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=vr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class a{constructor({prefixes:c,parent:f}={}){this._names={},this._prefixes=c,this._parent=f}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const f=this._names[c]||this._nameGroup(c);return`${c}${f.index++}`}_nameGroup(c){var f,h;if(!((h=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=a;class i extends e.Name{constructor(c,f){super(f),this.prefix=c}setValue(c,{property:f,itemIndex:h}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(f)}[${h}]`}}t.ValueScopeName=i;const s=(0,e._)`\n`;class o extends a{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?s:e.nil}}get(){return this._scope}name(c){return new i(c,this._newName(c))}value(c,f){var h;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(c),{prefix:y}=g,b=(h=f.key)!==null&&h!==void 0?h:f.ref;let $=this._values[y];if($){const _=$.get(b);if(_)return _}else $=this._values[y]=new Map;$.set(b,g);const m=this._scope[y]||(this._scope[y]=[]),d=m.length;return m[d]=f.ref,g.setValue(f,{property:y,itemIndex:d}),g}getValue(c,f){const h=this._values[c];if(h)return h.get(f)}scopeRefs(c,f=this._values){return this._reduceValues(f,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,e._)`${c}${h.scopePath}`})}scopeCode(c=this._values,f,h){return this._reduceValues(c,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},f,h)}_reduceValues(c,f,h={},g){let y=e.nil;for(const b in c){const $=c[b];if(!$)continue;const m=h[b]=h[b]||new Map;$.forEach(d=>{if(m.has(d))return;m.set(d,n.Started);let _=f(d);if(_){const E=this.opts.es5?t.varKinds.var:t.varKinds.const;y=(0,e._)`${y}${E} ${d} = ${_};${this.opts._n}`}else if(_=g==null?void 0:g(d))y=(0,e._)`${y}${_}${this.opts._n}`;else throw new r(d);m.set(d,n.Completed)})}return y}}t.ValueScope=o})(Nn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=vr,r=Nn;var n=vr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Nn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class i{optimizeNodes(){return this}optimizeNames(u,p){return this}}class s extends i{constructor(u,p,k){super(),this.varKind=u,this.name=p,this.rhs=k}render({es5:u,_n:p}){const k=u?r.varKinds.var:this.varKind,H=this.rhs===void 0?"":` = ${this.rhs}`;return`${k} ${this.name}${H};`+p}optimizeNames(u,p){if(u[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,u,p)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends i{constructor(u,p,k){super(),this.lhs=u,this.rhs=p,this.sideEffects=k}render({_n:u}){return`${this.lhs} = ${this.rhs};`+u}optimizeNames(u,p){if(!(this.lhs instanceof e.Name&&!u[this.lhs.str]&&!this.sideEffects))return this.rhs=D(this.rhs,u,p),this}get names(){const u=this.lhs instanceof e.Name?{}:{...this.lhs.names};return M(u,this.rhs)}}class l extends o{constructor(u,p,k,H){super(u,k,H),this.op=p}render({_n:u}){return`${this.lhs} ${this.op}= ${this.rhs};`+u}}class c extends i{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`${this.label}:`+u}}class f extends i{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`break${this.label?` ${this.label}`:""};`+u}}class h extends i{constructor(u){super(),this.error=u}render({_n:u}){return`throw ${this.error};`+u}get names(){return this.error.names}}class g extends i{constructor(u){super(),this.code=u}render({_n:u}){return`${this.code};`+u}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(u,p){return this.code=D(this.code,u,p),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class y extends i{constructor(u=[]){super(),this.nodes=u}render(u){return this.nodes.reduce((p,k)=>p+k.render(u),"")}optimizeNodes(){const{nodes:u}=this;let p=u.length;for(;p--;){const k=u[p].optimizeNodes();Array.isArray(k)?u.splice(p,1,...k):k?u[p]=k:u.splice(p,1)}return u.length>0?this:void 0}optimizeNames(u,p){const{nodes:k}=this;let H=k.length;for(;H--;){const B=k[H];B.optimizeNames(u,p)||(U(u,B.names),k.splice(H,1))}return k.length>0?this:void 0}get names(){return this.nodes.reduce((u,p)=>O(u,p.names),{})}}class b extends y{render(u){return"{"+u._n+super.render(u)+"}"+u._n}}class $ extends y{}class m extends b{}m.kind="else";class d extends b{constructor(u,p){super(p),this.condition=u}render(u){let p=`if(${this.condition})`+super.render(u);return this.else&&(p+="else "+this.else.render(u)),p}optimizeNodes(){super.optimizeNodes();const u=this.condition;if(u===!0)return this.nodes;let p=this.else;if(p){const k=p.optimizeNodes();p=this.else=Array.isArray(k)?new m(k):k}if(p)return u===!1?p instanceof d?p:p.nodes:this.nodes.length?this:new d(Y(u),p instanceof d?[p]:p.nodes);if(!(u===!1||!this.nodes.length))return this}optimizeNames(u,p){var k;if(this.else=(k=this.else)===null||k===void 0?void 0:k.optimizeNames(u,p),!!(super.optimizeNames(u,p)||this.else))return this.condition=D(this.condition,u,p),this}get names(){const u=super.names;return M(u,this.condition),this.else&&O(u,this.else.names),u}}d.kind="if";class _ extends b{}_.kind="for";class E extends _{constructor(u){super(),this.iteration=u}render(u){return`for(${this.iteration})`+super.render(u)}optimizeNames(u,p){if(super.optimizeNames(u,p))return this.iteration=D(this.iteration,u,p),this}get names(){return O(super.names,this.iteration.names)}}class P extends _{constructor(u,p,k,H){super(),this.varKind=u,this.name=p,this.from=k,this.to=H}render(u){const p=u.es5?r.varKinds.var:this.varKind,{name:k,from:H,to:B}=this;return`for(${p} ${k}=${H}; ${k}<${B}; ${k}++)`+super.render(u)}get names(){const u=M(super.names,this.from);return M(u,this.to)}}class I extends _{constructor(u,p,k,H){super(),this.loop=u,this.varKind=p,this.name=k,this.iterable=H}render(u){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(u)}optimizeNames(u,p){if(super.optimizeNames(u,p))return this.iterable=D(this.iterable,u,p),this}get names(){return O(super.names,this.iterable.names)}}class T extends b{constructor(u,p,k){super(),this.name=u,this.args=p,this.async=k}render(u){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(u)}}T.kind="func";class F extends y{render(u){return"return "+super.render(u)}}F.kind="return";class q extends b{render(u){let p="try"+super.render(u);return this.catch&&(p+=this.catch.render(u)),this.finally&&(p+=this.finally.render(u)),p}optimizeNodes(){var u,p;return super.optimizeNodes(),(u=this.catch)===null||u===void 0||u.optimizeNodes(),(p=this.finally)===null||p===void 0||p.optimizeNodes(),this}optimizeNames(u,p){var k,H;return super.optimizeNames(u,p),(k=this.catch)===null||k===void 0||k.optimizeNames(u,p),(H=this.finally)===null||H===void 0||H.optimizeNames(u,p),this}get names(){const u=super.names;return this.catch&&O(u,this.catch.names),this.finally&&O(u,this.finally.names),u}}class z extends b{constructor(u){super(),this.error=u}render(u){return`catch(${this.error})`+super.render(u)}}z.kind="catch";class G extends b{render(u){return"finally"+super.render(u)}}G.kind="finally";class R{constructor(u,p={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...p,_n:p.lines?`
`:""},this._extScope=u,this._scope=new r.Scope({parent:u}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(u){return this._scope.name(u)}scopeName(u){return this._extScope.name(u)}scopeValue(u,p){const k=this._extScope.value(u,p);return(this._values[k.prefix]||(this._values[k.prefix]=new Set)).add(k),k}getScopeValue(u,p){return this._extScope.getValue(u,p)}scopeRefs(u){return this._extScope.scopeRefs(u,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(u,p,k,H){const B=this._scope.toName(p);return k!==void 0&&H&&(this._constants[B.str]=k),this._leafNode(new s(u,B,k)),B}const(u,p,k){return this._def(r.varKinds.const,u,p,k)}let(u,p,k){return this._def(r.varKinds.let,u,p,k)}var(u,p,k){return this._def(r.varKinds.var,u,p,k)}assign(u,p,k){return this._leafNode(new o(u,p,k))}add(u,p){return this._leafNode(new l(u,t.operators.ADD,p))}code(u){return typeof u=="function"?u():u!==e.nil&&this._leafNode(new g(u)),this}object(...u){const p=["{"];for(const[k,H]of u)p.length>1&&p.push(","),p.push(k),(k!==H||this.opts.es5)&&(p.push(":"),(0,e.addCodeArg)(p,H));return p.push("}"),new e._Code(p)}if(u,p,k){if(this._blockNode(new d(u)),p&&k)this.code(p).else().code(k).endIf();else if(p)this.code(p).endIf();else if(k)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(u){return this._elseNode(new d(u))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(d,m)}_for(u,p){return this._blockNode(u),p&&this.code(p).endFor(),this}for(u,p){return this._for(new E(u),p)}forRange(u,p,k,H,B=this.opts.es5?r.varKinds.var:r.varKinds.let){const ne=this._scope.toName(u);return this._for(new P(B,ne,p,k),()=>H(ne))}forOf(u,p,k,H=r.varKinds.const){const B=this._scope.toName(u);if(this.opts.es5){const ne=p instanceof e.Name?p:this.var("_arr",p);return this.forRange("_i",0,(0,e._)`${ne}.length`,se=>{this.var(B,(0,e._)`${ne}[${se}]`),k(B)})}return this._for(new I("of",H,B,p),()=>k(B))}forIn(u,p,k,H=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(u,(0,e._)`Object.keys(${p})`,k);const B=this._scope.toName(u);return this._for(new I("in",H,B,p),()=>k(B))}endFor(){return this._endBlockNode(_)}label(u){return this._leafNode(new c(u))}break(u){return this._leafNode(new f(u))}return(u){const p=new F;if(this._blockNode(p),this.code(u),p.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(u,p,k){if(!p&&!k)throw new Error('CodeGen: "try" without "catch" and "finally"');const H=new q;if(this._blockNode(H),this.code(u),p){const B=this.name("e");this._currNode=H.catch=new z(B),p(B)}return k&&(this._currNode=H.finally=new G,this.code(k)),this._endBlockNode(z,G)}throw(u){return this._leafNode(new h(u))}block(u,p){return this._blockStarts.push(this._nodes.length),u&&this.code(u).endBlock(p),this}endBlock(u){const p=this._blockStarts.pop();if(p===void 0)throw new Error("CodeGen: not in self-balancing block");const k=this._nodes.length-p;if(k<0||u!==void 0&&k!==u)throw new Error(`CodeGen: wrong number of nodes: ${k} vs ${u} expected`);return this._nodes.length=p,this}func(u,p=e.nil,k,H){return this._blockNode(new T(u,p,k)),H&&this.code(H).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(u=1){for(;u-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(u){return this._currNode.nodes.push(u),this}_blockNode(u){this._currNode.nodes.push(u),this._nodes.push(u)}_endBlockNode(u,p){const k=this._currNode;if(k instanceof u||p&&k instanceof p)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${p?`${u.kind}/${p.kind}`:u.kind}"`)}_elseNode(u){const p=this._currNode;if(!(p instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=p.else=u,this}get _root(){return this._nodes[0]}get _currNode(){const u=this._nodes;return u[u.length-1]}set _currNode(u){const p=this._nodes;p[p.length-1]=u}}t.CodeGen=R;function O(w,u){for(const p in u)w[p]=(w[p]||0)+(u[p]||0);return w}function M(w,u){return u instanceof e._CodeOrName?O(w,u.names):w}function D(w,u,p){if(w instanceof e.Name)return k(w);if(!H(w))return w;return new e._Code(w._items.reduce((B,ne)=>(ne instanceof e.Name&&(ne=k(ne)),ne instanceof e._Code?B.push(...ne._items):B.push(ne),B),[]));function k(B){const ne=p[B.str];return ne===void 0||u[B.str]!==1?B:(delete u[B.str],ne)}function H(B){return B instanceof e._Code&&B._items.some(ne=>ne instanceof e.Name&&u[ne.str]===1&&p[ne.str]!==void 0)}}function U(w,u){for(const p in u)w[p]=(w[p]||0)-(u[p]||0)}function Y(w){return typeof w=="boolean"||typeof w=="number"||w===null?!w:(0,e._)`!${C(w)}`}t.not=Y;const re=S(t.operators.AND);function me(...w){return w.reduce(re)}t.and=me;const ue=S(t.operators.OR);function x(...w){return w.reduce(ue)}t.or=x;function S(w){return(u,p)=>u===e.nil?p:p===e.nil?u:(0,e._)`${C(u)} ${w} ${C(p)}`}function C(w){return w instanceof e.Name?w:(0,e._)`(${w})`}})(te);var K={};Object.defineProperty(K,"__esModule",{value:!0});K.checkStrictMode=K.getErrorPath=K.Type=K.useFunc=K.setEvaluated=K.evaluatedPropsToName=K.mergeEvaluated=K.eachItem=K.unescapeJsonPointer=K.escapeJsonPointer=K.escapeFragment=K.unescapeFragment=K.schemaRefOrVal=K.schemaHasRulesButRef=K.schemaHasRules=K.checkUnknownRules=K.alwaysValidSchema=K.toHash=void 0;const he=te,kl=vr;function Il(t){const e={};for(const r of t)e[r]=!0;return e}K.toHash=Il;function jl(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(is(t,e),!ss(e,t.self.RULES.all))}K.alwaysValidSchema=jl;function is(t,e=t.schema){const{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;const a=n.RULES.keywords;for(const i in e)a[i]||cs(t,`unknown keyword: "${i}"`)}K.checkUnknownRules=is;function ss(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(e[r])return!0;return!1}K.schemaHasRules=ss;function Nl(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}K.schemaHasRulesButRef=Nl;function Ol({topSchemaRef:t,schemaPath:e},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,he._)`${r}`}return(0,he._)`${t}${e}${(0,he.getProperty)(n)}`}K.schemaRefOrVal=Ol;function Al(t){return os(decodeURIComponent(t))}K.unescapeFragment=Al;function Tl(t){return encodeURIComponent(Hn(t))}K.escapeFragment=Tl;function Hn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}K.escapeJsonPointer=Hn;function os(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}K.unescapeJsonPointer=os;function Ml(t,e){if(Array.isArray(t))for(const r of t)e(r);else e(t)}K.eachItem=Ml;function ni({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(a,i,s,o)=>{const l=s===void 0?i:s instanceof he.Name?(i instanceof he.Name?t(a,i,s):e(a,i,s),s):i instanceof he.Name?(e(a,s,i),i):r(i,s);return o===he.Name&&!(l instanceof he.Name)?n(a,l):l}}K.mergeEvaluated={props:ni({mergeNames:(t,e,r)=>t.if((0,he._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,he._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,he._)`${r} || {}`).code((0,he._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,he._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,he._)`${r} || {}`),Gn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:ls}),items:ni({mergeNames:(t,e,r)=>t.if((0,he._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,he._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,he._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,he._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function ls(t,e){if(e===!0)return t.var("props",!0);const r=t.var("props",(0,he._)`{}`);return e!==void 0&&Gn(t,r,e),r}K.evaluatedPropsToName=ls;function Gn(t,e,r){Object.keys(r).forEach(n=>t.assign((0,he._)`${e}${(0,he.getProperty)(n)}`,!0))}K.setEvaluated=Gn;const ai={};function Cl(t,e){return t.scopeValue("func",{ref:e,code:ai[e.code]||(ai[e.code]=new kl._Code(e.code))})}K.useFunc=Cl;var On;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(On||(K.Type=On={}));function Rl(t,e,r){if(t instanceof he.Name){const n=e===On.Num;return r?n?(0,he._)`"[" + ${t} + "]"`:(0,he._)`"['" + ${t} + "']"`:n?(0,he._)`"/" + ${t}`:(0,he._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,he.getProperty)(t).toString():"/"+Hn(t)}K.getErrorPath=Rl;function cs(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}K.checkStrictMode=cs;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});const Oe=te,Dl={data:new Oe.Name("data"),valCxt:new Oe.Name("valCxt"),instancePath:new Oe.Name("instancePath"),parentData:new Oe.Name("parentData"),parentDataProperty:new Oe.Name("parentDataProperty"),rootData:new Oe.Name("rootData"),dynamicAnchors:new Oe.Name("dynamicAnchors"),vErrors:new Oe.Name("vErrors"),errors:new Oe.Name("errors"),this:new Oe.Name("this"),self:new Oe.Name("self"),scope:new Oe.Name("scope"),json:new Oe.Name("json"),jsonPos:new Oe.Name("jsonPos"),jsonLen:new Oe.Name("jsonLen"),jsonPart:new Oe.Name("jsonPart")};Le.default=Dl;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=te,r=K,n=Le;t.keywordError={message:({keyword:m})=>(0,e.str)`must pass "${m}" keyword validation`},t.keyword$DataError={message:({keyword:m,schemaType:d})=>d?(0,e.str)`"${m}" keyword must be ${d} ($data)`:(0,e.str)`"${m}" keyword is invalid ($data)`};function a(m,d=t.keywordError,_,E){const{it:P}=m,{gen:I,compositeRule:T,allErrors:F}=P,q=h(m,d,_);E??(T||F)?l(I,q):c(P,(0,e._)`[${q}]`)}t.reportError=a;function i(m,d=t.keywordError,_){const{it:E}=m,{gen:P,compositeRule:I,allErrors:T}=E,F=h(m,d,_);l(P,F),I||T||c(E,n.default.vErrors)}t.reportExtraError=i;function s(m,d){m.assign(n.default.errors,d),m.if((0,e._)`${n.default.vErrors} !== null`,()=>m.if(d,()=>m.assign((0,e._)`${n.default.vErrors}.length`,d),()=>m.assign(n.default.vErrors,null)))}t.resetErrorsCount=s;function o({gen:m,keyword:d,schemaValue:_,data:E,errsCount:P,it:I}){if(P===void 0)throw new Error("ajv implementation error");const T=m.name("err");m.forRange("i",P,n.default.errors,F=>{m.const(T,(0,e._)`${n.default.vErrors}[${F}]`),m.if((0,e._)`${T}.instancePath === undefined`,()=>m.assign((0,e._)`${T}.instancePath`,(0,e.strConcat)(n.default.instancePath,I.errorPath))),m.assign((0,e._)`${T}.schemaPath`,(0,e.str)`${I.errSchemaPath}/${d}`),I.opts.verbose&&(m.assign((0,e._)`${T}.schema`,_),m.assign((0,e._)`${T}.data`,E))})}t.extendErrors=o;function l(m,d){const _=m.const("err",d);m.if((0,e._)`${n.default.vErrors} === null`,()=>m.assign(n.default.vErrors,(0,e._)`[${_}]`),(0,e._)`${n.default.vErrors}.push(${_})`),m.code((0,e._)`${n.default.errors}++`)}function c(m,d){const{gen:_,validateName:E,schemaEnv:P}=m;P.$async?_.throw((0,e._)`new ${m.ValidationError}(${d})`):(_.assign((0,e._)`${E}.errors`,d),_.return(!1))}const f={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function h(m,d,_){const{createErrors:E}=m.it;return E===!1?(0,e._)`{}`:g(m,d,_)}function g(m,d,_={}){const{gen:E,it:P}=m,I=[y(P,_),b(m,_)];return $(m,d,I),E.object(...I)}function y({errorPath:m},{instancePath:d}){const _=d?(0,e.str)`${m}${(0,r.getErrorPath)(d,r.Type.Str)}`:m;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,_)]}function b({keyword:m,it:{errSchemaPath:d}},{schemaPath:_,parentSchema:E}){let P=E?d:(0,e.str)`${d}/${m}`;return _&&(P=(0,e.str)`${P}${(0,r.getErrorPath)(_,r.Type.Str)}`),[f.schemaPath,P]}function $(m,{params:d,message:_},E){const{keyword:P,data:I,schemaValue:T,it:F}=m,{opts:q,propertyName:z,topSchemaRef:G,schemaPath:R}=F;E.push([f.keyword,P],[f.params,typeof d=="function"?d(m):d||(0,e._)`{}`]),q.messages&&E.push([f.message,typeof _=="function"?_(m):_]),q.verbose&&E.push([f.schema,T],[f.parentSchema,(0,e._)`${G}${R}`],[n.default.data,I]),z&&E.push([f.propertyName,z])}})($r);Object.defineProperty(Ht,"__esModule",{value:!0});Ht.boolOrEmptySchema=Ht.topBoolOrEmptySchema=void 0;const Fl=$r,zl=te,Vl=Le,ql={message:"boolean schema is false"};function xl(t){const{gen:e,schema:r,validateName:n}=t;r===!1?ds(t,!1):typeof r=="object"&&r.$async===!0?e.return(Vl.default.data):(e.assign((0,zl._)`${n}.errors`,null),e.return(!0))}Ht.topBoolOrEmptySchema=xl;function Ll(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),ds(t)):r.var(e,!0)}Ht.boolOrEmptySchema=Ll;function ds(t,e){const{gen:r,data:n}=t,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Fl.reportError)(a,ql,void 0,e)}var Se={},St={};Object.defineProperty(St,"__esModule",{value:!0});St.getRules=St.isJSONType=void 0;const Ul=["string","number","integer","boolean","null","object","array"],Kl=new Set(Ul);function Jl(t){return typeof t=="string"&&Kl.has(t)}St.isJSONType=Jl;function Hl(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}St.getRules=Hl;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.shouldUseRule=nt.shouldUseGroup=nt.schemaHasRulesForType=void 0;function Gl({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&us(t,n)}nt.schemaHasRulesForType=Gl;function us(t,e){return e.rules.some(r=>fs(t,r))}nt.shouldUseGroup=us;function fs(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}nt.shouldUseRule=fs;Object.defineProperty(Se,"__esModule",{value:!0});Se.reportTypeError=Se.checkDataTypes=Se.checkDataType=Se.coerceAndCheckDataType=Se.getJSONTypes=Se.getSchemaTypes=Se.DataType=void 0;const Bl=St,Wl=nt,Zl=$r,ie=te,ms=K;var xt;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(xt||(Se.DataType=xt={}));function Xl(t){const e=hs(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Se.getSchemaTypes=Xl;function hs(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(Bl.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Se.getJSONTypes=hs;function Yl(t,e){const{gen:r,data:n,opts:a}=t,i=Ql(e,a.coerceTypes),s=e.length>0&&!(i.length===0&&e.length===1&&(0,Wl.schemaHasRulesForType)(t,e[0]));if(s){const o=Bn(e,n,a.strictNumbers,xt.Wrong);r.if(o,()=>{i.length?ec(t,e,i):Wn(t)})}return s}Se.coerceAndCheckDataType=Yl;const ps=new Set(["string","number","integer","boolean","null"]);function Ql(t,e){return e?t.filter(r=>ps.has(r)||e==="array"&&r==="array"):[]}function ec(t,e,r){const{gen:n,data:a,opts:i}=t,s=n.let("dataType",(0,ie._)`typeof ${a}`),o=n.let("coerced",(0,ie._)`undefined`);i.coerceTypes==="array"&&n.if((0,ie._)`${s} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,ie._)`${a}[0]`).assign(s,(0,ie._)`typeof ${a}`).if(Bn(e,a,i.strictNumbers),()=>n.assign(o,a))),n.if((0,ie._)`${o} !== undefined`);for(const c of r)(ps.has(c)||c==="array"&&i.coerceTypes==="array")&&l(c);n.else(),Wn(t),n.endIf(),n.if((0,ie._)`${o} !== undefined`,()=>{n.assign(a,o),tc(t,o)});function l(c){switch(c){case"string":n.elseIf((0,ie._)`${s} == "number" || ${s} == "boolean"`).assign(o,(0,ie._)`"" + ${a}`).elseIf((0,ie._)`${a} === null`).assign(o,(0,ie._)`""`);return;case"number":n.elseIf((0,ie._)`${s} == "boolean" || ${a} === null
              || (${s} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,ie._)`+${a}`);return;case"integer":n.elseIf((0,ie._)`${s} === "boolean" || ${a} === null
              || (${s} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,ie._)`+${a}`);return;case"boolean":n.elseIf((0,ie._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,ie._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,ie._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,ie._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${a} === null`).assign(o,(0,ie._)`[${a}]`)}}}function tc({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,ie._)`${e} !== undefined`,()=>t.assign((0,ie._)`${e}[${r}]`,n))}function An(t,e,r,n=xt.Correct){const a=n===xt.Correct?ie.operators.EQ:ie.operators.NEQ;let i;switch(t){case"null":return(0,ie._)`${e} ${a} null`;case"array":i=(0,ie._)`Array.isArray(${e})`;break;case"object":i=(0,ie._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":i=s((0,ie._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":i=s();break;default:return(0,ie._)`typeof ${e} ${a} ${t}`}return n===xt.Correct?i:(0,ie.not)(i);function s(o=ie.nil){return(0,ie.and)((0,ie._)`typeof ${e} == "number"`,o,r?(0,ie._)`isFinite(${e})`:ie.nil)}}Se.checkDataType=An;function Bn(t,e,r,n){if(t.length===1)return An(t[0],e,r,n);let a;const i=(0,ms.toHash)(t);if(i.array&&i.object){const s=(0,ie._)`typeof ${e} != "object"`;a=i.null?s:(0,ie._)`!${e} || ${s}`,delete i.null,delete i.array,delete i.object}else a=ie.nil;i.number&&delete i.integer;for(const s in i)a=(0,ie.and)(a,An(s,e,r,n));return a}Se.checkDataTypes=Bn;const rc={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,ie._)`{type: ${t}}`:(0,ie._)`{type: ${e}}`};function Wn(t){const e=nc(t);(0,Zl.reportError)(e,rc)}Se.reportTypeError=Wn;function nc(t){const{gen:e,data:r,schema:n}=t,a=(0,ms.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:t}}var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.assignDefaults=void 0;const Ct=te,ac=K;function ic(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const a in r)ii(t,a,r[a].default);else e==="array"&&Array.isArray(n)&&n.forEach((a,i)=>ii(t,i,a.default))}Xr.assignDefaults=ic;function ii(t,e,r){const{gen:n,compositeRule:a,data:i,opts:s}=t;if(r===void 0)return;const o=(0,Ct._)`${i}${(0,Ct.getProperty)(e)}`;if(a){(0,ac.checkStrictMode)(t,`default is ignored for: ${o}`);return}let l=(0,Ct._)`${o} === undefined`;s.useDefaults==="empty"&&(l=(0,Ct._)`${l} || ${o} === null || ${o} === ""`),n.if(l,(0,Ct._)`${o} = ${(0,Ct.stringify)(r)}`)}var Ye={},le={};Object.defineProperty(le,"__esModule",{value:!0});le.validateUnion=le.validateArray=le.usePattern=le.callValidateCode=le.schemaProperties=le.allSchemaProperties=le.noPropertyInData=le.propertyInData=le.isOwnProperty=le.hasPropFunc=le.reportMissingProp=le.checkMissingProp=le.checkReportMissingProp=void 0;const _e=te,Zn=K,ct=Le,sc=K;function oc(t,e){const{gen:r,data:n,it:a}=t;r.if(Yn(r,n,e,a.opts.ownProperties),()=>{t.setParams({missingProperty:(0,_e._)`${e}`},!0),t.error()})}le.checkReportMissingProp=oc;function lc({gen:t,data:e,it:{opts:r}},n,a){return(0,_e.or)(...n.map(i=>(0,_e.and)(Yn(t,e,i,r.ownProperties),(0,_e._)`${a} = ${i}`)))}le.checkMissingProp=lc;function cc(t,e){t.setParams({missingProperty:e},!0),t.error()}le.reportMissingProp=cc;function vs(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,_e._)`Object.prototype.hasOwnProperty`})}le.hasPropFunc=vs;function Xn(t,e,r){return(0,_e._)`${vs(t)}.call(${e}, ${r})`}le.isOwnProperty=Xn;function dc(t,e,r,n){const a=(0,_e._)`${e}${(0,_e.getProperty)(r)} !== undefined`;return n?(0,_e._)`${a} && ${Xn(t,e,r)}`:a}le.propertyInData=dc;function Yn(t,e,r,n){const a=(0,_e._)`${e}${(0,_e.getProperty)(r)} === undefined`;return n?(0,_e.or)(a,(0,_e.not)(Xn(t,e,r))):a}le.noPropertyInData=Yn;function ys(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}le.allSchemaProperties=ys;function uc(t,e){return ys(e).filter(r=>!(0,Zn.alwaysValidSchema)(t,e[r]))}le.schemaProperties=uc;function fc({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:i},it:s},o,l,c){const f=c?(0,_e._)`${t}, ${e}, ${n}${a}`:e,h=[[ct.default.instancePath,(0,_e.strConcat)(ct.default.instancePath,i)],[ct.default.parentData,s.parentData],[ct.default.parentDataProperty,s.parentDataProperty],[ct.default.rootData,ct.default.rootData]];s.opts.dynamicRef&&h.push([ct.default.dynamicAnchors,ct.default.dynamicAnchors]);const g=(0,_e._)`${f}, ${r.object(...h)}`;return l!==_e.nil?(0,_e._)`${o}.call(${l}, ${g})`:(0,_e._)`${o}(${g})`}le.callValidateCode=fc;const mc=(0,_e._)`new RegExp`;function hc({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:a}=e.code,i=a(r,n);return t.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,_e._)`${a.code==="new RegExp"?mc:(0,sc.useFunc)(t,a)}(${r}, ${n})`})}le.usePattern=hc;function pc(t){const{gen:e,data:r,keyword:n,it:a}=t,i=e.name("valid");if(a.allErrors){const o=e.let("valid",!0);return s(()=>e.assign(o,!1)),o}return e.var(i,!0),s(()=>e.break()),i;function s(o){const l=e.const("len",(0,_e._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:Zn.Type.Num},i),e.if((0,_e.not)(i),o)})}}le.validateArray=pc;function vc(t){const{gen:e,schema:r,keyword:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Zn.alwaysValidSchema)(a,l))&&!a.opts.unevaluated)return;const s=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const f=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},o);e.assign(s,(0,_e._)`${s} || ${o}`),t.mergeValidEvaluated(f,o)||e.if((0,_e.not)(s))})),t.result(s,()=>t.reset(),()=>t.error(!0))}le.validateUnion=vc;Object.defineProperty(Ye,"__esModule",{value:!0});Ye.validateKeywordUsage=Ye.validSchemaType=Ye.funcKeywordCode=Ye.macroKeywordCode=void 0;const Te=te,_t=Le,yc=le,gc=$r;function _c(t,e){const{gen:r,keyword:n,schema:a,parentSchema:i,it:s}=t,o=e.macro.call(s.self,a,i,s),l=gs(r,n,o);s.opts.validateSchema!==!1&&s.self.validateSchema(o,!0);const c=r.name("valid");t.subschema({schema:o,schemaPath:Te.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Ye.macroKeywordCode=_c;function bc(t,e){var r;const{gen:n,keyword:a,schema:i,parentSchema:s,$data:o,it:l}=t;Ec(l,e);const c=!o&&e.compile?e.compile.call(l.self,i,s,l):e.validate,f=gs(n,a,c),h=n.let("valid");t.block$data(h,g),t.ok((r=e.valid)!==null&&r!==void 0?r:h);function g(){if(e.errors===!1)$(),e.modifying&&si(t),m(()=>t.error());else{const d=e.async?y():b();e.modifying&&si(t),m(()=>$c(t,d))}}function y(){const d=n.let("ruleErrs",null);return n.try(()=>$((0,Te._)`await `),_=>n.assign(h,!1).if((0,Te._)`${_} instanceof ${l.ValidationError}`,()=>n.assign(d,(0,Te._)`${_}.errors`),()=>n.throw(_))),d}function b(){const d=(0,Te._)`${f}.errors`;return n.assign(d,null),$(Te.nil),d}function $(d=e.async?(0,Te._)`await `:Te.nil){const _=l.opts.passContext?_t.default.this:_t.default.self,E=!("compile"in e&&!o||e.schema===!1);n.assign(h,(0,Te._)`${d}${(0,yc.callValidateCode)(t,f,_,E)}`,e.modifying)}function m(d){var _;n.if((0,Te.not)((_=e.valid)!==null&&_!==void 0?_:h),d)}}Ye.funcKeywordCode=bc;function si(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,Te._)`${n.parentData}[${n.parentDataProperty}]`))}function $c(t,e){const{gen:r}=t;r.if((0,Te._)`Array.isArray(${e})`,()=>{r.assign(_t.default.vErrors,(0,Te._)`${_t.default.vErrors} === null ? ${e} : ${_t.default.vErrors}.concat(${e})`).assign(_t.default.errors,(0,Te._)`${_t.default.vErrors}.length`),(0,gc.extendErrors)(t)},()=>t.error())}function Ec({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function gs(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Te.stringify)(r)})}function wc(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Ye.validSchemaType=wc;function Sc({schema:t,opts:e,self:r,errSchemaPath:n},a,i){if(Array.isArray(a.keyword)?!a.keyword.includes(i):a.keyword!==i)throw new Error("ajv implementation error");const s=a.dependencies;if(s!=null&&s.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(a.validateSchema&&!a.validateSchema(t[i])){const l=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ye.validateKeywordUsage=Sc;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.extendSubschemaMode=ht.extendSubschemaData=ht.getSubschema=void 0;const Xe=te,_s=K;function Pc(t,{keyword:e,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:i,topSchemaRef:s}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,Xe._)`${t.schemaPath}${(0,Xe.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,Xe._)`${t.schemaPath}${(0,Xe.getProperty)(e)}${(0,Xe.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,_s.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||i===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:s,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}ht.getSubschema=Pc;function kc(t,e,{dataProp:r,dataPropType:n,data:a,dataTypes:i,propertyName:s}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:c,dataPathArr:f,opts:h}=e,g=o.let("data",(0,Xe._)`${e.data}${(0,Xe.getProperty)(r)}`,!0);l(g),t.errorPath=(0,Xe.str)`${c}${(0,_s.getErrorPath)(r,n,h.jsPropertySyntax)}`,t.parentDataProperty=(0,Xe._)`${r}`,t.dataPathArr=[...f,t.parentDataProperty]}if(a!==void 0){const c=a instanceof Xe.Name?a:o.let("data",a,!0);l(c),s!==void 0&&(t.propertyName=s)}i&&(t.dataTypes=i);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}ht.extendSubschemaData=kc;function Ic(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:i}){n!==void 0&&(t.compositeRule=n),a!==void 0&&(t.createErrors=a),i!==void 0&&(t.allErrors=i),t.jtdDiscriminator=e,t.jtdMetadata=r}ht.extendSubschemaMode=Ic;var je={},bs=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var s=i[a];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r},$s={exports:{}},ft=$s.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};Fr(e,n,a,t,"",t)};ft.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ft.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ft.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ft.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Fr(t,e,r,n,a,i,s,o,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,a,i,s,o,l,c);for(var f in n){var h=n[f];if(Array.isArray(h)){if(f in ft.arrayKeywords)for(var g=0;g<h.length;g++)Fr(t,e,r,h[g],a+"/"+f+"/"+g,i,a,f,n,g)}else if(f in ft.propsKeywords){if(h&&typeof h=="object")for(var y in h)Fr(t,e,r,h[y],a+"/"+f+"/"+jc(y),i,a,f,n,y)}else(f in ft.keywords||t.allKeys&&!(f in ft.skipKeywords))&&Fr(t,e,r,h,a+"/"+f,i,a,f,n)}r(n,a,i,s,o,l,c)}}function jc(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var Nc=$s.exports;Object.defineProperty(je,"__esModule",{value:!0});je.getSchemaRefs=je.resolveUrl=je.normalizeId=je._getFullPath=je.getFullPath=je.inlineRef=void 0;const Oc=K,Ac=bs,Tc=Nc,Mc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Cc(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Tn(t):e?Es(t)<=e:!1}je.inlineRef=Cc;const Rc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Tn(t){for(const e in t){if(Rc.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Tn)||typeof r=="object"&&Tn(r))return!0}return!1}function Es(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Mc.has(r)&&(typeof t[r]=="object"&&(0,Oc.eachItem)(t[r],n=>e+=Es(n)),e===1/0))return 1/0}return e}function ws(t,e="",r){r!==!1&&(e=Lt(e));const n=t.parse(e);return Ss(t,n)}je.getFullPath=ws;function Ss(t,e){return t.serialize(e).split("#")[0]+"#"}je._getFullPath=Ss;const Dc=/#\/?$/;function Lt(t){return t?t.replace(Dc,""):""}je.normalizeId=Lt;function Fc(t,e,r){return r=Lt(r),t.resolve(e,r)}je.resolveUrl=Fc;const zc=/^[a-z_][-a-z0-9._]*$/i;function Vc(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=Lt(t[r]||e),i={"":a},s=ws(n,a,!1),o={},l=new Set;return Tc(t,{allKeys:!0},(h,g,y,b)=>{if(b===void 0)return;const $=s+g;let m=i[b];typeof h[r]=="string"&&(m=d.call(this,h[r])),_.call(this,h.$anchor),_.call(this,h.$dynamicAnchor),i[g]=m;function d(E){const P=this.opts.uriResolver.resolve;if(E=Lt(m?P(m,E):E),l.has(E))throw f(E);l.add(E);let I=this.refs[E];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?c(h,I.schema,E):E!==Lt($)&&(E[0]==="#"?(c(h,o[E],E),o[E]=h):this.refs[E]=$),E}function _(E){if(typeof E=="string"){if(!zc.test(E))throw new Error(`invalid anchor "${E}"`);d.call(this,`#${E}`)}}}),o;function c(h,g,y){if(g!==void 0&&!Ac(h,g))throw f(y)}function f(h){return new Error(`reference "${h}" resolves to more than one schema`)}}je.getSchemaRefs=Vc;Object.defineProperty(He,"__esModule",{value:!0});He.getData=He.KeywordCxt=He.validateFunctionCode=void 0;const Ps=Ht,oi=Se,Qn=nt,Hr=Se,qc=Xr,dr=Ye,_n=ht,Z=te,ee=Le,xc=je,at=K,rr=$r;function Lc(t){if(js(t)&&(Ns(t),Is(t))){Jc(t);return}ks(t,()=>(0,Ps.topBoolOrEmptySchema)(t))}He.validateFunctionCode=Lc;function ks({gen:t,validateName:e,schema:r,schemaEnv:n,opts:a},i){a.code.es5?t.func(e,(0,Z._)`${ee.default.data}, ${ee.default.valCxt}`,n.$async,()=>{t.code((0,Z._)`"use strict"; ${li(r,a)}`),Kc(t,a),t.code(i)}):t.func(e,(0,Z._)`${ee.default.data}, ${Uc(a)}`,n.$async,()=>t.code(li(r,a)).code(i))}function Uc(t){return(0,Z._)`{${ee.default.instancePath}="", ${ee.default.parentData}, ${ee.default.parentDataProperty}, ${ee.default.rootData}=${ee.default.data}${t.dynamicRef?(0,Z._)`, ${ee.default.dynamicAnchors}={}`:Z.nil}}={}`}function Kc(t,e){t.if(ee.default.valCxt,()=>{t.var(ee.default.instancePath,(0,Z._)`${ee.default.valCxt}.${ee.default.instancePath}`),t.var(ee.default.parentData,(0,Z._)`${ee.default.valCxt}.${ee.default.parentData}`),t.var(ee.default.parentDataProperty,(0,Z._)`${ee.default.valCxt}.${ee.default.parentDataProperty}`),t.var(ee.default.rootData,(0,Z._)`${ee.default.valCxt}.${ee.default.rootData}`),e.dynamicRef&&t.var(ee.default.dynamicAnchors,(0,Z._)`${ee.default.valCxt}.${ee.default.dynamicAnchors}`)},()=>{t.var(ee.default.instancePath,(0,Z._)`""`),t.var(ee.default.parentData,(0,Z._)`undefined`),t.var(ee.default.parentDataProperty,(0,Z._)`undefined`),t.var(ee.default.rootData,ee.default.data),e.dynamicRef&&t.var(ee.default.dynamicAnchors,(0,Z._)`{}`)})}function Jc(t){const{schema:e,opts:r,gen:n}=t;ks(t,()=>{r.$comment&&e.$comment&&As(t),Zc(t),n.let(ee.default.vErrors,null),n.let(ee.default.errors,0),r.unevaluated&&Hc(t),Os(t),Qc(t)})}function Hc(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Z._)`${r}.evaluated`),e.if((0,Z._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Z._)`${t.evaluated}.props`,(0,Z._)`undefined`)),e.if((0,Z._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Z._)`${t.evaluated}.items`,(0,Z._)`undefined`))}function li(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Z._)`/*# sourceURL=${r} */`:Z.nil}function Gc(t,e){if(js(t)&&(Ns(t),Is(t))){Bc(t,e);return}(0,Ps.boolOrEmptySchema)(t,e)}function Is({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function js(t){return typeof t.schema!="boolean"}function Bc(t,e){const{schema:r,gen:n,opts:a}=t;a.$comment&&r.$comment&&As(t),Xc(t),Yc(t);const i=n.const("_errs",ee.default.errors);Os(t,i),n.var(e,(0,Z._)`${i} === ${ee.default.errors}`)}function Ns(t){(0,at.checkUnknownRules)(t),Wc(t)}function Os(t,e){if(t.opts.jtd)return ci(t,[],!1,e);const r=(0,oi.getSchemaTypes)(t.schema),n=(0,oi.coerceAndCheckDataType)(t,r);ci(t,r,!n,e)}function Wc(t){const{schema:e,errSchemaPath:r,opts:n,self:a}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,at.schemaHasRulesButRef)(e,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Zc(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,at.checkStrictMode)(t,"default is ignored in the schema root")}function Xc(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,xc.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Yc(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function As({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:a}){const i=r.$comment;if(a.$comment===!0)t.code((0,Z._)`${ee.default.self}.logger.log(${i})`);else if(typeof a.$comment=="function"){const s=(0,Z.str)`${n}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,Z._)`${ee.default.self}.opts.$comment(${i}, ${s}, ${o}.schema)`)}}function Qc(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:a,opts:i}=t;r.$async?e.if((0,Z._)`${ee.default.errors} === 0`,()=>e.return(ee.default.data),()=>e.throw((0,Z._)`new ${a}(${ee.default.vErrors})`)):(e.assign((0,Z._)`${n}.errors`,ee.default.vErrors),i.unevaluated&&ed(t),e.return((0,Z._)`${ee.default.errors} === 0`))}function ed({gen:t,evaluated:e,props:r,items:n}){r instanceof Z.Name&&t.assign((0,Z._)`${e}.props`,r),n instanceof Z.Name&&t.assign((0,Z._)`${e}.items`,n)}function ci(t,e,r,n){const{gen:a,schema:i,data:s,allErrors:o,opts:l,self:c}=t,{RULES:f}=c;if(i.$ref&&(l.ignoreKeywordsWithRef||!(0,at.schemaHasRulesButRef)(i,f))){a.block(()=>Cs(t,"$ref",f.all.$ref.definition));return}l.jtd||td(t,e),a.block(()=>{for(const g of f.rules)h(g);h(f.post)});function h(g){(0,Qn.shouldUseGroup)(i,g)&&(g.type?(a.if((0,Hr.checkDataType)(g.type,s,l.strictNumbers)),di(t,g),e.length===1&&e[0]===g.type&&r&&(a.else(),(0,Hr.reportTypeError)(t)),a.endIf()):di(t,g),o||a.if((0,Z._)`${ee.default.errors} === ${n||0}`))}}function di(t,e){const{gen:r,schema:n,opts:{useDefaults:a}}=t;a&&(0,qc.assignDefaults)(t,e.type),r.block(()=>{for(const i of e.rules)(0,Qn.shouldUseRule)(n,i)&&Cs(t,i.keyword,i.definition,e.type)})}function td(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(rd(t,e),t.opts.allowUnionTypes||nd(t,e),ad(t,t.dataTypes))}function rd(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Ts(t.dataTypes,r)||ea(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),sd(t,e)}}function nd(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ea(t,"use allowUnionTypes to allow union type keyword")}function ad(t,e){const r=t.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,Qn.shouldUseRule)(t.schema,a)){const{type:i}=a.definition;i.length&&!i.some(s=>id(e,s))&&ea(t,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function id(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Ts(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function sd(t,e){const r=[];for(const n of t.dataTypes)Ts(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function ea(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,at.checkStrictMode)(t,e,t.opts.strictTypes)}class Ms{constructor(e,r,n){if((0,dr.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,at.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Rs(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,dr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",ee.default.errors))}result(e,r,n){this.failResult((0,Z.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Z.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,Z._)`${r} !== undefined && (${(0,Z.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?rr.reportExtraError:rr.reportError)(this,this.def.error,r)}$dataError(){(0,rr.reportError)(this,this.def.$dataError||rr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,rr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Z.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Z.nil,r=Z.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:i,def:s}=this;n.if((0,Z.or)((0,Z._)`${a} === undefined`,r)),e!==Z.nil&&n.assign(e,!0),(i.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Z.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:a,it:i}=this;return(0,Z.or)(s(),o());function s(){if(n.length){if(!(r instanceof Z.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Z._)`${(0,Hr.checkDataTypes)(l,r,i.opts.strictNumbers,Hr.DataType.Wrong)}`}return Z.nil}function o(){if(a.validateSchema){const l=e.scopeValue("validate$data",{ref:a.validateSchema});return(0,Z._)`!${l}(${r})`}return Z.nil}}subschema(e,r){const n=(0,_n.getSubschema)(this.it,e);(0,_n.extendSubschemaData)(n,this.it,e),(0,_n.extendSubschemaMode)(n,e);const a={...this.it,...n,items:void 0,props:void 0};return Gc(a,r),a}mergeEvaluated(e,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=at.mergeEvaluated.props(a,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=at.mergeEvaluated.items(a,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(e,Z.Name)),!0}}He.KeywordCxt=Ms;function Cs(t,e,r,n){const a=new Ms(t,r,e);"code"in r?r.code(a,n):a.$data&&r.validate?(0,dr.funcKeywordCode)(a,r):"macro"in r?(0,dr.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,dr.funcKeywordCode)(a,r)}const od=/^\/(?:[^~]|~0|~1)*$/,ld=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Rs(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let a,i;if(t==="")return ee.default.rootData;if(t[0]==="/"){if(!od.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);a=t,i=ee.default.rootData}else{const c=ld.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const f=+c[1];if(a=c[2],a==="#"){if(f>=e)throw new Error(l("property/index",f));return n[e-f]}if(f>e)throw new Error(l("data",f));if(i=r[e-f],!a)return i}let s=i;const o=a.split("/");for(const c of o)c&&(i=(0,Z._)`${i}${(0,Z.getProperty)((0,at.unescapeJsonPointer)(c))}`,s=(0,Z._)`${s} && ${i}`);return s;function l(c,f){return`Cannot access ${c} ${f} levels up, current level is ${e}`}}He.getData=Rs;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});class cd extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Bt.default=cd;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});const bn=je;class dd extends Error{constructor(e,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,bn.resolveUrl)(e,r,n),this.missingSchema=(0,bn.normalizeId)((0,bn.getFullPath)(e,this.missingRef))}}Nt.default=dd;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.resolveSchema=Ce.getCompilingSchema=Ce.resolveRef=Ce.compileSchema=Ce.SchemaEnv=void 0;const Ge=te,ud=Bt,gt=Le,We=je,ui=K,fd=He;class Yr{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,We.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Ce.SchemaEnv=Yr;function ta(t){const e=Ds.call(this,t);if(e)return e;const r=(0,We.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:i}=this.opts,s=new Ge.CodeGen(this.scope,{es5:n,lines:a,ownProperties:i});let o;t.$async&&(o=s.scopeValue("Error",{ref:ud.default,code:(0,Ge._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");t.validateName=l;const c={gen:s,allErrors:this.opts.allErrors,data:gt.default.data,parentData:gt.default.parentData,parentDataProperty:gt.default.parentDataProperty,dataNames:[gt.default.data],dataPathArr:[Ge.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Ge.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Ge.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ge._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(t),(0,fd.validateFunctionCode)(c),s.optimize(this.opts.code.optimize);const h=s.toString();f=`${s.scopeRefs(gt.default.scope)}return ${h}`,this.opts.code.process&&(f=this.opts.code.process(f,t));const y=new Function(`${gt.default.self}`,`${gt.default.scope}`,f)(this,this.scope.get());if(this.scope.value(l,{ref:y}),y.errors=null,y.schema=t.schema,y.schemaEnv=t,t.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:l,validateCode:h,scopeValues:s._values}),this.opts.unevaluated){const{props:b,items:$}=c;y.evaluated={props:b instanceof Ge.Name?void 0:b,items:$ instanceof Ge.Name?void 0:$,dynamicProps:b instanceof Ge.Name,dynamicItems:$ instanceof Ge.Name},y.source&&(y.source.evaluated=(0,Ge.stringify)(y.evaluated))}return t.validate=y,t}catch(h){throw delete t.validate,delete t.validateName,f&&this.logger.error("Error compiling schema, function code:",f),h}finally{this._compilations.delete(t)}}Ce.compileSchema=ta;function md(t,e,r){var n;r=(0,We.resolveUrl)(this.opts.uriResolver,e,r);const a=t.refs[r];if(a)return a;let i=vd.call(this,t,r);if(i===void 0){const s=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;s&&(i=new Yr({schema:s,schemaId:o,root:t,baseId:e}))}if(i!==void 0)return t.refs[r]=hd.call(this,i)}Ce.resolveRef=md;function hd(t){return(0,We.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ta.call(this,t)}function Ds(t){for(const e of this._compilations)if(pd(e,t))return e}Ce.getCompilingSchema=Ds;function pd(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function vd(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Qr.call(this,t,e)}function Qr(t,e){const r=this.opts.uriResolver.parse(e),n=(0,We._getFullPath)(this.opts.uriResolver,r);let a=(0,We.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===a)return $n.call(this,r,t);const i=(0,We.normalizeId)(n),s=this.refs[i]||this.schemas[i];if(typeof s=="string"){const o=Qr.call(this,t,s);return typeof(o==null?void 0:o.schema)!="object"?void 0:$n.call(this,r,o)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||ta.call(this,s),i===(0,We.normalizeId)(e)){const{schema:o}=s,{schemaId:l}=this.opts,c=o[l];return c&&(a=(0,We.resolveUrl)(this.opts.uriResolver,a,c)),new Yr({schema:o,schemaId:l,root:t,baseId:a})}return $n.call(this,r,s)}}Ce.resolveSchema=Qr;const yd=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $n(t,{baseId:e,schema:r,root:n}){var a;if(((a=t.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,ui.unescapeFragment)(o)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!yd.has(o)&&c&&(e=(0,We.resolveUrl)(this.opts.uriResolver,e,c))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,ui.schemaHasRulesButRef)(r,this.RULES)){const o=(0,We.resolveUrl)(this.opts.uriResolver,e,r.$ref);i=Qr.call(this,n,o)}const{schemaId:s}=this.opts;if(i=i||new Yr({schema:r,schemaId:s,root:n,baseId:e}),i.schema!==i.root.schema)return i}const gd="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",_d="Meta-schema for $data reference (JSON AnySchema extension proposal)",bd="object",$d=["$data"],Ed={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wd=!1,Sd={$id:gd,description:_d,type:bd,required:$d,properties:Ed,additionalProperties:wd};var ra={},en={exports:{}};const Pd={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var kd={HEX:Pd};const{HEX:Id}=kd;function Fs(t){if(Vs(t,".")<3)return{host:t,isIPV4:!1};const e=t.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=e;return r?{host:Nd(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function fi(t,e=!1){let r="",n=!0;for(const a of t){if(Id[a]===void 0)return;a!=="0"&&n===!0&&(n=!1),n||(r+=a)}return e&&r.length===0&&(r="0"),r}function jd(t){let e=0;const r={error:!1,address:"",zone:""},n=[],a=[];let i=!1,s=!1,o=!1;function l(){if(a.length){if(i===!1){const c=fi(a);if(c!==void 0)n.push(c);else return r.error=!0,!1}a.length=0}return!0}for(let c=0;c<t.length;c++){const f=t[c];if(!(f==="["||f==="]"))if(f===":"){if(s===!0&&(o=!0),!l())break;if(e++,n.push(":"),e>7){r.error=!0;break}c-1>=0&&t[c-1]===":"&&(s=!0);continue}else if(f==="%"){if(!l())break;i=!0}else{a.push(f);continue}}return a.length&&(i?r.zone=a.join(""):o?n.push(a.join("")):n.push(fi(a))),r.address=n.join(""),r}function zs(t,e={}){if(Vs(t,":")<2)return{host:t,isIPV6:!1};const r=jd(t);if(r.error)return{host:t,isIPV6:!1};{let n=r.address,a=r.address;return r.zone&&(n+="%"+r.zone,a+="%25"+r.zone),{host:n,escapedHost:a,isIPV6:!0}}}function Nd(t,e){let r="",n=!0;const a=t.length;for(let i=0;i<a;i++){const s=t[i];s==="0"&&n?(i+1<=a&&t[i+1]===e||i+1===a)&&(r+=s,n=!1):(s===e?n=!0:n=!1,r+=s)}return r}function Vs(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}const mi=/^\.\.?\//u,hi=/^\/\.(?:\/|$)/u,pi=/^\/\.\.(?:\/|$)/u,Od=/^\/?(?:.|\n)*?(?=\/|$)/u;function Ad(t){const e=[];for(;t.length;)if(t.match(mi))t=t.replace(mi,"");else if(t.match(hi))t=t.replace(hi,"/");else if(t.match(pi))t=t.replace(pi,"/"),e.pop();else if(t==="."||t==="..")t="";else{const r=t.match(Od);if(r){const n=r[0];t=t.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function Td(t,e){const r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function Md(t,e){const r=[];if(t.userinfo!==void 0&&(r.push(t.userinfo),r.push("@")),t.host!==void 0){let n=unescape(t.host);const a=Fs(n);if(a.isIPV4)n=a.host;else{const i=zs(a.host,{});i.isIPV6===!0?n=`[${i.escapedHost}]`:n=t.host}r.push(n)}return(typeof t.port=="number"||typeof t.port=="string")&&(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}var Cd={recomposeAuthority:Md,normalizeComponentEncoding:Td,removeDotSegments:Ad,normalizeIPv4:Fs,normalizeIPv6:zs};const Rd=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,Dd=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function qs(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function xs(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function Ls(t){const e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function Fd(t){return t.secure=qs(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function zd(t){if((t.port===(qs(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function Vd(t,e){if(!t.path)return t.error="URN can not be parsed",t;const r=t.path.match(Dd);if(r){const n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];const a=`${n}:${e.nid||t.nid}`,i=na[a];t.path=void 0,i&&(t=i.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function qd(t,e){const r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),a=`${r}:${e.nid||n}`,i=na[a];i&&(t=i.serialize(t,e));const s=t,o=t.nss;return s.path=`${n||e.nid}:${o}`,e.skipEscape=!0,s}function xd(t,e){const r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!Rd.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Ld(t){const e=t;return e.nss=(t.uuid||"").toLowerCase(),e}const Us={scheme:"http",domainHost:!0,parse:xs,serialize:Ls},Ud={scheme:"https",domainHost:Us.domainHost,parse:xs,serialize:Ls},zr={scheme:"ws",domainHost:!0,parse:Fd,serialize:zd},Kd={scheme:"wss",domainHost:zr.domainHost,parse:zr.parse,serialize:zr.serialize},Jd={scheme:"urn",parse:Vd,serialize:qd,skipNormalize:!0},Hd={scheme:"urn:uuid",parse:xd,serialize:Ld,skipNormalize:!0},na={http:Us,https:Ud,ws:zr,wss:Kd,urn:Jd,"urn:uuid":Hd};var Gd=na;const{normalizeIPv6:Bd,normalizeIPv4:Wd,removeDotSegments:ir,recomposeAuthority:Zd,normalizeComponentEncoding:Nr}=Cd,aa=Gd;function Xd(t,e){return typeof t=="string"?t=Qe(it(t,e),e):typeof t=="object"&&(t=it(Qe(t,e),e)),t}function Yd(t,e,r){const n=Object.assign({scheme:"null"},r),a=Ks(it(t,n),it(e,n),n,!0);return Qe(a,{...n,skipEscape:!0})}function Ks(t,e,r,n){const a={};return n||(t=it(Qe(t,r),r),e=it(Qe(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(a.scheme=e.scheme,a.userinfo=e.userinfo,a.host=e.host,a.port=e.port,a.path=ir(e.path||""),a.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(a.userinfo=e.userinfo,a.host=e.host,a.port=e.port,a.path=ir(e.path||""),a.query=e.query):(e.path?(e.path.charAt(0)==="/"?a.path=ir(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?a.path="/"+e.path:t.path?a.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:a.path=e.path,a.path=ir(a.path)),a.query=e.query):(a.path=t.path,e.query!==void 0?a.query=e.query:a.query=t.query),a.userinfo=t.userinfo,a.host=t.host,a.port=t.port),a.scheme=t.scheme),a.fragment=e.fragment,a}function Qd(t,e,r){return typeof t=="string"?(t=unescape(t),t=Qe(Nr(it(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Qe(Nr(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=Qe(Nr(it(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Qe(Nr(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function Qe(t,e){const r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),a=[],i=aa[(n.scheme||r.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&a.push(r.scheme,":");const s=Zd(r,n);if(s!==void 0&&(n.reference!=="suffix"&&a.push("//"),a.push(s),r.path&&r.path.charAt(0)!=="/"&&a.push("/")),r.path!==void 0){let o=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(o=ir(o)),s===void 0&&(o=o.replace(/^\/\//u,"/%2F")),a.push(o)}return r.query!==void 0&&a.push("?",r.query),r.fragment!==void 0&&a.push("#",r.fragment),a.join("")}const eu=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function tu(t){let e=0;for(let r=0,n=t.length;r<n;++r)if(e=t.charCodeAt(r),e>126||eu[e])return!0;return!1}const ru=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function it(t,e){const r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},a=t.indexOf("%")!==-1;let i=!1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);const s=t.match(ru);if(s){if(n.scheme=s[1],n.userinfo=s[3],n.host=s[4],n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=s[7],n.fragment=s[8],isNaN(n.port)&&(n.port=s[5]),n.host){const l=Wd(n.host);if(l.isIPV4===!1){const c=Bd(l.host,{isIPV4:!1});n.host=c.host.toLowerCase(),i=c.isIPV6}else n.host=l.host,i=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const o=aa[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&i===!1&&tu(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!o||o&&!o.skipNormalize)&&(a&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),a&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const ia={SCHEMES:aa,normalize:Xd,resolve:Yd,resolveComponents:Ks,equal:Qd,serialize:Qe,parse:it};en.exports=ia;en.exports.default=ia;en.exports.fastUri=ia;var nu=en.exports;Object.defineProperty(ra,"__esModule",{value:!0});const Js=nu;Js.code='require("ajv/dist/runtime/uri").default';ra.default=Js;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=He;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=te;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Bt,a=Nt,i=St,s=Ce,o=te,l=je,c=Se,f=K,h=Sd,g=ra,y=(x,S)=>new RegExp(x,S);y.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function E(x){var S,C,w,u,p,k,H,B,ne,se,de,Ve,Ue,oe,ge,Pe,qe,ot,Ne,Ze,Ot,Qt,At,Tt,Mt;const vt=x.strict,er=(S=x.code)===null||S===void 0?void 0:S.optimize,Pr=er===!0||er===void 0?1:er||0,kr=(w=(C=x.code)===null||C===void 0?void 0:C.regExp)!==null&&w!==void 0?w:y,Ir=(u=x.uriResolver)!==null&&u!==void 0?u:g.default;return{strictSchema:(k=(p=x.strictSchema)!==null&&p!==void 0?p:vt)!==null&&k!==void 0?k:!0,strictNumbers:(B=(H=x.strictNumbers)!==null&&H!==void 0?H:vt)!==null&&B!==void 0?B:!0,strictTypes:(se=(ne=x.strictTypes)!==null&&ne!==void 0?ne:vt)!==null&&se!==void 0?se:"log",strictTuples:(Ve=(de=x.strictTuples)!==null&&de!==void 0?de:vt)!==null&&Ve!==void 0?Ve:"log",strictRequired:(oe=(Ue=x.strictRequired)!==null&&Ue!==void 0?Ue:vt)!==null&&oe!==void 0?oe:!1,code:x.code?{...x.code,optimize:Pr,regExp:kr}:{optimize:Pr,regExp:kr},loopRequired:(ge=x.loopRequired)!==null&&ge!==void 0?ge:_,loopEnum:(Pe=x.loopEnum)!==null&&Pe!==void 0?Pe:_,meta:(qe=x.meta)!==null&&qe!==void 0?qe:!0,messages:(ot=x.messages)!==null&&ot!==void 0?ot:!0,inlineRefs:(Ne=x.inlineRefs)!==null&&Ne!==void 0?Ne:!0,schemaId:(Ze=x.schemaId)!==null&&Ze!==void 0?Ze:"$id",addUsedSchema:(Ot=x.addUsedSchema)!==null&&Ot!==void 0?Ot:!0,validateSchema:(Qt=x.validateSchema)!==null&&Qt!==void 0?Qt:!0,validateFormats:(At=x.validateFormats)!==null&&At!==void 0?At:!0,unicodeRegExp:(Tt=x.unicodeRegExp)!==null&&Tt!==void 0?Tt:!0,int32range:(Mt=x.int32range)!==null&&Mt!==void 0?Mt:!0,uriResolver:Ir}}class P{constructor(S={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,S=this.opts={...S,...E(S)};const{es5:C,lines:w}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:$,es5:C,lines:w}),this.logger=O(S.logger);const u=S.validateFormats;S.validateFormats=!1,this.RULES=(0,i.getRules)(),I.call(this,m,S,"NOT SUPPORTED"),I.call(this,d,S,"DEPRECATED","warn"),this._metaOpts=G.call(this),S.formats&&q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),S.keywords&&z.call(this,S.keywords),typeof S.meta=="object"&&this.addMetaSchema(S.meta),F.call(this),S.validateFormats=u}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:S,meta:C,schemaId:w}=this.opts;let u=h;w==="id"&&(u={...h},u.id=u.$id,delete u.$id),C&&S&&this.addMetaSchema(u,u[w],!1)}defaultMeta(){const{meta:S,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof S=="object"?S[C]||S:void 0}validate(S,C){let w;if(typeof S=="string"){if(w=this.getSchema(S),!w)throw new Error(`no schema with key or ref "${S}"`)}else w=this.compile(S);const u=w(C);return"$async"in w||(this.errors=w.errors),u}compile(S,C){const w=this._addSchema(S,C);return w.validate||this._compileSchemaEnv(w)}compileAsync(S,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:w}=this.opts;return u.call(this,S,C);async function u(se,de){await p.call(this,se.$schema);const Ve=this._addSchema(se,de);return Ve.validate||k.call(this,Ve)}async function p(se){se&&!this.getSchema(se)&&await u.call(this,{$ref:se},!0)}async function k(se){try{return this._compileSchemaEnv(se)}catch(de){if(!(de instanceof a.default))throw de;return H.call(this,de),await B.call(this,de.missingSchema),k.call(this,se)}}function H({missingSchema:se,missingRef:de}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${de} cannot be resolved`)}async function B(se){const de=await ne.call(this,se);this.refs[se]||await p.call(this,de.$schema),this.refs[se]||this.addSchema(de,se,C)}async function ne(se){const de=this._loading[se];if(de)return de;try{return await(this._loading[se]=w(se))}finally{delete this._loading[se]}}}addSchema(S,C,w,u=this.opts.validateSchema){if(Array.isArray(S)){for(const k of S)this.addSchema(k,void 0,w,u);return this}let p;if(typeof S=="object"){const{schemaId:k}=this.opts;if(p=S[k],p!==void 0&&typeof p!="string")throw new Error(`schema ${k} must be string`)}return C=(0,l.normalizeId)(C||p),this._checkUnique(C),this.schemas[C]=this._addSchema(S,w,C,u,!0),this}addMetaSchema(S,C,w=this.opts.validateSchema){return this.addSchema(S,C,!0,w),this}validateSchema(S,C){if(typeof S=="boolean")return!0;let w;if(w=S.$schema,w!==void 0&&typeof w!="string")throw new Error("$schema must be a string");if(w=w||this.opts.defaultMeta||this.defaultMeta(),!w)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const u=this.validate(w,S);if(!u&&C){const p="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(p);else throw new Error(p)}return u}getSchema(S){let C;for(;typeof(C=T.call(this,S))=="string";)S=C;if(C===void 0){const{schemaId:w}=this.opts,u=new s.SchemaEnv({schema:{},schemaId:w});if(C=s.resolveSchema.call(this,u,S),!C)return;this.refs[S]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(S){if(S instanceof RegExp)return this._removeAllSchemas(this.schemas,S),this._removeAllSchemas(this.refs,S),this;switch(typeof S){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=T.call(this,S);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[S],delete this.refs[S],this}case"object":{const C=S;this._cache.delete(C);let w=S[this.opts.schemaId];return w&&(w=(0,l.normalizeId)(w),delete this.schemas[w],delete this.refs[w]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(S){for(const C of S)this.addKeyword(C);return this}addKeyword(S,C){let w;if(typeof S=="string")w=S,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=w);else if(typeof S=="object"&&C===void 0){if(C=S,w=C.keyword,Array.isArray(w)&&!w.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(D.call(this,w,C),!C)return(0,f.eachItem)(w,p=>U.call(this,p)),this;re.call(this,C);const u={...C,type:(0,c.getJSONTypes)(C.type),schemaType:(0,c.getJSONTypes)(C.schemaType)};return(0,f.eachItem)(w,u.type.length===0?p=>U.call(this,p,u):p=>u.type.forEach(k=>U.call(this,p,u,k))),this}getKeyword(S){const C=this.RULES.all[S];return typeof C=="object"?C.definition:!!C}removeKeyword(S){const{RULES:C}=this;delete C.keywords[S],delete C.all[S];for(const w of C.rules){const u=w.rules.findIndex(p=>p.keyword===S);u>=0&&w.rules.splice(u,1)}return this}addFormat(S,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[S]=C,this}errorsText(S=this.errors,{separator:C=", ",dataVar:w="data"}={}){return!S||S.length===0?"No errors":S.map(u=>`${w}${u.instancePath} ${u.message}`).reduce((u,p)=>u+C+p)}$dataMetaSchema(S,C){const w=this.RULES.all;S=JSON.parse(JSON.stringify(S));for(const u of C){const p=u.split("/").slice(1);let k=S;for(const H of p)k=k[H];for(const H in w){const B=w[H];if(typeof B!="object")continue;const{$data:ne}=B.definition,se=k[H];ne&&se&&(k[H]=ue(se))}}return S}_removeAllSchemas(S,C){for(const w in S){const u=S[w];(!C||C.test(w))&&(typeof u=="string"?delete S[w]:u&&!u.meta&&(this._cache.delete(u.schema),delete S[w]))}}_addSchema(S,C,w,u=this.opts.validateSchema,p=this.opts.addUsedSchema){let k;const{schemaId:H}=this.opts;if(typeof S=="object")k=S[H];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof S!="boolean")throw new Error("schema must be object or boolean")}let B=this._cache.get(S);if(B!==void 0)return B;w=(0,l.normalizeId)(k||w);const ne=l.getSchemaRefs.call(this,S,w);return B=new s.SchemaEnv({schema:S,schemaId:H,meta:C,baseId:w,localRefs:ne}),this._cache.set(B.schema,B),p&&!w.startsWith("#")&&(w&&this._checkUnique(w),this.refs[w]=B),u&&this.validateSchema(S,!0),B}_checkUnique(S){if(this.schemas[S]||this.refs[S])throw new Error(`schema with key or id "${S}" already exists`)}_compileSchemaEnv(S){if(S.meta?this._compileMetaSchema(S):s.compileSchema.call(this,S),!S.validate)throw new Error("ajv implementation error");return S.validate}_compileMetaSchema(S){const C=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,S)}finally{this.opts=C}}}P.ValidationError=n.default,P.MissingRefError=a.default,t.default=P;function I(x,S,C,w="error"){for(const u in x){const p=u;p in S&&this.logger[w](`${C}: option ${u}. ${x[p]}`)}}function T(x){return x=(0,l.normalizeId)(x),this.schemas[x]||this.refs[x]}function F(){const x=this.opts.schemas;if(x)if(Array.isArray(x))this.addSchema(x);else for(const S in x)this.addSchema(x[S],S)}function q(){for(const x in this.opts.formats){const S=this.opts.formats[x];S&&this.addFormat(x,S)}}function z(x){if(Array.isArray(x)){this.addVocabulary(x);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const S in x){const C=x[S];C.keyword||(C.keyword=S),this.addKeyword(C)}}function G(){const x={...this.opts};for(const S of b)delete x[S];return x}const R={log(){},warn(){},error(){}};function O(x){if(x===!1)return R;if(x===void 0)return console;if(x.log&&x.warn&&x.error)return x;throw new Error("logger must implement log, warn and error methods")}const M=/^[a-z_$][a-z0-9_$:-]*$/i;function D(x,S){const{RULES:C}=this;if((0,f.eachItem)(x,w=>{if(C.keywords[w])throw new Error(`Keyword ${w} is already defined`);if(!M.test(w))throw new Error(`Keyword ${w} has invalid name`)}),!!S&&S.$data&&!("code"in S||"validate"in S))throw new Error('$data keyword must have "code" or "validate" function')}function U(x,S,C){var w;const u=S==null?void 0:S.post;if(C&&u)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:p}=this;let k=u?p.post:p.rules.find(({type:B})=>B===C);if(k||(k={type:C,rules:[]},p.rules.push(k)),p.keywords[x]=!0,!S)return;const H={keyword:x,definition:{...S,type:(0,c.getJSONTypes)(S.type),schemaType:(0,c.getJSONTypes)(S.schemaType)}};S.before?Y.call(this,k,H,S.before):k.rules.push(H),p.all[x]=H,(w=S.implements)===null||w===void 0||w.forEach(B=>this.addKeyword(B))}function Y(x,S,C){const w=x.rules.findIndex(u=>u.keyword===C);w>=0?x.rules.splice(w,0,S):(x.rules.push(S),this.logger.warn(`rule ${C} is not defined`))}function re(x){let{metaSchema:S}=x;S!==void 0&&(x.$data&&this.opts.$data&&(S=ue(S)),x.validateSchema=this.compile(S,!0))}const me={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ue(x){return{anyOf:[x,me]}}})(Jn);var sa={},tn={},oa={};Object.defineProperty(oa,"__esModule",{value:!0});const au={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};oa.default=au;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.callRef=st.getValidate=void 0;const iu=Nt,vi=le,Fe=te,Rt=Le,yi=Ce,Or=K,su={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:a,schemaEnv:i,validateName:s,opts:o,self:l}=n,{root:c}=i;if((r==="#"||r==="#/")&&a===c.baseId)return h();const f=yi.resolveRef.call(l,c,a,r);if(f===void 0)throw new iu.default(n.opts.uriResolver,a,r);if(f instanceof yi.SchemaEnv)return g(f);return y(f);function h(){if(i===c)return Vr(t,s,i,i.$async);const b=e.scopeValue("root",{ref:c});return Vr(t,(0,Fe._)`${b}.validate`,c,c.$async)}function g(b){const $=Hs(t,b);Vr(t,$,b,b.$async)}function y(b){const $=e.scopeValue("schema",o.code.source===!0?{ref:b,code:(0,Fe.stringify)(b)}:{ref:b}),m=e.name("valid"),d=t.subschema({schema:b,dataTypes:[],schemaPath:Fe.nil,topSchemaRef:$,errSchemaPath:r},m);t.mergeEvaluated(d),t.ok(m)}}};function Hs(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Fe._)`${r.scopeValue("wrapper",{ref:e})}.validate`}st.getValidate=Hs;function Vr(t,e,r,n){const{gen:a,it:i}=t,{allErrors:s,schemaEnv:o,opts:l}=i,c=l.passContext?Rt.default.this:Fe.nil;n?f():h();function f(){if(!o.$async)throw new Error("async schema referenced by sync schema");const b=a.let("valid");a.try(()=>{a.code((0,Fe._)`await ${(0,vi.callValidateCode)(t,e,c)}`),y(e),s||a.assign(b,!0)},$=>{a.if((0,Fe._)`!(${$} instanceof ${i.ValidationError})`,()=>a.throw($)),g($),s||a.assign(b,!1)}),t.ok(b)}function h(){t.result((0,vi.callValidateCode)(t,e,c),()=>y(e),()=>g(e))}function g(b){const $=(0,Fe._)`${b}.errors`;a.assign(Rt.default.vErrors,(0,Fe._)`${Rt.default.vErrors} === null ? ${$} : ${Rt.default.vErrors}.concat(${$})`),a.assign(Rt.default.errors,(0,Fe._)`${Rt.default.vErrors}.length`)}function y(b){var $;if(!i.opts.unevaluated)return;const m=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(i.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(i.props=Or.mergeEvaluated.props(a,m.props,i.props));else{const d=a.var("props",(0,Fe._)`${b}.evaluated.props`);i.props=Or.mergeEvaluated.props(a,d,i.props,Fe.Name)}if(i.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(i.items=Or.mergeEvaluated.items(a,m.items,i.items));else{const d=a.var("items",(0,Fe._)`${b}.evaluated.items`);i.items=Or.mergeEvaluated.items(a,d,i.items,Fe.Name)}}}st.callRef=Vr;st.default=su;Object.defineProperty(tn,"__esModule",{value:!0});const ou=oa,lu=st,cu=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ou.default,lu.default];tn.default=cu;var rn={},la={};Object.defineProperty(la,"__esModule",{value:!0});const Gr=te,dt=Gr.operators,Br={maximum:{okStr:"<=",ok:dt.LTE,fail:dt.GT},minimum:{okStr:">=",ok:dt.GTE,fail:dt.LT},exclusiveMaximum:{okStr:"<",ok:dt.LT,fail:dt.GTE},exclusiveMinimum:{okStr:">",ok:dt.GT,fail:dt.LTE}},du={message:({keyword:t,schemaCode:e})=>(0,Gr.str)`must be ${Br[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Gr._)`{comparison: ${Br[t].okStr}, limit: ${e}}`},uu={keyword:Object.keys(Br),type:"number",schemaType:"number",$data:!0,error:du,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Gr._)`${r} ${Br[e].fail} ${n} || isNaN(${r})`)}};la.default=uu;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});const ur=te,fu={message:({schemaCode:t})=>(0,ur.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,ur._)`{multipleOf: ${t}}`},mu={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:fu,code(t){const{gen:e,data:r,schemaCode:n,it:a}=t,i=a.opts.multipleOfPrecision,s=e.let("res"),o=i?(0,ur._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${i}`:(0,ur._)`${s} !== parseInt(${s})`;t.fail$data((0,ur._)`(${n} === 0 || (${s} = ${r}/${n}, ${o}))`)}};ca.default=mu;var da={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});function Gs(t){const e=t.length;let r=0,n=0,a;for(;n<e;)r++,a=t.charCodeAt(n++),a>=55296&&a<=56319&&n<e&&(a=t.charCodeAt(n),(a&64512)===56320&&n++);return r}ua.default=Gs;Gs.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(da,"__esModule",{value:!0});const bt=te,hu=K,pu=ua,vu={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,bt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,bt._)`{limit: ${t}}`},yu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:vu,code(t){const{keyword:e,data:r,schemaCode:n,it:a}=t,i=e==="maxLength"?bt.operators.GT:bt.operators.LT,s=a.opts.unicode===!1?(0,bt._)`${r}.length`:(0,bt._)`${(0,hu.useFunc)(t.gen,pu.default)}(${r})`;t.fail$data((0,bt._)`${s} ${i} ${n}`)}};da.default=yu;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});const gu=le,_u=K,zt=te,bu={message:({schemaCode:t})=>(0,zt.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,zt._)`{pattern: ${t}}`},$u={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:bu,code(t){const{gen:e,data:r,$data:n,schema:a,schemaCode:i,it:s}=t,o=s.opts.unicodeRegExp?"u":"";if(n){const{regExp:l}=s.opts.code,c=l.code==="new RegExp"?(0,zt._)`new RegExp`:(0,_u.useFunc)(e,l),f=e.let("valid");e.try(()=>e.assign(f,(0,zt._)`${c}(${i}, ${o}).test(${r})`),()=>e.assign(f,!1)),t.fail$data((0,zt._)`!${f}`)}else{const l=(0,gu.usePattern)(t,a);t.fail$data((0,zt._)`!${l}.test(${r})`)}}};fa.default=$u;var ma={};Object.defineProperty(ma,"__esModule",{value:!0});const fr=te,Eu={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,fr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,fr._)`{limit: ${t}}`},wu={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Eu,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxProperties"?fr.operators.GT:fr.operators.LT;t.fail$data((0,fr._)`Object.keys(${r}).length ${a} ${n}`)}};ma.default=wu;var ha={};Object.defineProperty(ha,"__esModule",{value:!0});const nr=le,mr=te,Su=K,Pu={message:({params:{missingProperty:t}})=>(0,mr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,mr._)`{missingProperty: ${t}}`},ku={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Pu,code(t){const{gen:e,schema:r,schemaCode:n,data:a,$data:i,it:s}=t,{opts:o}=s;if(!i&&r.length===0)return;const l=r.length>=o.loopRequired;if(s.allErrors?c():f(),o.strictRequired){const y=t.parentSchema.properties,{definedProperties:b}=t.it;for(const $ of r)if((y==null?void 0:y[$])===void 0&&!b.has($)){const m=s.schemaEnv.baseId+s.errSchemaPath,d=`required property "${$}" is not defined at "${m}" (strictRequired)`;(0,Su.checkStrictMode)(s,d,s.opts.strictRequired)}}function c(){if(l||i)t.block$data(mr.nil,h);else for(const y of r)(0,nr.checkReportMissingProp)(t,y)}function f(){const y=e.let("missing");if(l||i){const b=e.let("valid",!0);t.block$data(b,()=>g(y,b)),t.ok(b)}else e.if((0,nr.checkMissingProp)(t,r,y)),(0,nr.reportMissingProp)(t,y),e.else()}function h(){e.forOf("prop",n,y=>{t.setParams({missingProperty:y}),e.if((0,nr.noPropertyInData)(e,a,y,o.ownProperties),()=>t.error())})}function g(y,b){t.setParams({missingProperty:y}),e.forOf(y,n,()=>{e.assign(b,(0,nr.propertyInData)(e,a,y,o.ownProperties)),e.if((0,mr.not)(b),()=>{t.error(),e.break()})},mr.nil)}}};ha.default=ku;var pa={};Object.defineProperty(pa,"__esModule",{value:!0});const hr=te,Iu={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,hr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,hr._)`{limit: ${t}}`},ju={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Iu,code(t){const{keyword:e,data:r,schemaCode:n}=t,a=e==="maxItems"?hr.operators.GT:hr.operators.LT;t.fail$data((0,hr._)`${r}.length ${a} ${n}`)}};pa.default=ju;var va={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});const Bs=bs;Bs.code='require("ajv/dist/runtime/equal").default';Er.default=Bs;Object.defineProperty(va,"__esModule",{value:!0});const En=Se,Ie=te,Nu=K,Ou=Er,Au={message:({params:{i:t,j:e}})=>(0,Ie.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Ie._)`{i: ${t}, j: ${e}}`},Tu={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Au,code(t){const{gen:e,data:r,$data:n,schema:a,parentSchema:i,schemaCode:s,it:o}=t;if(!n&&!a)return;const l=e.let("valid"),c=i.items?(0,En.getSchemaTypes)(i.items):[];t.block$data(l,f,(0,Ie._)`${s} === false`),t.ok(l);function f(){const b=e.let("i",(0,Ie._)`${r}.length`),$=e.let("j");t.setParams({i:b,j:$}),e.assign(l,!0),e.if((0,Ie._)`${b} > 1`,()=>(h()?g:y)(b,$))}function h(){return c.length>0&&!c.some(b=>b==="object"||b==="array")}function g(b,$){const m=e.name("item"),d=(0,En.checkDataTypes)(c,m,o.opts.strictNumbers,En.DataType.Wrong),_=e.const("indices",(0,Ie._)`{}`);e.for((0,Ie._)`;${b}--;`,()=>{e.let(m,(0,Ie._)`${r}[${b}]`),e.if(d,(0,Ie._)`continue`),c.length>1&&e.if((0,Ie._)`typeof ${m} == "string"`,(0,Ie._)`${m} += "_"`),e.if((0,Ie._)`typeof ${_}[${m}] == "number"`,()=>{e.assign($,(0,Ie._)`${_}[${m}]`),t.error(),e.assign(l,!1).break()}).code((0,Ie._)`${_}[${m}] = ${b}`)})}function y(b,$){const m=(0,Nu.useFunc)(e,Ou.default),d=e.name("outer");e.label(d).for((0,Ie._)`;${b}--;`,()=>e.for((0,Ie._)`${$} = ${b}; ${$}--;`,()=>e.if((0,Ie._)`${m}(${r}[${b}], ${r}[${$}])`,()=>{t.error(),e.assign(l,!1).break(d)})))}}};va.default=Tu;var ya={};Object.defineProperty(ya,"__esModule",{value:!0});const Mn=te,Mu=K,Cu=Er,Ru={message:"must be equal to constant",params:({schemaCode:t})=>(0,Mn._)`{allowedValue: ${t}}`},Du={keyword:"const",$data:!0,error:Ru,code(t){const{gen:e,data:r,$data:n,schemaCode:a,schema:i}=t;n||i&&typeof i=="object"?t.fail$data((0,Mn._)`!${(0,Mu.useFunc)(e,Cu.default)}(${r}, ${a})`):t.fail((0,Mn._)`${i} !== ${r}`)}};ya.default=Du;var ga={};Object.defineProperty(ga,"__esModule",{value:!0});const sr=te,Fu=K,zu=Er,Vu={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,sr._)`{allowedValues: ${t}}`},qu={keyword:"enum",schemaType:"array",$data:!0,error:Vu,code(t){const{gen:e,data:r,$data:n,schema:a,schemaCode:i,it:s}=t;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=s.opts.loopEnum;let l;const c=()=>l??(l=(0,Fu.useFunc)(e,zu.default));let f;if(o||n)f=e.let("valid"),t.block$data(f,h);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const y=e.const("vSchema",i);f=(0,sr.or)(...a.map((b,$)=>g(y,$)))}t.pass(f);function h(){e.assign(f,!1),e.forOf("v",i,y=>e.if((0,sr._)`${c()}(${r}, ${y})`,()=>e.assign(f,!0).break()))}function g(y,b){const $=a[b];return typeof $=="object"&&$!==null?(0,sr._)`${c()}(${r}, ${y}[${b}])`:(0,sr._)`${r} === ${$}`}}};ga.default=qu;Object.defineProperty(rn,"__esModule",{value:!0});const xu=la,Lu=ca,Uu=da,Ku=fa,Ju=ma,Hu=ha,Gu=pa,Bu=va,Wu=ya,Zu=ga,Xu=[xu.default,Lu.default,Uu.default,Ku.default,Ju.default,Hu.default,Gu.default,Bu.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Wu.default,Zu.default];rn.default=Xu;var nn={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.validateAdditionalItems=void 0;const $t=te,Cn=K,Yu={message:({params:{len:t}})=>(0,$t.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,$t._)`{limit: ${t}}`},Qu={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Yu,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,Cn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ws(t,n)}};function Ws(t,e){const{gen:r,schema:n,data:a,keyword:i,it:s}=t;s.items=!0;const o=r.const("len",(0,$t._)`${a}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,$t._)`${o} <= ${e.length}`);else if(typeof n=="object"&&!(0,Cn.alwaysValidSchema)(s,n)){const c=r.var("valid",(0,$t._)`${o} <= ${e.length}`);r.if((0,$t.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,o,f=>{t.subschema({keyword:i,dataProp:f,dataPropType:Cn.Type.Num},c),s.allErrors||r.if((0,$t.not)(c),()=>r.break())})}}Wt.validateAdditionalItems=Ws;Wt.default=Qu;var _a={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.validateTuple=void 0;const gi=te,qr=K,ef=le,tf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Zs(t,"additionalItems",e);r.items=!0,!(0,qr.alwaysValidSchema)(r,e)&&t.ok((0,ef.validateArray)(t))}};function Zs(t,e,r=t.schema){const{gen:n,parentSchema:a,data:i,keyword:s,it:o}=t;f(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=qr.mergeEvaluated.items(n,r.length,o.items));const l=n.name("valid"),c=n.const("len",(0,gi._)`${i}.length`);r.forEach((h,g)=>{(0,qr.alwaysValidSchema)(o,h)||(n.if((0,gi._)`${c} > ${g}`,()=>t.subschema({keyword:s,schemaProp:g,dataProp:g},l)),t.ok(l))});function f(h){const{opts:g,errSchemaPath:y}=o,b=r.length,$=b===h.minItems&&(b===h.maxItems||h[e]===!1);if(g.strictTuples&&!$){const m=`"${s}" is ${b}-tuple, but minItems or maxItems/${e} are not specified or different at path "${y}"`;(0,qr.checkStrictMode)(o,m,g.strictTuples)}}}Zt.validateTuple=Zs;Zt.default=tf;Object.defineProperty(_a,"__esModule",{value:!0});const rf=Zt,nf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,rf.validateTuple)(t,"items")};_a.default=nf;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});const _i=te,af=K,sf=le,of=Wt,lf={message:({params:{len:t}})=>(0,_i.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,_i._)`{limit: ${t}}`},cf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:lf,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:a}=r;n.items=!0,!(0,af.alwaysValidSchema)(n,e)&&(a?(0,of.validateAdditionalItems)(t,a):t.ok((0,sf.validateArray)(t)))}};ba.default=cf;var $a={};Object.defineProperty($a,"__esModule",{value:!0});const Ke=te,Ar=K,df={message:({params:{min:t,max:e}})=>e===void 0?(0,Ke.str)`must contain at least ${t} valid item(s)`:(0,Ke.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Ke._)`{minContains: ${t}}`:(0,Ke._)`{minContains: ${t}, maxContains: ${e}}`},uf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:df,code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:i}=t;let s,o;const{minContains:l,maxContains:c}=n;i.opts.next?(s=l===void 0?1:l,o=c):s=1;const f=e.const("len",(0,Ke._)`${a}.length`);if(t.setParams({min:s,max:o}),o===void 0&&s===0){(0,Ar.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&s>o){(0,Ar.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Ar.alwaysValidSchema)(i,r)){let $=(0,Ke._)`${f} >= ${s}`;o!==void 0&&($=(0,Ke._)`${$} && ${f} <= ${o}`),t.pass($);return}i.items=!0;const h=e.name("valid");o===void 0&&s===1?y(h,()=>e.if(h,()=>e.break())):s===0?(e.let(h,!0),o!==void 0&&e.if((0,Ke._)`${a}.length > 0`,g)):(e.let(h,!1),g()),t.result(h,()=>t.reset());function g(){const $=e.name("_valid"),m=e.let("count",0);y($,()=>e.if($,()=>b(m)))}function y($,m){e.forRange("i",0,f,d=>{t.subschema({keyword:"contains",dataProp:d,dataPropType:Ar.Type.Num,compositeRule:!0},$),m()})}function b($){e.code((0,Ke._)`${$}++`),o===void 0?e.if((0,Ke._)`${$} >= ${s}`,()=>e.assign(h,!0).break()):(e.if((0,Ke._)`${$} > ${o}`,()=>e.assign(h,!1).break()),s===1?e.assign(h,!0):e.if((0,Ke._)`${$} >= ${s}`,()=>e.assign(h,!0)))}}};$a.default=uf;var an={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=te,r=K,n=le;t.error={message:({params:{property:l,depsCount:c,deps:f}})=>{const h=c===1?"property":"properties";return(0,e.str)`must have ${h} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:f,missingProperty:h}})=>(0,e._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${f}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,f]=i(l);s(l,c),o(l,f)}};function i({schema:l}){const c={},f={};for(const h in l){if(h==="__proto__")continue;const g=Array.isArray(l[h])?c:f;g[h]=l[h]}return[c,f]}function s(l,c=l.schema){const{gen:f,data:h,it:g}=l;if(Object.keys(c).length===0)return;const y=f.let("missing");for(const b in c){const $=c[b];if($.length===0)continue;const m=(0,n.propertyInData)(f,h,b,g.opts.ownProperties);l.setParams({property:b,depsCount:$.length,deps:$.join(", ")}),g.allErrors?f.if(m,()=>{for(const d of $)(0,n.checkReportMissingProp)(l,d)}):(f.if((0,e._)`${m} && (${(0,n.checkMissingProp)(l,$,y)})`),(0,n.reportMissingProp)(l,y),f.else())}}t.validatePropertyDeps=s;function o(l,c=l.schema){const{gen:f,data:h,keyword:g,it:y}=l,b=f.name("valid");for(const $ in c)(0,r.alwaysValidSchema)(y,c[$])||(f.if((0,n.propertyInData)(f,h,$,y.opts.ownProperties),()=>{const m=l.subschema({keyword:g,schemaProp:$},b);l.mergeValidEvaluated(m,b)},()=>f.var(b,!0)),l.ok(b))}t.validateSchemaDeps=o,t.default=a})(an);var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});const Xs=te,ff=K,mf={message:"property name must be valid",params:({params:t})=>(0,Xs._)`{propertyName: ${t.propertyName}}`},hf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:mf,code(t){const{gen:e,schema:r,data:n,it:a}=t;if((0,ff.alwaysValidSchema)(a,r))return;const i=e.name("valid");e.forIn("key",n,s=>{t.setParams({propertyName:s}),t.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},i),e.if((0,Xs.not)(i),()=>{t.error(!0),a.allErrors||e.break()})}),t.ok(i)}};Ea.default=hf;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});const Tr=le,Be=te,pf=Le,Mr=K,vf={message:"must NOT have additional properties",params:({params:t})=>(0,Be._)`{additionalProperty: ${t.additionalProperty}}`},yf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:vf,code(t){const{gen:e,schema:r,parentSchema:n,data:a,errsCount:i,it:s}=t;if(!i)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,Mr.alwaysValidSchema)(s,r))return;const c=(0,Tr.allSchemaProperties)(n.properties),f=(0,Tr.allSchemaProperties)(n.patternProperties);h(),t.ok((0,Be._)`${i} === ${pf.default.errors}`);function h(){e.forIn("key",a,m=>{!c.length&&!f.length?b(m):e.if(g(m),()=>b(m))})}function g(m){let d;if(c.length>8){const _=(0,Mr.schemaRefOrVal)(s,n.properties,"properties");d=(0,Tr.isOwnProperty)(e,_,m)}else c.length?d=(0,Be.or)(...c.map(_=>(0,Be._)`${m} === ${_}`)):d=Be.nil;return f.length&&(d=(0,Be.or)(d,...f.map(_=>(0,Be._)`${(0,Tr.usePattern)(t,_)}.test(${m})`))),(0,Be.not)(d)}function y(m){e.code((0,Be._)`delete ${a}[${m}]`)}function b(m){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){y(m);return}if(r===!1){t.setParams({additionalProperty:m}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,Mr.alwaysValidSchema)(s,r)){const d=e.name("valid");l.removeAdditional==="failing"?($(m,d,!1),e.if((0,Be.not)(d),()=>{t.reset(),y(m)})):($(m,d),o||e.if((0,Be.not)(d),()=>e.break()))}}function $(m,d,_){const E={keyword:"additionalProperties",dataProp:m,dataPropType:Mr.Type.Str};_===!1&&Object.assign(E,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(E,d)}}};sn.default=yf;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});const gf=He,bi=le,wn=K,$i=sn,_f={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:a,it:i}=t;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&$i.default.code(new gf.KeywordCxt(i,$i.default,"additionalProperties"));const s=(0,bi.allSchemaProperties)(r);for(const h of s)i.definedProperties.add(h);i.opts.unevaluated&&s.length&&i.props!==!0&&(i.props=wn.mergeEvaluated.props(e,(0,wn.toHash)(s),i.props));const o=s.filter(h=>!(0,wn.alwaysValidSchema)(i,r[h]));if(o.length===0)return;const l=e.name("valid");for(const h of o)c(h)?f(h):(e.if((0,bi.propertyInData)(e,a,h,i.opts.ownProperties)),f(h),i.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(h),t.ok(l);function c(h){return i.opts.useDefaults&&!i.compositeRule&&r[h].default!==void 0}function f(h){t.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};wa.default=_f;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});const Ei=le,Cr=te,wi=K,Si=K,bf={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:a,it:i}=t,{opts:s}=i,o=(0,Ei.allSchemaProperties)(r),l=o.filter($=>(0,wi.alwaysValidSchema)(i,r[$]));if(o.length===0||l.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;const c=s.strictSchema&&!s.allowMatchingProperties&&a.properties,f=e.name("valid");i.props!==!0&&!(i.props instanceof Cr.Name)&&(i.props=(0,Si.evaluatedPropsToName)(e,i.props));const{props:h}=i;g();function g(){for(const $ of o)c&&y($),i.allErrors?b($):(e.var(f,!0),b($),e.if(f))}function y($){for(const m in c)new RegExp($).test(m)&&(0,wi.checkStrictMode)(i,`property ${m} matches pattern ${$} (use allowMatchingProperties)`)}function b($){e.forIn("key",n,m=>{e.if((0,Cr._)`${(0,Ei.usePattern)(t,$)}.test(${m})`,()=>{const d=l.includes($);d||t.subschema({keyword:"patternProperties",schemaProp:$,dataProp:m,dataPropType:Si.Type.Str},f),i.opts.unevaluated&&h!==!0?e.assign((0,Cr._)`${h}[${m}]`,!0):!d&&!i.allErrors&&e.if((0,Cr.not)(f),()=>e.break())})})}}};Sa.default=bf;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});const $f=K,Ef={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,$f.alwaysValidSchema)(n,r)){t.fail();return}const a=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),t.failResult(a,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Pa.default=Ef;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});const wf=le,Sf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:wf.validateUnion,error:{message:"must match a schema in anyOf"}};ka.default=Sf;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});const xr=te,Pf=K,kf={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,xr._)`{passingSchemas: ${t.passing}}`},If={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:kf,code(t){const{gen:e,schema:r,parentSchema:n,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const i=r,s=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(c),t.result(s,()=>t.reset(),()=>t.error(!0));function c(){i.forEach((f,h)=>{let g;(0,Pf.alwaysValidSchema)(a,f)?e.var(l,!0):g=t.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&e.if((0,xr._)`${l} && ${s}`).assign(s,!1).assign(o,(0,xr._)`[${o}, ${h}]`).else(),e.if(l,()=>{e.assign(s,!0),e.assign(o,h),g&&t.mergeEvaluated(g,xr.Name)})})}}};Ia.default=If;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});const jf=K,Nf={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=e.name("valid");r.forEach((i,s)=>{if((0,jf.alwaysValidSchema)(n,i))return;const o=t.subschema({keyword:"allOf",schemaProp:s},a);t.ok(a),t.mergeEvaluated(o)})}};ja.default=Nf;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});const Wr=te,Ys=K,Of={message:({params:t})=>(0,Wr.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Wr._)`{failingKeyword: ${t.ifClause}}`},Af={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Of,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Ys.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Pi(n,"then"),i=Pi(n,"else");if(!a&&!i)return;const s=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),a&&i){const f=e.let("ifClause");t.setParams({ifClause:f}),e.if(o,c("then",f),c("else",f))}else a?e.if(o,c("then")):e.if((0,Wr.not)(o),c("else"));t.pass(s,()=>t.error(!0));function l(){const f=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(f)}function c(f,h){return()=>{const g=t.subschema({keyword:f},o);e.assign(s,o),t.mergeValidEvaluated(g,s),h?e.assign(h,(0,Wr._)`${f}`):t.setParams({ifClause:f})}}}};function Pi(t,e){const r=t.schema[e];return r!==void 0&&!(0,Ys.alwaysValidSchema)(t,r)}Na.default=Af;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});const Tf=K,Mf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Tf.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Oa.default=Mf;Object.defineProperty(nn,"__esModule",{value:!0});const Cf=Wt,Rf=_a,Df=Zt,Ff=ba,zf=$a,Vf=an,qf=Ea,xf=sn,Lf=wa,Uf=Sa,Kf=Pa,Jf=ka,Hf=Ia,Gf=ja,Bf=Na,Wf=Oa;function Zf(t=!1){const e=[Kf.default,Jf.default,Hf.default,Gf.default,Bf.default,Wf.default,qf.default,xf.default,Vf.default,Lf.default,Uf.default];return t?e.push(Rf.default,Ff.default):e.push(Cf.default,Df.default),e.push(zf.default),e}nn.default=Zf;var on={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});const $e=te,Xf={message:({schemaCode:t})=>(0,$e.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,$e._)`{format: ${t}}`},Yf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Xf,code(t,e){const{gen:r,data:n,$data:a,schema:i,schemaCode:s,it:o}=t,{opts:l,errSchemaPath:c,schemaEnv:f,self:h}=o;if(!l.validateFormats)return;a?g():y();function g(){const b=r.scopeValue("formats",{ref:h.formats,code:l.code.formats}),$=r.const("fDef",(0,$e._)`${b}[${s}]`),m=r.let("fType"),d=r.let("format");r.if((0,$e._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(m,(0,$e._)`${$}.type || "string"`).assign(d,(0,$e._)`${$}.validate`),()=>r.assign(m,(0,$e._)`"string"`).assign(d,$)),t.fail$data((0,$e.or)(_(),E()));function _(){return l.strictSchema===!1?$e.nil:(0,$e._)`${s} && !${d}`}function E(){const P=f.$async?(0,$e._)`(${$}.async ? await ${d}(${n}) : ${d}(${n}))`:(0,$e._)`${d}(${n})`,I=(0,$e._)`(typeof ${d} == "function" ? ${P} : ${d}.test(${n}))`;return(0,$e._)`${d} && ${d} !== true && ${m} === ${e} && !${I}`}}function y(){const b=h.formats[i];if(!b){_();return}if(b===!0)return;const[$,m,d]=E(b);$===e&&t.pass(P());function _(){if(l.strictSchema===!1){h.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${i}" ignored in schema at path "${c}"`}}function E(I){const T=I instanceof RegExp?(0,$e.regexpCode)(I):l.code.formats?(0,$e._)`${l.code.formats}${(0,$e.getProperty)(i)}`:void 0,F=r.scopeValue("formats",{key:i,ref:I,code:T});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,$e._)`${F}.validate`]:["string",I,F]}function P(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!f.$async)throw new Error("async format in sync schema");return(0,$e._)`await ${d}(${n})`}return typeof m=="function"?(0,$e._)`${d}(${n})`:(0,$e._)`${d}.test(${n})`}}}};Aa.default=Yf;Object.defineProperty(on,"__esModule",{value:!0});const Qf=Aa,em=[Qf.default];on.default=em;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.contentVocabulary=Pt.metadataVocabulary=void 0;Pt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Pt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(sa,"__esModule",{value:!0});const tm=tn,rm=rn,nm=nn,am=on,ki=Pt,im=[tm.default,rm.default,(0,nm.default)(),am.default,ki.metadataVocabulary,ki.contentVocabulary];sa.default=im;var ln={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.DiscrError=void 0;var Ii;(function(t){t.Tag="tag",t.Mapping="mapping"})(Ii||(cn.DiscrError=Ii={}));Object.defineProperty(ln,"__esModule",{value:!0});const Dt=te,Rn=cn,ji=Ce,sm=Nt,om=K,lm={message:({params:{discrError:t,tagName:e}})=>t===Rn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Dt._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},cm={keyword:"discriminator",type:"object",schemaType:"object",error:lm,code(t){const{gen:e,data:r,schema:n,parentSchema:a,it:i}=t,{oneOf:s}=a;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,Dt._)`${r}${(0,Dt.getProperty)(o)}`);e.if((0,Dt._)`typeof ${c} == "string"`,()=>f(),()=>t.error(!1,{discrError:Rn.DiscrError.Tag,tag:c,tagName:o})),t.ok(l);function f(){const y=g();e.if(!1);for(const b in y)e.elseIf((0,Dt._)`${c} === ${b}`),e.assign(l,h(y[b]));e.else(),t.error(!1,{discrError:Rn.DiscrError.Mapping,tag:c,tagName:o}),e.endIf()}function h(y){const b=e.name("valid"),$=t.subschema({keyword:"oneOf",schemaProp:y},b);return t.mergeEvaluated($,Dt.Name),b}function g(){var y;const b={},$=d(a);let m=!0;for(let P=0;P<s.length;P++){let I=s[P];if(I!=null&&I.$ref&&!(0,om.schemaHasRulesButRef)(I,i.self.RULES)){const F=I.$ref;if(I=ji.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,F),I instanceof ji.SchemaEnv&&(I=I.schema),I===void 0)throw new sm.default(i.opts.uriResolver,i.baseId,F)}const T=(y=I==null?void 0:I.properties)===null||y===void 0?void 0:y[o];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);m=m&&($||d(I)),_(T,P)}if(!m)throw new Error(`discriminator: "${o}" must be required`);return b;function d({required:P}){return Array.isArray(P)&&P.includes(o)}function _(P,I){if(P.const)E(P.const,I);else if(P.enum)for(const T of P.enum)E(T,I);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function E(P,I){if(typeof P!="string"||P in b)throw new Error(`discriminator: "${o}" values must be unique strings`);b[P]=I}}}};ln.default=cm;const dm="http://json-schema.org/draft-07/schema#",um="http://json-schema.org/draft-07/schema#",fm="Core schema meta-schema",mm={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},hm=["object","boolean"],pm={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},vm={$schema:dm,$id:um,title:fm,definitions:mm,type:hm,properties:pm,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=Jn,n=sa,a=ln,i=vm,s=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(i,s):i;this.addMetaSchema(b,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=He;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var f=te;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var h=Bt;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return h.default}});var g=Nt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return g.default}})})(jn,jn.exports);var Qs=jn.exports;const ym=Kn(Qs);var Dn={exports:{}},Ta={},Ma={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.dynamicAnchor=void 0;const Sn=te,gm=Le,Ni=Ce,_m=st,bm={keyword:"$dynamicAnchor",schemaType:"string",code:t=>eo(t,t.schema)};function eo(t,e){const{gen:r,it:n}=t;n.schemaEnv.root.dynamicAnchors[e]=!0;const a=(0,Sn._)`${gm.default.dynamicAnchors}${(0,Sn.getProperty)(e)}`,i=n.errSchemaPath==="#"?n.validateName:$m(t);r.if((0,Sn._)`!${a}`,()=>r.assign(a,i))}Xt.dynamicAnchor=eo;function $m(t){const{schemaEnv:e,schema:r,self:n}=t.it,{root:a,baseId:i,localRefs:s,meta:o}=e.root,{schemaId:l}=n.opts,c=new Ni.SchemaEnv({schema:r,schemaId:l,root:a,baseId:i,localRefs:s,meta:o});return Ni.compileSchema.call(n,c),(0,_m.getValidate)(t,c)}Xt.default=bm;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.dynamicRef=void 0;const Oi=te,Em=Le,Ai=st,wm={keyword:"$dynamicRef",schemaType:"string",code:t=>to(t,t.schema)};function to(t,e){const{gen:r,keyword:n,it:a}=t;if(e[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const i=e.slice(1);if(a.allErrors)s();else{const l=r.let("valid",!1);s(l),t.ok(l)}function s(l){if(a.schemaEnv.root.dynamicAnchors[i]){const c=r.let("_v",(0,Oi._)`${Em.default.dynamicAnchors}${(0,Oi.getProperty)(i)}`);r.if(c,o(c,l),o(a.validateName,l))}else o(a.validateName,l)()}function o(l,c){return c?()=>r.block(()=>{(0,Ai.callRef)(t,l),r.let(c,!0)}):()=>(0,Ai.callRef)(t,l)}}Yt.dynamicRef=to;Yt.default=wm;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});const Sm=Xt,Pm=K,km={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,Sm.dynamicAnchor)(t,""):(0,Pm.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};Ca.default=km;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});const Im=Yt,jm={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,Im.dynamicRef)(t,t.schema)};Ra.default=jm;Object.defineProperty(Ma,"__esModule",{value:!0});const Nm=Xt,Om=Yt,Am=Ca,Tm=Ra,Mm=[Nm.default,Om.default,Am.default,Tm.default];Ma.default=Mm;var Da={},Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});const Ti=an,Cm={keyword:"dependentRequired",type:"object",schemaType:"object",error:Ti.error,code:t=>(0,Ti.validatePropertyDeps)(t)};Fa.default=Cm;var za={};Object.defineProperty(za,"__esModule",{value:!0});const Rm=an,Dm={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,Rm.validateSchemaDeps)(t)};za.default=Dm;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});const Fm=K,zm={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:r}){e.contains===void 0&&(0,Fm.checkStrictMode)(r,`"${t}" without "contains" is ignored`)}};Va.default=zm;Object.defineProperty(Da,"__esModule",{value:!0});const Vm=Fa,qm=za,xm=Va,Lm=[Vm.default,qm.default,xm.default];Da.default=Lm;var qa={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});const ut=te,Mi=K,Um=Le,Km={message:"must NOT have unevaluated properties",params:({params:t})=>(0,ut._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},Jm={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:Km,code(t){const{gen:e,schema:r,data:n,errsCount:a,it:i}=t;if(!a)throw new Error("ajv implementation error");const{allErrors:s,props:o}=i;o instanceof ut.Name?e.if((0,ut._)`${o} !== true`,()=>e.forIn("key",n,h=>e.if(c(o,h),()=>l(h)))):o!==!0&&e.forIn("key",n,h=>o===void 0?l(h):e.if(f(o,h),()=>l(h))),i.props=!0,t.ok((0,ut._)`${a} === ${Um.default.errors}`);function l(h){if(r===!1){t.setParams({unevaluatedProperty:h}),t.error(),s||e.break();return}if(!(0,Mi.alwaysValidSchema)(i,r)){const g=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:h,dataPropType:Mi.Type.Str},g),s||e.if((0,ut.not)(g),()=>e.break())}}function c(h,g){return(0,ut._)`!${h} || !${h}[${g}]`}function f(h,g){const y=[];for(const b in h)h[b]===!0&&y.push((0,ut._)`${g} !== ${b}`);return(0,ut.and)(...y)}}};xa.default=Jm;var La={};Object.defineProperty(La,"__esModule",{value:!0});const Et=te,Ci=K,Hm={message:({params:{len:t}})=>(0,Et.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Et._)`{limit: ${t}}`},Gm={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:Hm,code(t){const{gen:e,schema:r,data:n,it:a}=t,i=a.items||0;if(i===!0)return;const s=e.const("len",(0,Et._)`${n}.length`);if(r===!1)t.setParams({len:i}),t.fail((0,Et._)`${s} > ${i}`);else if(typeof r=="object"&&!(0,Ci.alwaysValidSchema)(a,r)){const l=e.var("valid",(0,Et._)`${s} <= ${i}`);e.if((0,Et.not)(l),()=>o(l,i)),t.ok(l)}a.items=!0;function o(l,c){e.forRange("i",c,s,f=>{t.subschema({keyword:"unevaluatedItems",dataProp:f,dataPropType:Ci.Type.Num},l),a.allErrors||e.if((0,Et.not)(l),()=>e.break())})}}};La.default=Gm;Object.defineProperty(qa,"__esModule",{value:!0});const Bm=xa,Wm=La,Zm=[Bm.default,Wm.default];qa.default=Zm;Object.defineProperty(Ta,"__esModule",{value:!0});const Xm=tn,Ym=rn,Qm=nn,eh=Ma,th=Da,rh=qa,nh=on,Ri=Pt,ah=[eh.default,Xm.default,Ym.default,(0,Qm.default)(!0),nh.default,Ri.metadataVocabulary,Ri.contentVocabulary,th.default,rh.default];Ta.default=ah;var Ua={};const ih="https://json-schema.org/draft/2020-12/schema",sh="https://json-schema.org/draft/2020-12/schema",oh={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},lh="meta",ch="Core and Validation specifications meta-schema",dh=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],uh=["object","boolean"],fh="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",mh={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},hh={$schema:ih,$id:sh,$vocabulary:oh,$dynamicAnchor:lh,title:ch,allOf:dh,type:uh,$comment:fh,properties:mh},ph="https://json-schema.org/draft/2020-12/schema",vh="https://json-schema.org/draft/2020-12/meta/applicator",yh={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},gh="meta",_h="Applicator vocabulary meta-schema",bh=["object","boolean"],$h={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},Eh={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},wh={$schema:ph,$id:vh,$vocabulary:yh,$dynamicAnchor:gh,title:_h,type:bh,properties:$h,$defs:Eh},Sh="https://json-schema.org/draft/2020-12/schema",Ph="https://json-schema.org/draft/2020-12/meta/unevaluated",kh={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},Ih="meta",jh="Unevaluated applicator vocabulary meta-schema",Nh=["object","boolean"],Oh={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},Ah={$schema:Sh,$id:Ph,$vocabulary:kh,$dynamicAnchor:Ih,title:jh,type:Nh,properties:Oh},Th="https://json-schema.org/draft/2020-12/schema",Mh="https://json-schema.org/draft/2020-12/meta/content",Ch={"https://json-schema.org/draft/2020-12/vocab/content":!0},Rh="meta",Dh="Content vocabulary meta-schema",Fh=["object","boolean"],zh={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},Vh={$schema:Th,$id:Mh,$vocabulary:Ch,$dynamicAnchor:Rh,title:Dh,type:Fh,properties:zh},qh="https://json-schema.org/draft/2020-12/schema",xh="https://json-schema.org/draft/2020-12/meta/core",Lh={"https://json-schema.org/draft/2020-12/vocab/core":!0},Uh="meta",Kh="Core vocabulary meta-schema",Jh=["object","boolean"],Hh={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},Gh={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},Bh={$schema:qh,$id:xh,$vocabulary:Lh,$dynamicAnchor:Uh,title:Kh,type:Jh,properties:Hh,$defs:Gh},Wh="https://json-schema.org/draft/2020-12/schema",Zh="https://json-schema.org/draft/2020-12/meta/format-annotation",Xh={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},Yh="meta",Qh="Format vocabulary meta-schema for annotation results",ep=["object","boolean"],tp={format:{type:"string"}},rp={$schema:Wh,$id:Zh,$vocabulary:Xh,$dynamicAnchor:Yh,title:Qh,type:ep,properties:tp},np="https://json-schema.org/draft/2020-12/schema",ap="https://json-schema.org/draft/2020-12/meta/meta-data",ip={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},sp="meta",op="Meta-data vocabulary meta-schema",lp=["object","boolean"],cp={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},dp={$schema:np,$id:ap,$vocabulary:ip,$dynamicAnchor:sp,title:op,type:lp,properties:cp},up="https://json-schema.org/draft/2020-12/schema",fp="https://json-schema.org/draft/2020-12/meta/validation",mp={"https://json-schema.org/draft/2020-12/vocab/validation":!0},hp="meta",pp="Validation vocabulary meta-schema",vp=["object","boolean"],yp={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},gp={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},_p={$schema:up,$id:fp,$vocabulary:mp,$dynamicAnchor:hp,title:pp,type:vp,properties:yp,$defs:gp};Object.defineProperty(Ua,"__esModule",{value:!0});const bp=hh,$p=wh,Ep=Ah,wp=Vh,Sp=Bh,Pp=rp,kp=dp,Ip=_p,jp=["/properties"];function Np(t){return[bp,$p,Ep,wp,Sp,e(this,Pp),kp,e(this,Ip)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function e(r,n){return t?r.$dataMetaSchema(n,jp):n}}Ua.default=Np;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2020=void 0;const r=Jn,n=Ta,a=ln,i=Ua,s="https://json-schema.org/draft/2020-12/schema";class o extends r.default{constructor(y={}){super({...y,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:y,meta:b}=this.opts;b&&(i.default.call(this,y),this.refs["http://json-schema.org/schema"]=s)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}e.Ajv2020=o,t.exports=e=o,t.exports.Ajv2020=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var l=He;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=te;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=Bt;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var h=Nt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Dn,Dn.exports);var Op=Dn.exports;const Ap=Kn(Op);var Fn={exports:{}},ro={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(R,O){return{validate:R,compare:O}}t.fullFormats={date:e(i,s),time:e(l(!0),c),"date-time":e(g(!0),y),"iso-time":e(l(),f),"iso-date-time":e(g(),b),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:d,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:G,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:E,int32:{type:"number",validate:T},int64:{type:"number",validate:F},float:{type:"number",validate:q},double:{type:"number",validate:q},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,c),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,y),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,b),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(R){return R%4===0&&(R%100!==0||R%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(R){const O=n.exec(R);if(!O)return!1;const M=+O[1],D=+O[2],U=+O[3];return D>=1&&D<=12&&U>=1&&U<=(D===2&&r(M)?29:a[D])}function s(R,O){if(R&&O)return R>O?1:R<O?-1:0}const o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(R){return function(M){const D=o.exec(M);if(!D)return!1;const U=+D[1],Y=+D[2],re=+D[3],me=D[4],ue=D[5]==="-"?-1:1,x=+(D[6]||0),S=+(D[7]||0);if(x>23||S>59||R&&!me)return!1;if(U<=23&&Y<=59&&re<60)return!0;const C=Y-S*ue,w=U-x*ue-(C<0?1:0);return(w===23||w===-1)&&(C===59||C===-1)&&re<61}}function c(R,O){if(!(R&&O))return;const M=new Date("2020-01-01T"+R).valueOf(),D=new Date("2020-01-01T"+O).valueOf();if(M&&D)return M-D}function f(R,O){if(!(R&&O))return;const M=o.exec(R),D=o.exec(O);if(M&&D)return R=M[1]+M[2]+M[3],O=D[1]+D[2]+D[3],R>O?1:R<O?-1:0}const h=/t|\s/i;function g(R){const O=l(R);return function(D){const U=D.split(h);return U.length===2&&i(U[0])&&O(U[1])}}function y(R,O){if(!(R&&O))return;const M=new Date(R).valueOf(),D=new Date(O).valueOf();if(M&&D)return M-D}function b(R,O){if(!(R&&O))return;const[M,D]=R.split(h),[U,Y]=O.split(h),re=s(M,U);if(re!==void 0)return re||c(D,Y)}const $=/\/|:/,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function d(R){return $.test(R)&&m.test(R)}const _=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function E(R){return _.lastIndex=0,_.test(R)}const P=-2147483648,I=2**31-1;function T(R){return Number.isInteger(R)&&R<=I&&R>=P}function F(R){return Number.isInteger(R)}function q(){return!0}const z=/[^\\]\\Z/;function G(R){if(z.test(R))return!1;try{return new RegExp(R),!0}catch{return!1}}})(ro);var no={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Qs,r=te,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},i={message:({keyword:o,schemaCode:l})=>(0,r.str)`should be ${a[o].okStr} ${l}`,params:({keyword:o,schemaCode:l})=>(0,r._)`{comparison: ${a[o].okStr}, limit: ${l}}`};t.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:i,code(o){const{gen:l,data:c,schemaCode:f,keyword:h,it:g}=o,{opts:y,self:b}=g;if(!y.validateFormats)return;const $=new e.KeywordCxt(g,b.RULES.all.format.definition,"format");$.$data?m():d();function m(){const E=l.scopeValue("formats",{ref:b.formats,code:y.code.formats}),P=l.const("fmt",(0,r._)`${E}[${$.schemaCode}]`);o.fail$data((0,r.or)((0,r._)`typeof ${P} != "object"`,(0,r._)`${P} instanceof RegExp`,(0,r._)`typeof ${P}.compare != "function"`,_(P)))}function d(){const E=$.schema,P=b.formats[E];if(!P||P===!0)return;if(typeof P!="object"||P instanceof RegExp||typeof P.compare!="function")throw new Error(`"${h}": format "${E}" does not define "compare" function`);const I=l.scopeValue("formats",{key:E,ref:P,code:y.code.formats?(0,r._)`${y.code.formats}${(0,r.getProperty)(E)}`:void 0});o.fail$data(_(I))}function _(E){return(0,r._)`${E}.compare(${c}, ${f}) ${a[h].fail} 0`}},dependencies:["format"]};const s=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=s})(no);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=ro,n=no,a=te,i=new a.Name("fullFormats"),s=new a.Name("fastFormats"),o=(c,f={keywords:!0})=>{if(Array.isArray(f))return l(c,f,r.fullFormats,i),c;const[h,g]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,i],y=f.formats||r.formatNames;return l(c,y,h,g),f.keywords&&(0,n.default)(c),c};o.get=(c,f="full")=>{const g=(f==="fast"?r.fastFormats:r.fullFormats)[c];if(!g)throw new Error(`Unknown format "${c}"`);return g};function l(c,f,h,g){var y,b;(y=(b=c.opts.code).formats)!==null&&y!==void 0||(b.formats=(0,a._)`require("ajv-formats/dist/formats").${g}`);for(const $ of f)c.addFormat($,h[$])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(Fn,Fn.exports);var Tp=Fn.exports;const Mp=Kn(Tp);class yr{constructor(e,r=!1){const n={strict:!0,allErrors:r};this.ajv=e==="pydantic_v1"?new ym(n):new Ap(n),Mp(this.ajv),this.canValidate=!1}validateSchema(e){this.ajv.compile(e)}loadSchema(e){try{return this.validator=this.ajv.compile(e),this.canValidate=!0}catch(r){return console.error("SchemaValidator: error compiling schema",r),!1}}isValid(e){if(this.validator)return this.canValidate?this.validator(e):null}getErrors(){return!this.validator||!this.canValidate?null:this.validator.errors||null}}function Cp(t){try{return new yr("pydantic_v2").validateSchema(wt(t)),"pydantic_v2"}catch{return new yr("pydantic_v1").validateSchema(wt(t)),"pydantic_v1"}}function Rp(t,e){const r=[];for(const n of e)ao(n,t)||r.push(JSON.stringify(n,null,2));return r}function ao(t,e){if(zi(t,e))return!0;if(t.instancePath.startsWith(e.path)&&e.hasErrors.set(!0),e.path===t.instancePath)return Di(t,e),!0;{const r=Ka(e);for(const n of r){if(zi(t,n))return!0;if(n.path===t.instancePath)return Di(t,n),!0;if(ao(t,n))return!0}}return!1}function Di(t,e){if(e.hasErrors.set(!0),"params"in t){if("missingProperty"in t.params&&Fi(t,t.params.missingProperty,e))return;if("additionalProperty"in t.params&&Fi(t,t.params.additionalProperty,e))return}else if("selectedItem"in e&&e.selectedItem){e.selectedItem.addError(zn(t,e.selectedItem));return}e.addError(zn(t,e))}function Fi(t,e,r){const n=Ka(r);for(const a of n)if(a.key===e){const i=zn(t,a);return a.addError(i),!0}return!1}function zn(t,e){if("missingProperty"in t.params){if("children"in e&&e.children.length>0)return"missing required child value";if(Dp(e))return"required property"}return t.message}function Dp(t){return t.type&&["string","number","boolean","enum"].includes(t.type)}function zi(t,e){if("selectedItem"in e){const{oneOf:r}=e.property,n=mt(e.selectedIndex);for(let a=0;a<r.length;a++)if(a!==n){if(e.discriminator&&n>=0&&t.keyword==="const"&&"params"in t&&"allowedValue"in t.params){const{allowedValue:i}=t.params,s=e.discriminator.values[n];if(i!==s)return!0}if(t.schemaPath.startsWith(`#/properties${e.path}/oneOf/${a}`))return!0}}return!1}function Ka(t){return"children"in t?t.children:"selectedItem"in t&&t.selectedItem?Ka(t.selectedItem):[]}class Fp{constructor(e,r,n,a=[],i=void 0){if(this.schemaVersion=n,this.jsonSchema=as(e,a),this.validator=new yr(n,!0),!this.validator.loadSchema(wt(this.jsonSchema)))throw new Error("Invalid JSON Schema");this.ids=[],this.genericErrors=Ut([]),this.dataValid=Ut(!0);const o=cl(this.jsonSchema,n,i);this.onchange=r,this.notifyChange=()=>{const c=this.getFormData(),f=this.validate();this.onchange(c,f)},this.root=this.createObjectElement({key:null,path:"",property:this.jsonSchema,required:!0,removable:!1,value:o,parentProperty:void 0});const l=this.validate();this.onchange(o,l)}createFormElement(e){const{property:r}=e;if("enum"in r)return this.createEnumElement(e);if("oneOf"in r){const n=r;return this.createConditionalElement({...e,property:n})}switch(r.type){case"object":{const n=r;return e.value&&(typeof e.value!="object"||Array.isArray(e.value))?this.createInvalidElement({...e,property:n}):this.createObjectElement({...e,property:n})}case"array":{const n=r;return e.value&&!Array.isArray(e.value)?this.createInvalidElement({...e,property:n}):es(n)?this.createTupleElement({...e,property:n}):this.createArrayElement({...e,property:n})}case"number":case"integer":{const n=r;return e.value&&typeof e.value!="number"?this.createInvalidElement({...e,property:n}):this.createNumberElement({...e,property:n})}case"boolean":{const n=r;return e.value&&typeof e.value!="boolean"?this.createInvalidElement({...e,property:n}):this.createBooleanElement({...e,property:n})}default:{const n=r;return e.value&&typeof e.value=="object"?this.createInvalidElement({...e,property:n}):(e.value&&typeof e.value!="string"&&(e.value=e.value.toString()),this.createStringElement({...e,property:n}))}}}createUnexpectedElement({key:e,path:r,value:n}){const a=this.getBaseElementFields({key:e,path:r,property:{type:"unexpected"},required:!1,removable:!0});return new yl({...a,value:n})}createInvalidElement({key:e,path:r,property:n,required:a,removable:i,value:s}){const o=this.getBaseElementFields({key:e,path:r,property:n,required:a,removable:i});return new gl({...o,value:s})}createStringElement({key:e,path:r,property:n,required:a,removable:i,value:s}){const o=this.getBaseElementFields({key:e,path:r,property:n,required:a,removable:i});return new hl({...o,value:s||null})}createBooleanElement({key:e,path:r,property:n,required:a,removable:i,value:s}){const o=this.getBaseElementFields({key:e,path:r,property:n,required:a,removable:i});return new pl({...o,value:Jr(s)})}createNumberElement({key:e,path:r,property:n,required:a,removable:i,value:s}){const o=this.getBaseElementFields({key:e,path:r,property:n,required:a,removable:i});return new ri({...o,type:"number",value:Jr(s),min:sl(n),max:ol(n)})}createEnumElement({key:e,path:r,property:n,required:a,removable:i,value:s}){const o=this.getBaseElementFields({key:e,path:r,property:n,required:a,removable:i});return new vl({...o,type:"enum",value:s||null,options:n.enum})}createObjectElement({key:e,path:r,property:n,required:a,removable:i,value:s,parentProperty:o}){const l=this.getBaseElementFields({key:e,path:r,property:n,required:a,removable:i}),c=n.required||[],f=[],h=Object.entries(ts(n,s)),g=[];for(const[$,m]of h){g.push($);const d=c.includes($),_=this.createFormElement({key:$,path:`${r}/${$}`,property:m,required:d,removable:ll(n,$),value:s[$],parentProperty:n});f.push(_)}const y=this.getDiscriminatorKey(o);y&&g.push(y);for(const[$,m]of Object.entries(s))g.includes($)||f.push(this.createUnexpectedElement({key:$,path:`${r}/${$}`,value:m}));return new _l({...l,children:f,additionalProperties:n.additionalProperties||!1})}createArrayElement({key:e,path:r,property:n,required:a,removable:i,value:s}){const o=this.getBaseElementFields({key:e,path:r,property:n,required:a,removable:i}),l=n.items,c=(s||[]).map((h,g)=>this.createFormElement({key:g.toString(),path:`${r}/${g}`,property:l,required:!1,removable:!0,value:h,parentProperty:n}));return new bl({...o,children:c,items:l,minItems:n.minItems,maxItems:n.maxItems})}createTupleElement({key:e,path:r,property:n,required:a,removable:i,value:s}){const o=this.getBaseElementFields({key:e,path:r,property:n,required:a,removable:i}),l=n.minItems,c=this.schemaVersion==="pydantic_v1"?n.items:n.prefixItems;return new $l({...o,type:"tuple",items:c,size:l,children:a||Array.isArray(s)&&s.length>0?this.createTupleChildren({path:r,items:c,size:l,value:s,parentProperty:n}):[]})}createTupleChildren({path:e,items:r,size:n,value:a,parentProperty:i}){const s={required:!1,removable:!1};let o=[];if(Array.isArray(r)?o=r.map((l,c)=>this.createFormElement({...s,key:c.toString(),path:`${e}/${c}`,property:l,value:a[c],parentProperty:i})):o=Array(n).map((l,c)=>this.createFormElement({...s,key:c.toString(),path:`${e}/${c}`,property:r,value:a[c],parentProperty:i})),Array.isArray(a))for(let l=r.length;l<a.length;l++)o.push(this.createUnexpectedElement({...s,key:l.toString(),path:`${e}/${l}`,value:a[l]}));return o}createConditionalElement({key:e,path:r,property:n,required:a,removable:i,value:s}){const o=this.getBaseElementFields({key:e,path:r,property:n,required:a,removable:i}),l=s??{},c=this.getConditionalElementSelectedChildIndex(n,l),{discriminator:f,oneOfProperty:h}=this.extractDiscriminatorProperty(n,l),g=h.oneOf[c],y=[];if(c===-1)for(const[$,m]of Object.entries(s))$!==(f==null?void 0:f.key)&&y.push(this.createUnexpectedElement({key:$,path:`${r}/${$}`,value:m}));const b=c===-1?null:this.createFormElement({key:e,path:r,property:g,required:a,removable:i,value:l,parentProperty:n});return b&&(b.title=g.title||e||""),new El({...o,type:"conditional",property:h,selectedIndex:c,discriminator:f,selectedItem:b,unexpectedChildren:y})}getDiscriminatorKey(e){if(e&&"oneOf"in e&&"discriminator"in e&&e.discriminator){let r;const{propertyName:n}=e.discriminator;for(const a of e.oneOf)if(a.type==="object"&&"properties"in a&&a.properties[n]){const i=a.properties[n];if(i.type==="string"&&"const"in i){if(r!==void 0&&r!==n)return;r=n}else return}else return;return r}}extractDiscriminatorProperty(e,r){if("discriminator"in e&&e.discriminator){const{propertyName:n}=e.discriminator,a={key:n,title:"",description:"",values:[],value:r[n]};for(const i of e.oneOf)if(i.type==="object"&&"properties"in i&&i.properties[n]){const s=i.properties[n];s.type==="string"&&"const"in s&&(a.values.push(s.const),!a.title&&s.title&&(a.title=s.title),!a.description&&s.description&&(a.description=s.description))}if(e.oneOf.length>0&&e.oneOf.length===a.values.length)return a.value||(a.value=a.values[0]),{discriminator:a,oneOfProperty:{...e,oneOf:e.oneOf.map(i=>{const s={...i.properties};return delete s[n],{...i,properties:s}})}}}return{discriminator:void 0,oneOfProperty:e}}getConditionalElementSelectedChildIndex(e,r){if("discriminator"in e){const{discriminator:n}=e;if("propertyName"in n&&n.propertyName in r){const a=r[n.propertyName];if("mapping"in n&&a in n.mapping){const i=n.mapping[a];if(typeof i=="number"&&i>=0)return i}}}return r?-1:0}getBaseElementFields({key:e,path:r,property:n,required:a,removable:i}){return{key:e,path:r,required:a,removable:i,manager:this,id:this.getUniqueId(),type:"type"in n&&n.type?n.type:null,title:e&&i&&!e.match(/^\d+$/)?e:n.title||e||"",description:n.description||"",property:_r(n),notifyChange:this.notifyChange}}getUniqueId(){let e;do if(e=Math.random().toString(36).substring(7),!this.ids.includes(e)){this.ids.push(e);break}while(!0);return e}getFormData(){return this.getDataFromObjectElement(this.root)}getDataFromObjectElement(e){const r={};for(const n of e.children){let a=this.getDataFromElement(n);const i=a==null?null:typeof a=="object"&&"subscribe"in a&&typeof a=="function"?mt(a):a;r[n.key]=i}return r}getDataFromConditionalElement(e){const r=e.selectedItem;if(r){const n=this.getDataFromElement(r);if(e.discriminator){const{key:a}=e.discriminator;n[a]=e.discriminator.values[mt(e.selectedIndex)]}return n}if(e.discriminator){const n={[e.discriminator.key]:e.discriminator.value};for(const a of e.unexpectedChildren)n[a.key]=this.getDataFromElement(a);return n}return null}validate(){this.clearErrors(this.root);const e=Un(this.getFormData()),r=this.validator.isValid(e),n=[];if(!r){const a=this.validator.getErrors();a&&Array.isArray(a)&&n.push(...Rp(this.root,a))}return this.genericErrors.set(n),this.dataValid.set(r),r}clearErrors(e){if(e.clearErrors(),"selectedItem"in e&&e.selectedItem)this.clearErrors(e.selectedItem);else if("children"in e)for(const r of e.children)this.clearErrors(r)}getDataFromElement(e){switch(e.type){case"object":return this.getDataFromObjectElement(e);case"array":case"tuple":return this.getDataFromArrayElement(e);case"conditional":return this.getDataFromConditionalElement(e);default:if(e instanceof jt)return e instanceof ri&&e.badInput?"invalid":mt(e.value);throw new Error(`Unsupported type ${e.type}`)}}getDataFromArrayElement(e){return e.children.map(r=>this.getDataFromElement(r))}}var zp=J('<span tabindex="0" role="button" data-bs-trigger="focus" class="bi bi-info-circle text-primary" data-bs-toggle="collapse" data-bs-target=""></span>'),Vp=J('<span class="ms-2 property-description"><!></span>');function io(t,e){Ee(e,!0);let r=ce(e,"html",3,!1),n=W(void 0),a,i;kt(()=>{v(n)&&v(n).addEventListener("click",function(){a=bootstrap.Popover.getOrCreateInstance(v(n),{trigger:"manual"}),a.toggle(),i||(i=function(c){const f=c.composedPath();f.length>0&&f[0]instanceof HTMLElement&&f[0]!==v(n)&&(f[0].closest(".popover")||(a==null||a.hide(),a=void 0,window.removeEventListener("click",i),i=void 0))},window.addEventListener("click",i))})});var s=Vp(),o=N(s);{var l=c=>{var f=zp();It(f,h=>A(n,h),()=>v(n)),X(()=>{ve(f,"data-bs-html",r()),ve(f,"data-bs-content",e.description)}),V(c,f)};Q(o,c=>{e.description&&c(l)})}j(s),V(t,s),we()}var qp=J('<span class="visually-hidden"> </span>'),xp=J("<label><!></label>"),Lp=J('<span class="visually-hidden"> </span>'),Up=J("<span><!></span>"),Kp=J("<!> <!>",1);function wr(t,e){Ee(e,!0);let r=ce(e,"tag",3,"label"),n=ce(e,"defaultTitle",3,""),a=pt(()=>e.formElement.required?"fw-bold":!("value"in e.formElement)||e.formElement.value!==null&&e.formElement.value!==void 0&&e.formElement.value!==""?"":"text-secondary fw-light");const i=pt(()=>e.formElement.description||("selectedItem"in e.formElement&&e.formElement.selectedItem?e.formElement.selectedItem.description:""));var s=Kp(),o=pe(s);{var l=h=>{var g=xp(),y=N(g);{var b=m=>{var d=pr();X(()=>fe(d,e.formElement.title)),V(m,d)},$=m=>{var d=qp(),_=N(d,!0);j(d),X(()=>fe(_,n())),V(m,d)};Q(y,m=>{e.formElement.title?m(b):n()&&m($,1)})}j(g),X(()=>{ye(g,1,Xa(v(a))),ve(g,"for",r()==="label"?`property-${e.formElement.id}`:void 0)}),V(h,g)},c=h=>{var g=Up(),y=N(g);{var b=m=>{var d=pr();X(()=>fe(d,e.formElement.title)),V(m,d)},$=m=>{var d=Lp(),_=N(d,!0);j(d),X(()=>fe(_,n())),V(m,d)};Q(y,m=>{e.formElement.title?m(b):n()&&m($,1)})}j(g),X(()=>ye(g,1,Xa(v(a)))),V(h,g)};Q(o,h=>{r()==="label"?h(l):h(c,!1)})}var f=L(o,2);io(f,{get description(){return v(i)}}),V(t,s),we()}var Jp=J('<a class="btn btn-warning me-3" role="button">Reset</a>'),Hp=J('<div class="alert alert-danger mb-1 py-1 px-2"> </div>'),Gp=J('<div><div class="my-2"><div class="accordion"><div><div class="accordion-header"><button type="button"><div class="flex-fill"><!></div> <div><!></div></button></div> <div><div class="accordion-body p-1"><!> <!></div></div></div></div></div></div>');function Sr(t,e){Ee(e,!0);let r=ce(e,"reset",3,null),n=ce(e,"padding",3,2),a=ce(e,"showErrors",3,!0),i=W(!1),s=W(!1);e.formElement.hasErrors.subscribe(M=>A(s,M,!0));let o=W(ke([]));e.formElement.errors.subscribe(M=>A(o,M,!0)),Gt(()=>{A(i,e.formElement.collapsed,!0)});function l(M){M.target instanceof HTMLElement&&M.target.classList.contains("bi-info-circle")||A(i,!v(i))}function c(M){M.preventDefault(),M.stopPropagation(),r()&&r()()}var f=Gp(),h=N(f),g=N(h),y=N(g);let b;var $=N(y),m=N($);let d;var _=N(m),E=N(_);wr(E,{get formElement(){return e.formElement},tag:"span"}),j(_);var P=L(_,2),I=N(P);{var T=M=>{var D=Jp();ae("click",D,c),V(M,D)};Q(I,M=>{r()!==null&&e.formElement.property.default!==void 0&&M(T)})}j(P),j(m),j($);var F=L($,2);let q;var z=N(F),G=N(z);{var R=M=>{var D=xe(),U=pe(D);Ae(U,17,()=>v(o),Me,(Y,re)=>{var me=Hp(),ue=N(me,!0);j(me),X(()=>fe(ue,v(re))),V(Y,me)}),V(M,D)};Q(G,M=>{a()&&M(R)})}var O=L(G,2);Uo(O,()=>e.children??xo),j(z),j(F),j(y),j(g),j(h),j(f),X(()=>{ye(f,1,`d-flex flex-column p-${n()??""}`),ve(g,"id",`accordion-${e.formElement.id??""}`),b=ye(y,1,"accordion-item",null,b,{"border-danger":v(s)}),d=ye(m,1,"accordion-button",null,d,{collapsed:v(i)}),ve(F,"id",`collapse-${e.formElement.id??""}`),q=ye(F,1,"accordion-collapse jschema-collapsing",null,q,{collapse:v(i),show:!v(i)})}),ae("click",m,M=>l(M)),V(t,f),we()}De(["click"]);var Bp=J('<button class="btn btn-danger" type="button" aria-label="Remove"><i class="bi bi-trash"></i></button>'),Wp=J('<button class="btn btn-light" aria-label="Move item up"><i class="bi-arrow-up"></i></button> <button class="btn btn-light" aria-label="Move item down"><i class="bi-arrow-down"></i></button>',1),Zp=J('<div class="d-flex"><div class="align-self-center m-2"><!></div> <div class="flex-fill"><!></div> <div class="align-self-right mt-2 me-2"><!></div></div>'),Xp=J('<div class="d-flex justify-content-center p-2"><button class="btn btn-primary" type="button">Add argument to list</button></div> <div></div>',1);function Yp(t,e){Ee(e,!0);let r=ce(e,"editable",3,!0),n=ce(e,"reset",3,null),a=W(ke([]));kt(()=>{A(a,e.formElement.children,!0)});function i(){e.formElement.addChild(),A(a,e.formElement.children,!0)}function s(h){e.formElement.removeChild(h),A(a,e.formElement.children,!0)}function o(h){e.formElement.moveChildUp(h),A(a,e.formElement.children,!0)}function l(h){e.formElement.moveChildDown(h),A(a,e.formElement.children,!0)}let c=pt(()=>r()&&(typeof e.formElement.maxItems!="number"||v(a).length<e.formElement.maxItems)),f=pt(()=>r()&&!(e.formElement.required&&typeof e.formElement.minItems=="number"&&v(a).length<=e.formElement.minItems));Sr(t,{get formElement(){return e.formElement},get reset(){return n()},children:(h,g)=>{var y=Xp(),b=pe(y),$=N(b);j(b);var m=L(b,2);Ae(m,23,()=>v(a),(d,_)=>d.id+_,(d,_,E)=>{var P=Zp(),I=N(P),T=N(I);{var F=M=>{var D=Bp();ae("click",D,()=>s(v(E))),V(M,D)};Q(T,M=>{v(f)&&M(F)})}j(I);var q=L(I,2),z=N(q);gr(z,{get editable(){return r()},get formElement(){return v(a)[v(E)]}}),j(q);var G=L(q,2),R=N(G);{var O=M=>{var D=Wp(),U=pe(D),Y=L(U,2);X(()=>{U.disabled=!r()&&v(E)===0,Y.disabled=!r()&&v(E)===v(a).length-1}),ae("click",U,re=>{re.preventDefault(),o(v(E))}),ae("click",Y,re=>{re.preventDefault(),l(v(E))}),V(M,D)};Q(R,M=>{v(a).length>1&&M(O)})}j(G),j(P),V(d,P)}),j(m),X(()=>$.disabled=!v(c)),ae("click",$,()=>i()),V(h,y)},$$slots:{default:!0}}),we()}De(["click"]);var Qp=J('<div class="d-flex align-items-center p-2"><div class="property-metadata d-flex flex-row align-self-center w-50"><!></div> <div class="property-input ms-auto w-50 has-validation"><input type="text"/> <span class="invalid-feedback"> </span></div></div>');function so(t,e){Ee(e,!0);let r=ce(e,"editable",3,!0),n=ce(e,"showErrors",3,!0),a=W(void 0);e.formElement.value.subscribe(d=>A(a,d,!0)),Gt(()=>l(v(a)));let i=W(void 0),s=W(ke([]));e.formElement.errors.subscribe(d=>A(s,d,!0));let o=pt(()=>"const"in e.formElement.property);function l(d){mt(e.formElement.value)!==d&&(e.formElement.value.set(d),e.formElement.notifyChange())}var c=Qp(),f=N(c),h=N(f);wr(h,{get formElement(){return e.formElement},defaultTitle:"String argument"}),j(f);var g=L(f,2),y=N(g);Je(y);let b;It(y,d=>A(i,d),()=>v(i));var $=L(y,2),m=N($,!0);j($),j(g),j(c),X(d=>{b=ye(y,1,"form-control",null,b,{"is-invalid":n()&&v(s).length>0}),ve(y,"id",`property-${e.formElement.id??""}`),y.disabled=!r()||v(o),fe(m,d)},[()=>n()&&v(s).length>0?v(s).join(", "):""]),et(y,()=>v(a),d=>A(a,d)),V(t,c),we()}var ev=J('<span class="text-danger"> </span>'),tv=J('<div class="d-flex align-items-center p-2"><div class="property-metadata d-flex flex-row align-self-center w-50"><!></div> <div class="property-input ms-auto w-25 has-validation"><div class="form-check form-switch"><input type="checkbox" role="switch"/> <!></div> <!></div></div>');function rv(t,e){Ee(e,!0);let r=ce(e,"editable",3,!0),n=W(void 0);e.formElement.value.subscribe(d=>A(n,d,!0));let a=W(ke([]));e.formElement.errors.subscribe(d=>A(a,d,!0));function i(d){const _=d.target.checked;mt(e.formElement.value)!==_&&(e.formElement.value.set(_),e.formElement.notifyChange())}var s=tv(),o=N(s),l=N(o);wr(l,{get formElement(){return e.formElement},defaultTitle:"Boolean argument",tag:"span"}),j(o);var c=L(o,2),f=N(c),h=N(f);Je(h);let g;var y=L(h,2);{var b=d=>{var _=pr("(unset)");V(d,_)};Q(y,d=>{v(n)===null&&d(b)})}j(f);var $=L(f,2);{var m=d=>{var _=ev(),E=N(_,!0);j(_),X(P=>fe(E,P),[()=>v(a).join(", ")]),V(d,_)};Q($,d=>{v(a).length>0&&d(m)})}j(c),j(s),X(()=>{ve(h,"id",`property-${e.formElement.id??""}`),g=ye(h,1,"form-check-input",null,g,{"is-invalid":v(a).length>0}),nl(h,v(n)===!0),h.disabled=!r()}),ae("change",h,d=>i(d)),V(t,s),we()}De(["change"]);var nv=J('<div class="d-flex align-items-center p-2"><div class="property-metadata d-flex flex-row align-self-center w-50"><!></div> <div class="property-input ms-auto w-50 has-validation"><input type="number"/> <span class="invalid-feedback"> </span></div></div>');function av(t,e){Ee(e,!0);let r=ce(e,"formElement",15),n=ce(e,"editable",3,!0),a=W(void 0);r().value.subscribe(d=>A(a,d,!0)),Gt(()=>o(v(a)));let i=W(void 0),s=W(ke([]));r().errors.subscribe(d=>A(s,d,!0));function o(d){l(),mt(r().value)!==d&&(r().value.set(d),r().notifyChange())}function l(){v(i)&&r().badInput!==v(i).validity.badInput&&(r(r().badInput=v(i).validity.badInput,!0),r().notifyChange())}var c=nv(),f=N(c),h=N(f);wr(h,{get formElement(){return r()},defaultTitle:"Number argument"}),j(f);var g=L(f,2),y=N(g);Je(y);let b;It(y,d=>A(i,d),()=>v(i));var $=L(y,2),m=N($,!0);j($),j(g),j(c),X(d=>{ve(y,"min",r().min),ve(y,"max",r().max),b=ye(y,1,"form-control",null,b,{"is-invalid":v(s).length>0}),ve(y,"id",`property-${r().id??""}`),y.disabled=!n(),fe(m,d)},[()=>v(s).join(", ")]),ae("input",y,l),et(y,()=>v(a),d=>A(a,d)),V(t,c),we()}De(["input"]);var iv=J("<option> </option>"),sv=J('<div class="d-flex align-items-center p-2"><div class="property-metadata d-flex flex-row align-self-center w-50"><!></div> <div class="property-input ms-auto w-50 has-validation"><select><option>Select...</option><!></select> <span class="invalid-feedback"> </span></div></div>');function ov(t,e){Ee(e,!0);let r=ce(e,"editable",3,!0),n=W(void 0);e.formElement.value.subscribe(d=>A(n,d,!0)),Gt(()=>s(v(n)));let a=W(void 0),i=W(ke([]));e.formElement.errors.subscribe(d=>A(i,d,!0));function s(d){mt(e.formElement.value)!==d&&(e.formElement.value.set(d),e.formElement.notifyChange())}var o=sv(),l=N(o),c=N(l);wr(c,{get formElement(){return e.formElement},defaultTitle:"Enum argument"}),j(l);var f=L(l,2),h=N(f);let g;var y=N(h);y.value=(y.__value=null)??"";var b=L(y);Ae(b,17,()=>e.formElement.options,Me,(d,_)=>{var E=iv(),P=N(E,!0);j(E);var I={};X(()=>{fe(P,v(_)),I!==(I=v(_))&&(E.__value=v(_))}),V(d,E)}),j(h),It(h,d=>A(a,d),()=>v(a));var $=L(h,2),m=N($,!0);j($),j(f),j(o),X(d=>{g=ye(h,1,"form-select",null,g,{"is-invalid":v(i).length>0}),ve(h,"id",`property-${e.formElement.id??""}`),h.disabled=!r(),fe(m,d)},[()=>v(i).join(", ")]),Kt(h,()=>v(n),d=>A(n,d)),V(t,o),we()}var lv=J('<button class="btn btn-danger" type="button">Remove tuple</button>'),cv=J('<button class="btn btn-primary" type="button">Add tuple</button>'),dv=J('<button class="btn btn-danger w-100 mt-2" type="button">Remove Property Block</button>'),uv=J('<div class="d-flex"><div class="flex-fill"><!> <!></div></div>'),fv=J('<div class="d-flex justify-content-center p-2"><!></div> <div></div>',1);function mv(t,e){Ee(e,!0);let r=ce(e,"editable",3,!0),n=ce(e,"children",31,()=>ke([])),a=ce(e,"reset",3,null);kt(()=>{n(e.formElement.children)});function i(){e.formElement.addTuple(),n(e.formElement.children)}function s(){e.formElement.removeTuple(),n(e.formElement.children)}function o(l){e.formElement.removeUnexpectedChild(l),n(e.formElement.children)}Sr(t,{get formElement(){return e.formElement},get reset(){return a()},children:(l,c)=>{var f=fv(),h=pe(f),g=N(h);{var y=$=>{var m=xe(),d=pe(m);{var _=P=>{var I=lv();X(()=>I.disabled=!r()),ae("click",I,s),V(P,I)},E=P=>{var I=cv();X(()=>I.disabled=!r()),ae("click",I,i),V(P,I)};Q(d,P=>{n().length>0?P(_):P(E,!1)})}V($,m)};Q(g,$=>{e.formElement.required||$(y)})}j(h);var b=L(h,2);Ae(b,21,n,Me,($,m,d)=>{var _=uv(),E=N(_),P=N(E);{var I=F=>{var q=dv();X(()=>q.disabled=!r()),ae("click",q,()=>o(d)),V(F,q)};Q(P,F=>{v(m).removable&&F(I)})}var T=L(P,2);gr(T,{get editable(){return r()},get formElement(){return v(m)}}),j(E),j(_),V($,_)}),j(b),V(l,f)},$$slots:{default:!0}}),we()}De(["click"]);var hv=J('<div class="alert alert-danger mb-1 py-1 px-2"> </div>'),pv=J('<div class="alert alert-danger mb-1 py-1 px-2"> </div>'),vv=J("<option>Select...</option>"),yv=J("<option> </option>"),gv=J('<div class="mx-2"><!> <!> <div class="d-flex align-items-center mt-2"><div class="property-metadata d-flex flex-row align-self-center w-50"><label class="fw-bold"> </label> <!></div> <div class="property-input ms-auto w-50 has-validation"><select><!><!></select></div></div></div> <!>',1),_v=J("<option> </option>"),bv=J('<div class="alert alert-danger mt-2 mb-1 py-1 px-2"> </div>'),$v=J('<div class="mx-2"><select class="form-select mt-3"></select> <!></div> <!>',1),Ev=J('<button class="btn btn-danger w-100 mt-2" type="button">Remove Property Block</button>'),wv=J('<div class="property-block"><!> <div class="d-flex flex-column properties-block"><!></div></div>'),Sv=J("<!> <!>",1);function Pv(t,e){Ee(e,!0);let r=ce(e,"reset",3,null),n=W(ke([])),a=W(ke([]));e.formElement.errors.subscribe(m=>A(n,m,!0));let i=W(void 0),s=W(0),o=W(ke([])),l=W(ke([]));kt(()=>{A(o,e.formElement.property.oneOf.map(m=>m.title),!0),A(i,e.formElement.selectedItem,!0),e.formElement.selectedIndex.subscribe(m=>A(s,m,!0)),A(l,e.formElement.unexpectedChildren,!0)});function c(){e.formElement.selectChild(v(s)),A(i,e.formElement.selectedItem,!0),A(l,e.formElement.unexpectedChildren,!0)}function f(m){e.formElement.removeUnexpectedChild(m),A(l,e.formElement.unexpectedChildren,!0)}Gt(()=>{v(i)&&v(i).errors.subscribe(m=>A(a,m,!0))});var h=Sv(),g=pe(h);{var y=m=>{var d=xe(),_=pe(d);lr(_,()=>v(i),E=>{Sr(E,{get formElement(){return e.formElement},get reset(){return r()},showErrors:!1,children:(P,I)=>{var T=gv(),F=pe(T),q=N(F);Ae(q,17,()=>v(n),Me,(w,u)=>{var p=hv(),k=N(p,!0);j(p),X(()=>fe(k,v(u))),V(w,p)});var z=L(q,2);Ae(z,17,()=>v(a),Me,(w,u)=>{var p=pv(),k=N(p,!0);j(p),X(()=>fe(k,v(u))),V(w,p)});var G=L(z,2),R=N(G),O=N(R),M=N(O,!0);j(O);var D=L(O,2);io(D,{get description(){return e.formElement.discriminator.description}}),j(R);var U=L(R,2),Y=N(U);let re;var me=N(Y);{var ue=w=>{var u=vv();u.value=u.__value=-1,V(w,u)};Q(me,w=>{v(s)===-1&&w(ue)})}var x=L(me);Ae(x,17,()=>e.formElement.discriminator.values,Me,(w,u,p)=>{var k=yv(),H=N(k,!0);j(k),k.value=k.__value=p,X(()=>fe(H,v(u))),V(w,k)}),j(Y),j(U),j(G),j(F);var S=L(F,2);{var C=w=>{Ja(w,{get formElement(){return v(i)},get editable(){return e.editable},showErrors:!1})};Q(S,w=>{v(i)&&w(C)})}X(()=>{ve(O,"for",`discriminator-${e.formElement.id??""}`),fe(M,e.formElement.discriminator.title||e.formElement.discriminator.key),re=ye(Y,1,"form-select",null,re,{"is-invalid":v(s)===-1}),ve(Y,"id",`discriminator-${e.formElement.id??""}`)}),ae("change",Y,c),Kt(Y,()=>v(s),w=>A(s,w)),V(P,T)},$$slots:{default:!0}})}),V(m,d)},b=m=>{var d=$v(),_=pe(d),E=N(_);Ae(E,21,()=>v(o),Me,(T,F,q)=>{var z=_v(),G=N(z,!0);j(z),z.value=z.__value=q,X(()=>fe(G,v(F))),V(T,z)}),j(E);var P=L(E,2);Ae(P,17,()=>v(n),Me,(T,F)=>{var q=bv(),z=N(q,!0);j(q),X(()=>fe(z,v(F))),V(T,q)}),j(_);var I=L(_,2);lr(I,()=>v(i),T=>{var F=xe(),q=pe(F);{var z=G=>{gr(G,{get editable(){return e.editable},get reset(){return r()},get formElement(){return v(i)}})};Q(q,G=>{v(i)&&G(z)})}V(T,F)}),ae("change",E,c),Kt(E,()=>v(s),T=>A(s,T)),V(m,d)};Q(g,m=>{e.formElement.discriminator?m(y):m(b,!1)})}var $=L(g,2);lr($,()=>v(l),m=>{var d=xe(),_=pe(d);Ae(_,17,()=>v(l),Me,(E,P,I)=>{var T=wv(),F=N(T);{var q=R=>{var O=Ev();X(()=>O.disabled=!e.editable),ae("click",O,()=>f(I)),V(R,O)};Q(F,R=>{v(P).removable&&R(q)})}var z=L(F,2),G=N(z);gr(G,{get formElement(){return v(l)[I]},get editable(){return e.editable}}),j(z),j(T),X(()=>ve(z,"id",`${v(P).id??""}-wrapper`)),V(E,T)}),V(m,d)}),V(t,h),we()}De(["change","click"]);var kv=J('<input type="text" placeholder="Argument name"/>'),Iv=J('<input type="text" placeholder="Argument value"/>'),jv=J('<input type="number" placeholder="Argument value"/>'),Nv=J('<select class="form-select"><option>True</option><option>False</option></select>'),Ov=J('<div class="invalid-feedback"> </div>'),Av=J('<div><!> <!> <select class="form-select"><option>String</option><option>Number</option><option>Boolean</option><option>Object</option><option>Array</option></select> <button class="btn btn-outline-danger" type="button" aria-label="Remove property"><i class="bi bi-trash"></i></button> <!></div>');function Vi(t,e){Ee(e,!0);let r=ce(e,"entry",15),n=ce(e,"editable",3,!0);var a=Av();let i;var s=N(a);{var o=I=>{var T=kv();Je(T);let F;X(()=>{F=ye(T,1,"form-control",null,F,{"is-invalid":r().error}),T.disabled=!n()}),ae("input",T,function(...q){var z;(z=e.triggerChanges)==null||z.apply(this,q)}),et(T,()=>r().key,q=>r(r().key=q,!0)),V(I,T)};Q(s,I=>{"key"in r()&&I(o)})}var l=L(s,2);{var c=I=>{var T=Iv();Je(T);let F;X(()=>{F=ye(T,1,"form-control",null,F,{"is-invalid":r().error}),T.disabled=!n()}),ae("input",T,function(...q){var z;(z=e.triggerChanges)==null||z.apply(this,q)}),et(T,()=>r().value,q=>r(r().value=q,!0)),V(I,T)},f=I=>{var T=jv();Je(T);let F;X(()=>{F=ye(T,1,"form-control",null,F,{"is-invalid":r().error}),T.disabled=!n()}),ae("input",T,function(...q){var z;(z=e.triggerChanges)==null||z.apply(this,q)}),et(T,()=>r().value,q=>r(r().value=q,!0)),V(I,T)},h=I=>{var T=Nv(),F=N(T);F.value=F.__value=!0;var q=L(F);q.value=q.__value=!1,j(T),X(()=>T.disabled=!n()),ae("change",T,function(...z){var G;(G=e.triggerChanges)==null||G.apply(this,z)}),Kt(T,()=>r().value,z=>r(r().value=z,!0)),V(I,T)};Q(l,I=>{r().type==="string"?I(c):r().type==="number"?I(f,1):r().type==="boolean"&&I(h,2)})}var g=L(l,2),y=N(g);y.value=y.__value="string";var b=L(y);b.value=b.__value="number";var $=L(b);$.value=$.__value="boolean";var m=L($);m.value=m.__value="object";var d=L(m);d.value=d.__value="array",j(g);var _=L(g,2),E=L(_,2);{var P=I=>{var T=Ov(),F=N(T,!0);j(T),X(()=>fe(F,r().error)),V(I,T)};Q(E,I=>{r().error&&I(P)})}j(a),X(()=>{i=ye(a,1,"input-group mb-2",null,i,{"has-validation":r().error}),g.disabled=!n(),_.disabled=!n()}),ae("change",g,function(...I){var T;(T=e.changeType)==null||T.apply(this,I)}),Kt(g,()=>r().type,I=>r(r().type=I,!0)),ae("click",_,function(...I){var T;(T=e.removeProperty)==null||T.apply(this,I)}),V(t,a),we()}De(["input","change","click"]);var Tv=J('<input type="text" placeholder="Argument name" data-bs-toggle="collapse" data-bs-target=""/>'),Mv=J('<div class="invalid-feedback"> </div>'),Cv=J('<!> <div class="d-flex justify-content-center align-items-center mt-3"><button class="btn btn-secondary">Add property</button></div>',1),Rv=J('<div class="accordion mb-2"><div class="accordion-item"><h2 class="accordion-header"><div class="accordion-button collapsed ps-1 pt-1 pb-1" data-bs-toggle="collapse" aria-expanded="false"><div><!> <button class="btn btn-outline-danger" type="button" aria-label="Remove property" data-bs-toggle="collapse" data-bs-target=""><i class="bi bi-trash"></i></button> <!></div> <!></div></h2> <div class="accordion-collapse collapse"><div class="accordion-body"><!></div></div></div></div>');function oo(t,e){Ee(e,!0);let r=ce(e,"entry",15),n=ce(e,"editable",3,!0);var a=xe(),i=pe(a);{var s=l=>{var c=Rv(),f=N(c),h=N(f),g=N(h),y=N(g);let b;var $=N(y);{var m=R=>{var O=Tv();Je(O);let M;X(()=>{M=ye(O,1,"form-control",null,M,{"is-invalid":r().error}),O.disabled=!n()}),ae("input",O,function(...D){var U;(U=e.triggerChanges)==null||U.apply(this,D)}),et(O,()=>r().key,D=>r(r().key=D,!0)),V(R,O)};Q($,R=>{"key"in r()&&R(m)})}var d=L($,2),_=L(d,2);{var E=R=>{var O=Mv(),M=N(O,!0);j(O),X(()=>fe(M,r().error)),V(R,O)};Q(_,R=>{r().error&&R(E)})}j(y);var P=L(y,2);{var I=R=>{var O=pr("(obj)");V(R,O)},T=R=>{var O=pr("(list)");V(R,O)};Q(P,R=>{r().type==="object"?R(I):R(T,!1)})}j(g),j(h);var F=L(h,2),q=N(F),z=N(q);{var G=R=>{var O=Cv(),M=pe(O);Ae(M,17,()=>r().children,Me,(Y,re,me)=>{var ue=xe(),x=pe(ue);{var S=w=>{oo(w,{get editable(){return n()},get parent(){return r().children},index:me,get changeType(){return e.changeType},get removeProperty(){return e.removeProperty},get addProperty(){return e.addProperty},get triggerChanges(){return e.triggerChanges},get entry(){return r().children[me]},set entry(u){r(r().children[me]=u,!0)}})},C=w=>{Vi(w,{get editable(){return n()},get triggerChanges(){return e.triggerChanges},changeType:()=>{"children"in r()&&e.changeType(r().children,me,v(re).type)},removeProperty:()=>{"children"in r()&&e.removeProperty(r().children,me)},get entry(){return r().children[me]},set entry(u){r(r().children[me]=u,!0)}})};Q(x,w=>{v(re).type==="object"||v(re).type==="array"?w(S):w(C,!1)})}V(Y,ue)});var D=L(M,2),U=N(D);j(D),X(()=>U.disabled=!n()),ae("click",U,()=>{"children"in r()&&e.addProperty(r().children,r().type==="object")}),V(R,O)};Q(z,R=>{r().children&&R(G)})}j(q),j(F),j(f),j(c),X(()=>{ve(c,"id",`accordion-${r().id??""}`),ve(g,"data-bs-target",`#collapse-${r().id??""}`),ve(g,"aria-controls",`collapse-${r().id??""}`),b=ye(y,1,"input-group w-50 me-3",null,b,{"has-validation":r().error}),d.disabled=!n(),ve(F,"id",`collapse-${r().id??""}`),ve(F,"data-bs-parent",`#accordion-${r().id??""}`)}),ae("click",d,()=>e.removeProperty(e.parent,e.index)),V(l,c)},o=l=>{Vi(l,{get editable(){return n()},get triggerChanges(){return e.triggerChanges},changeType:()=>e.changeType(e.parent,e.index,r().type),removeProperty:()=>e.removeProperty(e.parent,e.index),get entry(){return r()},set entry(c){r(c)}})};Q(i,l=>{r().type==="object"||r().type==="array"?l(s):l(o,!1)})}V(t,a),we()}De(["input","click"]);var Dv=J('<div class="d-flex justify-content-center align-items-center mt-3"><button class="btn btn-secondary">Add property</button></div>'),Fv=J('<div class="mt-2 p-2"><!> <!></div>');function zv(t,e){Ee(e,!0);let r=ce(e,"unsavedChanges",15,!1),n=ce(e,"editable",3,!0),a=ce(e,"onChange",3,()=>{}),i=ce(e,"allowAddingProperty",3,!0),s=ce(e,"idPrefix",3,""),o=W(ke([])),l=W(""),c=0;kt(()=>{f(e.args)});function f(O){if(Array.isArray(O))v(o).push(h(O,null));else for(const[M,D]of Object.entries(O||{}))v(o).push(h(D,M));T(),A(l,JSON.stringify(v(o)),!0)}Gt(()=>{r(v(l)!==JSON.stringify(Ft(v(o))))});function h(O,M){c++;let D={id:`item-${s()}-${c}`,error:""};if(Array.isArray(O)){const U=[];for(const Y of O)U.push(h(Y,null));D.type="array",D.children=U}else if(typeof O=="object"){const U=[];for(const[Y,re]of Object.entries(O))U.push(h(re,Y));D.type="object",D.children=U}else D.type=typeof O,D.value=O;return M!==null&&(D.key=M),D}function g(O,M){O.push(h("",M?"":null)),T()}function y(O,M){O.splice(M,1),T()}async function b(O,M,D){O[M]=h($(D),"key"in O[M]?O[M].key||"":null),O[M].type=D,T()}function $(O){switch(O){case"object":return{};case"array":return[];case"boolean":return!0;default:return""}}function m(){d(v(o));const O=[];return _(v(o),O),T(),O.length===0}function d(O){for(const M of O)M.error="",(M.type==="object"||M.type==="array")&&d(M.children)}function _(O,M){const D=[];for(const U of O)"key"in U&&U.key!==void 0&&(U.key.trim()===""?(U.error="Property name can't be empty",M.push(U.error)):D.includes(U.key)?(U.error=`Property name "${U.key}" is already used`,M.push(U.error)):D.push(U.key)),(U.type==="object"||U.type==="array")&&_(U.children,M),U.type==="number"&&typeof U.value=="string"&&!U.value.match(/^\d+\.*\d*$/)&&(U.error="Invalid number",M.push(U.error))}function E(){const O={};if(v(o).length===1&&v(o)[0].type==="array"&&!v(o)[0].key)return P(v(o)[0]);for(const M of v(o))O[M.key]=P(M);return O}function P(O){if(O.type==="object"){const M={};for(const D of O.children)M[D.key]=P(D);return M}else if(O.type==="array"){const M=[];for(const D of O.children)M.push(P(D));return M}else{if(O.type==="number")return Number(O.value);if(O.type==="boolean"||O.type==="string")return O.value}}function I(O){A(o,[],!0),f(O)}function T(){a()(E()),A(o,v(o),!0)}var F={validateArguments:m,getArguments:E,discardChanges:I},q=Fv(),z=N(q);Ae(z,17,()=>v(o),Me,(O,M,D)=>{oo(O,{get editable(){return n()},index:D,get parent(){return v(o)},addProperty:g,changeType:b,removeProperty:y,triggerChanges:T,get entry(){return v(o)[D]},set entry(U){v(o)[D]=U}})});var G=L(z,2);{var R=O=>{var M=Dv(),D=N(M);j(M),X(()=>D.disabled=!n()),ae("click",D,()=>g(v(o),!0)),V(O,M)};Q(G,O=>{i()&&O(R)})}return j(q),V(t,q),we(F)}De(["click"]);var Vv=J('<div class="alert alert-danger mb-0 py-1 px-2"> </div>'),qv=J("<div><!> <!></div>");function xv(t,e){Ee(e,!0);let r=ce(e,"editable",3,!0),n=W(ke({}));e.formElement.value.subscribe(g=>A(n,g,!0));let a=W(ke([]));e.formElement.errors.subscribe(g=>A(a,g,!0));var i=qv();let s;var o=N(i);{var l=g=>{var y=Vv(),b=N(y,!0);j(y),X($=>fe(b,$),[()=>v(a).join(", ")]),V(g,y)};Q(o,g=>{v(a).length>0&&g(l)})}var c=L(o,2);{var f=g=>{Sr(g,{get formElement(){return e.formElement},padding:1,showErrors:!1,children:(y,b)=>{zv(y,{get args(){return v(n)},onChange:$=>{e.formElement.value.set($),e.formElement.notifyChange()},allowAddingProperty:!1,get editable(){return r()},get idPrefix(){return e.formElement.id}})},$$slots:{default:!0}})},h=g=>{so(g,{get formElement(){return e.formElement},get editable(){return r()},showErrors:!1})};Q(c,g=>{typeof v(n)=="object"?g(f):g(h,!1)})}j(i),X(()=>s=ye(i,1,"border rounded my-2",null,s,{"border-danger":v(a).length>0})),V(t,i),we()}var Lv=J("<p> </p>");function gr(t,e){Ee(e,!0);let r=ce(e,"editable",3,!0),n=ce(e,"reset",3,null);var a=xe(),i=pe(a);{var s=m=>{so(m,{get formElement(){return e.formElement},get editable(){return r()}})},o=m=>{av(m,{get formElement(){return e.formElement},get editable(){return r()}})},l=m=>{rv(m,{get formElement(){return e.formElement},get editable(){return r()}})},c=m=>{ov(m,{get formElement(){return e.formElement},get editable(){return r()}})},f=m=>{Sr(m,{get formElement(){return e.formElement},get reset(){return n()},children:(d,_)=>{Ja(d,{get formElement(){return e.formElement},get editable(){return r()},showErrors:!1})},$$slots:{default:!0}})},h=m=>{Yp(m,{get formElement(){return e.formElement},get editable(){return r()},get reset(){return n()}})},g=m=>{mv(m,{get formElement(){return e.formElement},get editable(){return r()},get reset(){return n()}})},y=m=>{Pv(m,{get formElement(){return e.formElement},get editable(){return r()},get reset(){return n()}})},b=m=>{xv(m,{get formElement(){return e.formElement},get editable(){return r()}})},$=m=>{var d=Lv(),_=N(d);j(d),X(()=>fe(_,`Unsupported property type ${e.formElement.type??""}`)),V(m,d)};Q(i,m=>{e.formElement.type==="string"?m(s):e.formElement.type==="number"?m(o,1):e.formElement.type==="boolean"?m(l,2):e.formElement.type==="enum"?m(c,3):e.formElement.type==="object"?m(f,4):e.formElement.type==="array"?m(h,5):e.formElement.type==="tuple"?m(g,6):e.formElement.type==="conditional"?m(y,7):e.formElement.type==="unexpected"||e.formElement.type==="invalid"?m(b,8):m($,!1)})}V(t,a),we()}var Uv=J('<button class="btn btn-danger w-100 mt-2" type="button">Remove Property Block</button>'),Kv=J('<button class="btn btn-danger w-100 mt-2" type="button">Reset to Default Value</button>'),Jv=J('<div class="property-block svelte-8wskhg"><!> <!> <div class="d-flex flex-column properties-block"><!></div></div>'),Hv=J('<div class="alert alert-danger mt-2 mb-1 py-1 px-2"> </div>'),Gv=J('<div class="invalid-feedback"> </div>'),Bv=J('<div class="d-flex justify-content-center"><form class="row row-cols-auto g-3 align-items-center p-2 flex-grow-1"><div class="col-lg-6 offset-lg-3 mb-1"><div><input type="text" placeholder="Key"/> <button class="btn btn-primary" type="button">Add property</button> <!></div></div></form></div>'),Wv=J("<!> <!> <!>",1);function Ja(t,e){Ee(e,!0);let r=ce(e,"isRoot",3,!1),n=ce(e,"editable",3,!0),a=ce(e,"showErrors",3,!0),i=W(ke([])),s=W(ke([]));kt(()=>{A(i,e.formElement.children,!0),e.formElement.errors.subscribe(E=>A(s,E,!0))});let o=W(""),l=W("");function c(){try{A(l,""),e.formElement.addChild(v(o).trim()),A(i,e.formElement.children,!0),A(o,"")}catch(E){A(l,E.message,!0)}}function f(E){e.formElement.removeChild(E),A(i,e.formElement.children,!0)}function h(E){e.formElement.resetChild(E),A(i,e.formElement.children,!0)}function g(E){e.formElement.fixInvalidChild(E),A(i,e.formElement.children,!0)}var y=Wv(),b=pe(y);lr(b,()=>v(i),E=>{var P=xe(),I=pe(P);Ae(I,17,()=>v(i),Me,(T,F,q)=>{var z=Jv(),G=N(z);{var R=Y=>{var re=Uv();X(()=>re.disabled=!n()),ae("click",re,()=>f(v(F).key)),V(Y,re)};Q(G,Y=>{v(F).removable&&Y(R)})}var O=L(G,2);{var M=Y=>{var re=Kv();X(()=>re.disabled=!n()),ae("click",re,()=>g(q)),V(Y,re)};Q(O,Y=>{v(F).type==="invalid"&&Y(M)})}var D=L(O,2),U=N(D);{let Y=pt(()=>r()?()=>h(q):null);gr(U,{get formElement(){return v(i)[q]},get editable(){return n()},get reset(){return v(Y)}})}j(D),j(z),X(()=>ve(D,"id",`${v(F).id??""}-wrapper`)),V(T,z)}),V(E,P)});var $=L(b,2);{var m=E=>{var P=xe(),I=pe(P);Ae(I,17,()=>v(s),Me,(T,F)=>{var q=Hv(),z=N(q,!0);j(q),X(()=>fe(z,v(F))),V(T,q)}),V(E,P)};Q($,E=>{a()&&E(m)})}var d=L($,2);{var _=E=>{var P=Bv(),I=N(P),T=N(I),F=N(T);let q;var z=N(F);Je(z);let G;var R=L(z,2),O=L(R,2);{var M=D=>{var U=Gv(),Y=N(U,!0);j(U),X(()=>fe(Y,v(l))),V(D,U)};Q(O,D=>{v(l)&&D(M)})}j(F),j(T),j(I),j(P),X(()=>{q=ye(F,1,"input-group",null,q,{"has-validation":v(l)}),G=ye(z,1,"form-control",null,G,{"is-invalid":v(l)}),z.disabled=!n(),R.disabled=!n()}),ae("input",z,()=>A(l,"")),et(z,()=>v(o),D=>A(o,D)),ae("click",R,c),V(E,P)};Q(d,E=>{e.formElement.additionalProperties&&E(_)})}V(t,y),we()}De(["click","input"]);var Zv=J('<div class="alert alert-danger mt-1"><pre> </pre></div>'),Xv=J("<!> <div><!></div>",1);function lo(t,e){Ee(e,!0);let r=ce(e,"propertiesToIgnore",19,()=>[]),n=ce(e,"editable",3,!0),a=ce(e,"dataValid",15),i=W(void 0),s=W(ke([]));function o(){var b;return(b=v(i))==null?void 0:b.getFormData()}function l(b,$=void 0){if(b)try{A(i,new Fp(b,e.onchange,e.schemaVersion,r(),$),!0),v(i).genericErrors.subscribe(m=>A(s,m,!0)),v(i).dataValid.subscribe(m=>a(m))}catch(m){console.error(m),A(i,void 0)}else A(i,void 0)}function c(b,$=void 0){l(b,$)}var f={getArguments:o,update:c},h=xe(),g=pe(h);{var y=b=>{var $=xe(),m=pe($);lr(m,()=>v(i),d=>{var _=Xv(),E=pe(_);Ae(E,17,()=>v(s),Me,(T,F)=>{var q=Zv(),z=N(q),G=N(z,!0);j(z),j(q),X(()=>fe(G,v(F))),V(T,q)});var P=L(E,2),I=N(P);Ja(I,{get formElement(){return v(i).root},isRoot:!0,get editable(){return n()}}),j(P),X(()=>ve(P,"id",e.componentId)),V(d,_)}),V(b,$)};Q(g,b=>{v(i)&&b(y)})}return V(t,h),we(f)}De(["click"]);const Yv="CellvoyagerToOmeZarrInit",Qv="object",ey={zarr_urls:{title:"Zarr Urls",type:"array",items:{type:"string"},description:"List of paths or urls to the individual OME-Zarr image to be processed. Not used by the converter task. (standard argument for Fractal tasks, managed by Fractal server)."},zarr_dir:{title:"Zarr Dir",type:"string",description:"path of the directory where the new OME-Zarrs will be created. (standard argument for Fractal tasks, managed by Fractal server)."},image_dirs:{title:"Image Dirs",type:"array",items:{type:"string"},description:"list of paths to the folders that contains the Cellvoyager image files. Each entry is a path to a folder that contains the image files themselves for a multiwell plate and the MeasurementData & MeasurementDetail metadata files."},allowed_channels:{title:"Allowed Channels",type:"array",items:{$ref:"#/definitions/OmeroChannel"},description:"A list of `OmeroChannel` s, where each channel must include the `wavelength_id` attribute and where the `wavelength_id` values must be unique across the list."},image_glob_patterns:{title:"Image Glob Patterns",type:"array",items:{type:"string"},description:'If specified, only parse images with filenames that match with all these patterns. Patterns must be defined as in https://docs.python.org/3/library/fnmatch.html, Example: `image_glob_pattern=["*_B03_*"]` => only process well B03 `image_glob_pattern=["*_C09_*", "*F016*", "*Z[0-5][0-9]C*"]` => only process well C09, field of view 16 and Z planes 0-59.'},num_levels:{title:"Num Levels",default:5,type:"integer",description:"Number of resolution-pyramid levels. If set to `5`, there will be the full-resolution level and 4 levels of downsampled images."},coarsening_xy:{title:"Coarsening Xy",default:2,type:"integer",description:"Linear coarsening factor between subsequent levels. If set to `2`, level 1 is 2x downsampled, level 2 is 4x downsampled etc."},image_extension:{title:"Image Extension",default:"tif",type:"string",description:'Filename extension of images (e.g. `"tif"` or `"png"`)'},metadata_table_file:{title:"Metadata Table File",type:"string",description:"If `None`, parse Yokogawa metadata from mrf/mlf files in the input_path folder; else, the full path to a csv file containing the parsed metadata table."},overwrite:{title:"Overwrite",default:!1,type:"boolean",description:"If `True`, overwrite the task output."}},ty=["zarr_urls","zarr_dir","image_dirs","allowed_channels"],ry=!1,ny={Window:{title:"Window",description:"Custom class for Omero-channel window, based on OME-NGFF v0.4.",type:"object",properties:{min:{title:"Min",type:"integer",description:"Do not change. It will be set to `0` by default."},max:{title:"Max",type:"integer",description:"Do not change. It will be set according to bit-depth of the images by default (e.g. 65535 for 16 bit images)."},start:{title:"Start",type:"integer",description:"Lower-bound rescaling value for visualization."},end:{title:"End",type:"integer",description:"Upper-bound rescaling value for visualization."}},required:["start","end"]},OmeroChannel:{title:"OmeroChannel",description:"Custom class for Omero channels, based on OME-NGFF v0.4.",type:"object",properties:{wavelength_id:{title:"Wavelength Id",type:"string",description:"Unique ID for the channel wavelength, e.g. `A01_C01`."},index:{title:"Index",type:"integer",description:"Do not change. For internal use only."},label:{title:"Label",type:"string",description:"Name of the channel."},window:{$ref:"#/definitions/Window",title:"Window",description:"Optional `Window` object to set default display settings for napari."},color:{title:"Color",type:"string",description:"Optional hex colormap to display the channel in napari (it must be of length 6, e.g. `00FFFF`)."},active:{title:"Active",default:!0,type:"boolean",description:"Should this channel be shown in the viewer?"},coefficient:{title:"Coefficient",default:1,type:"integer",description:"Do not change. Omero-channel attribute."},inverted:{title:"Inverted",default:!1,type:"boolean",description:"Do not change. Omero-channel attribute."}},required:["wavelength_id"]}},ay={title:Yv,type:Qv,properties:ey,required:ty,additionalProperties:ry,definitions:ny};var iy=J('<div class="alert alert-danger"><pre> </pre></div>'),sy=J('<div class="alert alert-success">Data is valid</div>'),oy=J('<div class="alert alert-danger">Data is not valid</div>'),ly=J('<h1 class="fw-light">Sandbox page for JSON Schema</h1> <p>This is a test page for the JSON Schema component</p> <div class="row"><div class="col-lg-6 mt-3"><div class="row"><div class="col"><div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="schemaVersionOptions" id="pydantic_v1"/> <label class="form-check-label" for="pydantic_v1">pydantic_v1</label></div> <div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="schemaVersionOptions" id="pydantic_v2"/> <label class="form-check-label" for="pydantic_v2">pydantic_v2</label></div> <button class="btn btn-outline-primary float-end">Load example</button></div></div> <div class="row has-validation mt-2 mb-2"><div class="col"><label for="json-schema">JSON Schema</label> <textarea id="json-schema" rows="10"></textarea> <span class="invalid-feedback"> </span></div></div> <div class="row has-validation mt-3 mb-2"><div class="col"><label for="jdata">Initial JSON data</label> <textarea id="jdata" rows="10"></textarea> <span class="invalid-feedback"> </span></div></div> <div class="row mt-3 mb-2"><div class="col"><!> <!></div></div></div> <div class="col-lg-6"><!></div></div>',1);function cy(t,e){Ee(e,!0);const r=[];let n=W(void 0),a=W(void 0),i=W(""),s=W(""),o=W(""),l=W(""),c=W("pydantic_v2"),f=W(void 0);async function h(){var ge;if(A(y,""),A(o,""),v(i)===""){A(n,void 0);return}let oe;try{oe=JSON.parse(v(i))}catch{A(n,void 0),A(o,"Invalid JSON");return}try{new yr(v(c)).validateSchema(wt(oe))}catch{try{A(c,Cp(oe),!0)}catch(qe){A(n,void 0),A(o,`Invalid JSON Schema: ${qe.message}`);return}}A(n,oe,!0),A(a,void 0),await or(),(ge=v(f))==null||ge.update(oe,void 0),m()}async function g(){var oe,ge;await or(),A(l,"");try{A(a,JSON.parse(v(s)),!0),(oe=v(f))==null||oe.update(v(n),Ft(v(a)))}catch{v(s)||(A(a,void 0),(ge=v(f))==null||ge.update(v(n),void 0)),A(l,"Invalid JSON")}}let y=W(""),b=W(!1);function $(){A(c,"pydantic_v2"),A(i,JSON.stringify(ay,null,2),!0),h()}async function m(){await or(),v(f)&&d(v(f).getArguments())}function d(oe){if(!oe)return;const ge=_r(oe),Pe=JSON.stringify(Un(ge),null,2);Pe!==v(s)&&(A(s,Pe,!0),A(l,""),A(a,JSON.parse(v(s)),!0))}let _=pt(()=>rs(!1));var E=ly(),P=L(pe(E),4),I=N(P),T=N(I),F=N(T),q=N(F),z=N(q);Je(z),z.value=z.__value="pydantic_v1",Vt(2),j(q);var G=L(q,2),R=N(G);Je(R),R.value=R.__value="pydantic_v2",Vt(2),j(G);var O=L(G,2);j(F),j(T);var M=L(T,2),D=N(M),U=L(N(D),2);Ur(U);let Y;var re=L(U,2),me=N(re,!0);j(re),j(D),j(M);var ue=L(M,2),x=N(ue),S=L(N(x),2);Ur(S);let C;var w=L(S,2),u=N(w,!0);j(w),j(x),j(ue);var p=L(ue,2),k=N(p),H=N(k);{var B=oe=>{var ge=iy(),Pe=N(ge),qe=N(Pe,!0);j(Pe),j(ge),X(()=>fe(qe,v(y))),V(oe,ge)};Q(H,oe=>{v(y)&&oe(B)})}var ne=L(H,2);{var se=oe=>{var ge=xe(),Pe=pe(ge);{var qe=Ne=>{var Ze=sy();V(Ne,Ze)},ot=Ne=>{var Ze=oy();V(Ne,Ze)};Q(Pe,Ne=>{v(b)?Ne(qe):Ne(ot,!1)})}V(oe,ge)};Q(ne,oe=>{v(n)&&!v(o)&&oe(se)})}j(k),j(p),j(I);var de=L(I,2),Ve=N(de);{var Ue=oe=>{It(lo(oe,{componentId:"json-schema-sandbox",onchange:d,get schemaVersion(){return v(c)},get propertiesToIgnore(){return v(_)},get dataValid(){return v(b)},set dataValid(ge){A(b,ge,!0)}}),ge=>A(f,ge,!0),()=>v(f))};Q(Ve,oe=>{v(n)&&!v(o)&&oe(Ue)})}j(de),j(P),X(()=>{Y=ye(U,1,"form-control",null,Y,{"is-invalid":v(o)}),fe(me,v(o)),C=ye(S,1,"form-control",null,C,{"is-invalid":v(l)}),fe(u,v(l))}),ae("change",z,h),Kr(r,[],z,()=>v(c),oe=>A(c,oe)),ae("change",R,h),Kr(r,[],R,()=>v(c),oe=>A(c,oe)),ae("click",O,$),ae("input",U,h),et(U,()=>v(i),oe=>A(i,oe)),ae("input",S,g),et(S,()=>v(s),oe=>A(s,oe)),V(t,E),we()}De(["change","click","input"]);const dy="ManifestV2",uy=`Packages containing tasks are required to include a special file
\`__FRACTAL_MANIFEST__.json\` in order to be discovered and used by Fractal.

This model class and the model classes it depends on provide the base
schema to read, write and validate manifests.

Attributes:
    manifest_version:
        A version string that provides indication for compatibility between
        manifests as the schema evolves. This is for instance used by
        Fractal to determine which subclass of the present base class needs
        be used to read and validate the input.
    task_list : list[TaskManifestType]
        The list of tasks, represented as specified by subclasses of the
        _TaskManifestBase (a.k.a. TaskManifestType)
    has_args_schemas:
        \`True\` if the manifest incldues JSON Schemas for the arguments of
        each task.
    args_schema_version:
        Label of how \`args_schema\`s were generated (e.g. \`pydantic_v2\`).`,fy="object",my={manifest_version:{title:"Manifest Version",type:"string"},task_list:{title:"Task List",type:"array",items:{$ref:"#/definitions/TaskManifestV2"}},has_args_schemas:{title:"Has Args Schemas",default:!1,type:"boolean"},args_schema_version:{title:"Args Schema Version",type:"string"}},hy=["manifest_version","task_list"],py={TaskManifestV2:{title:"TaskManifestV2",description:`Represents a task within a V2 manifest.

Attributes:
    name:
        The task name
    executable:
        Path to the executable relative to the package root

        Note: by package root we mean "as it will be installed". If a
        package \`Pkg\` installs in the folder \`pkg\` the executable
        \`pkg/executable.py\`, this attribute must contain only
        \`executable.py\`.
    input_type:
        The input type accepted by the task
    output_type:
        The output type returned by the task
    meta:
        Additional information about the package, such as hash of the
        executable, specific runtime requirements (e.g., need_gpu=True),
        etc.
    args_schema:
        JSON Schema for task arguments
    docs_info:
        Additional information about the Task, coming from the docstring.
    docs_link:
        Link to Task docs.`,type:"object",properties:{name:{title:"Name",type:"string"},executable_non_parallel:{title:"Executable Non Parallel",type:"string"},executable_parallel:{title:"Executable Parallel",type:"string"},input_types:{title:"Input Types",type:"object",additionalProperties:{type:"boolean"}},output_types:{title:"Output Types",type:"object",additionalProperties:{type:"boolean"}},meta_non_parallel:{title:"Meta Non Parallel",type:"object"},meta_parallel:{title:"Meta Parallel",type:"object"},args_schema_non_parallel:{title:"Args Schema Non Parallel",type:"object"},args_schema_parallel:{title:"Args Schema Parallel",type:"object"},docs_info:{title:"Docs Info",type:"string"},docs_link:{title:"Docs Link",minLength:1,maxLength:2083,format:"uri",type:"string"}},required:["name"]}},vy={title:dy,description:uy,type:fy,properties:my,required:hy,definitions:py};var yy=J('<button class="btn btn-outline-secondary">Clear</button>'),gy=J('<div role="region"><div class="m-1"><div class="input-group has-validation"><label class="input-group-text"> </label> <input type="file"/> <!> <span class="invalid-feedback"> </span></div></div> <p class="text-center mt-1 mb-1"><i class="bi bi-file-earmark-arrow-up"></i> or drag file here</p></div>');function _y(t,e){Ee(e,!0);const r=ho();let n=W(null),a=W(void 0),i=W("");async function s(){if(A(i,""),!v(n)||v(n).length===0){r("change",{value:null});return}const z=v(n)[0];await c(z)}function o(){A(i,""),A(n,null),v(a)&&(v(a).value=""),r("change",{value:null})}async function l(z){z.preventDefault(),A(f,!1),z.dataTransfer&&z.dataTransfer.files.length>0&&(A(n,z.dataTransfer.files,!0),v(a).files=v(n),await c(v(n)[0]))}async function c(z){A(i,"");let G=await z.text();try{const R=e.validateFile(G);r("change",{value:R})}catch(R){A(i,R.message,!0),r("change",{value:null})}}let f=W(!1);function h(z){z.preventDefault(),A(f,!0)}function g(){A(f,!1)}var y=gy();let b;var $=N(y),m=N($),d=N(m),_=N(d,!0);j(d);var E=L(d,2);let P;It(E,z=>A(a,z),()=>v(a));var I=L(E,2);{var T=z=>{var G=yy();ae("click",G,o),V(z,G)};Q(I,z=>{v(n)&&v(n).length>0&&z(T)})}var F=L(I,2),q=N(F,!0);j(F),j(m),j($),Vt(2),j(y),X(()=>{b=ye(y,1,"dropZone bg-light svelte-qonze0",null,b,{dragOver:v(f)}),ve(d,"for",e.id),fe(_,e.description),P=ye(E,1,"form-control",null,P,{"is-invalid":v(i)}),ve(E,"accept",e.accept),ve(E,"name",e.id),ve(E,"id",e.id),fe(q,v(i))}),pn("drop",y,l),pn("dragover",y,h),pn("dragleave",y,g),ae("change",E,s),il(E,()=>v(n),z=>A(n,z)),V(t,y),we()}De(["change","click"]);const by="2",$y=[{name:"task1",type:"non_parallel",executable_non_parallel:"task1.py",args_schema_non_parallel:{$defs:{MyEnum:{enum:["Value 1","Value 2"],title:"MyEnum",type:"string",description:"Missing description for MyEnum."}},additionalProperties:!1,properties:{zarr_urls:{items:{type:"string"},title:"Zarr Urls",type:"array",description:"Missing description"},zarr_dir:{title:"Zarr Dir",type:"string",description:"Missing description"},int_1:{title:"Int 1",type:"integer",description:"Integer argument."},int_2:{default:1,title:"Int 2",type:"integer",description:"Integer argument with a default value."},int_3:{title:"Int 3",type:"integer",description:"Integer or null argument, with default value set to null."},int_4:{title:"Int 4",type:"integer",description:"Integer or null argument, with default value set to null."},str_1:{title:"Str 1",type:"string",description:"String argument."},str_2:{default:"default",title:"Str 2",type:"string",description:"String argument with a default value."},bool_1:{title:"Bool 1",type:"boolean",description:"Boolean argument."},bool_2:{default:!1,title:"Bool 2",type:"boolean",description:"Boolean argument with a default value."},float_1:{title:"Float 1",type:"number",description:"Float argument."},float_2:{default:1.23,title:"Float 2",type:"number",description:"Float argument with a default value"},enum_1:{$ref:"#/$defs/MyEnum",title:"Enum 1",description:"Enum argument."},enum_2:{$ref:"#/$defs/MyEnum",default:"Value 1",title:"Enum 2",description:"Enum argument with a default."},literal_1:{enum:["a","b","c"],title:"Literal 1",type:"string",description:"Literal argument."},literal_2:{default:"a",enum:["a","b","c"],title:"Literal 2",type:"string",description:"Literal argument with a default value."}},required:["zarr_urls","zarr_dir","int_1","str_1","bool_1","float_1","enum_1","literal_1"],type:"object",title:"Task1"},docs_info:`## task1
Short description of task1

Long description of this wonderful task that actually only represents a
mock task for testing.
`},{name:"task2",type:"non_parallel",executable_non_parallel:"task2.py",args_schema_non_parallel:{additionalProperties:!1,properties:{zarr_urls:{items:{type:"string"},title:"Zarr Urls",type:"array",description:"Missing description"},zarr_dir:{title:"Zarr Dir",type:"string",description:"Missing description"},list_arg:{items:{type:"integer"},title:"List Arg",type:"array",description:"An arbitrary-size array of integers."},tuple_arg:{maxItems:3,minItems:3,prefixItems:[{type:"integer"},{type:"integer"},{type:"integer"}],title:"Tuple Arg",type:"array",description:"A fixed-size array of integers."},optional_list_arg:{items:{type:"integer"},title:"Optional List Arg",type:"array",description:"An optional arbitrary-size array of integers."},optional_tuple_arg:{maxItems:3,minItems:3,prefixItems:[{type:"integer"},{type:"integer"},{type:"integer"}],title:"Optional Tuple Arg",type:"array",description:"An optional fixed-size array of integers."}},required:["zarr_urls","zarr_dir","list_arg","tuple_arg"],type:"object",title:"Task2"},docs_info:`## task2
Short description of task2

Long description of this wonderful task that actually only represents a
mock task for testing.
`},{name:"task3",type:"non_parallel",executable_non_parallel:"task3.py",args_schema_non_parallel:{additionalProperties:!1,properties:{zarr_urls:{items:{type:"string"},title:"Zarr Urls",type:"array",description:"Missing description"},zarr_dir:{title:"Zarr Dir",type:"string",description:"Missing description"},object_arg:{additionalProperties:{type:"boolean"},title:"Object Arg",type:"object",description:"Object argument."},optional_object_arg:{additionalProperties:{type:"boolean"},title:"Optional Object Arg",type:"object",description:"Optional object argument."},nested_object_arg:{additionalProperties:{additionalProperties:{type:"string"},type:"object"},title:"Nested Object Arg",type:"object",description:"Nested object argument."}},required:["zarr_urls","zarr_dir","object_arg","nested_object_arg"],type:"object",title:"Task3"},docs_info:`## task3
Short description of task3

Long description of this wonderful task that actually only represents a
mock task for testing.
`},{name:"task4",type:"non_parallel",executable_non_parallel:"task4.py",args_schema_non_parallel:{$defs:{InternalModel1:{description:"Description of InternalModel1.",properties:{label:{const:"label1",default:"label1",title:"Label",type:"string",description:"FIXME"},field:{default:1,title:"Field",type:"integer",description:"Missing description"}},title:"InternalModel1",type:"object"},InternalModel2:{description:"Description of InternalModel2.",properties:{label:{const:"label2",default:"label2",title:"Label",type:"string",description:"FIXME"},field:{title:"Field",type:"string",description:"Missing description"}},required:["field"],title:"InternalModel2",type:"object"},InternalModel3:{description:"Description of InternalModel3.",properties:{label:{const:"label3",default:"label3",title:"Label",type:"string",description:"xxx"},field:{title:"Field",type:"boolean",description:"yyy"}},required:["field"],title:"InternalModel3",type:"object"},ModelAllOptional:{description:"Short description of `ModelAllOptional`.",properties:{x:{title:"X",type:"integer",description:"FIXME"},y:{default:1,title:"Y",type:"integer",description:"FIXME"}},title:"ModelAllOptional",type:"object"},ModelSomeRequired:{description:"Short description of `ModelSomeRequired`.",properties:{x:{title:"X",type:"integer",description:"FIXME"},y:{title:"Y",type:"string",description:"FIXME"}},required:["y"],title:"ModelSomeRequired",type:"object"}},additionalProperties:!1,properties:{zarr_urls:{items:{type:"string"},title:"Zarr Urls",type:"array",description:"Missing description"},zarr_dir:{title:"Zarr Dir",type:"string",description:"Missing description"},pydantic_1:{$ref:"#/$defs/ModelAllOptional",title:"Pydantic 1",description:"Example of a Pydantic model with no required field."},pydantic_2:{$ref:"#/$defs/ModelAllOptional",default:{x:null,y:1},title:"Pydantic 2",description:"Example of a Pydantic model with no required field, with a default value."},pydantic_3:{$ref:"#/$defs/ModelAllOptional",default:{x:null,y:1},title:"Pydantic 3",description:"Example of a Pydantic model with no required field, with a default factory."},pydantic_4:{$ref:"#/$defs/ModelSomeRequired",title:"Pydantic 4",description:"Example of a Pydantic model with some required field."},tagged_union:{default:{label:"label1",field:1},discriminator:{mapping:{label1:"#/$defs/InternalModel1",label2:"#/$defs/InternalModel2",label3:"#/$defs/InternalModel3"},propertyName:"label"},oneOf:[{$ref:"#/$defs/InternalModel1"},{$ref:"#/$defs/InternalModel2"},{$ref:"#/$defs/InternalModel3"}],title:"Tagged Union",description:"Example of a top-level tagged union, with a default value."},nested_tagged_union:{default:[],items:{discriminator:{mapping:{label1:"#/$defs/InternalModel1",label2:"#/$defs/InternalModel2",label3:"#/$defs/InternalModel3"},propertyName:"label"},oneOf:[{$ref:"#/$defs/InternalModel1"},{$ref:"#/$defs/InternalModel2"},{$ref:"#/$defs/InternalModel3"}]},title:"Nested Tagged Union",type:"array",description:"Example of a nested tagged union, with a default value."}},required:["zarr_urls","zarr_dir","pydantic_1","pydantic_4"],type:"object",title:"Task4"},docs_info:`## task4
Short description of task4

Long description of this wonderful task that actually only represents a
mock task for testing.
`},{name:"task5",type:"non_parallel",executable_non_parallel:"task5.py",args_schema_non_parallel:{$defs:{EnumDropdown:{enum:["Value 1","Value 2"],title:"EnumDropdown",type:"string",description:"Missing description for EnumDropdown."},InternalModel1:{description:"Description of InternalModel1.",properties:{label:{const:"label1",default:"label1",title:"Label",type:"string",description:"FIXME"},field:{default:1,title:"Field",type:"integer",description:"Missing description"}},title:"InternalModel1",type:"object"},InternalModel2:{description:"Description of InternalModel2.",properties:{label:{const:"label2",default:"label2",title:"Label",type:"string",description:"FIXME"},field:{title:"Field",type:"string",description:"Missing description"}},required:["field"],title:"InternalModel2",type:"object"},InternalModel3:{description:"Description of InternalModel3.",properties:{label:{const:"label3",default:"label3",title:"Label",type:"string",description:"xxx"},field:{title:"Field",type:"boolean",description:"yyy"}},required:["field"],title:"InternalModel3",type:"object"},InternalModel4:{description:"Description of InternalModel4.",properties:{label:{const:"label4",default:"label4",title:"Label",type:"string",description:"FIXME"},field:{default:1,title:"Field",type:"integer",description:"Missing description"}},title:"InternalModel4",type:"object"},NestedModel:{description:"Description of NestedModel.",properties:{field_1:{default:"default value",title:"Field 1",type:"string",description:"xxx"},field_2:{default:1,title:"Field 2",type:"integer",description:"yyy"},field_3:{items:{discriminator:{mapping:{label1:"#/$defs/InternalModel1",label2:"#/$defs/InternalModel2",label3:"#/$defs/InternalModel3",label4:"#/$defs/InternalModel4"},propertyName:"label"},oneOf:[{$ref:"#/$defs/InternalModel1"},{$ref:"#/$defs/InternalModel2"},{$ref:"#/$defs/InternalModel3"},{$ref:"#/$defs/InternalModel4"}]},title:"Field 3",type:"array",description:"list of pydantic models union with none. When the list is empty the field will be set to none."},field_4:{default:[],items:{discriminator:{mapping:{label1:"#/$defs/InternalModel1",label2:"#/$defs/InternalModel2",label3:"#/$defs/InternalModel3",label4:"#/$defs/InternalModel4"},propertyName:"label"},oneOf:[{$ref:"#/$defs/InternalModel1"},{$ref:"#/$defs/InternalModel2"},{$ref:"#/$defs/InternalModel3"},{$ref:"#/$defs/InternalModel4"}]},title:"Field 4",type:"array",description:"same as field_3 but with default value set to an empty list instead of none."}},title:"NestedModel",type:"object"}},additionalProperties:!1,properties:{zarr_urls:{items:{type:"string"},title:"Zarr Urls",type:"array",description:"Missing description"},zarr_dir:{title:"Zarr Dir",type:"string",description:"Missing description"},custom_title:{default:"test",title:"Custom title 2",type:"string",description:"example of a way to add a custom title to the schema of an argument."},regex_arg:{default:"test",pattern:"^[a-zA-Z0-9_]+$",title:"Regex Arg",type:"string",description:"example of a way to add a regex pattern to the schema of an argument."},list_arg:{default:[1,2,3],items:{type:"integer"},maxItems:10,minItems:0,title:"List Arg",type:"array",uniqueItems:!0,description:"example of a way to add a list with minimum and maximum length constraints to the schema of an argument."},float_arg:{default:50,maximum:100,minimum:0,multipleOf:5,title:"Float Arg",type:"number",description:"example of a way to add a float with minimum and maximum value constraints to the schema of an argument."},nested_tagged_union_arg:{discriminator:{mapping:{label1:"#/$defs/InternalModel1",label2:"#/$defs/InternalModel2",label3:"#/$defs/InternalModel3",label4:"#/$defs/InternalModel4"},propertyName:"label"},oneOf:[{$ref:"#/$defs/InternalModel1"},{$ref:"#/$defs/InternalModel2"},{$ref:"#/$defs/InternalModel3"},{$ref:"#/$defs/InternalModel4"}],title:"Nested Tagged Union Arg",description:"example of a way to add a nested tagged union argument (usefull to extend tagged unions defined in other tasks)."},enum_arg:{$ref:"#/$defs/EnumDropdown",title:"Enum Arg",description:"menu argument using StrEnum, which will be rendered as a dropdown in the UI."},literal_arg:{default:"option1",enum:["option1","option2","option3"],title:"Literal Arg",type:"string",description:"menu argument using Literal, which will be rendered as a dropdown in the UI."},nested_model_arg:{$ref:"#/$defs/NestedModel",default:{field_1:"default value",field_2:1,field_3:null,field_4:[]},title:"Nested Model Arg",description:"example of a way to add a nested Pydantic model as an argument."},model_or_none:{$ref:"#/$defs/InternalModel4",title:"Model Or None",description:"example of a field that is currently not correctly handled by the UI."},factory_args:{default:[1,2,3],items:{type:"integer"},title:"Factory Args",type:"array",description:"example of a field with a default factory, which is not evaluated during the build process."}},required:["zarr_urls","zarr_dir","nested_tagged_union_arg"],type:"object",title:"Task5"},docs_info:`## task5
Short description of task5

Long description of this wonderful task that actually only represents a
mock task for testing.
`}],Ey=!0,wy="pydantic_v2",Sy="Your Name",Py={manifest_version:by,task_list:$y,has_args_schemas:Ey,args_schema_version:wy,authors:Sy};var ky=J("<option> </option>"),Iy=J('<div class="input-group"><label for="selectedTask" class="input-group-text">Task</label> <select class="form-select" name="selectedTask" id="selectedTask"><option>Select...</option><!></select></div>'),jy=J('<div class="alert alert-danger"><pre> </pre></div>'),Ny=J('<div class="alert alert-success">Data is valid</div>'),Oy=J('<div class="alert alert-danger">Data is not valid</div>'),Ay=J('<div class="row mt-3"><div class="col-md-6"><div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="schemaTypeSelector" id="schemaNonParallelSelector"/> <label class="form-check-label" for="schemaNonParallelSelector">non parallel</label></div> <div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="schemaTypeSelector" id="schemaParallelSelector"/> <label class="form-check-label" for="schemaParallelSelector">parallel</label></div></div></div> <div class="row mt-2 mb-3"><div class="col-lg-6"><div class="row"><div class="col"><label for="jschema">JSON Schema</label> <textarea id="jschema" class="form-control" rows="10" disabled=""></textarea></div></div> <div class="row has-validation mt-3 mb-2"><div class="col"><label for="jdata">Initial JSON data</label> <textarea id="jdata" rows="10"></textarea> <span class="invalid-feedback"> </span></div></div> <div class="row mt-3 mb-2"><div class="col"><!> <!></div></div></div> <div class="col-lg-6"><!></div></div>',1),Ty=J('<button class="btn btn-outline-primary float-end">Load example</button> <h1 class="fw-light">Sandbox page for task package manifest</h1> <p>This is a test page for the JSON Schema form of a whole task package manifest</p> <div class="row"><div class="col-lg-7"><!> <div class="form-text">An entire task package manifest</div></div> <div class="col-lg-5"><!></div></div> <!>',1);function My(t,e){Ee(e,!0);const r=[];let n=W(void 0),a=W(ke([])),i=W(""),s=W(void 0),o=W("pydantic_v2"),l=W("non_parallel"),c=W(void 0),f=W(void 0),h=W(""),g=W(""),y=W(!1),b=W(!1),$=W(""),m=W(!1);function d(){A(n,null),A($,""),A(a,[],!0),A(i,""),A(s,null),A(c,null),A(g,"")}let _=W(void 0);function E(u){let p;try{p=JSON.parse(u)}catch{throw new Error("File doesn't contain valid JSON")}if(p.args_schema_version!=="pydantic_v2"&&p.args_schema_version!=="pydantic_v1")throw new Error("Unsupported manifest args schema version");if(A(o,p.args_schema_version,!0),I(p)){if(p.manifest_version!=="2")throw new Error("Unsupported manifest version")}else throw new Error("Invalid manifest format");return p}function P({detail:u}){u.value===null?d():T(u.value)}function I(u){const p=new yr(v(o));return p.loadSchema(wt(vy)),p.isValid(u)}function T(u){A(n,u,!0),A(s,null),A(c,null),A(i,""),A(g,""),A(a,v(n).task_list.map(p=>p.name),!0)}async function F(u=void 0){if(A(g,""),A($,""),A(m,!1),!v(i)){A(s,null),A(c,null);return}A(c,v(n).task_list.filter(p=>p.name===v(i))[0],!0),A(y,q(v(c).args_schema_non_parallel),!0),A(b,q(v(c).args_schema_parallel),!0),u?A(l,u,!0):v(y)?A(l,"non_parallel"):A(l,"parallel"),v(l)==="non_parallel"?A(s,v(c).args_schema_non_parallel,!0):A(s,v(c).args_schema_parallel,!0),await G()}function q(u){if(!u)return!1;const p=as(u,v(O));return Object.keys(p.properties).length>0}function z(){var u,p;A($,""),A(g,"");try{A(f,JSON.parse(v(h)),!0),v(s)&&((u=v(_))==null||u.update(Ft(v(s)),Ft(v(f))))}catch{v(h)||(A(f,void 0),v(s)&&((p=v(_))==null||p.update(Ft(v(s)),void 0))),A(g,"Invalid JSON")}}async function G(){var u;await or(),v(_)&&((u=v(_))==null||u.update(Ft(v(s)),void 0))}function R(u){if(!u)return;const p=_r(u),k=JSON.stringify(Un(p),null,2);k!==v(h)&&(A(h,k,!0),A(g,""),A(f,JSON.parse(v(h)),!0))}let O=pt(()=>rs(!1));function M(){T(Py)}var D=Ty(),U=pe(D),Y=L(U,6),re=N(Y),me=N(re);_y(me,{description:"Upload manifest file",accept:"application/json",id:"manifestFileUpload",validateFile:E,$$events:{change:P}}),Vt(2),j(re);var ue=L(re,2),x=N(ue);{var S=u=>{var p=Iy(),k=L(N(p),2),H=N(k);H.value=H.__value="";var B=L(H);Ae(B,17,()=>v(a),Me,(ne,se)=>{var de=ky(),Ve=N(de,!0);j(de);var Ue={};X(()=>{fe(Ve,v(se)),Ue!==(Ue=v(se))&&(de.__value=v(se))}),V(ne,de)}),j(k),j(p),ae("change",k,()=>F()),Kt(k,()=>v(i),ne=>A(i,ne)),V(u,p)};Q(x,u=>{v(a).length>0&&u(S)})}j(ue),j(Y);var C=L(Y,2);{var w=u=>{var p=Ay(),k=pe(p),H=N(k),B=N(H),ne=N(B);Je(ne),ne.value=ne.__value="non_parallel",Vt(2),j(B);var se=L(B,2),de=N(se);Je(de),de.value=de.__value="parallel",Vt(2),j(se),j(H),j(k);var Ve=L(k,2),Ue=N(Ve),oe=N(Ue),ge=N(oe),Pe=L(N(ge),2);Ur(Pe),j(ge),j(oe);var qe=L(oe,2),ot=N(qe),Ne=L(N(ot),2);Ur(Ne);let Ze;var Ot=L(Ne,2),Qt=N(Ot,!0);j(Ot),j(ot),j(qe);var At=L(qe,2),Tt=N(At),Mt=N(Tt);{var vt=be=>{var yt=jy(),Ha=N(yt),uo=N(Ha,!0);j(Ha),j(yt),X(()=>fe(uo,v($))),V(be,yt)};Q(Mt,be=>{v($)&&be(vt)})}var er=L(Mt,2);{var Pr=be=>{var yt=Ny();V(be,yt)},kr=be=>{var yt=Oy();V(be,yt)};Q(er,be=>{v(m)?be(Pr):be(kr,!1)})}j(Tt),j(At),j(Ue);var Ir=L(Ue,2),co=N(Ir);It(lo(co,{componentId:"json-schema-task-manifest-sandbox",onchange:be=>R(be),get schemaVersion(){return v(o)},get propertiesToIgnore(){return v(O)},get dataValid(){return v(m)},set dataValid(be){A(m,be,!0)}}),be=>A(_,be,!0),()=>v(_)),j(Ir),j(Ve),X(be=>{ne.disabled=!v(y),de.disabled=!v(b),rl(Pe,be),Ze=ye(Ne,1,"form-control",null,Ze,{"is-invalid":v(g)}),fe(Qt,v(g))},[()=>JSON.stringify(v(s),null,2)]),ae("change",ne,()=>F("non_parallel")),Kr(r,[],ne,()=>v(l),be=>A(l,be)),ae("change",de,()=>F("parallel")),Kr(r,[],de,()=>v(l),be=>A(l,be)),ae("input",Ne,z),et(Ne,()=>v(h),be=>A(h,be)),V(u,p)};Q(C,u=>{v(s)&&v(c)&&u(w)})}ae("click",U,M),V(t,D),we()}De(["click","change","input"]);var Cy=J('<nav class="navbar navbar-expand-lg bg-light mb-3 border-bottom"><div class="container"><a class="navbar-brand" href="https://fractal-analytics-platform.github.io/fractal-web/">Documentation</a> <ul class="navbar-nav me-auto"><li class="nav-item"><a href="#jschema">JSON Schema</a></li> <li class="nav-item"><a href="#task-manifest">Task manifest</a></li></ul></div></nav> <div class="container"><!></div>',1);function Ky(t,e){Ee(e,!0);const r=["jschema","task-manifest"];let n=W("jschema");kt(()=>{for(const _ of r)if(`#${_}`===location.hash){A(n,_,!0);break}});var a=Cy(),i=pe(a),s=N(i),o=L(N(s),2),l=N(o),c=N(l);let f;j(l);var h=L(l,2),g=N(h);let y;j(h),j(o),j(s),j(i);var b=L(i,2),$=N(b);{var m=_=>{cy(_,{})},d=_=>{My(_,{})};Q($,_=>{v(n)==="jschema"?_(m):v(n)==="task-manifest"&&_(d,1)})}j(b),X(()=>{f=ye(c,1,"nav-link",null,f,{active:v(n)==="jschema"}),y=ye(g,1,"nav-link",null,y,{active:v(n)==="task-manifest"})}),ae("click",c,()=>A(n,"jschema")),ae("click",g,()=>A(n,"task-manifest")),V(t,a),we()}De(["click"]);export{Ky as component};
